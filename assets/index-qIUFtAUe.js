function ox(f,s){for(var o=0;o<s.length;o++){const d=s[o];if(typeof d!="string"&&!Array.isArray(d)){for(const m in d)if(m!=="default"&&!(m in f)){const x=Object.getOwnPropertyDescriptor(d,m);x&&Object.defineProperty(f,m,x.get?x:{enumerable:!0,get:()=>d[m]})}}}return Object.freeze(Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))d(m);new MutationObserver(m=>{for(const x of m)if(x.type==="childList")for(const A of x.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&d(A)}).observe(document,{childList:!0,subtree:!0});function o(m){const x={};return m.integrity&&(x.integrity=m.integrity),m.referrerPolicy&&(x.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?x.credentials="include":m.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function d(m){if(m.ep)return;m.ep=!0;const x=o(m);fetch(m.href,x)}})();var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function O0(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}function ux(f){if(Object.prototype.hasOwnProperty.call(f,"__esModule"))return f;var s=f.default;if(typeof s=="function"){var o=function d(){var m=!1;try{m=this instanceof d}catch{}return m?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};o.prototype=s.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(f).forEach(function(d){var m=Object.getOwnPropertyDescriptor(f,d);Object.defineProperty(o,d,m.get?m:{enumerable:!0,get:function(){return f[d]}})}),o}var Qf={exports:{}},io={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd;function cx(){if(jd)return io;jd=1;var f=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function o(d,m,x){var A=null;if(x!==void 0&&(A=""+x),m.key!==void 0&&(A=""+m.key),"key"in m){x={};for(var _ in m)_!=="key"&&(x[_]=m[_])}else x=m;return m=x.ref,{$$typeof:f,type:d,key:A,ref:m!==void 0?m:null,props:x}}return io.Fragment=s,io.jsx=o,io.jsxs=o,io}var Fd;function fx(){return Fd||(Fd=1,Qf.exports=cx()),Qf.exports}var z=fx(),Jf={exports:{}},ro={},$f={exports:{}},e0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd;function hx(){return zd||(zd=1,function(f){function s(re,ue){var De=re.length;re.push(ue);e:for(;0<De;){var Ke=De-1>>>1,j=re[Ke];if(0<m(j,ue))re[Ke]=ue,re[De]=j,De=Ke;else break e}}function o(re){return re.length===0?null:re[0]}function d(re){if(re.length===0)return null;var ue=re[0],De=re.pop();if(De!==ue){re[0]=De;e:for(var Ke=0,j=re.length,ge=j>>>1;Ke<ge;){var ve=2*(Ke+1)-1,Ae=re[ve],Se=ve+1,at=re[Se];if(0>m(Ae,De))Se<j&&0>m(at,Ae)?(re[Ke]=at,re[Se]=De,Ke=Se):(re[Ke]=Ae,re[ve]=De,Ke=ve);else if(Se<j&&0>m(at,De))re[Ke]=at,re[Se]=De,Ke=Se;else break e}}return ue}function m(re,ue){var De=re.sortIndex-ue.sortIndex;return De!==0?De:re.id-ue.id}if(f.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var x=performance;f.unstable_now=function(){return x.now()}}else{var A=Date,_=A.now();f.unstable_now=function(){return A.now()-_}}var b=[],y=[],C=1,T=null,M=3,k=!1,H=!1,q=!1,Y=!1,se=typeof setTimeout=="function"?setTimeout:null,xe=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function le(re){for(var ue=o(y);ue!==null;){if(ue.callback===null)d(y);else if(ue.startTime<=re)d(y),ue.sortIndex=ue.expirationTime,s(b,ue);else break;ue=o(y)}}function we(re){if(q=!1,le(re),!H)if(o(b)!==null)H=!0,Ce||(Ce=!0,Re());else{var ue=o(y);ue!==null&&ee(we,ue.startTime-re)}}var Ce=!1,ae=-1,Le=5,ce=-1;function Ut(){return Y?!0:!(f.unstable_now()-ce<Le)}function Ve(){if(Y=!1,Ce){var re=f.unstable_now();ce=re;var ue=!0;try{e:{H=!1,q&&(q=!1,xe(ae),ae=-1),k=!0;var De=M;try{t:{for(le(re),T=o(b);T!==null&&!(T.expirationTime>re&&Ut());){var Ke=T.callback;if(typeof Ke=="function"){T.callback=null,M=T.priorityLevel;var j=Ke(T.expirationTime<=re);if(re=f.unstable_now(),typeof j=="function"){T.callback=j,le(re),ue=!0;break t}T===o(b)&&d(b),le(re)}else d(b);T=o(b)}if(T!==null)ue=!0;else{var ge=o(y);ge!==null&&ee(we,ge.startTime-re),ue=!1}}break e}finally{T=null,M=De,k=!1}ue=void 0}}finally{ue?Re():Ce=!1}}}var Re;if(typeof V=="function")Re=function(){V(Ve)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,ft=Ze.port2;Ze.port1.onmessage=Ve,Re=function(){ft.postMessage(null)}}else Re=function(){se(Ve,0)};function ee(re,ue){ae=se(function(){re(f.unstable_now())},ue)}f.unstable_IdlePriority=5,f.unstable_ImmediatePriority=1,f.unstable_LowPriority=4,f.unstable_NormalPriority=3,f.unstable_Profiling=null,f.unstable_UserBlockingPriority=2,f.unstable_cancelCallback=function(re){re.callback=null},f.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Le=0<re?Math.floor(1e3/re):5},f.unstable_getCurrentPriorityLevel=function(){return M},f.unstable_next=function(re){switch(M){case 1:case 2:case 3:var ue=3;break;default:ue=M}var De=M;M=ue;try{return re()}finally{M=De}},f.unstable_requestPaint=function(){Y=!0},f.unstable_runWithPriority=function(re,ue){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var De=M;M=re;try{return ue()}finally{M=De}},f.unstable_scheduleCallback=function(re,ue,De){var Ke=f.unstable_now();switch(typeof De=="object"&&De!==null?(De=De.delay,De=typeof De=="number"&&0<De?Ke+De:Ke):De=Ke,re){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=De+j,re={id:C++,callback:ue,priorityLevel:re,startTime:De,expirationTime:j,sortIndex:-1},De>Ke?(re.sortIndex=De,s(y,re),o(b)===null&&re===o(y)&&(q?(xe(ae),ae=-1):q=!0,ee(we,De-Ke))):(re.sortIndex=j,s(b,re),H||k||(H=!0,Ce||(Ce=!0,Re()))),re},f.unstable_shouldYield=Ut,f.unstable_wrapCallback=function(re){var ue=M;return function(){var De=M;M=ue;try{return re.apply(this,arguments)}finally{M=De}}}}(e0)),e0}var Hd;function dx(){return Hd||(Hd=1,$f.exports=hx()),$f.exports}var t0={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gd;function gx(){if(Gd)return We;Gd=1;var f=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),A=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),T=Symbol.iterator;function M(j){return j===null||typeof j!="object"?null:(j=T&&j[T]||j["@@iterator"],typeof j=="function"?j:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,q={};function Y(j,ge,ve){this.props=j,this.context=ge,this.refs=q,this.updater=ve||k}Y.prototype.isReactComponent={},Y.prototype.setState=function(j,ge){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ge,"setState")},Y.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function se(){}se.prototype=Y.prototype;function xe(j,ge,ve){this.props=j,this.context=ge,this.refs=q,this.updater=ve||k}var V=xe.prototype=new se;V.constructor=xe,H(V,Y.prototype),V.isPureReactComponent=!0;var le=Array.isArray,we={H:null,A:null,T:null,S:null,V:null},Ce=Object.prototype.hasOwnProperty;function ae(j,ge,ve,Ae,Se,at){return ve=at.ref,{$$typeof:f,type:j,key:ge,ref:ve!==void 0?ve:null,props:at}}function Le(j,ge){return ae(j.type,ge,void 0,void 0,void 0,j.props)}function ce(j){return typeof j=="object"&&j!==null&&j.$$typeof===f}function Ut(j){var ge={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ve){return ge[ve]})}var Ve=/\/+/g;function Re(j,ge){return typeof j=="object"&&j!==null&&j.key!=null?Ut(""+j.key):ge.toString(36)}function Ze(){}function ft(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(Ze,Ze):(j.status="pending",j.then(function(ge){j.status==="pending"&&(j.status="fulfilled",j.value=ge)},function(ge){j.status==="pending"&&(j.status="rejected",j.reason=ge)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function ee(j,ge,ve,Ae,Se){var at=typeof j;(at==="undefined"||at==="boolean")&&(j=null);var ye=!1;if(j===null)ye=!0;else switch(at){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(j.$$typeof){case f:case s:ye=!0;break;case C:return ye=j._init,ee(ye(j._payload),ge,ve,Ae,Se)}}if(ye)return Se=Se(j),ye=Ae===""?"."+Re(j,0):Ae,le(Se)?(ve="",ye!=null&&(ve=ye.replace(Ve,"$&/")+"/"),ee(Se,ge,ve,"",function(Zn){return Zn})):Se!=null&&(ce(Se)&&(Se=Le(Se,ve+(Se.key==null||j&&j.key===Se.key?"":(""+Se.key).replace(Ve,"$&/")+"/")+ye)),ge.push(Se)),1;ye=0;var In=Ae===""?".":Ae+":";if(le(j))for(var Xe=0;Xe<j.length;Xe++)Ae=j[Xe],at=In+Re(Ae,Xe),ye+=ee(Ae,ge,ve,at,Se);else if(Xe=M(j),typeof Xe=="function")for(j=Xe.call(j),Xe=0;!(Ae=j.next()).done;)Ae=Ae.value,at=In+Re(Ae,Xe++),ye+=ee(Ae,ge,ve,at,Se);else if(at==="object"){if(typeof j.then=="function")return ee(ft(j),ge,ve,Ae,Se);throw ge=String(j),Error("Objects are not valid as a React child (found: "+(ge==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ge)+"). If you meant to render a collection of children, use an array instead.")}return ye}function re(j,ge,ve){if(j==null)return j;var Ae=[],Se=0;return ee(j,Ae,"","",function(at){return ge.call(ve,at,Se++)}),Ae}function ue(j){if(j._status===-1){var ge=j._result;ge=ge(),ge.then(function(ve){(j._status===0||j._status===-1)&&(j._status=1,j._result=ve)},function(ve){(j._status===0||j._status===-1)&&(j._status=2,j._result=ve)}),j._status===-1&&(j._status=0,j._result=ge)}if(j._status===1)return j._result.default;throw j._result}var De=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ge=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ge))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function Ke(){}return We.Children={map:re,forEach:function(j,ge,ve){re(j,function(){ge.apply(this,arguments)},ve)},count:function(j){var ge=0;return re(j,function(){ge++}),ge},toArray:function(j){return re(j,function(ge){return ge})||[]},only:function(j){if(!ce(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},We.Component=Y,We.Fragment=o,We.Profiler=m,We.PureComponent=xe,We.StrictMode=d,We.Suspense=b,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=we,We.__COMPILER_RUNTIME={__proto__:null,c:function(j){return we.H.useMemoCache(j)}},We.cache=function(j){return function(){return j.apply(null,arguments)}},We.cloneElement=function(j,ge,ve){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var Ae=H({},j.props),Se=j.key,at=void 0;if(ge!=null)for(ye in ge.ref!==void 0&&(at=void 0),ge.key!==void 0&&(Se=""+ge.key),ge)!Ce.call(ge,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&ge.ref===void 0||(Ae[ye]=ge[ye]);var ye=arguments.length-2;if(ye===1)Ae.children=ve;else if(1<ye){for(var In=Array(ye),Xe=0;Xe<ye;Xe++)In[Xe]=arguments[Xe+2];Ae.children=In}return ae(j.type,Se,void 0,void 0,at,Ae)},We.createContext=function(j){return j={$$typeof:A,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:x,_context:j},j},We.createElement=function(j,ge,ve){var Ae,Se={},at=null;if(ge!=null)for(Ae in ge.key!==void 0&&(at=""+ge.key),ge)Ce.call(ge,Ae)&&Ae!=="key"&&Ae!=="__self"&&Ae!=="__source"&&(Se[Ae]=ge[Ae]);var ye=arguments.length-2;if(ye===1)Se.children=ve;else if(1<ye){for(var In=Array(ye),Xe=0;Xe<ye;Xe++)In[Xe]=arguments[Xe+2];Se.children=In}if(j&&j.defaultProps)for(Ae in ye=j.defaultProps,ye)Se[Ae]===void 0&&(Se[Ae]=ye[Ae]);return ae(j,at,void 0,void 0,null,Se)},We.createRef=function(){return{current:null}},We.forwardRef=function(j){return{$$typeof:_,render:j}},We.isValidElement=ce,We.lazy=function(j){return{$$typeof:C,_payload:{_status:-1,_result:j},_init:ue}},We.memo=function(j,ge){return{$$typeof:y,type:j,compare:ge===void 0?null:ge}},We.startTransition=function(j){var ge=we.T,ve={};we.T=ve;try{var Ae=j(),Se=we.S;Se!==null&&Se(ve,Ae),typeof Ae=="object"&&Ae!==null&&typeof Ae.then=="function"&&Ae.then(Ke,De)}catch(at){De(at)}finally{we.T=ge}},We.unstable_useCacheRefresh=function(){return we.H.useCacheRefresh()},We.use=function(j){return we.H.use(j)},We.useActionState=function(j,ge,ve){return we.H.useActionState(j,ge,ve)},We.useCallback=function(j,ge){return we.H.useCallback(j,ge)},We.useContext=function(j){return we.H.useContext(j)},We.useDebugValue=function(){},We.useDeferredValue=function(j,ge){return we.H.useDeferredValue(j,ge)},We.useEffect=function(j,ge,ve){var Ae=we.H;if(typeof ve=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Ae.useEffect(j,ge)},We.useId=function(){return we.H.useId()},We.useImperativeHandle=function(j,ge,ve){return we.H.useImperativeHandle(j,ge,ve)},We.useInsertionEffect=function(j,ge){return we.H.useInsertionEffect(j,ge)},We.useLayoutEffect=function(j,ge){return we.H.useLayoutEffect(j,ge)},We.useMemo=function(j,ge){return we.H.useMemo(j,ge)},We.useOptimistic=function(j,ge){return we.H.useOptimistic(j,ge)},We.useReducer=function(j,ge,ve){return we.H.useReducer(j,ge,ve)},We.useRef=function(j){return we.H.useRef(j)},We.useState=function(j){return we.H.useState(j)},We.useSyncExternalStore=function(j,ge,ve){return we.H.useSyncExternalStore(j,ge,ve)},We.useTransition=function(){return we.H.useTransition()},We.version="19.1.1",We}var Vd;function R0(){return Vd||(Vd=1,t0.exports=gx()),t0.exports}var n0={exports:{}},Xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xd;function mx(){if(Xd)return Xn;Xd=1;var f=R0();function s(b){var y="https://react.dev/errors/"+b;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)y+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+b+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var d={d:{f:o,r:function(){throw Error(s(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},m=Symbol.for("react.portal");function x(b,y,C){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:T==null?null:""+T,children:b,containerInfo:y,implementation:C}}var A=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(b,y){if(b==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,Xn.createPortal=function(b,y){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(s(299));return x(b,y,null,C)},Xn.flushSync=function(b){var y=A.T,C=d.p;try{if(A.T=null,d.p=2,b)return b()}finally{A.T=y,d.p=C,d.d.f()}},Xn.preconnect=function(b,y){typeof b=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,d.d.C(b,y))},Xn.prefetchDNS=function(b){typeof b=="string"&&d.d.D(b)},Xn.preinit=function(b,y){if(typeof b=="string"&&y&&typeof y.as=="string"){var C=y.as,T=_(C,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;C==="style"?d.d.S(b,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:M,fetchPriority:k}):C==="script"&&d.d.X(b,{crossOrigin:T,integrity:M,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xn.preinitModule=function(b,y){if(typeof b=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var C=_(y.as,y.crossOrigin);d.d.M(b,{crossOrigin:C,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&d.d.M(b)},Xn.preload=function(b,y){if(typeof b=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var C=y.as,T=_(C,y.crossOrigin);d.d.L(b,C,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xn.preloadModule=function(b,y){if(typeof b=="string")if(y){var C=_(y.as,y.crossOrigin);d.d.m(b,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:C,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else d.d.m(b)},Xn.requestFormReset=function(b){d.d.r(b)},Xn.unstable_batchedUpdates=function(b,y){return b(y)},Xn.useFormState=function(b,y,C){return A.H.useFormState(b,y,C)},Xn.useFormStatus=function(){return A.H.useHostTransitionStatus()},Xn.version="19.1.1",Xn}var qd;function xx(){if(qd)return n0.exports;qd=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(s){console.error(s)}}return f(),n0.exports=mx(),n0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yd;function px(){if(Yd)return ro;Yd=1;var f=dx(),s=R0(),o=xx();function d(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function x(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function A(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(x(e)!==e)throw Error(d(188))}function b(e){var n=e.alternate;if(!n){if(n=x(e),n===null)throw Error(d(188));return n!==e?null:e}for(var a=e,c=n;;){var p=a.return;if(p===null)break;var E=p.alternate;if(E===null){if(c=p.return,c!==null){a=c;continue}break}if(p.child===E.child){for(E=p.child;E;){if(E===a)return _(p),e;if(E===c)return _(p),n;E=E.sibling}throw Error(d(188))}if(a.return!==c.return)a=p,c=E;else{for(var O=!1,D=p.child;D;){if(D===a){O=!0,a=p,c=E;break}if(D===c){O=!0,c=p,a=E;break}D=D.sibling}if(!O){for(D=E.child;D;){if(D===a){O=!0,a=E,c=p;break}if(D===c){O=!0,c=E,a=p;break}D=D.sibling}if(!O)throw Error(d(189))}}if(a.alternate!==c)throw Error(d(190))}if(a.tag!==3)throw Error(d(188));return a.stateNode.current===a?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var C=Object.assign,T=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),xe=Symbol.for("react.consumer"),V=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),Le=Symbol.for("react.lazy"),ce=Symbol.for("react.activity"),Ut=Symbol.for("react.memo_cache_sentinel"),Ve=Symbol.iterator;function Re(e){return e===null||typeof e!="object"?null:(e=Ve&&e[Ve]||e["@@iterator"],typeof e=="function"?e:null)}var Ze=Symbol.for("react.client.reference");function ft(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ze?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case Y:return"Profiler";case q:return"StrictMode";case we:return"Suspense";case Ce:return"SuspenseList";case ce:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case V:return(e.displayName||"Context")+".Provider";case xe:return(e._context.displayName||"Context")+".Consumer";case le:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ae:return n=e.displayName||null,n!==null?n:ft(e.type)||"Memo";case Le:n=e._payload,e=e._init;try{return ft(e(n))}catch{}}return null}var ee=Array.isArray,re=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,De={pending:!1,data:null,method:null,action:null},Ke=[],j=-1;function ge(e){return{current:e}}function ve(e){0>j||(e.current=Ke[j],Ke[j]=null,j--)}function Ae(e,n){j++,Ke[j]=e.current,e.current=n}var Se=ge(null),at=ge(null),ye=ge(null),In=ge(null);function Xe(e,n){switch(Ae(ye,n),Ae(at,e),Ae(Se,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?dd(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=dd(n),e=gd(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ve(Se),Ae(Se,e)}function Zn(){ve(Se),ve(at),ve(ye)}function sr(e){e.memoizedState!==null&&Ae(In,e);var n=Se.current,a=gd(n,e.type);n!==a&&(Ae(at,e),Ae(Se,a))}function dn(e){at.current===e&&(ve(Se),ve(at)),In.current===e&&(ve(In),Jl._currentValue=De)}var Mr=Object.prototype.hasOwnProperty,ot=f.unstable_scheduleCallback,Fi=f.unstable_cancelCallback,mi=f.unstable_shouldYield,pa=f.unstable_requestPaint,_t=f.unstable_now,St=f.unstable_getCurrentPriorityLevel,st=f.unstable_ImmediatePriority,wa=f.unstable_UserBlockingPriority,Oe=f.unstable_NormalPriority,es=f.unstable_LowPriority,ll=f.unstable_IdlePriority,_i=f.log,ol=f.unstable_setDisableYieldValue,Dn=null,Un=null;function Mn(e){if(typeof _i=="function"&&ol(e),Un&&typeof Un.setStrictMode=="function")try{Un.setStrictMode(Dn,e)}catch{}}var yt=Math.clz32?Math.clz32:tc,Ao=Math.log,ts=Math.LN2;function tc(e){return e>>>=0,e===0?32:31-(Ao(e)/ts|0)|0}var jt=256,be=4194304;function It(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function dt(e,n,a){var c=e.pendingLanes;if(c===0)return 0;var p=0,E=e.suspendedLanes,O=e.pingedLanes;e=e.warmLanes;var D=c&134217727;return D!==0?(c=D&~E,c!==0?p=It(c):(O&=D,O!==0?p=It(O):a||(a=D&~e,a!==0&&(p=It(a))))):(D=c&~E,D!==0?p=It(D):O!==0?p=It(O):a||(a=c&~e,a!==0&&(p=It(a)))),p===0?0:n!==0&&n!==p&&(n&E)===0&&(E=p&-p,a=n&-n,E>=a||E===32&&(a&4194048)!==0)?n:p}function Tt(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ya(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ns(){var e=jt;return jt<<=1,(jt&4194048)===0&&(jt=256),e}function ul(){var e=be;return be<<=1,(be&62914560)===0&&(be=4194304),e}function ut(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function ri(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Co(e,n,a,c,p,E){var O=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var D=e.entanglements,P=e.expirationTimes,J=e.hiddenUpdates;for(a=O&~a;0<a;){var oe=31-yt(a),he=1<<oe;D[oe]=0,P[oe]=-1;var $=J[oe];if($!==null)for(J[oe]=null,oe=0;oe<$.length;oe++){var ne=$[oe];ne!==null&&(ne.lane&=-536870913)}a&=~he}c!==0&&cl(e,c,0),E!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=E&~(O&~n))}function cl(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-yt(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|a&4194090}function Kn(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var c=31-yt(a),p=1<<c;p&n|e[c]&n&&(e[c]|=n),a&=~p}}function Ea(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function un(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function lr(){var e=ue.p;return e!==0?e:(e=window.event,e===void 0?32:Md(e.type))}function is(e,n){var a=ue.p;try{return ue.p=e,n()}finally{ue.p=a}}var gn=Math.random().toString(36).slice(2),An="__reactFiber$"+gn,Zt="__reactProps$"+gn,zi="__reactContainer$"+gn,Cn="__reactEvents$"+gn,or="__reactListeners$"+gn,Qn="__reactHandles$"+gn,_e="__reactResources$"+gn,xi="__reactMarker$"+gn;function va(e){delete e[An],delete e[Zt],delete e[Cn],delete e[or],delete e[Qn]}function nn(e){var n=e[An];if(n)return n;for(var a=e.parentNode;a;){if(n=a[zi]||a[An]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=wd(e);e!==null;){if(a=e[An])return a;e=wd(e)}return n}e=a,a=e.parentNode}return null}function ai(e){if(e=e[An]||e[zi]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Hi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(d(33))}function Si(e){var n=e[_e];return n||(n=e[_e]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Et(e){e[xi]=!0}var _o=new Set,So={};function _n(e,n){Kt(e,n),Kt(e+"Capture",n)}function Kt(e,n){for(So[e]=n,e=0;e<n.length;e++)_o.add(n[e])}var Bt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fl={},Ti={};function hl(e){return Mr.call(Ti,e)?!0:Mr.call(fl,e)?!1:Bt.test(e)?Ti[e]=!0:(fl[e]=!0,!1)}function de(e,n,a){if(hl(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function rs(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function gt(e,n,a,c){if(c===null)e.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+c)}}var Gi,To;function et(e){if(Gi===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Gi=n&&n[1]||"",To=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gi+e+To}var ct=!1;function Qe(e,n){if(!e||ct)return"";ct=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ne){var $=ne}Reflect.construct(e,[],he)}else{try{he.call()}catch(ne){$=ne}e.call(he.prototype)}}else{try{throw Error()}catch(ne){$=ne}(he=e())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ne){if(ne&&$&&typeof ne.stack=="string")return[ne.stack,$.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=c.DetermineComponentFrameRoot(),O=E[0],D=E[1];if(O&&D){var P=O.split(`
`),J=D.split(`
`);for(p=c=0;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;for(;p<J.length&&!J[p].includes("DetermineComponentFrameRoot");)p++;if(c===P.length||p===J.length)for(c=P.length-1,p=J.length-1;1<=c&&0<=p&&P[c]!==J[p];)p--;for(;1<=c&&0<=p;c--,p--)if(P[c]!==J[p]){if(c!==1||p!==1)do if(c--,p--,0>p||P[c]!==J[p]){var oe=`
`+P[c].replace(" at new "," at ");return e.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",e.displayName)),oe}while(1<=c&&0<=p);break}}}finally{ct=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?et(a):""}function dl(e){switch(e.tag){case 26:case 27:case 5:return et(e.type);case 16:return et("Lazy");case 13:return et("Suspense");case 19:return et("SuspenseList");case 0:case 15:return Qe(e.type,!1);case 11:return Qe(e.type.render,!1);case 1:return Qe(e.type,!0);case 31:return et("Activity");default:return""}}function as(e){try{var n="";do n+=dl(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function jn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qt(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Vi(e){var n=Qt(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),c=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,E=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return p.call(this)},set:function(O){c=""+O,E.call(this,O)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(O){c=""+O},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ss(e){e._valueTracker||(e._valueTracker=Vi(e))}function Ht(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),c="";return e&&(c=Qt(e)?e.checked?"true":"false":e.value),e=c,e!==a?(n.setValue(e),!0):!1}function si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var nc=/[\n"\\]/g;function mn(e){return e.replace(nc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function pt(e,n,a,c,p,E,O,D){e.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?e.type=O:e.removeAttribute("type"),n!=null?O==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+jn(n)):e.value!==""+jn(n)&&(e.value=""+jn(n)):O!=="submit"&&O!=="reset"||e.removeAttribute("value"),n!=null?K(e,O,jn(n)):a!=null?K(e,O,jn(a)):c!=null&&e.removeAttribute("value"),p==null&&E!=null&&(e.defaultChecked=!!E),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?e.name=""+jn(D):e.removeAttribute("name")}function xn(e,n,a,c,p,E,O,D){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.type=E),n!=null||a!=null){if(!(E!=="submit"&&E!=="reset"||n!=null))return;a=a!=null?""+jn(a):"",n=n!=null?""+jn(n):a,D||n===e.value||(e.value=n),e.defaultValue=n}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=D?e.checked:!!c,e.defaultChecked=!!c,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(e.name=O)}function K(e,n,a){n==="number"&&si(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function B(e,n,a,c){if(e=e.options,n){n={};for(var p=0;p<a.length;p++)n["$"+a[p]]=!0;for(a=0;a<e.length;a++)p=n.hasOwnProperty("$"+e[a].value),e[a].selected!==p&&(e[a].selected=p),p&&c&&(e[a].defaultSelected=!0)}else{for(a=""+jn(a),n=null,p=0;p<e.length;p++){if(e[p].value===a){e[p].selected=!0,c&&(e[p].defaultSelected=!0);return}n!==null||e[p].disabled||(n=e[p])}n!==null&&(n.selected=!0)}}function Ie(e,n,a){if(n!=null&&(n=""+jn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+jn(a):""}function rn(e,n,a,c){if(n==null){if(c!=null){if(a!=null)throw Error(d(92));if(ee(c)){if(1<c.length)throw Error(d(93));c=c[0]}a=c}a==null&&(a=""),n=a}a=jn(n),e.defaultValue=a,c=e.textContent,c===a&&c!==""&&c!==null&&(e.value=c)}function pn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var ic=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ls(e,n,a){var c=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,a):typeof a!="number"||a===0||ic.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function qn(e,n,a){if(n!=null&&typeof n!="object")throw Error(d(62));if(e=e.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var p in n)c=n[p],n.hasOwnProperty(p)&&a[p]!==c&&ls(e,p,c)}else for(var E in n)n.hasOwnProperty(E)&&ls(e,E,n[E])}function Me(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ft=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function os(e){return Oo.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ba=null;function Br(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xi=null,Lr=null;function an(e){var n=ai(e);if(n&&(e=n.stateNode)){var a=e[Zt]||null;e:switch(e=n.stateNode,n.type){case"input":if(pt(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+mn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var c=a[n];if(c!==e&&c.form===e.form){var p=c[Zt]||null;if(!p)throw Error(d(90));pt(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(n=0;n<a.length;n++)c=a[n],c.form===e.form&&Ht(c)}break e;case"textarea":Ie(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&B(e,!!a.multiple,n,!1)}}}var ur=!1;function Oi(e,n,a){if(ur)return e(n,a);ur=!0;try{var c=e(n);return c}finally{if(ur=!1,(Xi!==null||Lr!==null)&&(du(),Xi&&(n=Xi,e=Lr,Lr=Xi=null,an(n),e)))for(n=0;n<e.length;n++)an(e[n])}}function ke(e,n){var a=e.stateNode;if(a===null)return null;var c=a[Zt]||null;if(c===null)return null;a=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(d(231,n,typeof a));return a}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),He=!1;if(Ri)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){He=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{He=!1}var qi=null,Aa=null,Ca=null;function Yi(){if(Ca)return Ca;var e,n=Aa,a=n.length,c,p="value"in qi?qi.value:qi.textContent,E=p.length;for(e=0;e<a&&n[e]===p[e];e++);var O=a-e;for(c=1;c<=O&&n[a-c]===p[E-c];c++);return Ca=p.slice(e,1<c?1-c:void 0)}function us(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Wi(){return!0}function kr(){return!1}function cn(e){function n(a,c,p,E,O){this._reactName=a,this._targetInst=p,this.type=c,this.nativeEvent=E,this.target=O,this.currentTarget=null;for(var D in e)e.hasOwnProperty(D)&&(a=e[D],this[D]=a?a(E):E[D]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Wi:kr,this.isPropagationStopped=kr,this}return C(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),n}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ki=cn(Zi),Ni=C({},Zi,{view:0,detail:0}),Fn=cn(Ni),cs,fs,Pr,hs=C({},Ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pr&&(Pr&&e.type==="mousemove"?(cs=e.screenX-Pr.screenX,fs=e.screenY-Pr.screenY):fs=cs=0,Pr=e),cs)},movementY:function(e){return"movementY"in e?e.movementY:fs}}),Ro=cn(hs),rc=C({},hs,{dataTransfer:0}),wt=cn(rc),No=C({},Ni,{relatedTarget:0}),Ur=cn(No),Qi=C({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),ac=cn(Qi),ie=C({},Zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ye=cn(ie),wn=C({},Zi,{data:0}),_a=cn(wn),Io={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oc(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=lc[e])?!!n[e]:!1}function Sa(){return oc}var sn=C({},Ni,{key:function(e){if(e.key){var n=Io[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=us(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sa,charCode:function(e){return e.type==="keypress"?us(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?us(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gl=cn(sn),Gt=C({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ta=cn(Gt),cr=C({},Ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sa}),vt=cn(cr),Pe=C({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),uc=cn(Pe),Dt=C({},hs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fr=cn(Dt),jr=C({},Zi,{newState:0,oldState:0}),cc=cn(jr),pi=[9,13,27,32],Oa=Ri&&"CompositionEvent"in window,Fr=null;Ri&&"documentMode"in document&&(Fr=document.documentMode);var ml=Ri&&"TextEvent"in window&&!Fr,xl=Ri&&(!Oa||Fr&&8<Fr&&11>=Fr),pl=" ",Do=!1;function hr(e,n){switch(e){case"keyup":return pi.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ds(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zr=!1;function Ra(e,n){switch(e){case"compositionend":return ds(n);case"keypress":return n.which!==32?null:(Do=!0,pl);case"textInput":return e=n.data,e===pl&&Do?null:e;default:return null}}function fc(e,n){if(zr)return e==="compositionend"||!Oa&&hr(e,n)?(e=Yi(),Ca=Aa=qi=null,zr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return xl&&n.locale!=="ko"?null:n.data;default:return null}}var Ji={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Na(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ji[e.type]:n==="textarea"}function Yn(e,n,a,c){Xi?Lr?Lr.push(c):Lr=[c]:Xi=c,n=yu(n,"onChange"),0<n.length&&(a=new Ki("onChange","change",null,a,c),e.push({event:a,listeners:n}))}var Hr=null,zn=null;function hc(e){od(e,0)}function Gr(e){var n=Hi(e);if(Ht(n))return e}function Mo(e,n){if(e==="change")return n}var wl=!1;if(Ri){var Jn;if(Ri){var yl="oninput"in document;if(!yl){var gs=document.createElement("div");gs.setAttribute("oninput","return;"),yl=typeof gs.oninput=="function"}Jn=yl}else Jn=!1;wl=Jn&&(!document.documentMode||9<document.documentMode)}function Vr(){Hr&&(Hr.detachEvent("onpropertychange",lt),zn=Hr=null)}function lt(e){if(e.propertyName==="value"&&Gr(zn)){var n=[];Yn(n,zn,e,Br(e)),Oi(hc,n)}}function ms(e,n,a){e==="focusin"?(Vr(),Hr=n,zn=a,Hr.attachEvent("onpropertychange",lt)):e==="focusout"&&Vr()}function R(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gr(zn)}function t(e,n){if(e==="click")return Gr(n)}function i(e,n){if(e==="input"||e==="change")return Gr(n)}function r(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var l=typeof Object.is=="function"?Object.is:r;function u(e,n){if(l(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),c=Object.keys(n);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var p=a[c];if(!Mr.call(n,p)||!l(e[p],n[p]))return!1}return!0}function h(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function g(e,n){var a=h(e);e=0;for(var c;a;){if(a.nodeType===3){if(c=e+a.textContent.length,e<=n&&c>=n)return{node:a,offset:n-e};e=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=h(a)}}function w(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?w(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function v(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=si(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=si(e.document)}return n}function S(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var N=Ri&&"documentMode"in document&&11>=document.documentMode,I=null,L=null,U=null,F=!1;function W(e,n,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;F||I==null||I!==si(c)||(c=I,"selectionStart"in c&&S(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),U&&u(U,c)||(U=c,c=yu(L,"onSelect"),0<c.length&&(n=new Ki("onSelect","select",null,n,a),e.push({event:n,listeners:c}),n.target=I)))}function te(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var pe={animationend:te("Animation","AnimationEnd"),animationiteration:te("Animation","AnimationIteration"),animationstart:te("Animation","AnimationStart"),transitionrun:te("Transition","TransitionRun"),transitionstart:te("Transition","TransitionStart"),transitioncancel:te("Transition","TransitionCancel"),transitionend:te("Transition","TransitionEnd")},Ee={},me={};Ri&&(me=document.createElement("div").style,"AnimationEvent"in window||(delete pe.animationend.animation,delete pe.animationiteration.animation,delete pe.animationstart.animation),"TransitionEvent"in window||delete pe.transitionend.transition);function Ge(e){if(Ee[e])return Ee[e];if(!pe[e])return e;var n=pe[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in me)return Ee[e]=n[a];return e}var ze=Ge("animationend"),Bn=Ge("animationiteration"),$n=Ge("animationstart"),Hn=Ge("transitionrun"),bt=Ge("transitionstart"),yn=Ge("transitioncancel"),Gn=Ge("transitionend"),dr=new Map,$i="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$i.push("scrollEnd");function li(e,n){dr.set(e,n),_n(n,[e])}var Bo=new WeakMap;function wi(e,n){if(typeof e=="object"&&e!==null){var a=Bo.get(e);return a!==void 0?a:(n={value:e,source:n,stack:as(n)},Bo.set(e,n),n)}return{value:e,source:n,stack:as(n)}}var yi=[],xs=0,dc=0;function Lo(){for(var e=xs,n=dc=xs=0;n<e;){var a=yi[n];yi[n++]=null;var c=yi[n];yi[n++]=null;var p=yi[n];yi[n++]=null;var E=yi[n];if(yi[n++]=null,c!==null&&p!==null){var O=c.pending;O===null?p.next=p:(p.next=O.next,O.next=p),c.pending=p}E!==0&&q0(a,p,E)}}function ko(e,n,a,c){yi[xs++]=e,yi[xs++]=n,yi[xs++]=a,yi[xs++]=c,dc|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function gc(e,n,a,c){return ko(e,n,a,c),Po(e)}function ps(e,n){return ko(e,null,null,n),Po(e)}function q0(e,n,a){e.lanes|=a;var c=e.alternate;c!==null&&(c.lanes|=a);for(var p=!1,E=e.return;E!==null;)E.childLanes|=a,c=E.alternate,c!==null&&(c.childLanes|=a),E.tag===22&&(e=E.stateNode,e===null||e._visibility&1||(p=!0)),e=E,E=E.return;return e.tag===3?(E=e.stateNode,p&&n!==null&&(p=31-yt(a),e=E.hiddenUpdates,c=e[p],c===null?e[p]=[n]:c.push(n),n.lane=a|536870912),E):null}function Po(e){if(50<Vl)throw Vl=0,vf=null,Error(d(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ws={};function Yg(e,n,a,c){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(e,n,a,c){return new Yg(e,n,a,c)}function mc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gr(e,n){var a=e.alternate;return a===null?(a=oi(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Y0(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Uo(e,n,a,c,p,E){var O=0;if(c=e,typeof e=="function")mc(e)&&(O=1);else if(typeof e=="string")O=Zm(e,a,Se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ce:return e=oi(31,a,n,p),e.elementType=ce,e.lanes=E,e;case H:return Ia(a.children,p,E,n);case q:O=8,p|=24;break;case Y:return e=oi(12,a,n,p|2),e.elementType=Y,e.lanes=E,e;case we:return e=oi(13,a,n,p),e.elementType=we,e.lanes=E,e;case Ce:return e=oi(19,a,n,p),e.elementType=Ce,e.lanes=E,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case se:case V:O=10;break e;case xe:O=9;break e;case le:O=11;break e;case ae:O=14;break e;case Le:O=16,c=null;break e}O=29,a=Error(d(130,e===null?"null":typeof e,"")),c=null}return n=oi(O,a,n,p),n.elementType=e,n.type=c,n.lanes=E,n}function Ia(e,n,a,c){return e=oi(7,e,c,n),e.lanes=a,e}function xc(e,n,a){return e=oi(6,e,null,n),e.lanes=a,e}function pc(e,n,a){return n=oi(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ys=[],Es=0,jo=null,Fo=0,Ei=[],vi=0,Da=null,mr=1,xr="";function Ma(e,n){ys[Es++]=Fo,ys[Es++]=jo,jo=e,Fo=n}function W0(e,n,a){Ei[vi++]=mr,Ei[vi++]=xr,Ei[vi++]=Da,Da=e;var c=mr;e=xr;var p=32-yt(c)-1;c&=~(1<<p),a+=1;var E=32-yt(n)+p;if(30<E){var O=p-p%5;E=(c&(1<<O)-1).toString(32),c>>=O,p-=O,mr=1<<32-yt(n)+p|a<<p|c,xr=E+e}else mr=1<<E|a<<p|c,xr=e}function wc(e){e.return!==null&&(Ma(e,1),W0(e,1,0))}function yc(e){for(;e===jo;)jo=ys[--Es],ys[Es]=null,Fo=ys[--Es],ys[Es]=null;for(;e===Da;)Da=Ei[--vi],Ei[vi]=null,xr=Ei[--vi],Ei[vi]=null,mr=Ei[--vi],Ei[vi]=null}var Wn=null,Jt=null,xt=!1,Ba=null,er=!1,Ec=Error(d(519));function La(e){var n=Error(d(418,""));throw bl(wi(n,e)),Ec}function Z0(e){var n=e.stateNode,a=e.type,c=e.memoizedProps;switch(n[An]=e,n[Zt]=c,a){case"dialog":nt("cancel",n),nt("close",n);break;case"iframe":case"object":case"embed":nt("load",n);break;case"video":case"audio":for(a=0;a<ql.length;a++)nt(ql[a],n);break;case"source":nt("error",n);break;case"img":case"image":case"link":nt("error",n),nt("load",n);break;case"details":nt("toggle",n);break;case"input":nt("invalid",n),xn(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ss(n);break;case"select":nt("invalid",n);break;case"textarea":nt("invalid",n),rn(n,c.value,c.defaultValue,c.children),ss(n)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||c.suppressHydrationWarning===!0||hd(n.textContent,a)?(c.popover!=null&&(nt("beforetoggle",n),nt("toggle",n)),c.onScroll!=null&&nt("scroll",n),c.onScrollEnd!=null&&nt("scrollend",n),c.onClick!=null&&(n.onclick=Eu),n=!0):n=!1,n||La(e)}function K0(e){for(Wn=e.return;Wn;)switch(Wn.tag){case 5:case 13:er=!1;return;case 27:case 3:er=!0;return;default:Wn=Wn.return}}function El(e){if(e!==Wn)return!1;if(!xt)return K0(e),xt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Pf(e.type,e.memoizedProps)),a=!a),a&&Jt&&La(e),K0(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){Jt=Di(e.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}Jt=null}}else n===27?(n=Jt,sa(e.type)?(e=zf,zf=null,Jt=e):Jt=n):Jt=Wn?Di(e.stateNode.nextSibling):null;return!0}function vl(){Jt=Wn=null,xt=!1}function Q0(){var e=Ba;return e!==null&&(ni===null?ni=e:ni.push.apply(ni,e),Ba=null),e}function bl(e){Ba===null?Ba=[e]:Ba.push(e)}var vc=ge(null),ka=null,pr=null;function Xr(e,n,a){Ae(vc,n._currentValue),n._currentValue=a}function wr(e){e._currentValue=vc.current,ve(vc)}function bc(e,n,a){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===a)break;e=e.return}}function Ac(e,n,a,c){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var E=p.dependencies;if(E!==null){var O=p.child;E=E.firstContext;e:for(;E!==null;){var D=E;E=p;for(var P=0;P<n.length;P++)if(D.context===n[P]){E.lanes|=a,D=E.alternate,D!==null&&(D.lanes|=a),bc(E.return,a,e),c||(O=null);break e}E=D.next}}else if(p.tag===18){if(O=p.return,O===null)throw Error(d(341));O.lanes|=a,E=O.alternate,E!==null&&(E.lanes|=a),bc(O,a,e),O=null}else O=p.child;if(O!==null)O.return=p;else for(O=p;O!==null;){if(O===e){O=null;break}if(p=O.sibling,p!==null){p.return=O.return,O=p;break}O=O.return}p=O}}function Al(e,n,a,c){e=null;for(var p=n,E=!1;p!==null;){if(!E){if((p.flags&524288)!==0)E=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var O=p.alternate;if(O===null)throw Error(d(387));if(O=O.memoizedProps,O!==null){var D=p.type;l(p.pendingProps.value,O.value)||(e!==null?e.push(D):e=[D])}}else if(p===In.current){if(O=p.alternate,O===null)throw Error(d(387));O.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(Jl):e=[Jl])}p=p.return}e!==null&&Ac(n,e,a,c),n.flags|=262144}function zo(e){for(e=e.firstContext;e!==null;){if(!l(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pa(e){ka=e,pr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Vn(e){return J0(ka,e)}function Ho(e,n){return ka===null&&Pa(e),J0(e,n)}function J0(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},pr===null){if(e===null)throw Error(d(308));pr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else pr=pr.next=n;return a}var Wg=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},Zg=f.unstable_scheduleCallback,Kg=f.unstable_NormalPriority,En={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cc(){return{controller:new Wg,data:new Map,refCount:0}}function Cl(e){e.refCount--,e.refCount===0&&Zg(Kg,function(){e.controller.abort()})}var _l=null,_c=0,vs=0,bs=null;function Qg(e,n){if(_l===null){var a=_l=[];_c=0,vs=Of(),bs={status:"pending",value:void 0,then:function(c){a.push(c)}}}return _c++,n.then($0,$0),n}function $0(){if(--_c===0&&_l!==null){bs!==null&&(bs.status="fulfilled");var e=_l;_l=null,vs=0,bs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Jg(e,n){var a=[],c={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var p=0;p<a.length;p++)(0,a[p])(n)},function(p){for(c.status="rejected",c.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),c}var e1=re.S;re.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Qg(e,n),e1!==null&&e1(e,n)};var Ua=ge(null);function Sc(){var e=Ua.current;return e!==null?e:Lt.pooledCache}function Go(e,n){n===null?Ae(Ua,Ua.current):Ae(Ua,n.pool)}function t1(){var e=Sc();return e===null?null:{parent:En._currentValue,pool:e}}var Sl=Error(d(460)),n1=Error(d(474)),Vo=Error(d(542)),Tc={then:function(){}};function i1(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xo(){}function r1(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Xo,Xo),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,s1(e),e;default:if(typeof n.status=="string")n.then(Xo,Xo);else{if(e=Lt,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var p=n;p.status="fulfilled",p.value=c}},function(c){if(n.status==="pending"){var p=n;p.status="rejected",p.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,s1(e),e}throw Tl=n,Sl}}var Tl=null;function a1(){if(Tl===null)throw Error(d(459));var e=Tl;return Tl=null,e}function s1(e){if(e===Sl||e===Vo)throw Error(d(483))}var qr=!1;function Oc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Yr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wr(e,n,a){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(At&2)!==0){var p=c.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),c.pending=n,n=Po(e),q0(e,null,a),n}return ko(e,c,n,a),Po(e)}function Ol(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,a|=c,n.lanes=a,Kn(e,a)}}function Nc(e,n){var a=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var p=null,E=null;if(a=a.firstBaseUpdate,a!==null){do{var O={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};E===null?p=E=O:E=E.next=O,a=a.next}while(a!==null);E===null?p=E=n:E=E.next=n}else p=E=n;a={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:E,shared:c.shared,callbacks:c.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Ic=!1;function Rl(){if(Ic){var e=bs;if(e!==null)throw e}}function Nl(e,n,a,c){Ic=!1;var p=e.updateQueue;qr=!1;var E=p.firstBaseUpdate,O=p.lastBaseUpdate,D=p.shared.pending;if(D!==null){p.shared.pending=null;var P=D,J=P.next;P.next=null,O===null?E=J:O.next=J,O=P;var oe=e.alternate;oe!==null&&(oe=oe.updateQueue,D=oe.lastBaseUpdate,D!==O&&(D===null?oe.firstBaseUpdate=J:D.next=J,oe.lastBaseUpdate=P))}if(E!==null){var he=p.baseState;O=0,oe=J=P=null,D=E;do{var $=D.lane&-536870913,ne=$!==D.lane;if(ne?(ht&$)===$:(c&$)===$){$!==0&&$===vs&&(Ic=!0),oe!==null&&(oe=oe.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Fe=e,Ue=D;$=n;var Nt=a;switch(Ue.tag){case 1:if(Fe=Ue.payload,typeof Fe=="function"){he=Fe.call(Nt,he,$);break e}he=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Ue.payload,$=typeof Fe=="function"?Fe.call(Nt,he,$):Fe,$==null)break e;he=C({},he,$);break e;case 2:qr=!0}}$=D.callback,$!==null&&(e.flags|=64,ne&&(e.flags|=8192),ne=p.callbacks,ne===null?p.callbacks=[$]:ne.push($))}else ne={lane:$,tag:D.tag,payload:D.payload,callback:D.callback,next:null},oe===null?(J=oe=ne,P=he):oe=oe.next=ne,O|=$;if(D=D.next,D===null){if(D=p.shared.pending,D===null)break;ne=D,D=ne.next,ne.next=null,p.lastBaseUpdate=ne,p.shared.pending=null}}while(!0);oe===null&&(P=he),p.baseState=P,p.firstBaseUpdate=J,p.lastBaseUpdate=oe,E===null&&(p.shared.lanes=0),na|=O,e.lanes=O,e.memoizedState=he}}function l1(e,n){if(typeof e!="function")throw Error(d(191,e));e.call(n)}function o1(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)l1(a[e],n)}var As=ge(null),qo=ge(0);function u1(e,n){e=_r,Ae(qo,e),Ae(As,n),_r=e|n.baseLanes}function Dc(){Ae(qo,_r),Ae(As,As.current)}function Mc(){_r=qo.current,ve(As),ve(qo)}var Zr=0,Je=null,Ot=null,fn=null,Yo=!1,Cs=!1,ja=!1,Wo=0,Il=0,_s=null,$g=0;function ln(){throw Error(d(321))}function Bc(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!l(e[a],n[a]))return!1;return!0}function Lc(e,n,a,c,p,E){return Zr=E,Je=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,re.H=e===null||e.memoizedState===null?q1:Y1,ja=!1,E=a(c,p),ja=!1,Cs&&(E=f1(n,a,c,p)),c1(e),E}function c1(e){re.H=eu;var n=Ot!==null&&Ot.next!==null;if(Zr=0,fn=Ot=Je=null,Yo=!1,Il=0,_s=null,n)throw Error(d(300));e===null||Sn||(e=e.dependencies,e!==null&&zo(e)&&(Sn=!0))}function f1(e,n,a,c){Je=e;var p=0;do{if(Cs&&(_s=null),Il=0,Cs=!1,25<=p)throw Error(d(301));if(p+=1,fn=Ot=null,e.updateQueue!=null){var E=e.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}re.H=sm,E=n(a,c)}while(Cs);return E}function em(){var e=re.H,n=e.useState()[0];return n=typeof n.then=="function"?Dl(n):n,e=e.useState()[0],(Ot!==null?Ot.memoizedState:null)!==e&&(Je.flags|=1024),n}function kc(){var e=Wo!==0;return Wo=0,e}function Pc(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Uc(e){if(Yo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Yo=!1}Zr=0,fn=Ot=Je=null,Cs=!1,Il=Wo=0,_s=null}function ei(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Je.memoizedState=fn=e:fn=fn.next=e,fn}function hn(){if(Ot===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=Ot.next;var n=fn===null?Je.memoizedState:fn.next;if(n!==null)fn=n,Ot=e;else{if(e===null)throw Je.alternate===null?Error(d(467)):Error(d(310));Ot=e,e={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},fn===null?Je.memoizedState=fn=e:fn=fn.next=e}return fn}function jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(e){var n=Il;return Il+=1,_s===null&&(_s=[]),e=r1(_s,e,n),n=Je,(fn===null?n.memoizedState:fn.next)===null&&(n=n.alternate,re.H=n===null||n.memoizedState===null?q1:Y1),e}function Zo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Dl(e);if(e.$$typeof===V)return Vn(e)}throw Error(d(438,String(e)))}function Fc(e){var n=null,a=Je.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var c=Je.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(p){return p.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=jc(),Je.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),c=0;c<e;c++)a[c]=Ut;return n.index++,a}function yr(e,n){return typeof n=="function"?n(e):n}function Ko(e){var n=hn();return zc(n,Ot,e)}function zc(e,n,a){var c=e.queue;if(c===null)throw Error(d(311));c.lastRenderedReducer=a;var p=e.baseQueue,E=c.pending;if(E!==null){if(p!==null){var O=p.next;p.next=E.next,E.next=O}n.baseQueue=p=E,c.pending=null}if(E=e.baseState,p===null)e.memoizedState=E;else{n=p.next;var D=O=null,P=null,J=n,oe=!1;do{var he=J.lane&-536870913;if(he!==J.lane?(ht&he)===he:(Zr&he)===he){var $=J.revertLane;if($===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),he===vs&&(oe=!0);else if((Zr&$)===$){J=J.next,$===vs&&(oe=!0);continue}else he={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},P===null?(D=P=he,O=E):P=P.next=he,Je.lanes|=$,na|=$;he=J.action,ja&&a(E,he),E=J.hasEagerState?J.eagerState:a(E,he)}else $={lane:he,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},P===null?(D=P=$,O=E):P=P.next=$,Je.lanes|=he,na|=he;J=J.next}while(J!==null&&J!==n);if(P===null?O=E:P.next=D,!l(E,e.memoizedState)&&(Sn=!0,oe&&(a=bs,a!==null)))throw a;e.memoizedState=E,e.baseState=O,e.baseQueue=P,c.lastRenderedState=E}return p===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Hc(e){var n=hn(),a=n.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=e;var c=a.dispatch,p=a.pending,E=n.memoizedState;if(p!==null){a.pending=null;var O=p=p.next;do E=e(E,O.action),O=O.next;while(O!==p);l(E,n.memoizedState)||(Sn=!0),n.memoizedState=E,n.baseQueue===null&&(n.baseState=E),a.lastRenderedState=E}return[E,c]}function h1(e,n,a){var c=Je,p=hn(),E=xt;if(E){if(a===void 0)throw Error(d(407));a=a()}else a=n();var O=!l((Ot||p).memoizedState,a);O&&(p.memoizedState=a,Sn=!0),p=p.queue;var D=m1.bind(null,c,p,e);if(Ml(2048,8,D,[e]),p.getSnapshot!==n||O||fn!==null&&fn.memoizedState.tag&1){if(c.flags|=2048,Ss(9,Qo(),g1.bind(null,c,p,a,n),null),Lt===null)throw Error(d(349));E||(Zr&124)!==0||d1(c,n,a)}return a}function d1(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Je.updateQueue,n===null?(n=jc(),Je.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function g1(e,n,a,c){n.value=a,n.getSnapshot=c,x1(n)&&p1(e)}function m1(e,n,a){return a(function(){x1(n)&&p1(e)})}function x1(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!l(e,a)}catch{return!0}}function p1(e){var n=ps(e,2);n!==null&&di(n,e,2)}function Gc(e){var n=ei();if(typeof e=="function"){var a=e;if(e=a(),ja){Mn(!0);try{a()}finally{Mn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:e},n}function w1(e,n,a,c){return e.baseState=a,zc(e,Ot,typeof c=="function"?c:yr)}function tm(e,n,a,c,p){if($o(e))throw Error(d(485));if(e=n.action,e!==null){var E={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){E.listeners.push(O)}};re.T!==null?a(!0):E.isTransition=!1,c(E),a=n.pending,a===null?(E.next=n.pending=E,y1(n,E)):(E.next=a.next,n.pending=a.next=E)}}function y1(e,n){var a=n.action,c=n.payload,p=e.state;if(n.isTransition){var E=re.T,O={};re.T=O;try{var D=a(p,c),P=re.S;P!==null&&P(O,D),E1(e,n,D)}catch(J){Vc(e,n,J)}finally{re.T=E}}else try{E=a(p,c),E1(e,n,E)}catch(J){Vc(e,n,J)}}function E1(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){v1(e,n,c)},function(c){return Vc(e,n,c)}):v1(e,n,a)}function v1(e,n,a){n.status="fulfilled",n.value=a,b1(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,y1(e,a)))}function Vc(e,n,a){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=a,b1(n),n=n.next;while(n!==c)}e.action=null}function b1(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function A1(e,n){return n}function C1(e,n){if(xt){var a=Lt.formState;if(a!==null){e:{var c=Je;if(xt){if(Jt){t:{for(var p=Jt,E=er;p.nodeType!==8;){if(!E){p=null;break t}if(p=Di(p.nextSibling),p===null){p=null;break t}}E=p.data,p=E==="F!"||E==="F"?p:null}if(p){Jt=Di(p.nextSibling),c=p.data==="F!";break e}}La(c)}c=!1}c&&(n=a[0])}}return a=ei(),a.memoizedState=a.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A1,lastRenderedState:n},a.queue=c,a=G1.bind(null,Je,c),c.dispatch=a,c=Gc(!1),E=Zc.bind(null,Je,!1,c.queue),c=ei(),p={state:n,dispatch:null,action:e,pending:null},c.queue=p,a=tm.bind(null,Je,p,E,a),p.dispatch=a,c.memoizedState=e,[n,a,!1]}function _1(e){var n=hn();return S1(n,Ot,e)}function S1(e,n,a){if(n=zc(e,n,A1)[0],e=Ko(yr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=Dl(n)}catch(O){throw O===Sl?Vo:O}else c=n;n=hn();var p=n.queue,E=p.dispatch;return a!==n.memoizedState&&(Je.flags|=2048,Ss(9,Qo(),nm.bind(null,p,a),null)),[c,E,e]}function nm(e,n){e.action=n}function T1(e){var n=hn(),a=Ot;if(a!==null)return S1(n,a,e);hn(),n=n.memoizedState,a=hn();var c=a.queue.dispatch;return a.memoizedState=e,[n,c,!1]}function Ss(e,n,a,c){return e={tag:e,create:a,deps:c,inst:n,next:null},n=Je.updateQueue,n===null&&(n=jc(),Je.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(c=a.next,a.next=e,e.next=c,n.lastEffect=e),e}function Qo(){return{destroy:void 0,resource:void 0}}function O1(){return hn().memoizedState}function Jo(e,n,a,c){var p=ei();c=c===void 0?null:c,Je.flags|=e,p.memoizedState=Ss(1|n,Qo(),a,c)}function Ml(e,n,a,c){var p=hn();c=c===void 0?null:c;var E=p.memoizedState.inst;Ot!==null&&c!==null&&Bc(c,Ot.memoizedState.deps)?p.memoizedState=Ss(n,E,a,c):(Je.flags|=e,p.memoizedState=Ss(1|n,E,a,c))}function R1(e,n){Jo(8390656,8,e,n)}function N1(e,n){Ml(2048,8,e,n)}function I1(e,n){return Ml(4,2,e,n)}function D1(e,n){return Ml(4,4,e,n)}function M1(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function B1(e,n,a){a=a!=null?a.concat([e]):null,Ml(4,4,M1.bind(null,n,e),a)}function Xc(){}function L1(e,n){var a=hn();n=n===void 0?null:n;var c=a.memoizedState;return n!==null&&Bc(n,c[1])?c[0]:(a.memoizedState=[e,n],e)}function k1(e,n){var a=hn();n=n===void 0?null:n;var c=a.memoizedState;if(n!==null&&Bc(n,c[1]))return c[0];if(c=e(),ja){Mn(!0);try{e()}finally{Mn(!1)}}return a.memoizedState=[c,n],c}function qc(e,n,a){return a===void 0||(Zr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=jh(),Je.lanes|=e,na|=e,a)}function P1(e,n,a,c){return l(a,n)?a:As.current!==null?(e=qc(e,a,c),l(e,n)||(Sn=!0),e):(Zr&42)===0?(Sn=!0,e.memoizedState=a):(e=jh(),Je.lanes|=e,na|=e,n)}function U1(e,n,a,c,p){var E=ue.p;ue.p=E!==0&&8>E?E:8;var O=re.T,D={};re.T=D,Zc(e,!1,n,a);try{var P=p(),J=re.S;if(J!==null&&J(D,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var oe=Jg(P,c);Bl(e,n,oe,hi(e))}else Bl(e,n,c,hi(e))}catch(he){Bl(e,n,{then:function(){},status:"rejected",reason:he},hi())}finally{ue.p=E,re.T=O}}function im(){}function Yc(e,n,a,c){if(e.tag!==5)throw Error(d(476));var p=j1(e).queue;U1(e,p,n,De,a===null?im:function(){return F1(e),a(c)})}function j1(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:De,baseState:De,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:De},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function F1(e){var n=j1(e).next.queue;Bl(e,n,{},hi())}function Wc(){return Vn(Jl)}function z1(){return hn().memoizedState}function H1(){return hn().memoizedState}function rm(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=hi();e=Yr(a);var c=Wr(n,e,a);c!==null&&(di(c,n,a),Ol(c,n,a)),n={cache:Cc()},e.payload=n;return}n=n.return}}function am(e,n,a){var c=hi();a={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},$o(e)?V1(n,a):(a=gc(e,n,a,c),a!==null&&(di(a,e,c),X1(a,n,c)))}function G1(e,n,a){var c=hi();Bl(e,n,a,c)}function Bl(e,n,a,c){var p={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if($o(e))V1(n,p);else{var E=e.alternate;if(e.lanes===0&&(E===null||E.lanes===0)&&(E=n.lastRenderedReducer,E!==null))try{var O=n.lastRenderedState,D=E(O,a);if(p.hasEagerState=!0,p.eagerState=D,l(D,O))return ko(e,n,p,0),Lt===null&&Lo(),!1}catch{}finally{}if(a=gc(e,n,p,c),a!==null)return di(a,e,c),X1(a,n,c),!0}return!1}function Zc(e,n,a,c){if(c={lane:2,revertLane:Of(),action:c,hasEagerState:!1,eagerState:null,next:null},$o(e)){if(n)throw Error(d(479))}else n=gc(e,a,c,2),n!==null&&di(n,e,2)}function $o(e){var n=e.alternate;return e===Je||n!==null&&n===Je}function V1(e,n){Cs=Yo=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function X1(e,n,a){if((a&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,a|=c,n.lanes=a,Kn(e,a)}}var eu={readContext:Vn,use:Zo,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useLayoutEffect:ln,useInsertionEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useSyncExternalStore:ln,useId:ln,useHostTransitionStatus:ln,useFormState:ln,useActionState:ln,useOptimistic:ln,useMemoCache:ln,useCacheRefresh:ln},q1={readContext:Vn,use:Zo,useCallback:function(e,n){return ei().memoizedState=[e,n===void 0?null:n],e},useContext:Vn,useEffect:R1,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Jo(4194308,4,M1.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Jo(4194308,4,e,n)},useInsertionEffect:function(e,n){Jo(4,2,e,n)},useMemo:function(e,n){var a=ei();n=n===void 0?null:n;var c=e();if(ja){Mn(!0);try{e()}finally{Mn(!1)}}return a.memoizedState=[c,n],c},useReducer:function(e,n,a){var c=ei();if(a!==void 0){var p=a(n);if(ja){Mn(!0);try{a(n)}finally{Mn(!1)}}}else p=n;return c.memoizedState=c.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},c.queue=e,e=e.dispatch=am.bind(null,Je,e),[c.memoizedState,e]},useRef:function(e){var n=ei();return e={current:e},n.memoizedState=e},useState:function(e){e=Gc(e);var n=e.queue,a=G1.bind(null,Je,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Xc,useDeferredValue:function(e,n){var a=ei();return qc(a,e,n)},useTransition:function(){var e=Gc(!1);return e=U1.bind(null,Je,e.queue,!0,!1),ei().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var c=Je,p=ei();if(xt){if(a===void 0)throw Error(d(407));a=a()}else{if(a=n(),Lt===null)throw Error(d(349));(ht&124)!==0||d1(c,n,a)}p.memoizedState=a;var E={value:a,getSnapshot:n};return p.queue=E,R1(m1.bind(null,c,E,e),[e]),c.flags|=2048,Ss(9,Qo(),g1.bind(null,c,E,a,n),null),a},useId:function(){var e=ei(),n=Lt.identifierPrefix;if(xt){var a=xr,c=mr;a=(c&~(1<<32-yt(c)-1)).toString(32)+a,n="«"+n+"R"+a,a=Wo++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=$g++,n="«"+n+"r"+a.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Wc,useFormState:C1,useActionState:C1,useOptimistic:function(e){var n=ei();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Zc.bind(null,Je,!0,a),a.dispatch=n,[e,n]},useMemoCache:Fc,useCacheRefresh:function(){return ei().memoizedState=rm.bind(null,Je)}},Y1={readContext:Vn,use:Zo,useCallback:L1,useContext:Vn,useEffect:N1,useImperativeHandle:B1,useInsertionEffect:I1,useLayoutEffect:D1,useMemo:k1,useReducer:Ko,useRef:O1,useState:function(){return Ko(yr)},useDebugValue:Xc,useDeferredValue:function(e,n){var a=hn();return P1(a,Ot.memoizedState,e,n)},useTransition:function(){var e=Ko(yr)[0],n=hn().memoizedState;return[typeof e=="boolean"?e:Dl(e),n]},useSyncExternalStore:h1,useId:z1,useHostTransitionStatus:Wc,useFormState:_1,useActionState:_1,useOptimistic:function(e,n){var a=hn();return w1(a,Ot,e,n)},useMemoCache:Fc,useCacheRefresh:H1},sm={readContext:Vn,use:Zo,useCallback:L1,useContext:Vn,useEffect:N1,useImperativeHandle:B1,useInsertionEffect:I1,useLayoutEffect:D1,useMemo:k1,useReducer:Hc,useRef:O1,useState:function(){return Hc(yr)},useDebugValue:Xc,useDeferredValue:function(e,n){var a=hn();return Ot===null?qc(a,e,n):P1(a,Ot.memoizedState,e,n)},useTransition:function(){var e=Hc(yr)[0],n=hn().memoizedState;return[typeof e=="boolean"?e:Dl(e),n]},useSyncExternalStore:h1,useId:z1,useHostTransitionStatus:Wc,useFormState:T1,useActionState:T1,useOptimistic:function(e,n){var a=hn();return Ot!==null?w1(a,Ot,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Fc,useCacheRefresh:H1},Ts=null,Ll=0;function tu(e){var n=Ll;return Ll+=1,Ts===null&&(Ts=[]),r1(Ts,e,n)}function kl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function nu(e,n){throw n.$$typeof===T?Error(d(525)):(e=Object.prototype.toString.call(n),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function W1(e){var n=e._init;return n(e._payload)}function Z1(e){function n(X,G){if(e){var Q=X.deletions;Q===null?(X.deletions=[G],X.flags|=16):Q.push(G)}}function a(X,G){if(!e)return null;for(;G!==null;)n(X,G),G=G.sibling;return null}function c(X){for(var G=new Map;X!==null;)X.key!==null?G.set(X.key,X):G.set(X.index,X),X=X.sibling;return G}function p(X,G){return X=gr(X,G),X.index=0,X.sibling=null,X}function E(X,G,Q){return X.index=Q,e?(Q=X.alternate,Q!==null?(Q=Q.index,Q<G?(X.flags|=67108866,G):Q):(X.flags|=67108866,G)):(X.flags|=1048576,G)}function O(X){return e&&X.alternate===null&&(X.flags|=67108866),X}function D(X,G,Q,fe){return G===null||G.tag!==6?(G=xc(Q,X.mode,fe),G.return=X,G):(G=p(G,Q),G.return=X,G)}function P(X,G,Q,fe){var Ne=Q.type;return Ne===H?oe(X,G,Q.props.children,fe,Q.key):G!==null&&(G.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===Le&&W1(Ne)===G.type)?(G=p(G,Q.props),kl(G,Q),G.return=X,G):(G=Uo(Q.type,Q.key,Q.props,null,X.mode,fe),kl(G,Q),G.return=X,G)}function J(X,G,Q,fe){return G===null||G.tag!==4||G.stateNode.containerInfo!==Q.containerInfo||G.stateNode.implementation!==Q.implementation?(G=pc(Q,X.mode,fe),G.return=X,G):(G=p(G,Q.children||[]),G.return=X,G)}function oe(X,G,Q,fe,Ne){return G===null||G.tag!==7?(G=Ia(Q,X.mode,fe,Ne),G.return=X,G):(G=p(G,Q),G.return=X,G)}function he(X,G,Q){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=xc(""+G,X.mode,Q),G.return=X,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case M:return Q=Uo(G.type,G.key,G.props,null,X.mode,Q),kl(Q,G),Q.return=X,Q;case k:return G=pc(G,X.mode,Q),G.return=X,G;case Le:var fe=G._init;return G=fe(G._payload),he(X,G,Q)}if(ee(G)||Re(G))return G=Ia(G,X.mode,Q,null),G.return=X,G;if(typeof G.then=="function")return he(X,tu(G),Q);if(G.$$typeof===V)return he(X,Ho(X,G),Q);nu(X,G)}return null}function $(X,G,Q,fe){var Ne=G!==null?G.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ne!==null?null:D(X,G,""+Q,fe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case M:return Q.key===Ne?P(X,G,Q,fe):null;case k:return Q.key===Ne?J(X,G,Q,fe):null;case Le:return Ne=Q._init,Q=Ne(Q._payload),$(X,G,Q,fe)}if(ee(Q)||Re(Q))return Ne!==null?null:oe(X,G,Q,fe,null);if(typeof Q.then=="function")return $(X,G,tu(Q),fe);if(Q.$$typeof===V)return $(X,G,Ho(X,Q),fe);nu(X,Q)}return null}function ne(X,G,Q,fe,Ne){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return X=X.get(Q)||null,D(G,X,""+fe,Ne);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case M:return X=X.get(fe.key===null?Q:fe.key)||null,P(G,X,fe,Ne);case k:return X=X.get(fe.key===null?Q:fe.key)||null,J(G,X,fe,Ne);case Le:var $e=fe._init;return fe=$e(fe._payload),ne(X,G,Q,fe,Ne)}if(ee(fe)||Re(fe))return X=X.get(Q)||null,oe(G,X,fe,Ne,null);if(typeof fe.then=="function")return ne(X,G,Q,tu(fe),Ne);if(fe.$$typeof===V)return ne(X,G,Q,Ho(G,fe),Ne);nu(G,fe)}return null}function Fe(X,G,Q,fe){for(var Ne=null,$e=null,Be=G,je=G=0,On=null;Be!==null&&je<Q.length;je++){Be.index>je?(On=Be,Be=null):On=Be.sibling;var mt=$(X,Be,Q[je],fe);if(mt===null){Be===null&&(Be=On);break}e&&Be&&mt.alternate===null&&n(X,Be),G=E(mt,G,je),$e===null?Ne=mt:$e.sibling=mt,$e=mt,Be=On}if(je===Q.length)return a(X,Be),xt&&Ma(X,je),Ne;if(Be===null){for(;je<Q.length;je++)Be=he(X,Q[je],fe),Be!==null&&(G=E(Be,G,je),$e===null?Ne=Be:$e.sibling=Be,$e=Be);return xt&&Ma(X,je),Ne}for(Be=c(Be);je<Q.length;je++)On=ne(Be,X,je,Q[je],fe),On!==null&&(e&&On.alternate!==null&&Be.delete(On.key===null?je:On.key),G=E(On,G,je),$e===null?Ne=On:$e.sibling=On,$e=On);return e&&Be.forEach(function(fa){return n(X,fa)}),xt&&Ma(X,je),Ne}function Ue(X,G,Q,fe){if(Q==null)throw Error(d(151));for(var Ne=null,$e=null,Be=G,je=G=0,On=null,mt=Q.next();Be!==null&&!mt.done;je++,mt=Q.next()){Be.index>je?(On=Be,Be=null):On=Be.sibling;var fa=$(X,Be,mt.value,fe);if(fa===null){Be===null&&(Be=On);break}e&&Be&&fa.alternate===null&&n(X,Be),G=E(fa,G,je),$e===null?Ne=fa:$e.sibling=fa,$e=fa,Be=On}if(mt.done)return a(X,Be),xt&&Ma(X,je),Ne;if(Be===null){for(;!mt.done;je++,mt=Q.next())mt=he(X,mt.value,fe),mt!==null&&(G=E(mt,G,je),$e===null?Ne=mt:$e.sibling=mt,$e=mt);return xt&&Ma(X,je),Ne}for(Be=c(Be);!mt.done;je++,mt=Q.next())mt=ne(Be,X,je,mt.value,fe),mt!==null&&(e&&mt.alternate!==null&&Be.delete(mt.key===null?je:mt.key),G=E(mt,G,je),$e===null?Ne=mt:$e.sibling=mt,$e=mt);return e&&Be.forEach(function(lx){return n(X,lx)}),xt&&Ma(X,je),Ne}function Nt(X,G,Q,fe){if(typeof Q=="object"&&Q!==null&&Q.type===H&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case M:e:{for(var Ne=Q.key;G!==null;){if(G.key===Ne){if(Ne=Q.type,Ne===H){if(G.tag===7){a(X,G.sibling),fe=p(G,Q.props.children),fe.return=X,X=fe;break e}}else if(G.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===Le&&W1(Ne)===G.type){a(X,G.sibling),fe=p(G,Q.props),kl(fe,Q),fe.return=X,X=fe;break e}a(X,G);break}else n(X,G);G=G.sibling}Q.type===H?(fe=Ia(Q.props.children,X.mode,fe,Q.key),fe.return=X,X=fe):(fe=Uo(Q.type,Q.key,Q.props,null,X.mode,fe),kl(fe,Q),fe.return=X,X=fe)}return O(X);case k:e:{for(Ne=Q.key;G!==null;){if(G.key===Ne)if(G.tag===4&&G.stateNode.containerInfo===Q.containerInfo&&G.stateNode.implementation===Q.implementation){a(X,G.sibling),fe=p(G,Q.children||[]),fe.return=X,X=fe;break e}else{a(X,G);break}else n(X,G);G=G.sibling}fe=pc(Q,X.mode,fe),fe.return=X,X=fe}return O(X);case Le:return Ne=Q._init,Q=Ne(Q._payload),Nt(X,G,Q,fe)}if(ee(Q))return Fe(X,G,Q,fe);if(Re(Q)){if(Ne=Re(Q),typeof Ne!="function")throw Error(d(150));return Q=Ne.call(Q),Ue(X,G,Q,fe)}if(typeof Q.then=="function")return Nt(X,G,tu(Q),fe);if(Q.$$typeof===V)return Nt(X,G,Ho(X,Q),fe);nu(X,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,G!==null&&G.tag===6?(a(X,G.sibling),fe=p(G,Q),fe.return=X,X=fe):(a(X,G),fe=xc(Q,X.mode,fe),fe.return=X,X=fe),O(X)):a(X,G)}return function(X,G,Q,fe){try{Ll=0;var Ne=Nt(X,G,Q,fe);return Ts=null,Ne}catch(Be){if(Be===Sl||Be===Vo)throw Be;var $e=oi(29,Be,null,X.mode);return $e.lanes=fe,$e.return=X,$e}finally{}}}var Os=Z1(!0),K1=Z1(!1),bi=ge(null),tr=null;function Kr(e){var n=e.alternate;Ae(vn,vn.current&1),Ae(bi,e),tr===null&&(n===null||As.current!==null||n.memoizedState!==null)&&(tr=e)}function Q1(e){if(e.tag===22){if(Ae(vn,vn.current),Ae(bi,e),tr===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(tr=e)}}else Qr()}function Qr(){Ae(vn,vn.current),Ae(bi,bi.current)}function Er(e){ve(bi),tr===e&&(tr=null),ve(vn)}var vn=ge(0);function iu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ff(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Kc(e,n,a,c){n=e.memoizedState,a=a(c,n),a=a==null?n:C({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Qc={enqueueSetState:function(e,n,a){e=e._reactInternals;var c=hi(),p=Yr(c);p.payload=n,a!=null&&(p.callback=a),n=Wr(e,p,c),n!==null&&(di(n,e,c),Ol(n,e,c))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var c=hi(),p=Yr(c);p.tag=1,p.payload=n,a!=null&&(p.callback=a),n=Wr(e,p,c),n!==null&&(di(n,e,c),Ol(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=hi(),c=Yr(a);c.tag=2,n!=null&&(c.callback=n),n=Wr(e,c,a),n!==null&&(di(n,e,a),Ol(n,e,a))}};function J1(e,n,a,c,p,E,O){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,E,O):n.prototype&&n.prototype.isPureReactComponent?!u(a,c)||!u(p,E):!0}function $1(e,n,a,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,c),n.state!==e&&Qc.enqueueReplaceState(n,n.state,null)}function Fa(e,n){var a=n;if("ref"in n){a={};for(var c in n)c!=="ref"&&(a[c]=n[c])}if(e=e.defaultProps){a===n&&(a=C({},a));for(var p in e)a[p]===void 0&&(a[p]=e[p])}return a}var ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function eh(e){ru(e)}function th(e){console.error(e)}function nh(e){ru(e)}function au(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function ih(e,n,a){try{var c=e.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Jc(e,n,a){return a=Yr(a),a.tag=3,a.payload={element:null},a.callback=function(){au(e,n)},a}function rh(e){return e=Yr(e),e.tag=3,e}function ah(e,n,a,c){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var E=c.value;e.payload=function(){return p(E)},e.callback=function(){ih(n,a,c)}}var O=a.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(e.callback=function(){ih(n,a,c),typeof p!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})})}function lm(e,n,a,c,p){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=a.alternate,n!==null&&Al(n,a,p,!0),a=bi.current,a!==null){switch(a.tag){case 13:return tr===null?Af():a.alternate===null&&$t===0&&($t=3),a.flags&=-257,a.flags|=65536,a.lanes=p,c===Tc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([c]):n.add(c),_f(e,c,p)),!1;case 22:return a.flags|=65536,c===Tc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([c]):a.add(c)),_f(e,c,p)),!1}throw Error(d(435,a.tag))}return _f(e,c,p),Af(),!1}if(xt)return n=bi.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=p,c!==Ec&&(e=Error(d(422),{cause:c}),bl(wi(e,a)))):(c!==Ec&&(n=Error(d(423),{cause:c}),bl(wi(n,a))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,c=wi(c,a),p=Jc(e.stateNode,c,p),Nc(e,p),$t!==4&&($t=2)),!1;var E=Error(d(520),{cause:c});if(E=wi(E,a),Gl===null?Gl=[E]:Gl.push(E),$t!==4&&($t=2),n===null)return!0;c=wi(c,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=p&-p,a.lanes|=e,e=Jc(a.stateNode,c,e),Nc(a,e),!1;case 1:if(n=a.type,E=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ia===null||!ia.has(E))))return a.flags|=65536,p&=-p,a.lanes|=p,p=rh(p),ah(p,e,a,c),Nc(a,p),!1}a=a.return}while(a!==null);return!1}var sh=Error(d(461)),Sn=!1;function Ln(e,n,a,c){n.child=e===null?K1(n,null,a,c):Os(n,e.child,a,c)}function lh(e,n,a,c,p){a=a.render;var E=n.ref;if("ref"in c){var O={};for(var D in c)D!=="ref"&&(O[D]=c[D])}else O=c;return Pa(n),c=Lc(e,n,a,O,E,p),D=kc(),e!==null&&!Sn?(Pc(e,n,p),vr(e,n,p)):(xt&&D&&wc(n),n.flags|=1,Ln(e,n,c,p),n.child)}function oh(e,n,a,c,p){if(e===null){var E=a.type;return typeof E=="function"&&!mc(E)&&E.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=E,uh(e,n,E,c,p)):(e=Uo(a.type,null,c,n,n.mode,p),e.ref=n.ref,e.return=n,n.child=e)}if(E=e.child,!lf(e,p)){var O=E.memoizedProps;if(a=a.compare,a=a!==null?a:u,a(O,c)&&e.ref===n.ref)return vr(e,n,p)}return n.flags|=1,e=gr(E,c),e.ref=n.ref,e.return=n,n.child=e}function uh(e,n,a,c,p){if(e!==null){var E=e.memoizedProps;if(u(E,c)&&e.ref===n.ref)if(Sn=!1,n.pendingProps=c=E,lf(e,p))(e.flags&131072)!==0&&(Sn=!0);else return n.lanes=e.lanes,vr(e,n,p)}return $c(e,n,a,c,p)}function ch(e,n,a){var c=n.pendingProps,p=c.children,E=e!==null?e.memoizedState:null;if(c.mode==="hidden"){if((n.flags&128)!==0){if(c=E!==null?E.baseLanes|a:a,e!==null){for(p=n.child=e.child,E=0;p!==null;)E=E|p.lanes|p.childLanes,p=p.sibling;n.childLanes=E&~c}else n.childLanes=0,n.child=null;return fh(e,n,c,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Go(n,E!==null?E.cachePool:null),E!==null?u1(n,E):Dc(),Q1(n);else return n.lanes=n.childLanes=536870912,fh(e,n,E!==null?E.baseLanes|a:a,a)}else E!==null?(Go(n,E.cachePool),u1(n,E),Qr(),n.memoizedState=null):(e!==null&&Go(n,null),Dc(),Qr());return Ln(e,n,p,a),n.child}function fh(e,n,a,c){var p=Sc();return p=p===null?null:{parent:En._currentValue,pool:p},n.memoizedState={baseLanes:a,cachePool:p},e!==null&&Go(n,null),Dc(),Q1(n),e!==null&&Al(e,n,c,!0),null}function su(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(d(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function $c(e,n,a,c,p){return Pa(n),a=Lc(e,n,a,c,void 0,p),c=kc(),e!==null&&!Sn?(Pc(e,n,p),vr(e,n,p)):(xt&&c&&wc(n),n.flags|=1,Ln(e,n,a,p),n.child)}function hh(e,n,a,c,p,E){return Pa(n),n.updateQueue=null,a=f1(n,c,a,p),c1(e),c=kc(),e!==null&&!Sn?(Pc(e,n,E),vr(e,n,E)):(xt&&c&&wc(n),n.flags|=1,Ln(e,n,a,E),n.child)}function dh(e,n,a,c,p){if(Pa(n),n.stateNode===null){var E=ws,O=a.contextType;typeof O=="object"&&O!==null&&(E=Vn(O)),E=new a(c,E),n.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Qc,n.stateNode=E,E._reactInternals=n,E=n.stateNode,E.props=c,E.state=n.memoizedState,E.refs={},Oc(n),O=a.contextType,E.context=typeof O=="object"&&O!==null?Vn(O):ws,E.state=n.memoizedState,O=a.getDerivedStateFromProps,typeof O=="function"&&(Kc(n,a,O,c),E.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(O=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),O!==E.state&&Qc.enqueueReplaceState(E,E.state,null),Nl(n,c,E,p),Rl(),E.state=n.memoizedState),typeof E.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){E=n.stateNode;var D=n.memoizedProps,P=Fa(a,D);E.props=P;var J=E.context,oe=a.contextType;O=ws,typeof oe=="object"&&oe!==null&&(O=Vn(oe));var he=a.getDerivedStateFromProps;oe=typeof he=="function"||typeof E.getSnapshotBeforeUpdate=="function",D=n.pendingProps!==D,oe||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(D||J!==O)&&$1(n,E,c,O),qr=!1;var $=n.memoizedState;E.state=$,Nl(n,c,E,p),Rl(),J=n.memoizedState,D||$!==J||qr?(typeof he=="function"&&(Kc(n,a,he,c),J=n.memoizedState),(P=qr||J1(n,a,P,c,$,J,O))?(oe||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(n.flags|=4194308)):(typeof E.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=J),E.props=c,E.state=J,E.context=O,c=P):(typeof E.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{E=n.stateNode,Rc(e,n),O=n.memoizedProps,oe=Fa(a,O),E.props=oe,he=n.pendingProps,$=E.context,J=a.contextType,P=ws,typeof J=="object"&&J!==null&&(P=Vn(J)),D=a.getDerivedStateFromProps,(J=typeof D=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(O!==he||$!==P)&&$1(n,E,c,P),qr=!1,$=n.memoizedState,E.state=$,Nl(n,c,E,p),Rl();var ne=n.memoizedState;O!==he||$!==ne||qr||e!==null&&e.dependencies!==null&&zo(e.dependencies)?(typeof D=="function"&&(Kc(n,a,D,c),ne=n.memoizedState),(oe=qr||J1(n,a,oe,c,$,ne,P)||e!==null&&e.dependencies!==null&&zo(e.dependencies))?(J||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(c,ne,P),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(c,ne,P)),typeof E.componentDidUpdate=="function"&&(n.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof E.componentDidUpdate!="function"||O===e.memoizedProps&&$===e.memoizedState||(n.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===e.memoizedProps&&$===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=ne),E.props=c,E.state=ne,E.context=P,c=oe):(typeof E.componentDidUpdate!="function"||O===e.memoizedProps&&$===e.memoizedState||(n.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===e.memoizedProps&&$===e.memoizedState||(n.flags|=1024),c=!1)}return E=c,su(e,n),c=(n.flags&128)!==0,E||c?(E=n.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:E.render(),n.flags|=1,e!==null&&c?(n.child=Os(n,e.child,null,p),n.child=Os(n,null,a,p)):Ln(e,n,a,p),n.memoizedState=E.state,e=n.child):e=vr(e,n,p),e}function gh(e,n,a,c){return vl(),n.flags|=256,Ln(e,n,a,c),n.child}var ef={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tf(e){return{baseLanes:e,cachePool:t1()}}function nf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Ai),e}function mh(e,n,a){var c=n.pendingProps,p=!1,E=(n.flags&128)!==0,O;if((O=E)||(O=e!==null&&e.memoizedState===null?!1:(vn.current&2)!==0),O&&(p=!0,n.flags&=-129),O=(n.flags&32)!==0,n.flags&=-33,e===null){if(xt){if(p?Kr(n):Qr(),xt){var D=Jt,P;if(P=D){e:{for(P=D,D=er;P.nodeType!==8;){if(!D){D=null;break e}if(P=Di(P.nextSibling),P===null){D=null;break e}}D=P}D!==null?(n.memoizedState={dehydrated:D,treeContext:Da!==null?{id:mr,overflow:xr}:null,retryLane:536870912,hydrationErrors:null},P=oi(18,null,null,0),P.stateNode=D,P.return=n,n.child=P,Wn=n,Jt=null,P=!0):P=!1}P||La(n)}if(D=n.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return Ff(D)?n.lanes=32:n.lanes=536870912,null;Er(n)}return D=c.children,c=c.fallback,p?(Qr(),p=n.mode,D=lu({mode:"hidden",children:D},p),c=Ia(c,p,a,null),D.return=n,c.return=n,D.sibling=c,n.child=D,p=n.child,p.memoizedState=tf(a),p.childLanes=nf(e,O,a),n.memoizedState=ef,c):(Kr(n),rf(n,D))}if(P=e.memoizedState,P!==null&&(D=P.dehydrated,D!==null)){if(E)n.flags&256?(Kr(n),n.flags&=-257,n=af(e,n,a)):n.memoizedState!==null?(Qr(),n.child=e.child,n.flags|=128,n=null):(Qr(),p=c.fallback,D=n.mode,c=lu({mode:"visible",children:c.children},D),p=Ia(p,D,a,null),p.flags|=2,c.return=n,p.return=n,c.sibling=p,n.child=c,Os(n,e.child,null,a),c=n.child,c.memoizedState=tf(a),c.childLanes=nf(e,O,a),n.memoizedState=ef,n=p);else if(Kr(n),Ff(D)){if(O=D.nextSibling&&D.nextSibling.dataset,O)var J=O.dgst;O=J,c=Error(d(419)),c.stack="",c.digest=O,bl({value:c,source:null,stack:null}),n=af(e,n,a)}else if(Sn||Al(e,n,a,!1),O=(a&e.childLanes)!==0,Sn||O){if(O=Lt,O!==null&&(c=a&-a,c=(c&42)!==0?1:Ea(c),c=(c&(O.suspendedLanes|a))!==0?0:c,c!==0&&c!==P.retryLane))throw P.retryLane=c,ps(e,c),di(O,e,c),sh;D.data==="$?"||Af(),n=af(e,n,a)}else D.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=P.treeContext,Jt=Di(D.nextSibling),Wn=n,xt=!0,Ba=null,er=!1,e!==null&&(Ei[vi++]=mr,Ei[vi++]=xr,Ei[vi++]=Da,mr=e.id,xr=e.overflow,Da=n),n=rf(n,c.children),n.flags|=4096);return n}return p?(Qr(),p=c.fallback,D=n.mode,P=e.child,J=P.sibling,c=gr(P,{mode:"hidden",children:c.children}),c.subtreeFlags=P.subtreeFlags&65011712,J!==null?p=gr(J,p):(p=Ia(p,D,a,null),p.flags|=2),p.return=n,c.return=n,c.sibling=p,n.child=c,c=p,p=n.child,D=e.child.memoizedState,D===null?D=tf(a):(P=D.cachePool,P!==null?(J=En._currentValue,P=P.parent!==J?{parent:J,pool:J}:P):P=t1(),D={baseLanes:D.baseLanes|a,cachePool:P}),p.memoizedState=D,p.childLanes=nf(e,O,a),n.memoizedState=ef,c):(Kr(n),a=e.child,e=a.sibling,a=gr(a,{mode:"visible",children:c.children}),a.return=n,a.sibling=null,e!==null&&(O=n.deletions,O===null?(n.deletions=[e],n.flags|=16):O.push(e)),n.child=a,n.memoizedState=null,a)}function rf(e,n){return n=lu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function lu(e,n){return e=oi(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function af(e,n,a){return Os(n,e.child,null,a),e=rf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function xh(e,n,a){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),bc(e.return,n,a)}function sf(e,n,a,c,p){var E=e.memoizedState;E===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:p}:(E.isBackwards=n,E.rendering=null,E.renderingStartTime=0,E.last=c,E.tail=a,E.tailMode=p)}function ph(e,n,a){var c=n.pendingProps,p=c.revealOrder,E=c.tail;if(Ln(e,n,c.children,a),c=vn.current,(c&2)!==0)c=c&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xh(e,a,n);else if(e.tag===19)xh(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}switch(Ae(vn,c),p){case"forwards":for(a=n.child,p=null;a!==null;)e=a.alternate,e!==null&&iu(e)===null&&(p=a),a=a.sibling;a=p,a===null?(p=n.child,n.child=null):(p=a.sibling,a.sibling=null),sf(n,!1,p,a,E);break;case"backwards":for(a=null,p=n.child,n.child=null;p!==null;){if(e=p.alternate,e!==null&&iu(e)===null){n.child=p;break}e=p.sibling,p.sibling=a,a=p,p=e}sf(n,!0,a,null,E);break;case"together":sf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function vr(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),na|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Al(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(d(153));if(n.child!==null){for(e=n.child,a=gr(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=gr(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function lf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&zo(e)))}function om(e,n,a){switch(n.tag){case 3:Xe(n,n.stateNode.containerInfo),Xr(n,En,e.memoizedState.cache),vl();break;case 27:case 5:sr(n);break;case 4:Xe(n,n.stateNode.containerInfo);break;case 10:Xr(n,n.type,n.memoizedProps.value);break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(Kr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?mh(e,n,a):(Kr(n),e=vr(e,n,a),e!==null?e.sibling:null);Kr(n);break;case 19:var p=(e.flags&128)!==0;if(c=(a&n.childLanes)!==0,c||(Al(e,n,a,!1),c=(a&n.childLanes)!==0),p){if(c)return ph(e,n,a);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ae(vn,vn.current),c)break;return null;case 22:case 23:return n.lanes=0,ch(e,n,a);case 24:Xr(n,En,e.memoizedState.cache)}return vr(e,n,a)}function wh(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Sn=!0;else{if(!lf(e,a)&&(n.flags&128)===0)return Sn=!1,om(e,n,a);Sn=(e.flags&131072)!==0}else Sn=!1,xt&&(n.flags&1048576)!==0&&W0(n,Fo,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var c=n.elementType,p=c._init;if(c=p(c._payload),n.type=c,typeof c=="function")mc(c)?(e=Fa(c,e),n.tag=1,n=dh(null,n,c,e,a)):(n.tag=0,n=$c(null,n,c,e,a));else{if(c!=null){if(p=c.$$typeof,p===le){n.tag=11,n=lh(null,n,c,e,a);break e}else if(p===ae){n.tag=14,n=oh(null,n,c,e,a);break e}}throw n=ft(c)||c,Error(d(306,n,""))}}return n;case 0:return $c(e,n,n.type,n.pendingProps,a);case 1:return c=n.type,p=Fa(c,n.pendingProps),dh(e,n,c,p,a);case 3:e:{if(Xe(n,n.stateNode.containerInfo),e===null)throw Error(d(387));c=n.pendingProps;var E=n.memoizedState;p=E.element,Rc(e,n),Nl(n,c,null,a);var O=n.memoizedState;if(c=O.cache,Xr(n,En,c),c!==E.cache&&Ac(n,[En],a,!0),Rl(),c=O.element,E.isDehydrated)if(E={element:c,isDehydrated:!1,cache:O.cache},n.updateQueue.baseState=E,n.memoizedState=E,n.flags&256){n=gh(e,n,c,a);break e}else if(c!==p){p=wi(Error(d(424)),n),bl(p),n=gh(e,n,c,a);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Jt=Di(e.firstChild),Wn=n,xt=!0,Ba=null,er=!0,a=K1(n,null,c,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(vl(),c===p){n=vr(e,n,a);break e}Ln(e,n,c,a)}n=n.child}return n;case 26:return su(e,n),e===null?(a=bd(n.type,null,n.pendingProps,null))?n.memoizedState=a:xt||(a=n.type,e=n.pendingProps,c=vu(ye.current).createElement(a),c[An]=n,c[Zt]=e,Pn(c,a,e),Et(c),n.stateNode=c):n.memoizedState=bd(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return sr(n),e===null&&xt&&(c=n.stateNode=yd(n.type,n.pendingProps,ye.current),Wn=n,er=!0,p=Jt,sa(n.type)?(zf=p,Jt=Di(c.firstChild)):Jt=p),Ln(e,n,n.pendingProps.children,a),su(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&xt&&((p=c=Jt)&&(c=km(c,n.type,n.pendingProps,er),c!==null?(n.stateNode=c,Wn=n,Jt=Di(c.firstChild),er=!1,p=!0):p=!1),p||La(n)),sr(n),p=n.type,E=n.pendingProps,O=e!==null?e.memoizedProps:null,c=E.children,Pf(p,E)?c=null:O!==null&&Pf(p,O)&&(n.flags|=32),n.memoizedState!==null&&(p=Lc(e,n,em,null,null,a),Jl._currentValue=p),su(e,n),Ln(e,n,c,a),n.child;case 6:return e===null&&xt&&((e=a=Jt)&&(a=Pm(a,n.pendingProps,er),a!==null?(n.stateNode=a,Wn=n,Jt=null,e=!0):e=!1),e||La(n)),null;case 13:return mh(e,n,a);case 4:return Xe(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=Os(n,null,c,a):Ln(e,n,c,a),n.child;case 11:return lh(e,n,n.type,n.pendingProps,a);case 7:return Ln(e,n,n.pendingProps,a),n.child;case 8:return Ln(e,n,n.pendingProps.children,a),n.child;case 12:return Ln(e,n,n.pendingProps.children,a),n.child;case 10:return c=n.pendingProps,Xr(n,n.type,c.value),Ln(e,n,c.children,a),n.child;case 9:return p=n.type._context,c=n.pendingProps.children,Pa(n),p=Vn(p),c=c(p),n.flags|=1,Ln(e,n,c,a),n.child;case 14:return oh(e,n,n.type,n.pendingProps,a);case 15:return uh(e,n,n.type,n.pendingProps,a);case 19:return ph(e,n,a);case 31:return c=n.pendingProps,a=n.mode,c={mode:c.mode,children:c.children},e===null?(a=lu(c,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=gr(e.child,c),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return ch(e,n,a);case 24:return Pa(n),c=Vn(En),e===null?(p=Sc(),p===null&&(p=Lt,E=Cc(),p.pooledCache=E,E.refCount++,E!==null&&(p.pooledCacheLanes|=a),p=E),n.memoizedState={parent:c,cache:p},Oc(n),Xr(n,En,p)):((e.lanes&a)!==0&&(Rc(e,n),Nl(n,null,null,a),Rl()),p=e.memoizedState,E=n.memoizedState,p.parent!==c?(p={parent:c,cache:c},n.memoizedState=p,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=p),Xr(n,En,c)):(c=E.cache,Xr(n,En,c),c!==p.cache&&Ac(n,[En],a,!0))),Ln(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(d(156,n.tag))}function br(e){e.flags|=4}function yh(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Td(n)){if(n=bi.current,n!==null&&((ht&4194048)===ht?tr!==null:(ht&62914560)!==ht&&(ht&536870912)===0||n!==tr))throw Tl=Tc,n1;e.flags|=8192}}function ou(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ul():536870912,e.lanes|=n,Ds|=n)}function Pl(e,n){if(!xt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Wt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,c=0;if(n)for(var p=e.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=c,e.childLanes=a,n}function um(e,n,a){var c=n.pendingProps;switch(yc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(n),null;case 1:return Wt(n),null;case 3:return a=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),wr(En),Zn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(El(n)?br(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Q0())),Wt(n),null;case 26:return a=n.memoizedState,e===null?(br(n),a!==null?(Wt(n),yh(n,a)):(Wt(n),n.flags&=-16777217)):a?a!==e.memoizedState?(br(n),Wt(n),yh(n,a)):(Wt(n),n.flags&=-16777217):(e.memoizedProps!==c&&br(n),Wt(n),n.flags&=-16777217),null;case 27:dn(n),a=ye.current;var p=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==c&&br(n);else{if(!c){if(n.stateNode===null)throw Error(d(166));return Wt(n),null}e=Se.current,El(n)?Z0(n):(e=yd(p,c,a),n.stateNode=e,br(n))}return Wt(n),null;case 5:if(dn(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&br(n);else{if(!c){if(n.stateNode===null)throw Error(d(166));return Wt(n),null}if(e=Se.current,El(n))Z0(n);else{switch(p=vu(ye.current),e){case 1:e=p.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=p.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?e.multiple=!0:c.size&&(e.size=c.size);break;default:e=typeof c.is=="string"?p.createElement(a,{is:c.is}):p.createElement(a)}}e[An]=n,e[Zt]=c;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)e.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=e;e:switch(Pn(e,a,c),a){case"button":case"input":case"select":case"textarea":e=!!c.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&br(n)}}return Wt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&br(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(d(166));if(e=ye.current,El(n)){if(e=n.stateNode,a=n.memoizedProps,c=null,p=Wn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}e[An]=n,e=!!(e.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||hd(e.nodeValue,a)),e||La(n)}else e=vu(e).createTextNode(c),e[An]=n,n.stateNode=e}return Wt(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=El(n),c!==null&&c.dehydrated!==null){if(e===null){if(!p)throw Error(d(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(d(317));p[An]=n}else vl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),p=!1}else p=Q0(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return n.flags&256?(Er(n),n):(Er(n),null)}if(Er(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=c!==null,e=e!==null&&e.memoizedState!==null,a){c=n.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var E=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(E=c.memoizedState.cachePool.pool),E!==p&&(c.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),ou(n,n.updateQueue),Wt(n),null;case 4:return Zn(),e===null&&Df(n.stateNode.containerInfo),Wt(n),null;case 10:return wr(n.type),Wt(n),null;case 19:if(ve(vn),p=n.memoizedState,p===null)return Wt(n),null;if(c=(n.flags&128)!==0,E=p.rendering,E===null)if(c)Pl(p,!1);else{if($t!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(E=iu(e),E!==null){for(n.flags|=128,Pl(p,!1),e=E.updateQueue,n.updateQueue=e,ou(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Y0(a,e),a=a.sibling;return Ae(vn,vn.current&1|2),n.child}e=e.sibling}p.tail!==null&&_t()>fu&&(n.flags|=128,c=!0,Pl(p,!1),n.lanes=4194304)}else{if(!c)if(e=iu(E),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,ou(n,e),Pl(p,!0),p.tail===null&&p.tailMode==="hidden"&&!E.alternate&&!xt)return Wt(n),null}else 2*_t()-p.renderingStartTime>fu&&a!==536870912&&(n.flags|=128,c=!0,Pl(p,!1),n.lanes=4194304);p.isBackwards?(E.sibling=n.child,n.child=E):(e=p.last,e!==null?e.sibling=E:n.child=E,p.last=E)}return p.tail!==null?(n=p.tail,p.rendering=n,p.tail=n.sibling,p.renderingStartTime=_t(),n.sibling=null,e=vn.current,Ae(vn,c?e&1|2:e&1),n):(Wt(n),null);case 22:case 23:return Er(n),Mc(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(a&536870912)!==0&&(n.flags&128)===0&&(Wt(n),n.subtreeFlags&6&&(n.flags|=8192)):Wt(n),a=n.updateQueue,a!==null&&ou(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==a&&(n.flags|=2048),e!==null&&ve(Ua),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),wr(En),Wt(n),null;case 25:return null;case 30:return null}throw Error(d(156,n.tag))}function cm(e,n){switch(yc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return wr(En),Zn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return dn(n),null;case 13:if(Er(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(d(340));vl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ve(vn),null;case 4:return Zn(),null;case 10:return wr(n.type),null;case 22:case 23:return Er(n),Mc(),e!==null&&ve(Ua),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return wr(En),null;case 25:return null;default:return null}}function Eh(e,n){switch(yc(n),n.tag){case 3:wr(En),Zn();break;case 26:case 27:case 5:dn(n);break;case 4:Zn();break;case 13:Er(n);break;case 19:ve(vn);break;case 10:wr(n.type);break;case 22:case 23:Er(n),Mc(),e!==null&&ve(Ua);break;case 24:wr(En)}}function Ul(e,n){try{var a=n.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var p=c.next;a=p;do{if((a.tag&e)===e){c=void 0;var E=a.create,O=a.inst;c=E(),O.destroy=c}a=a.next}while(a!==p)}}catch(D){Mt(n,n.return,D)}}function Jr(e,n,a){try{var c=n.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var E=p.next;c=E;do{if((c.tag&e)===e){var O=c.inst,D=O.destroy;if(D!==void 0){O.destroy=void 0,p=n;var P=a,J=D;try{J()}catch(oe){Mt(p,P,oe)}}}c=c.next}while(c!==E)}}catch(oe){Mt(n,n.return,oe)}}function vh(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{o1(n,a)}catch(c){Mt(e,e.return,c)}}}function bh(e,n,a){a.props=Fa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(c){Mt(e,n,c)}}function jl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof a=="function"?e.refCleanup=a(c):a.current=c}}catch(p){Mt(e,n,p)}}function nr(e,n){var a=e.ref,c=e.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(p){Mt(e,n,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){Mt(e,n,p)}else a.current=null}function Ah(e){var n=e.type,a=e.memoizedProps,c=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(p){Mt(e,e.return,p)}}function of(e,n,a){try{var c=e.stateNode;Im(c,e.type,a,n),c[Zt]=n}catch(p){Mt(e,e.return,p)}}function Ch(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&sa(e.type)||e.tag===4}function uf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ch(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&sa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cf(e,n,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Eu));else if(c!==4&&(c===27&&sa(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(cf(e,n,a),e=e.sibling;e!==null;)cf(e,n,a),e=e.sibling}function uu(e,n,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(c!==4&&(c===27&&sa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(uu(e,n,a),e=e.sibling;e!==null;)uu(e,n,a),e=e.sibling}function _h(e){var n=e.stateNode,a=e.memoizedProps;try{for(var c=e.type,p=n.attributes;p.length;)n.removeAttributeNode(p[0]);Pn(n,c,a),n[An]=e,n[Zt]=a}catch(E){Mt(e,e.return,E)}}var Ar=!1,on=!1,ff=!1,Sh=typeof WeakSet=="function"?WeakSet:Set,Tn=null;function fm(e,n){if(e=e.containerInfo,Lf=Tu,e=v(e),S(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var p=c.anchorOffset,E=c.focusNode;c=c.focusOffset;try{a.nodeType,E.nodeType}catch{a=null;break e}var O=0,D=-1,P=-1,J=0,oe=0,he=e,$=null;t:for(;;){for(var ne;he!==a||p!==0&&he.nodeType!==3||(D=O+p),he!==E||c!==0&&he.nodeType!==3||(P=O+c),he.nodeType===3&&(O+=he.nodeValue.length),(ne=he.firstChild)!==null;)$=he,he=ne;for(;;){if(he===e)break t;if($===a&&++J===p&&(D=O),$===E&&++oe===c&&(P=O),(ne=he.nextSibling)!==null)break;he=$,$=he.parentNode}he=ne}a=D===-1||P===-1?null:{start:D,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(kf={focusedElem:e,selectionRange:a},Tu=!1,Tn=n;Tn!==null;)if(n=Tn,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Tn=e;else for(;Tn!==null;){switch(n=Tn,E=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&E!==null){e=void 0,a=n,p=E.memoizedProps,E=E.memoizedState,c=a.stateNode;try{var Fe=Fa(a.type,p,a.elementType===a.type);e=c.getSnapshotBeforeUpdate(Fe,E),c.__reactInternalSnapshotBeforeUpdate=e}catch(Ue){Mt(a,a.return,Ue)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)jf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=n.sibling,e!==null){e.return=n.return,Tn=e;break}Tn=n.return}}function Th(e,n,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:$r(e,a),c&4&&Ul(5,a);break;case 1:if($r(e,a),c&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(O){Mt(a,a.return,O)}else{var p=Fa(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(p,n,e.__reactInternalSnapshotBeforeUpdate)}catch(O){Mt(a,a.return,O)}}c&64&&vh(a),c&512&&jl(a,a.return);break;case 3:if($r(e,a),c&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{o1(e,n)}catch(O){Mt(a,a.return,O)}}break;case 27:n===null&&c&4&&_h(a);case 26:case 5:$r(e,a),n===null&&c&4&&Ah(a),c&512&&jl(a,a.return);break;case 12:$r(e,a);break;case 13:$r(e,a),c&4&&Nh(e,a),c&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Em.bind(null,a),Um(e,a))));break;case 22:if(c=a.memoizedState!==null||Ar,!c){n=n!==null&&n.memoizedState!==null||on,p=Ar;var E=on;Ar=c,(on=n)&&!E?ea(e,a,(a.subtreeFlags&8772)!==0):$r(e,a),Ar=p,on=E}break;case 30:break;default:$r(e,a)}}function Oh(e){var n=e.alternate;n!==null&&(e.alternate=null,Oh(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&va(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Vt=null,ti=!1;function Cr(e,n,a){for(a=a.child;a!==null;)Rh(e,n,a),a=a.sibling}function Rh(e,n,a){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(Dn,a)}catch{}switch(a.tag){case 26:on||nr(a,n),Cr(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:on||nr(a,n);var c=Vt,p=ti;sa(a.type)&&(Vt=a.stateNode,ti=!1),Cr(e,n,a),Wl(a.stateNode),Vt=c,ti=p;break;case 5:on||nr(a,n);case 6:if(c=Vt,p=ti,Vt=null,Cr(e,n,a),Vt=c,ti=p,Vt!==null)if(ti)try{(Vt.nodeType===9?Vt.body:Vt.nodeName==="HTML"?Vt.ownerDocument.body:Vt).removeChild(a.stateNode)}catch(E){Mt(a,n,E)}else try{Vt.removeChild(a.stateNode)}catch(E){Mt(a,n,E)}break;case 18:Vt!==null&&(ti?(e=Vt,pd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),no(e)):pd(Vt,a.stateNode));break;case 4:c=Vt,p=ti,Vt=a.stateNode.containerInfo,ti=!0,Cr(e,n,a),Vt=c,ti=p;break;case 0:case 11:case 14:case 15:on||Jr(2,a,n),on||Jr(4,a,n),Cr(e,n,a);break;case 1:on||(nr(a,n),c=a.stateNode,typeof c.componentWillUnmount=="function"&&bh(a,n,c)),Cr(e,n,a);break;case 21:Cr(e,n,a);break;case 22:on=(c=on)||a.memoizedState!==null,Cr(e,n,a),on=c;break;default:Cr(e,n,a)}}function Nh(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{no(e)}catch(a){Mt(n,n.return,a)}}function hm(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Sh),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Sh),n;default:throw Error(d(435,e.tag))}}function hf(e,n){var a=hm(e);n.forEach(function(c){var p=vm.bind(null,e,c);a.has(c)||(a.add(c),c.then(p,p))})}function ui(e,n){var a=n.deletions;if(a!==null)for(var c=0;c<a.length;c++){var p=a[c],E=e,O=n,D=O;e:for(;D!==null;){switch(D.tag){case 27:if(sa(D.type)){Vt=D.stateNode,ti=!1;break e}break;case 5:Vt=D.stateNode,ti=!1;break e;case 3:case 4:Vt=D.stateNode.containerInfo,ti=!0;break e}D=D.return}if(Vt===null)throw Error(d(160));Rh(E,O,p),Vt=null,ti=!1,E=p.alternate,E!==null&&(E.return=null),p.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Ih(n,e),n=n.sibling}var Ii=null;function Ih(e,n){var a=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ui(n,e),ci(e),c&4&&(Jr(3,e,e.return),Ul(3,e),Jr(5,e,e.return));break;case 1:ui(n,e),ci(e),c&512&&(on||a===null||nr(a,a.return)),c&64&&Ar&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var p=Ii;if(ui(n,e),ci(e),c&512&&(on||a===null||nr(a,a.return)),c&4){var E=a!==null?a.memoizedState:null;if(c=e.memoizedState,a===null)if(c===null)if(e.stateNode===null){e:{c=e.type,a=e.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":E=p.getElementsByTagName("title")[0],(!E||E[xi]||E[An]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=p.createElement(c),p.head.insertBefore(E,p.querySelector("head > title"))),Pn(E,c,a),E[An]=e,Et(E),c=E;break e;case"link":var O=_d("link","href",p).get(c+(a.href||""));if(O){for(var D=0;D<O.length;D++)if(E=O[D],E.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&E.getAttribute("rel")===(a.rel==null?null:a.rel)&&E.getAttribute("title")===(a.title==null?null:a.title)&&E.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){O.splice(D,1);break t}}E=p.createElement(c),Pn(E,c,a),p.head.appendChild(E);break;case"meta":if(O=_d("meta","content",p).get(c+(a.content||""))){for(D=0;D<O.length;D++)if(E=O[D],E.getAttribute("content")===(a.content==null?null:""+a.content)&&E.getAttribute("name")===(a.name==null?null:a.name)&&E.getAttribute("property")===(a.property==null?null:a.property)&&E.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&E.getAttribute("charset")===(a.charSet==null?null:a.charSet)){O.splice(D,1);break t}}E=p.createElement(c),Pn(E,c,a),p.head.appendChild(E);break;default:throw Error(d(468,c))}E[An]=e,Et(E),c=E}e.stateNode=c}else Sd(p,e.type,e.stateNode);else e.stateNode=Cd(p,c,e.memoizedProps);else E!==c?(E===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):E.count--,c===null?Sd(p,e.type,e.stateNode):Cd(p,c,e.memoizedProps)):c===null&&e.stateNode!==null&&of(e,e.memoizedProps,a.memoizedProps)}break;case 27:ui(n,e),ci(e),c&512&&(on||a===null||nr(a,a.return)),a!==null&&c&4&&of(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ui(n,e),ci(e),c&512&&(on||a===null||nr(a,a.return)),e.flags&32){p=e.stateNode;try{pn(p,"")}catch(ne){Mt(e,e.return,ne)}}c&4&&e.stateNode!=null&&(p=e.memoizedProps,of(e,p,a!==null?a.memoizedProps:p)),c&1024&&(ff=!0);break;case 6:if(ui(n,e),ci(e),c&4){if(e.stateNode===null)throw Error(d(162));c=e.memoizedProps,a=e.stateNode;try{a.nodeValue=c}catch(ne){Mt(e,e.return,ne)}}break;case 3:if(Cu=null,p=Ii,Ii=bu(n.containerInfo),ui(n,e),Ii=p,ci(e),c&4&&a!==null&&a.memoizedState.isDehydrated)try{no(n.containerInfo)}catch(ne){Mt(e,e.return,ne)}ff&&(ff=!1,Dh(e));break;case 4:c=Ii,Ii=bu(e.stateNode.containerInfo),ui(n,e),ci(e),Ii=c;break;case 12:ui(n,e),ci(e);break;case 13:ui(n,e),ci(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wf=_t()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,hf(e,c)));break;case 22:p=e.memoizedState!==null;var P=a!==null&&a.memoizedState!==null,J=Ar,oe=on;if(Ar=J||p,on=oe||P,ui(n,e),on=oe,Ar=J,ci(e),c&8192)e:for(n=e.stateNode,n._visibility=p?n._visibility&-2:n._visibility|1,p&&(a===null||P||Ar||on||za(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){P=a=n;try{if(E=P.stateNode,p)O=E.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{D=P.stateNode;var he=P.memoizedProps.style,$=he!=null&&he.hasOwnProperty("display")?he.display:null;D.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(ne){Mt(P,P.return,ne)}}}else if(n.tag===6){if(a===null){P=n;try{P.stateNode.nodeValue=p?"":P.memoizedProps}catch(ne){Mt(P,P.return,ne)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,hf(e,a))));break;case 19:ui(n,e),ci(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,hf(e,c)));break;case 30:break;case 21:break;default:ui(n,e),ci(e)}}function ci(e){var n=e.flags;if(n&2){try{for(var a,c=e.return;c!==null;){if(Ch(c)){a=c;break}c=c.return}if(a==null)throw Error(d(160));switch(a.tag){case 27:var p=a.stateNode,E=uf(e);uu(e,E,p);break;case 5:var O=a.stateNode;a.flags&32&&(pn(O,""),a.flags&=-33);var D=uf(e);uu(e,D,O);break;case 3:case 4:var P=a.stateNode.containerInfo,J=uf(e);cf(e,J,P);break;default:throw Error(d(161))}}catch(oe){Mt(e,e.return,oe)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Dh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Dh(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function $r(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Th(e,n.alternate,n),n=n.sibling}function za(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Jr(4,n,n.return),za(n);break;case 1:nr(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&bh(n,n.return,a),za(n);break;case 27:Wl(n.stateNode);case 26:case 5:nr(n,n.return),za(n);break;case 22:n.memoizedState===null&&za(n);break;case 30:za(n);break;default:za(n)}e=e.sibling}}function ea(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,p=e,E=n,O=E.flags;switch(E.tag){case 0:case 11:case 15:ea(p,E,a),Ul(4,E);break;case 1:if(ea(p,E,a),c=E,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(J){Mt(c,c.return,J)}if(c=E,p=c.updateQueue,p!==null){var D=c.stateNode;try{var P=p.shared.hiddenCallbacks;if(P!==null)for(p.shared.hiddenCallbacks=null,p=0;p<P.length;p++)l1(P[p],D)}catch(J){Mt(c,c.return,J)}}a&&O&64&&vh(E),jl(E,E.return);break;case 27:_h(E);case 26:case 5:ea(p,E,a),a&&c===null&&O&4&&Ah(E),jl(E,E.return);break;case 12:ea(p,E,a);break;case 13:ea(p,E,a),a&&O&4&&Nh(p,E);break;case 22:E.memoizedState===null&&ea(p,E,a),jl(E,E.return);break;case 30:break;default:ea(p,E,a)}n=n.sibling}}function df(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Cl(a))}function gf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Cl(e))}function ir(e,n,a,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Mh(e,n,a,c),n=n.sibling}function Mh(e,n,a,c){var p=n.flags;switch(n.tag){case 0:case 11:case 15:ir(e,n,a,c),p&2048&&Ul(9,n);break;case 1:ir(e,n,a,c);break;case 3:ir(e,n,a,c),p&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Cl(e)));break;case 12:if(p&2048){ir(e,n,a,c),e=n.stateNode;try{var E=n.memoizedProps,O=E.id,D=E.onPostCommit;typeof D=="function"&&D(O,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(P){Mt(n,n.return,P)}}else ir(e,n,a,c);break;case 13:ir(e,n,a,c);break;case 23:break;case 22:E=n.stateNode,O=n.alternate,n.memoizedState!==null?E._visibility&2?ir(e,n,a,c):Fl(e,n):E._visibility&2?ir(e,n,a,c):(E._visibility|=2,Rs(e,n,a,c,(n.subtreeFlags&10256)!==0)),p&2048&&df(O,n);break;case 24:ir(e,n,a,c),p&2048&&gf(n.alternate,n);break;default:ir(e,n,a,c)}}function Rs(e,n,a,c,p){for(p=p&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var E=e,O=n,D=a,P=c,J=O.flags;switch(O.tag){case 0:case 11:case 15:Rs(E,O,D,P,p),Ul(8,O);break;case 23:break;case 22:var oe=O.stateNode;O.memoizedState!==null?oe._visibility&2?Rs(E,O,D,P,p):Fl(E,O):(oe._visibility|=2,Rs(E,O,D,P,p)),p&&J&2048&&df(O.alternate,O);break;case 24:Rs(E,O,D,P,p),p&&J&2048&&gf(O.alternate,O);break;default:Rs(E,O,D,P,p)}n=n.sibling}}function Fl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,c=n,p=c.flags;switch(c.tag){case 22:Fl(a,c),p&2048&&df(c.alternate,c);break;case 24:Fl(a,c),p&2048&&gf(c.alternate,c);break;default:Fl(a,c)}n=n.sibling}}var zl=8192;function Ns(e){if(e.subtreeFlags&zl)for(e=e.child;e!==null;)Bh(e),e=e.sibling}function Bh(e){switch(e.tag){case 26:Ns(e),e.flags&zl&&e.memoizedState!==null&&Qm(Ii,e.memoizedState,e.memoizedProps);break;case 5:Ns(e);break;case 3:case 4:var n=Ii;Ii=bu(e.stateNode.containerInfo),Ns(e),Ii=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=zl,zl=16777216,Ns(e),zl=n):Ns(e));break;default:Ns(e)}}function Lh(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Hl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var c=n[a];Tn=c,Ph(c,e)}Lh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)kh(e),e=e.sibling}function kh(e){switch(e.tag){case 0:case 11:case 15:Hl(e),e.flags&2048&&Jr(9,e,e.return);break;case 3:Hl(e);break;case 12:Hl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,cu(e)):Hl(e);break;default:Hl(e)}}function cu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var c=n[a];Tn=c,Ph(c,e)}Lh(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Jr(8,n,n.return),cu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,cu(n));break;default:cu(n)}e=e.sibling}}function Ph(e,n){for(;Tn!==null;){var a=Tn;switch(a.tag){case 0:case 11:case 15:Jr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Cl(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,Tn=c;else e:for(a=e;Tn!==null;){c=Tn;var p=c.sibling,E=c.return;if(Oh(c),c===a){Tn=null;break e}if(p!==null){p.return=E,Tn=p;break e}Tn=E}}}var dm={getCacheForType:function(e){var n=Vn(En),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},gm=typeof WeakMap=="function"?WeakMap:Map,At=0,Lt=null,tt=null,ht=0,Ct=0,fi=null,ta=!1,Is=!1,mf=!1,_r=0,$t=0,na=0,Ha=0,xf=0,Ai=0,Ds=0,Gl=null,ni=null,pf=!1,wf=0,fu=1/0,hu=null,ia=null,kn=0,ra=null,Ms=null,Bs=0,yf=0,Ef=null,Uh=null,Vl=0,vf=null;function hi(){if((At&2)!==0&&ht!==0)return ht&-ht;if(re.T!==null){var e=vs;return e!==0?e:Of()}return lr()}function jh(){Ai===0&&(Ai=(ht&536870912)===0||xt?ns():536870912);var e=bi.current;return e!==null&&(e.flags|=32),Ai}function di(e,n,a){(e===Lt&&(Ct===2||Ct===9)||e.cancelPendingCommit!==null)&&(Ls(e,0),aa(e,ht,Ai,!1)),ri(e,a),((At&2)===0||e!==Lt)&&(e===Lt&&((At&2)===0&&(Ha|=a),$t===4&&aa(e,ht,Ai,!1)),rr(e))}function Fh(e,n,a){if((At&6)!==0)throw Error(d(327));var c=!a&&(n&124)===0&&(n&e.expiredLanes)===0||Tt(e,n),p=c?pm(e,n):Cf(e,n,!0),E=c;do{if(p===0){Is&&!c&&aa(e,n,0,!1);break}else{if(a=e.current.alternate,E&&!mm(a)){p=Cf(e,n,!1),E=!1;continue}if(p===2){if(E=n,e.errorRecoveryDisabledLanes&E)var O=0;else O=e.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){n=O;e:{var D=e;p=Gl;var P=D.current.memoizedState.isDehydrated;if(P&&(Ls(D,O).flags|=256),O=Cf(D,O,!1),O!==2){if(mf&&!P){D.errorRecoveryDisabledLanes|=E,Ha|=E,p=4;break e}E=ni,ni=p,E!==null&&(ni===null?ni=E:ni.push.apply(ni,E))}p=O}if(E=!1,p!==2)continue}}if(p===1){Ls(e,0),aa(e,n,0,!0);break}e:{switch(c=e,E=p,E){case 0:case 1:throw Error(d(345));case 4:if((n&4194048)!==n)break;case 6:aa(c,n,Ai,!ta);break e;case 2:ni=null;break;case 3:case 5:break;default:throw Error(d(329))}if((n&62914560)===n&&(p=wf+300-_t(),10<p)){if(aa(c,n,Ai,!ta),dt(c,0,!0)!==0)break e;c.timeoutHandle=md(zh.bind(null,c,a,ni,hu,pf,n,Ai,Ha,Ds,ta,E,2,-0,0),p);break e}zh(c,a,ni,hu,pf,n,Ai,Ha,Ds,ta,E,0,-0,0)}}break}while(!0);rr(e)}function zh(e,n,a,c,p,E,O,D,P,J,oe,he,$,ne){if(e.timeoutHandle=-1,he=n.subtreeFlags,(he&8192||(he&16785408)===16785408)&&(Ql={stylesheets:null,count:0,unsuspend:Km},Bh(n),he=Jm(),he!==null)){e.cancelPendingCommit=he(Wh.bind(null,e,n,E,a,c,p,O,D,P,oe,1,$,ne)),aa(e,E,O,!J);return}Wh(e,n,E,a,c,p,O,D,P)}function mm(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var p=a[c],E=p.getSnapshot;p=p.value;try{if(!l(E(),p))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function aa(e,n,a,c){n&=~xf,n&=~Ha,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var p=n;0<p;){var E=31-yt(p),O=1<<E;c[E]=-1,p&=~O}a!==0&&cl(e,a,n)}function du(){return(At&6)===0?(Xl(0),!1):!0}function bf(){if(tt!==null){if(Ct===0)var e=tt.return;else e=tt,pr=ka=null,Uc(e),Ts=null,Ll=0,e=tt;for(;e!==null;)Eh(e.alternate,e),e=e.return;tt=null}}function Ls(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Mm(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),bf(),Lt=e,tt=a=gr(e.current,null),ht=n,Ct=0,fi=null,ta=!1,Is=Tt(e,n),mf=!1,Ds=Ai=xf=Ha=na=$t=0,ni=Gl=null,pf=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var p=31-yt(c),E=1<<p;n|=e[p],c&=~E}return _r=n,Lo(),a}function Hh(e,n){Je=null,re.H=eu,n===Sl||n===Vo?(n=a1(),Ct=3):n===n1?(n=a1(),Ct=4):Ct=n===sh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,fi=n,tt===null&&($t=1,au(e,wi(n,e.current)))}function Gh(){var e=re.H;return re.H=eu,e===null?eu:e}function Vh(){var e=re.A;return re.A=dm,e}function Af(){$t=4,ta||(ht&4194048)!==ht&&bi.current!==null||(Is=!0),(na&134217727)===0&&(Ha&134217727)===0||Lt===null||aa(Lt,ht,Ai,!1)}function Cf(e,n,a){var c=At;At|=2;var p=Gh(),E=Vh();(Lt!==e||ht!==n)&&(hu=null,Ls(e,n)),n=!1;var O=$t;e:do try{if(Ct!==0&&tt!==null){var D=tt,P=fi;switch(Ct){case 8:bf(),O=6;break e;case 3:case 2:case 9:case 6:bi.current===null&&(n=!0);var J=Ct;if(Ct=0,fi=null,ks(e,D,P,J),a&&Is){O=0;break e}break;default:J=Ct,Ct=0,fi=null,ks(e,D,P,J)}}xm(),O=$t;break}catch(oe){Hh(e,oe)}while(!0);return n&&e.shellSuspendCounter++,pr=ka=null,At=c,re.H=p,re.A=E,tt===null&&(Lt=null,ht=0,Lo()),O}function xm(){for(;tt!==null;)Xh(tt)}function pm(e,n){var a=At;At|=2;var c=Gh(),p=Vh();Lt!==e||ht!==n?(hu=null,fu=_t()+500,Ls(e,n)):Is=Tt(e,n);e:do try{if(Ct!==0&&tt!==null){n=tt;var E=fi;t:switch(Ct){case 1:Ct=0,fi=null,ks(e,n,E,1);break;case 2:case 9:if(i1(E)){Ct=0,fi=null,qh(n);break}n=function(){Ct!==2&&Ct!==9||Lt!==e||(Ct=7),rr(e)},E.then(n,n);break e;case 3:Ct=7;break e;case 4:Ct=5;break e;case 7:i1(E)?(Ct=0,fi=null,qh(n)):(Ct=0,fi=null,ks(e,n,E,7));break;case 5:var O=null;switch(tt.tag){case 26:O=tt.memoizedState;case 5:case 27:var D=tt;if(!O||Td(O)){Ct=0,fi=null;var P=D.sibling;if(P!==null)tt=P;else{var J=D.return;J!==null?(tt=J,gu(J)):tt=null}break t}}Ct=0,fi=null,ks(e,n,E,5);break;case 6:Ct=0,fi=null,ks(e,n,E,6);break;case 8:bf(),$t=6;break e;default:throw Error(d(462))}}wm();break}catch(oe){Hh(e,oe)}while(!0);return pr=ka=null,re.H=c,re.A=p,At=a,tt!==null?0:(Lt=null,ht=0,Lo(),$t)}function wm(){for(;tt!==null&&!mi();)Xh(tt)}function Xh(e){var n=wh(e.alternate,e,_r);e.memoizedProps=e.pendingProps,n===null?gu(e):tt=n}function qh(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=hh(a,n,n.pendingProps,n.type,void 0,ht);break;case 11:n=hh(a,n,n.pendingProps,n.type.render,n.ref,ht);break;case 5:Uc(n);default:Eh(a,n),n=tt=Y0(n,_r),n=wh(a,n,_r)}e.memoizedProps=e.pendingProps,n===null?gu(e):tt=n}function ks(e,n,a,c){pr=ka=null,Uc(n),Ts=null,Ll=0;var p=n.return;try{if(lm(e,p,n,a,ht)){$t=1,au(e,wi(a,e.current)),tt=null;return}}catch(E){if(p!==null)throw tt=p,E;$t=1,au(e,wi(a,e.current)),tt=null;return}n.flags&32768?(xt||c===1?e=!0:Is||(ht&536870912)!==0?e=!1:(ta=e=!0,(c===2||c===9||c===3||c===6)&&(c=bi.current,c!==null&&c.tag===13&&(c.flags|=16384))),Yh(n,e)):gu(n)}function gu(e){var n=e;do{if((n.flags&32768)!==0){Yh(n,ta);return}e=n.return;var a=um(n.alternate,n,_r);if(a!==null){tt=a;return}if(n=n.sibling,n!==null){tt=n;return}tt=n=e}while(n!==null);$t===0&&($t=5)}function Yh(e,n){do{var a=cm(e.alternate,e);if(a!==null){a.flags&=32767,tt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){tt=e;return}tt=e=a}while(e!==null);$t=6,tt=null}function Wh(e,n,a,c,p,E,O,D,P){e.cancelPendingCommit=null;do mu();while(kn!==0);if((At&6)!==0)throw Error(d(327));if(n!==null){if(n===e.current)throw Error(d(177));if(E=n.lanes|n.childLanes,E|=dc,Co(e,a,E,O,D,P),e===Lt&&(tt=Lt=null,ht=0),Ms=n,ra=e,Bs=a,yf=E,Ef=p,Uh=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,bm(Oe,function(){return $h(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=re.T,re.T=null,p=ue.p,ue.p=2,O=At,At|=4;try{fm(e,n,a)}finally{At=O,ue.p=p,re.T=c}}kn=1,Zh(),Kh(),Qh()}}function Zh(){if(kn===1){kn=0;var e=ra,n=Ms,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=re.T,re.T=null;var c=ue.p;ue.p=2;var p=At;At|=4;try{Ih(n,e);var E=kf,O=v(e.containerInfo),D=E.focusedElem,P=E.selectionRange;if(O!==D&&D&&D.ownerDocument&&w(D.ownerDocument.documentElement,D)){if(P!==null&&S(D)){var J=P.start,oe=P.end;if(oe===void 0&&(oe=J),"selectionStart"in D)D.selectionStart=J,D.selectionEnd=Math.min(oe,D.value.length);else{var he=D.ownerDocument||document,$=he&&he.defaultView||window;if($.getSelection){var ne=$.getSelection(),Fe=D.textContent.length,Ue=Math.min(P.start,Fe),Nt=P.end===void 0?Ue:Math.min(P.end,Fe);!ne.extend&&Ue>Nt&&(O=Nt,Nt=Ue,Ue=O);var X=g(D,Ue),G=g(D,Nt);if(X&&G&&(ne.rangeCount!==1||ne.anchorNode!==X.node||ne.anchorOffset!==X.offset||ne.focusNode!==G.node||ne.focusOffset!==G.offset)){var Q=he.createRange();Q.setStart(X.node,X.offset),ne.removeAllRanges(),Ue>Nt?(ne.addRange(Q),ne.extend(G.node,G.offset)):(Q.setEnd(G.node,G.offset),ne.addRange(Q))}}}}for(he=[],ne=D;ne=ne.parentNode;)ne.nodeType===1&&he.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<he.length;D++){var fe=he[D];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}Tu=!!Lf,kf=Lf=null}finally{At=p,ue.p=c,re.T=a}}e.current=n,kn=2}}function Kh(){if(kn===2){kn=0;var e=ra,n=Ms,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=re.T,re.T=null;var c=ue.p;ue.p=2;var p=At;At|=4;try{Th(e,n.alternate,n)}finally{At=p,ue.p=c,re.T=a}}kn=3}}function Qh(){if(kn===4||kn===3){kn=0,pa();var e=ra,n=Ms,a=Bs,c=Uh;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?kn=5:(kn=0,Ms=ra=null,Jh(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(ia=null),un(a),n=n.stateNode,Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(Dn,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=re.T,p=ue.p,ue.p=2,re.T=null;try{for(var E=e.onRecoverableError,O=0;O<c.length;O++){var D=c[O];E(D.value,{componentStack:D.stack})}}finally{re.T=n,ue.p=p}}(Bs&3)!==0&&mu(),rr(e),p=e.pendingLanes,(a&4194090)!==0&&(p&42)!==0?e===vf?Vl++:(Vl=0,vf=e):Vl=0,Xl(0)}}function Jh(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Cl(n)))}function mu(e){return Zh(),Kh(),Qh(),$h()}function $h(){if(kn!==5)return!1;var e=ra,n=yf;yf=0;var a=un(Bs),c=re.T,p=ue.p;try{ue.p=32>a?32:a,re.T=null,a=Ef,Ef=null;var E=ra,O=Bs;if(kn=0,Ms=ra=null,Bs=0,(At&6)!==0)throw Error(d(331));var D=At;if(At|=4,kh(E.current),Mh(E,E.current,O,a),At=D,Xl(0,!1),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(Dn,E)}catch{}return!0}finally{ue.p=p,re.T=c,Jh(e,n)}}function ed(e,n,a){n=wi(a,n),n=Jc(e.stateNode,n,2),e=Wr(e,n,2),e!==null&&(ri(e,2),rr(e))}function Mt(e,n,a){if(e.tag===3)ed(e,e,a);else for(;n!==null;){if(n.tag===3){ed(n,e,a);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ia===null||!ia.has(c))){e=wi(a,e),a=rh(2),c=Wr(n,a,2),c!==null&&(ah(a,c,n,e),ri(c,2),rr(c));break}}n=n.return}}function _f(e,n,a){var c=e.pingCache;if(c===null){c=e.pingCache=new gm;var p=new Set;c.set(n,p)}else p=c.get(n),p===void 0&&(p=new Set,c.set(n,p));p.has(a)||(mf=!0,p.add(a),e=ym.bind(null,e,n,a),n.then(e,e))}function ym(e,n,a){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Lt===e&&(ht&a)===a&&($t===4||$t===3&&(ht&62914560)===ht&&300>_t()-wf?(At&2)===0&&Ls(e,0):xf|=a,Ds===ht&&(Ds=0)),rr(e)}function td(e,n){n===0&&(n=ul()),e=ps(e,n),e!==null&&(ri(e,n),rr(e))}function Em(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),td(e,a)}function vm(e,n){var a=0;switch(e.tag){case 13:var c=e.stateNode,p=e.memoizedState;p!==null&&(a=p.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(d(314))}c!==null&&c.delete(n),td(e,a)}function bm(e,n){return ot(e,n)}var xu=null,Ps=null,Sf=!1,pu=!1,Tf=!1,Ga=0;function rr(e){e!==Ps&&e.next===null&&(Ps===null?xu=Ps=e:Ps=Ps.next=e),pu=!0,Sf||(Sf=!0,Cm())}function Xl(e,n){if(!Tf&&pu){Tf=!0;do for(var a=!1,c=xu;c!==null;){if(e!==0){var p=c.pendingLanes;if(p===0)var E=0;else{var O=c.suspendedLanes,D=c.pingedLanes;E=(1<<31-yt(42|e)+1)-1,E&=p&~(O&~D),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(a=!0,ad(c,E))}else E=ht,E=dt(c,c===Lt?E:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(E&3)===0||Tt(c,E)||(a=!0,ad(c,E));c=c.next}while(a);Tf=!1}}function Am(){nd()}function nd(){pu=Sf=!1;var e=0;Ga!==0&&(Dm()&&(e=Ga),Ga=0);for(var n=_t(),a=null,c=xu;c!==null;){var p=c.next,E=id(c,n);E===0?(c.next=null,a===null?xu=p:a.next=p,p===null&&(Ps=a)):(a=c,(e!==0||(E&3)!==0)&&(pu=!0)),c=p}Xl(e)}function id(e,n){for(var a=e.suspendedLanes,c=e.pingedLanes,p=e.expirationTimes,E=e.pendingLanes&-62914561;0<E;){var O=31-yt(E),D=1<<O,P=p[O];P===-1?((D&a)===0||(D&c)!==0)&&(p[O]=ya(D,n)):P<=n&&(e.expiredLanes|=D),E&=~D}if(n=Lt,a=ht,a=dt(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,a===0||e===n&&(Ct===2||Ct===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Fi(c),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Tt(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(c!==null&&Fi(c),un(a)){case 2:case 8:a=wa;break;case 32:a=Oe;break;case 268435456:a=ll;break;default:a=Oe}return c=rd.bind(null,e),a=ot(a,c),e.callbackPriority=n,e.callbackNode=a,n}return c!==null&&c!==null&&Fi(c),e.callbackPriority=2,e.callbackNode=null,2}function rd(e,n){if(kn!==0&&kn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(mu()&&e.callbackNode!==a)return null;var c=ht;return c=dt(e,e===Lt?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Fh(e,c,n),id(e,_t()),e.callbackNode!=null&&e.callbackNode===a?rd.bind(null,e):null)}function ad(e,n){if(mu())return null;Fh(e,n,!0)}function Cm(){Bm(function(){(At&6)!==0?ot(st,Am):nd()})}function Of(){return Ga===0&&(Ga=ns()),Ga}function sd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:os(""+e)}function ld(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function _m(e,n,a,c,p){if(n==="submit"&&a&&a.stateNode===p){var E=sd((p[Zt]||null).action),O=c.submitter;O&&(n=(n=O[Zt]||null)?sd(n.formAction):O.getAttribute("formAction"),n!==null&&(E=n,O=null));var D=new Ki("action","action",null,c,p);e.push({event:D,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ga!==0){var P=O?ld(p,O):new FormData(p);Yc(a,{pending:!0,data:P,method:p.method,action:E},null,P)}}else typeof E=="function"&&(D.preventDefault(),P=O?ld(p,O):new FormData(p),Yc(a,{pending:!0,data:P,method:p.method,action:E},E,P))},currentTarget:p}]})}}for(var Rf=0;Rf<$i.length;Rf++){var Nf=$i[Rf],Sm=Nf.toLowerCase(),Tm=Nf[0].toUpperCase()+Nf.slice(1);li(Sm,"on"+Tm)}li(ze,"onAnimationEnd"),li(Bn,"onAnimationIteration"),li($n,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(Hn,"onTransitionRun"),li(bt,"onTransitionStart"),li(yn,"onTransitionCancel"),li(Gn,"onTransitionEnd"),Kt("onMouseEnter",["mouseout","mouseover"]),Kt("onMouseLeave",["mouseout","mouseover"]),Kt("onPointerEnter",["pointerout","pointerover"]),Kt("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Om=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function od(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var c=e[a],p=c.event;c=c.listeners;e:{var E=void 0;if(n)for(var O=c.length-1;0<=O;O--){var D=c[O],P=D.instance,J=D.currentTarget;if(D=D.listener,P!==E&&p.isPropagationStopped())break e;E=D,p.currentTarget=J;try{E(p)}catch(oe){ru(oe)}p.currentTarget=null,E=P}else for(O=0;O<c.length;O++){if(D=c[O],P=D.instance,J=D.currentTarget,D=D.listener,P!==E&&p.isPropagationStopped())break e;E=D,p.currentTarget=J;try{E(p)}catch(oe){ru(oe)}p.currentTarget=null,E=P}}}}function nt(e,n){var a=n[Cn];a===void 0&&(a=n[Cn]=new Set);var c=e+"__bubble";a.has(c)||(ud(n,e,2,!1),a.add(c))}function If(e,n,a){var c=0;n&&(c|=4),ud(a,e,c,n)}var wu="_reactListening"+Math.random().toString(36).slice(2);function Df(e){if(!e[wu]){e[wu]=!0,_o.forEach(function(a){a!=="selectionchange"&&(Om.has(a)||If(a,!1,e),If(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[wu]||(n[wu]=!0,If("selectionchange",!1,n))}}function ud(e,n,a,c){switch(Md(n)){case 2:var p=tx;break;case 8:p=nx;break;default:p=qf}a=p.bind(null,n,a,e),p=void 0,!He||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),c?p!==void 0?e.addEventListener(n,a,{capture:!0,passive:p}):e.addEventListener(n,a,!0):p!==void 0?e.addEventListener(n,a,{passive:p}):e.addEventListener(n,a,!1)}function Mf(e,n,a,c,p){var E=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var O=c.tag;if(O===3||O===4){var D=c.stateNode.containerInfo;if(D===p)break;if(O===4)for(O=c.return;O!==null;){var P=O.tag;if((P===3||P===4)&&O.stateNode.containerInfo===p)return;O=O.return}for(;D!==null;){if(O=nn(D),O===null)return;if(P=O.tag,P===5||P===6||P===26||P===27){c=E=O;continue e}D=D.parentNode}}c=c.return}Oi(function(){var J=E,oe=Br(a),he=[];e:{var $=dr.get(e);if($!==void 0){var ne=Ki,Fe=e;switch(e){case"keypress":if(us(a)===0)break e;case"keydown":case"keyup":ne=gl;break;case"focusin":Fe="focus",ne=Ur;break;case"focusout":Fe="blur",ne=Ur;break;case"beforeblur":case"afterblur":ne=Ur;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=wt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=vt;break;case ze:case Bn:case $n:ne=ac;break;case Gn:ne=uc;break;case"scroll":case"scrollend":ne=Fn;break;case"wheel":ne=fr;break;case"copy":case"cut":case"paste":ne=Ye;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Ta;break;case"toggle":case"beforetoggle":ne=cc}var Ue=(n&4)!==0,Nt=!Ue&&(e==="scroll"||e==="scrollend"),X=Ue?$!==null?$+"Capture":null:$;Ue=[];for(var G=J,Q;G!==null;){var fe=G;if(Q=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||Q===null||X===null||(fe=ke(G,X),fe!=null&&Ue.push(Yl(G,fe,Q))),Nt)break;G=G.return}0<Ue.length&&($=new ne($,Fe,null,a,oe),he.push({event:$,listeners:Ue}))}}if((n&7)===0){e:{if($=e==="mouseover"||e==="pointerover",ne=e==="mouseout"||e==="pointerout",$&&a!==ba&&(Fe=a.relatedTarget||a.fromElement)&&(nn(Fe)||Fe[zi]))break e;if((ne||$)&&($=oe.window===oe?oe:($=oe.ownerDocument)?$.defaultView||$.parentWindow:window,ne?(Fe=a.relatedTarget||a.toElement,ne=J,Fe=Fe?nn(Fe):null,Fe!==null&&(Nt=x(Fe),Ue=Fe.tag,Fe!==Nt||Ue!==5&&Ue!==27&&Ue!==6)&&(Fe=null)):(ne=null,Fe=J),ne!==Fe)){if(Ue=Ro,fe="onMouseLeave",X="onMouseEnter",G="mouse",(e==="pointerout"||e==="pointerover")&&(Ue=Ta,fe="onPointerLeave",X="onPointerEnter",G="pointer"),Nt=ne==null?$:Hi(ne),Q=Fe==null?$:Hi(Fe),$=new Ue(fe,G+"leave",ne,a,oe),$.target=Nt,$.relatedTarget=Q,fe=null,nn(oe)===J&&(Ue=new Ue(X,G+"enter",Fe,a,oe),Ue.target=Q,Ue.relatedTarget=Nt,fe=Ue),Nt=fe,ne&&Fe)t:{for(Ue=ne,X=Fe,G=0,Q=Ue;Q;Q=Us(Q))G++;for(Q=0,fe=X;fe;fe=Us(fe))Q++;for(;0<G-Q;)Ue=Us(Ue),G--;for(;0<Q-G;)X=Us(X),Q--;for(;G--;){if(Ue===X||X!==null&&Ue===X.alternate)break t;Ue=Us(Ue),X=Us(X)}Ue=null}else Ue=null;ne!==null&&cd(he,$,ne,Ue,!1),Fe!==null&&Nt!==null&&cd(he,Nt,Fe,Ue,!0)}}e:{if($=J?Hi(J):window,ne=$.nodeName&&$.nodeName.toLowerCase(),ne==="select"||ne==="input"&&$.type==="file")var Ne=Mo;else if(Na($))if(wl)Ne=i;else{Ne=R;var $e=ms}else ne=$.nodeName,!ne||ne.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?J&&Me(J.elementType)&&(Ne=Mo):Ne=t;if(Ne&&(Ne=Ne(e,J))){Yn(he,Ne,a,oe);break e}$e&&$e(e,$,J),e==="focusout"&&J&&$.type==="number"&&J.memoizedProps.value!=null&&K($,"number",$.value)}switch($e=J?Hi(J):window,e){case"focusin":(Na($e)||$e.contentEditable==="true")&&(I=$e,L=J,U=null);break;case"focusout":U=L=I=null;break;case"mousedown":F=!0;break;case"contextmenu":case"mouseup":case"dragend":F=!1,W(he,a,oe);break;case"selectionchange":if(N)break;case"keydown":case"keyup":W(he,a,oe)}var Be;if(Oa)e:{switch(e){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else zr?hr(e,a)&&(je="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(xl&&a.locale!=="ko"&&(zr||je!=="onCompositionStart"?je==="onCompositionEnd"&&zr&&(Be=Yi()):(qi=oe,Aa="value"in qi?qi.value:qi.textContent,zr=!0)),$e=yu(J,je),0<$e.length&&(je=new _a(je,e,null,a,oe),he.push({event:je,listeners:$e}),Be?je.data=Be:(Be=ds(a),Be!==null&&(je.data=Be)))),(Be=ml?Ra(e,a):fc(e,a))&&(je=yu(J,"onBeforeInput"),0<je.length&&($e=new _a("onBeforeInput","beforeinput",null,a,oe),he.push({event:$e,listeners:je}),$e.data=Be)),_m(he,e,J,a,oe)}od(he,n)})}function Yl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function yu(e,n){for(var a=n+"Capture",c=[];e!==null;){var p=e,E=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||E===null||(p=ke(e,a),p!=null&&c.unshift(Yl(e,p,E)),p=ke(e,n),p!=null&&c.push(Yl(e,p,E))),e.tag===3)return c;e=e.return}return[]}function Us(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function cd(e,n,a,c,p){for(var E=n._reactName,O=[];a!==null&&a!==c;){var D=a,P=D.alternate,J=D.stateNode;if(D=D.tag,P!==null&&P===c)break;D!==5&&D!==26&&D!==27||J===null||(P=J,p?(J=ke(a,E),J!=null&&O.unshift(Yl(a,J,P))):p||(J=ke(a,E),J!=null&&O.push(Yl(a,J,P)))),a=a.return}O.length!==0&&e.push({event:n,listeners:O})}var Rm=/\r\n?/g,Nm=/\u0000|\uFFFD/g;function fd(e){return(typeof e=="string"?e:""+e).replace(Rm,`
`).replace(Nm,"")}function hd(e,n){return n=fd(n),fd(e)===n}function Eu(){}function Rt(e,n,a,c,p,E){switch(a){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||pn(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&pn(e,""+c);break;case"className":rs(e,"class",c);break;case"tabIndex":rs(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":rs(e,a,c);break;case"style":qn(e,c,E);break;case"data":if(n!=="object"){rs(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=os(""+c),e.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(a==="formAction"?(n!=="input"&&Rt(e,n,"name",p.name,p,null),Rt(e,n,"formEncType",p.formEncType,p,null),Rt(e,n,"formMethod",p.formMethod,p,null),Rt(e,n,"formTarget",p.formTarget,p,null)):(Rt(e,n,"encType",p.encType,p,null),Rt(e,n,"method",p.method,p,null),Rt(e,n,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=os(""+c),e.setAttribute(a,c);break;case"onClick":c!=null&&(e.onclick=Eu);break;case"onScroll":c!=null&&nt("scroll",e);break;case"onScrollEnd":c!=null&&nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(d(61));if(a=c.__html,a!=null){if(p.children!=null)throw Error(d(60));e.innerHTML=a}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}a=os(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""+c):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":c===!0?e.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,c):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(a,c):e.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(a):e.setAttribute(a,c);break;case"popover":nt("beforetoggle",e),nt("toggle",e),de(e,"popover",c);break;case"xlinkActuate":gt(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":gt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":gt(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":gt(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":gt(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":gt(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":gt(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":gt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":gt(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":de(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ft.get(a)||a,de(e,a,c))}}function Bf(e,n,a,c,p,E){switch(a){case"style":qn(e,c,E);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(d(61));if(a=c.__html,a!=null){if(p.children!=null)throw Error(d(60));e.innerHTML=a}}break;case"children":typeof c=="string"?pn(e,c):(typeof c=="number"||typeof c=="bigint")&&pn(e,""+c);break;case"onScroll":c!=null&&nt("scroll",e);break;case"onScrollEnd":c!=null&&nt("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Eu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!So.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),n=a.slice(2,p?a.length-7:void 0),E=e[Zt]||null,E=E!=null?E[a]:null,typeof E=="function"&&e.removeEventListener(n,E,p),typeof c=="function")){typeof E!="function"&&E!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,c,p);break e}a in e?e[a]=c:c===!0?e.setAttribute(a,""):de(e,a,c)}}}function Pn(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",e),nt("load",e);var c=!1,p=!1,E;for(E in a)if(a.hasOwnProperty(E)){var O=a[E];if(O!=null)switch(E){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,n));default:Rt(e,n,E,O,a,null)}}p&&Rt(e,n,"srcSet",a.srcSet,a,null),c&&Rt(e,n,"src",a.src,a,null);return;case"input":nt("invalid",e);var D=E=O=p=null,P=null,J=null;for(c in a)if(a.hasOwnProperty(c)){var oe=a[c];if(oe!=null)switch(c){case"name":p=oe;break;case"type":O=oe;break;case"checked":P=oe;break;case"defaultChecked":J=oe;break;case"value":E=oe;break;case"defaultValue":D=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(d(137,n));break;default:Rt(e,n,c,oe,a,null)}}xn(e,E,D,P,J,O,p,!1),ss(e);return;case"select":nt("invalid",e),c=O=E=null;for(p in a)if(a.hasOwnProperty(p)&&(D=a[p],D!=null))switch(p){case"value":E=D;break;case"defaultValue":O=D;break;case"multiple":c=D;default:Rt(e,n,p,D,a,null)}n=E,a=O,e.multiple=!!c,n!=null?B(e,!!c,n,!1):a!=null&&B(e,!!c,a,!0);return;case"textarea":nt("invalid",e),E=p=c=null;for(O in a)if(a.hasOwnProperty(O)&&(D=a[O],D!=null))switch(O){case"value":c=D;break;case"defaultValue":p=D;break;case"children":E=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(d(91));break;default:Rt(e,n,O,D,a,null)}rn(e,c,p,E),ss(e);return;case"option":for(P in a)if(a.hasOwnProperty(P)&&(c=a[P],c!=null))switch(P){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Rt(e,n,P,c,a,null)}return;case"dialog":nt("beforetoggle",e),nt("toggle",e),nt("cancel",e),nt("close",e);break;case"iframe":case"object":nt("load",e);break;case"video":case"audio":for(c=0;c<ql.length;c++)nt(ql[c],e);break;case"image":nt("error",e),nt("load",e);break;case"details":nt("toggle",e);break;case"embed":case"source":case"link":nt("error",e),nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in a)if(a.hasOwnProperty(J)&&(c=a[J],c!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,n));default:Rt(e,n,J,c,a,null)}return;default:if(Me(n)){for(oe in a)a.hasOwnProperty(oe)&&(c=a[oe],c!==void 0&&Bf(e,n,oe,c,a,void 0));return}}for(D in a)a.hasOwnProperty(D)&&(c=a[D],c!=null&&Rt(e,n,D,c,a,null))}function Im(e,n,a,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,E=null,O=null,D=null,P=null,J=null,oe=null;for(ne in a){var he=a[ne];if(a.hasOwnProperty(ne)&&he!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":P=he;default:c.hasOwnProperty(ne)||Rt(e,n,ne,null,c,he)}}for(var $ in c){var ne=c[$];if(he=a[$],c.hasOwnProperty($)&&(ne!=null||he!=null))switch($){case"type":E=ne;break;case"name":p=ne;break;case"checked":J=ne;break;case"defaultChecked":oe=ne;break;case"value":O=ne;break;case"defaultValue":D=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(d(137,n));break;default:ne!==he&&Rt(e,n,$,ne,c,he)}}pt(e,O,D,P,J,oe,E,p);return;case"select":ne=O=D=$=null;for(E in a)if(P=a[E],a.hasOwnProperty(E)&&P!=null)switch(E){case"value":break;case"multiple":ne=P;default:c.hasOwnProperty(E)||Rt(e,n,E,null,c,P)}for(p in c)if(E=c[p],P=a[p],c.hasOwnProperty(p)&&(E!=null||P!=null))switch(p){case"value":$=E;break;case"defaultValue":D=E;break;case"multiple":O=E;default:E!==P&&Rt(e,n,p,E,c,P)}n=D,a=O,c=ne,$!=null?B(e,!!a,$,!1):!!c!=!!a&&(n!=null?B(e,!!a,n,!0):B(e,!!a,a?[]:"",!1));return;case"textarea":ne=$=null;for(D in a)if(p=a[D],a.hasOwnProperty(D)&&p!=null&&!c.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Rt(e,n,D,null,c,p)}for(O in c)if(p=c[O],E=a[O],c.hasOwnProperty(O)&&(p!=null||E!=null))switch(O){case"value":$=p;break;case"defaultValue":ne=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(d(91));break;default:p!==E&&Rt(e,n,O,p,c,E)}Ie(e,$,ne);return;case"option":for(var Fe in a)if($=a[Fe],a.hasOwnProperty(Fe)&&$!=null&&!c.hasOwnProperty(Fe))switch(Fe){case"selected":e.selected=!1;break;default:Rt(e,n,Fe,null,c,$)}for(P in c)if($=c[P],ne=a[P],c.hasOwnProperty(P)&&$!==ne&&($!=null||ne!=null))switch(P){case"selected":e.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Rt(e,n,P,$,c,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in a)$=a[Ue],a.hasOwnProperty(Ue)&&$!=null&&!c.hasOwnProperty(Ue)&&Rt(e,n,Ue,null,c,$);for(J in c)if($=c[J],ne=a[J],c.hasOwnProperty(J)&&$!==ne&&($!=null||ne!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(d(137,n));break;default:Rt(e,n,J,$,c,ne)}return;default:if(Me(n)){for(var Nt in a)$=a[Nt],a.hasOwnProperty(Nt)&&$!==void 0&&!c.hasOwnProperty(Nt)&&Bf(e,n,Nt,void 0,c,$);for(oe in c)$=c[oe],ne=a[oe],!c.hasOwnProperty(oe)||$===ne||$===void 0&&ne===void 0||Bf(e,n,oe,$,c,ne);return}}for(var X in a)$=a[X],a.hasOwnProperty(X)&&$!=null&&!c.hasOwnProperty(X)&&Rt(e,n,X,null,c,$);for(he in c)$=c[he],ne=a[he],!c.hasOwnProperty(he)||$===ne||$==null&&ne==null||Rt(e,n,he,$,c,ne)}var Lf=null,kf=null;function vu(e){return e.nodeType===9?e:e.ownerDocument}function dd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gd(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Pf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Uf=null;function Dm(){var e=window.event;return e&&e.type==="popstate"?e===Uf?!1:(Uf=e,!0):(Uf=null,!1)}var md=typeof setTimeout=="function"?setTimeout:void 0,Mm=typeof clearTimeout=="function"?clearTimeout:void 0,xd=typeof Promise=="function"?Promise:void 0,Bm=typeof queueMicrotask=="function"?queueMicrotask:typeof xd<"u"?function(e){return xd.resolve(null).then(e).catch(Lm)}:md;function Lm(e){setTimeout(function(){throw e})}function sa(e){return e==="head"}function pd(e,n){var a=n,c=0,p=0;do{var E=a.nextSibling;if(e.removeChild(a),E&&E.nodeType===8)if(a=E.data,a==="/$"){if(0<c&&8>c){a=c;var O=e.ownerDocument;if(a&1&&Wl(O.documentElement),a&2&&Wl(O.body),a&4)for(a=O.head,Wl(a),O=a.firstChild;O;){var D=O.nextSibling,P=O.nodeName;O[xi]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&O.rel.toLowerCase()==="stylesheet"||a.removeChild(O),O=D}}if(p===0){e.removeChild(E),no(n);return}p--}else a==="$"||a==="$?"||a==="$!"?p++:c=a.charCodeAt(0)-48;else c=0;a=E}while(a);no(n)}function jf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":jf(a),va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function km(e,n,a,c){for(;e.nodeType===1;){var p=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[xi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(E=e.getAttribute("rel"),E==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(E!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(E=e.getAttribute("src"),(E!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&E&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var E=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===E)return e}else return e;if(e=Di(e.nextSibling),e===null)break}return null}function Pm(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Di(e.nextSibling),e===null))return null;return e}function Ff(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Um(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var c=function(){n(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Di(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var zf=null;function wd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function yd(e,n,a){switch(n=vu(a),e){case"html":if(e=n.documentElement,!e)throw Error(d(452));return e;case"head":if(e=n.head,!e)throw Error(d(453));return e;case"body":if(e=n.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function Wl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);va(e)}var Ci=new Map,Ed=new Set;function bu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Sr=ue.d;ue.d={f:jm,r:Fm,D:zm,C:Hm,L:Gm,m:Vm,X:qm,S:Xm,M:Ym};function jm(){var e=Sr.f(),n=du();return e||n}function Fm(e){var n=ai(e);n!==null&&n.tag===5&&n.type==="form"?F1(n):Sr.r(e)}var js=typeof document>"u"?null:document;function vd(e,n,a){var c=js;if(c&&typeof n=="string"&&n){var p=mn(n);p='link[rel="'+e+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),Ed.has(p)||(Ed.add(p),e={rel:e,crossOrigin:a,href:n},c.querySelector(p)===null&&(n=c.createElement("link"),Pn(n,"link",e),Et(n),c.head.appendChild(n)))}}function zm(e){Sr.D(e),vd("dns-prefetch",e,null)}function Hm(e,n){Sr.C(e,n),vd("preconnect",e,n)}function Gm(e,n,a){Sr.L(e,n,a);var c=js;if(c&&e&&n){var p='link[rel="preload"][as="'+mn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+mn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+mn(a.imageSizes)+'"]')):p+='[href="'+mn(e)+'"]';var E=p;switch(n){case"style":E=Fs(e);break;case"script":E=zs(e)}Ci.has(E)||(e=C({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Ci.set(E,e),c.querySelector(p)!==null||n==="style"&&c.querySelector(Zl(E))||n==="script"&&c.querySelector(Kl(E))||(n=c.createElement("link"),Pn(n,"link",e),Et(n),c.head.appendChild(n)))}}function Vm(e,n){Sr.m(e,n);var a=js;if(a&&e){var c=n&&typeof n.as=="string"?n.as:"script",p='link[rel="modulepreload"][as="'+mn(c)+'"][href="'+mn(e)+'"]',E=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=zs(e)}if(!Ci.has(E)&&(e=C({rel:"modulepreload",href:e},n),Ci.set(E,e),a.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Kl(E)))return}c=a.createElement("link"),Pn(c,"link",e),Et(c),a.head.appendChild(c)}}}function Xm(e,n,a){Sr.S(e,n,a);var c=js;if(c&&e){var p=Si(c).hoistableStyles,E=Fs(e);n=n||"default";var O=p.get(E);if(!O){var D={loading:0,preload:null};if(O=c.querySelector(Zl(E)))D.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Ci.get(E))&&Hf(e,a);var P=O=c.createElement("link");Et(P),Pn(P,"link",e),P._p=new Promise(function(J,oe){P.onload=J,P.onerror=oe}),P.addEventListener("load",function(){D.loading|=1}),P.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Au(O,n,c)}O={type:"stylesheet",instance:O,count:1,state:D},p.set(E,O)}}}function qm(e,n){Sr.X(e,n);var a=js;if(a&&e){var c=Si(a).hoistableScripts,p=zs(e),E=c.get(p);E||(E=a.querySelector(Kl(p)),E||(e=C({src:e,async:!0},n),(n=Ci.get(p))&&Gf(e,n),E=a.createElement("script"),Et(E),Pn(E,"link",e),a.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},c.set(p,E))}}function Ym(e,n){Sr.M(e,n);var a=js;if(a&&e){var c=Si(a).hoistableScripts,p=zs(e),E=c.get(p);E||(E=a.querySelector(Kl(p)),E||(e=C({src:e,async:!0,type:"module"},n),(n=Ci.get(p))&&Gf(e,n),E=a.createElement("script"),Et(E),Pn(E,"link",e),a.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},c.set(p,E))}}function bd(e,n,a,c){var p=(p=ye.current)?bu(p):null;if(!p)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Fs(a.href),a=Si(p).hoistableStyles,c=a.get(n),c||(c={type:"style",instance:null,count:0,state:null},a.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Fs(a.href);var E=Si(p).hoistableStyles,O=E.get(e);if(O||(p=p.ownerDocument||p,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(e,O),(E=p.querySelector(Zl(e)))&&!E._p&&(O.instance=E,O.state.loading=5),Ci.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ci.set(e,a),E||Wm(p,e,a,O.state))),n&&c===null)throw Error(d(528,""));return O}if(n&&c!==null)throw Error(d(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=zs(a),a=Si(p).hoistableScripts,c=a.get(n),c||(c={type:"script",instance:null,count:0,state:null},a.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function Fs(e){return'href="'+mn(e)+'"'}function Zl(e){return'link[rel="stylesheet"]['+e+"]"}function Ad(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function Wm(e,n,a,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),Pn(n,"link",a),Et(n),e.head.appendChild(n))}function zs(e){return'[src="'+mn(e)+'"]'}function Kl(e){return"script[async]"+e}function Cd(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+mn(a.href)+'"]');if(c)return n.instance=c,Et(c),c;var p=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Et(c),Pn(c,"style",p),Au(c,a.precedence,e),n.instance=c;case"stylesheet":p=Fs(a.href);var E=e.querySelector(Zl(p));if(E)return n.state.loading|=4,n.instance=E,Et(E),E;c=Ad(a),(p=Ci.get(p))&&Hf(c,p),E=(e.ownerDocument||e).createElement("link"),Et(E);var O=E;return O._p=new Promise(function(D,P){O.onload=D,O.onerror=P}),Pn(E,"link",c),n.state.loading|=4,Au(E,a.precedence,e),n.instance=E;case"script":return E=zs(a.src),(p=e.querySelector(Kl(E)))?(n.instance=p,Et(p),p):(c=a,(p=Ci.get(E))&&(c=C({},a),Gf(c,p)),e=e.ownerDocument||e,p=e.createElement("script"),Et(p),Pn(p,"link",c),e.head.appendChild(p),n.instance=p);case"void":return null;default:throw Error(d(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,Au(c,a.precedence,e));return n.instance}function Au(e,n,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,E=p,O=0;O<c.length;O++){var D=c[O];if(D.dataset.precedence===n)E=D;else if(E!==p)break}E?E.parentNode.insertBefore(e,E.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Hf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Gf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Cu=null;function _d(e,n,a){if(Cu===null){var c=new Map,p=Cu=new Map;p.set(a,c)}else p=Cu,c=p.get(a),c||(c=new Map,p.set(a,c));if(c.has(e))return c;for(c.set(e,null),a=a.getElementsByTagName(e),p=0;p<a.length;p++){var E=a[p];if(!(E[xi]||E[An]||e==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var O=E.getAttribute(n)||"";O=e+O;var D=c.get(O);D?D.push(E):c.set(O,[E])}}return c}function Sd(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function Zm(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Td(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ql=null;function Km(){}function Qm(e,n,a){if(Ql===null)throw Error(d(475));var c=Ql;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var p=Fs(a.href),E=e.querySelector(Zl(p));if(E){e=E._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(c.count++,c=_u.bind(c),e.then(c,c)),n.state.loading|=4,n.instance=E,Et(E);return}E=e.ownerDocument||e,a=Ad(a),(p=Ci.get(p))&&Hf(a,p),E=E.createElement("link"),Et(E);var O=E;O._p=new Promise(function(D,P){O.onload=D,O.onerror=P}),Pn(E,"link",a),n.instance=E}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(c.count++,n=_u.bind(c),e.addEventListener("load",n),e.addEventListener("error",n))}}function Jm(){if(Ql===null)throw Error(d(475));var e=Ql;return e.stylesheets&&e.count===0&&Vf(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Vf(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function _u(){if(this.count--,this.count===0){if(this.stylesheets)Vf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Su=null;function Vf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Su=new Map,n.forEach($m,e),Su=null,_u.call(e))}function $m(e,n){if(!(n.state.loading&4)){var a=Su.get(e);if(a)var c=a.get(null);else{a=new Map,Su.set(e,a);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<p.length;E++){var O=p[E];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(a.set(O.dataset.precedence,O),c=O)}c&&a.set(null,c)}p=n.instance,O=p.getAttribute("data-precedence"),E=a.get(O)||c,E===c&&a.set(null,p),a.set(O,p),this.count++,c=_u.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),E?E.parentNode.insertBefore(p,E.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),n.state.loading|=4}}var Jl={$$typeof:V,Provider:null,Consumer:null,_currentValue:De,_currentValue2:De,_threadCount:0};function ex(e,n,a,c,p,E,O,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ut(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ut(0),this.hiddenUpdates=ut(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=E,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Od(e,n,a,c,p,E,O,D,P,J,oe,he){return e=new ex(e,n,a,O,D,P,J,he),n=1,E===!0&&(n|=24),E=oi(3,null,null,n),e.current=E,E.stateNode=e,n=Cc(),n.refCount++,e.pooledCache=n,n.refCount++,E.memoizedState={element:c,isDehydrated:a,cache:n},Oc(E),e}function Rd(e){return e?(e=ws,e):ws}function Nd(e,n,a,c,p,E){p=Rd(p),c.context===null?c.context=p:c.pendingContext=p,c=Yr(n),c.payload={element:a},E=E===void 0?null:E,E!==null&&(c.callback=E),a=Wr(e,c,n),a!==null&&(di(a,e,n),Ol(a,e,n))}function Id(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Xf(e,n){Id(e,n),(e=e.alternate)&&Id(e,n)}function Dd(e){if(e.tag===13){var n=ps(e,67108864);n!==null&&di(n,e,67108864),Xf(e,67108864)}}var Tu=!0;function tx(e,n,a,c){var p=re.T;re.T=null;var E=ue.p;try{ue.p=2,qf(e,n,a,c)}finally{ue.p=E,re.T=p}}function nx(e,n,a,c){var p=re.T;re.T=null;var E=ue.p;try{ue.p=8,qf(e,n,a,c)}finally{ue.p=E,re.T=p}}function qf(e,n,a,c){if(Tu){var p=Yf(c);if(p===null)Mf(e,n,c,Ou,a),Bd(e,c);else if(rx(p,e,n,a,c))c.stopPropagation();else if(Bd(e,c),n&4&&-1<ix.indexOf(e)){for(;p!==null;){var E=ai(p);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var O=It(E.pendingLanes);if(O!==0){var D=E;for(D.pendingLanes|=2,D.entangledLanes|=2;O;){var P=1<<31-yt(O);D.entanglements[1]|=P,O&=~P}rr(E),(At&6)===0&&(fu=_t()+500,Xl(0))}}break;case 13:D=ps(E,2),D!==null&&di(D,E,2),du(),Xf(E,2)}if(E=Yf(c),E===null&&Mf(e,n,c,Ou,a),E===p)break;p=E}p!==null&&c.stopPropagation()}else Mf(e,n,c,null,a)}}function Yf(e){return e=Br(e),Wf(e)}var Ou=null;function Wf(e){if(Ou=null,e=nn(e),e!==null){var n=x(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=A(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ou=e,null}function Md(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(St()){case st:return 2;case wa:return 8;case Oe:case es:return 32;case ll:return 268435456;default:return 32}default:return 32}}var Zf=!1,la=null,oa=null,ua=null,$l=new Map,eo=new Map,ca=[],ix="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bd(e,n){switch(e){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":oa=null;break;case"mouseover":case"mouseout":ua=null;break;case"pointerover":case"pointerout":$l.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(n.pointerId)}}function to(e,n,a,c,p,E){return e===null||e.nativeEvent!==E?(e={blockedOn:n,domEventName:a,eventSystemFlags:c,nativeEvent:E,targetContainers:[p]},n!==null&&(n=ai(n),n!==null&&Dd(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),e)}function rx(e,n,a,c,p){switch(n){case"focusin":return la=to(la,e,n,a,c,p),!0;case"dragenter":return oa=to(oa,e,n,a,c,p),!0;case"mouseover":return ua=to(ua,e,n,a,c,p),!0;case"pointerover":var E=p.pointerId;return $l.set(E,to($l.get(E)||null,e,n,a,c,p)),!0;case"gotpointercapture":return E=p.pointerId,eo.set(E,to(eo.get(E)||null,e,n,a,c,p)),!0}return!1}function Ld(e){var n=nn(e.target);if(n!==null){var a=x(n);if(a!==null){if(n=a.tag,n===13){if(n=A(a),n!==null){e.blockedOn=n,is(e.priority,function(){if(a.tag===13){var c=hi();c=Ea(c);var p=ps(a,c);p!==null&&di(p,a,c),Xf(a,c)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ru(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Yf(e.nativeEvent);if(a===null){a=e.nativeEvent;var c=new a.constructor(a.type,a);ba=c,a.target.dispatchEvent(c),ba=null}else return n=ai(a),n!==null&&Dd(n),e.blockedOn=a,!1;n.shift()}return!0}function kd(e,n,a){Ru(e)&&a.delete(n)}function ax(){Zf=!1,la!==null&&Ru(la)&&(la=null),oa!==null&&Ru(oa)&&(oa=null),ua!==null&&Ru(ua)&&(ua=null),$l.forEach(kd),eo.forEach(kd)}function Nu(e,n){e.blockedOn===n&&(e.blockedOn=null,Zf||(Zf=!0,f.unstable_scheduleCallback(f.unstable_NormalPriority,ax)))}var Iu=null;function Pd(e){Iu!==e&&(Iu=e,f.unstable_scheduleCallback(f.unstable_NormalPriority,function(){Iu===e&&(Iu=null);for(var n=0;n<e.length;n+=3){var a=e[n],c=e[n+1],p=e[n+2];if(typeof c!="function"){if(Wf(c||a)===null)continue;break}var E=ai(a);E!==null&&(e.splice(n,3),n-=3,Yc(E,{pending:!0,data:p,method:a.method,action:c},c,p))}}))}function no(e){function n(P){return Nu(P,e)}la!==null&&Nu(la,e),oa!==null&&Nu(oa,e),ua!==null&&Nu(ua,e),$l.forEach(n),eo.forEach(n);for(var a=0;a<ca.length;a++){var c=ca[a];c.blockedOn===e&&(c.blockedOn=null)}for(;0<ca.length&&(a=ca[0],a.blockedOn===null);)Ld(a),a.blockedOn===null&&ca.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var p=a[c],E=a[c+1],O=p[Zt]||null;if(typeof E=="function")O||Pd(a);else if(O){var D=null;if(E&&E.hasAttribute("formAction")){if(p=E,O=E[Zt]||null)D=O.formAction;else if(Wf(p)!==null)continue}else D=O.action;typeof D=="function"?a[c+1]=D:(a.splice(c,3),c-=3),Pd(a)}}}function Kf(e){this._internalRoot=e}Du.prototype.render=Kf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(d(409));var a=n.current,c=hi();Nd(a,c,e,n,null,null)},Du.prototype.unmount=Kf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Nd(e.current,2,null,e,null,null),du(),n[zi]=null}};function Du(e){this._internalRoot=e}Du.prototype.unstable_scheduleHydration=function(e){if(e){var n=lr();e={blockedOn:null,target:e,priority:n};for(var a=0;a<ca.length&&n!==0&&n<ca[a].priority;a++);ca.splice(a,0,e),a===0&&Ld(e)}};var Ud=s.version;if(Ud!=="19.1.1")throw Error(d(527,Ud,"19.1.1"));ue.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=b(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var sx={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{Dn=Mu.inject(sx),Un=Mu}catch{}}return ro.createRoot=function(e,n){if(!m(e))throw Error(d(299));var a=!1,c="",p=eh,E=th,O=nh,D=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(p=n.onUncaughtError),n.onCaughtError!==void 0&&(E=n.onCaughtError),n.onRecoverableError!==void 0&&(O=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(D=n.unstable_transitionCallbacks)),n=Od(e,1,!1,null,null,a,c,p,E,O,D,null),e[zi]=n.current,Df(e),new Kf(n)},ro.hydrateRoot=function(e,n,a){if(!m(e))throw Error(d(299));var c=!1,p="",E=eh,O=th,D=nh,P=null,J=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(E=a.onUncaughtError),a.onCaughtError!==void 0&&(O=a.onCaughtError),a.onRecoverableError!==void 0&&(D=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(P=a.unstable_transitionCallbacks),a.formState!==void 0&&(J=a.formState)),n=Od(e,1,!0,n,a??null,c,p,E,O,D,P,J),n.context=Rd(null),a=n.current,c=hi(),c=Ea(c),p=Yr(c),p.callback=null,Wr(a,p,c),a=c,n.current.lanes=a,ri(n,a),rr(n),e[zi]=n.current,Df(e),new Du(n)},ro.version="19.1.1",ro}var Wd;function wx(){if(Wd)return Jf.exports;Wd=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(s){console.error(s)}}return f(),Jf.exports=px(),Jf.exports}var yx=wx(),Z=R0();const Pt=O0(Z);/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Zd="popstate";function Ex(f={}){function s(d,m){let{pathname:x,search:A,hash:_}=d.location;return h0("",{pathname:x,search:A,hash:_},m.state&&m.state.usr||null,m.state&&m.state.key||"default")}function o(d,m){return typeof m=="string"?m:mo(m)}return bx(s,o,null,f)}function Xt(f,s){if(f===!1||f===null||typeof f>"u")throw new Error(s)}function ki(f,s){if(!f){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function vx(){return Math.random().toString(36).substring(2,10)}function Kd(f,s){return{usr:f.state,key:f.key,idx:s}}function h0(f,s,o=null,d){return{pathname:typeof f=="string"?f:f.pathname,search:"",hash:"",...typeof s=="string"?il(s):s,state:o,key:s&&s.key||d||vx()}}function mo({pathname:f="/",search:s="",hash:o=""}){return s&&s!=="?"&&(f+=s.charAt(0)==="?"?s:"?"+s),o&&o!=="#"&&(f+=o.charAt(0)==="#"?o:"#"+o),f}function il(f){let s={};if(f){let o=f.indexOf("#");o>=0&&(s.hash=f.substring(o),f=f.substring(0,o));let d=f.indexOf("?");d>=0&&(s.search=f.substring(d),f=f.substring(0,d)),f&&(s.pathname=f)}return s}function bx(f,s,o,d={}){let{window:m=document.defaultView,v5Compat:x=!1}=d,A=m.history,_="POP",b=null,y=C();y==null&&(y=0,A.replaceState({...A.state,idx:y},""));function C(){return(A.state||{idx:null}).idx}function T(){_="POP";let Y=C(),se=Y==null?null:Y-y;y=Y,b&&b({action:_,location:q.location,delta:se})}function M(Y,se){_="PUSH";let xe=h0(q.location,Y,se);y=C()+1;let V=Kd(xe,y),le=q.createHref(xe);try{A.pushState(V,"",le)}catch(we){if(we instanceof DOMException&&we.name==="DataCloneError")throw we;m.location.assign(le)}x&&b&&b({action:_,location:q.location,delta:1})}function k(Y,se){_="REPLACE";let xe=h0(q.location,Y,se);y=C();let V=Kd(xe,y),le=q.createHref(xe);A.replaceState(V,"",le),x&&b&&b({action:_,location:q.location,delta:0})}function H(Y){return Ax(Y)}let q={get action(){return _},get location(){return f(m,A)},listen(Y){if(b)throw new Error("A history only accepts one active listener");return m.addEventListener(Zd,T),b=Y,()=>{m.removeEventListener(Zd,T),b=null}},createHref(Y){return s(m,Y)},createURL:H,encodeLocation(Y){let se=H(Y);return{pathname:se.pathname,search:se.search,hash:se.hash}},push:M,replace:k,go(Y){return A.go(Y)}};return q}function Ax(f,s=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),Xt(o,"No window.location.(origin|href) available to create URL");let d=typeof f=="string"?f:mo(f);return d=d.replace(/ $/,"%20"),!s&&d.startsWith("//")&&(d=o+d),new URL(d,o)}function H2(f,s,o="/"){return Cx(f,s,o,!1)}function Cx(f,s,o,d){let m=typeof s=="string"?il(s):s,x=Dr(m.pathname||"/",o);if(x==null)return null;let A=G2(f);_x(A);let _=null;for(let b=0;_==null&&b<A.length;++b){let y=kx(x);_=Bx(A[b],y,d)}return _}function G2(f,s=[],o=[],d=""){let m=(x,A,_)=>{let b={relativePath:_===void 0?x.path||"":_,caseSensitive:x.caseSensitive===!0,childrenIndex:A,route:x};b.relativePath.startsWith("/")&&(Xt(b.relativePath.startsWith(d),`Absolute route path "${b.relativePath}" nested under path "${d}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(d.length));let y=Ir([d,b.relativePath]),C=o.concat(b);x.children&&x.children.length>0&&(Xt(x.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),G2(x.children,s,C,y)),!(x.path==null&&!x.index)&&s.push({path:y,score:Dx(y,x.index),routesMeta:C})};return f.forEach((x,A)=>{if(x.path===""||!x.path?.includes("?"))m(x,A);else for(let _ of V2(x.path))m(x,A,_)}),s}function V2(f){let s=f.split("/");if(s.length===0)return[];let[o,...d]=s,m=o.endsWith("?"),x=o.replace(/\?$/,"");if(d.length===0)return m?[x,""]:[x];let A=V2(d.join("/")),_=[];return _.push(...A.map(b=>b===""?x:[x,b].join("/"))),m&&_.push(...A),_.map(b=>f.startsWith("/")&&b===""?"/":b)}function _x(f){f.sort((s,o)=>s.score!==o.score?o.score-s.score:Mx(s.routesMeta.map(d=>d.childrenIndex),o.routesMeta.map(d=>d.childrenIndex)))}var Sx=/^:[\w-]+$/,Tx=3,Ox=2,Rx=1,Nx=10,Ix=-2,Qd=f=>f==="*";function Dx(f,s){let o=f.split("/"),d=o.length;return o.some(Qd)&&(d+=Ix),s&&(d+=Ox),o.filter(m=>!Qd(m)).reduce((m,x)=>m+(Sx.test(x)?Tx:x===""?Rx:Nx),d)}function Mx(f,s){return f.length===s.length&&f.slice(0,-1).every((d,m)=>d===s[m])?f[f.length-1]-s[s.length-1]:0}function Bx(f,s,o=!1){let{routesMeta:d}=f,m={},x="/",A=[];for(let _=0;_<d.length;++_){let b=d[_],y=_===d.length-1,C=x==="/"?s:s.slice(x.length)||"/",T=Gu({path:b.relativePath,caseSensitive:b.caseSensitive,end:y},C),M=b.route;if(!T&&y&&o&&!d[d.length-1].route.index&&(T=Gu({path:b.relativePath,caseSensitive:b.caseSensitive,end:!1},C)),!T)return null;Object.assign(m,T.params),A.push({params:m,pathname:Ir([x,T.pathname]),pathnameBase:Fx(Ir([x,T.pathnameBase])),route:M}),T.pathnameBase!=="/"&&(x=Ir([x,T.pathnameBase]))}return A}function Gu(f,s){typeof f=="string"&&(f={path:f,caseSensitive:!1,end:!0});let[o,d]=Lx(f.path,f.caseSensitive,f.end),m=s.match(o);if(!m)return null;let x=m[0],A=x.replace(/(.)\/+$/,"$1"),_=m.slice(1);return{params:d.reduce((y,{paramName:C,isOptional:T},M)=>{if(C==="*"){let H=_[M]||"";A=x.slice(0,x.length-H.length).replace(/(.)\/+$/,"$1")}const k=_[M];return T&&!k?y[C]=void 0:y[C]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:x,pathnameBase:A,pattern:f}}function Lx(f,s=!1,o=!0){ki(f==="*"||!f.endsWith("*")||f.endsWith("/*"),`Route path "${f}" will be treated as if it were "${f.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${f.replace(/\*$/,"/*")}".`);let d=[],m="^"+f.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(A,_,b)=>(d.push({paramName:_,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)"));return f.endsWith("*")?(d.push({paramName:"*"}),m+=f==="*"||f==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?m+="\\/*$":f!==""&&f!=="/"&&(m+="(?:(?=\\/|$))"),[new RegExp(m,s?void 0:"i"),d]}function kx(f){try{return f.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return ki(!1,`The URL path "${f}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),f}}function Dr(f,s){if(s==="/")return f;if(!f.toLowerCase().startsWith(s.toLowerCase()))return null;let o=s.endsWith("/")?s.length-1:s.length,d=f.charAt(o);return d&&d!=="/"?null:f.slice(o)||"/"}function Px(f,s="/"){let{pathname:o,search:d="",hash:m=""}=typeof f=="string"?il(f):f;return{pathname:o?o.startsWith("/")?o:Ux(o,s):s,search:zx(d),hash:Hx(m)}}function Ux(f,s){let o=s.replace(/\/+$/,"").split("/");return f.split("/").forEach(m=>{m===".."?o.length>1&&o.pop():m!=="."&&o.push(m)}),o.length>1?o.join("/"):"/"}function i0(f,s,o,d){return`Cannot include a '${f}' character in a manually specified \`to.${s}\` field [${JSON.stringify(d)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jx(f){return f.filter((s,o)=>o===0||s.route.path&&s.route.path.length>0)}function N0(f){let s=jx(f);return s.map((o,d)=>d===s.length-1?o.pathname:o.pathnameBase)}function I0(f,s,o,d=!1){let m;typeof f=="string"?m=il(f):(m={...f},Xt(!m.pathname||!m.pathname.includes("?"),i0("?","pathname","search",m)),Xt(!m.pathname||!m.pathname.includes("#"),i0("#","pathname","hash",m)),Xt(!m.search||!m.search.includes("#"),i0("#","search","hash",m)));let x=f===""||m.pathname==="",A=x?"/":m.pathname,_;if(A==null)_=o;else{let T=s.length-1;if(!d&&A.startsWith("..")){let M=A.split("/");for(;M[0]==="..";)M.shift(),T-=1;m.pathname=M.join("/")}_=T>=0?s[T]:"/"}let b=Px(m,_),y=A&&A!=="/"&&A.endsWith("/"),C=(x||A===".")&&o.endsWith("/");return!b.pathname.endsWith("/")&&(y||C)&&(b.pathname+="/"),b}var Ir=f=>f.join("/").replace(/\/\/+/g,"/"),Fx=f=>f.replace(/\/+$/,"").replace(/^\/*/,"/"),zx=f=>!f||f==="?"?"":f.startsWith("?")?f:"?"+f,Hx=f=>!f||f==="#"?"":f.startsWith("#")?f:"#"+f;function Gx(f){return f!=null&&typeof f.status=="number"&&typeof f.statusText=="string"&&typeof f.internal=="boolean"&&"data"in f}var X2=["POST","PUT","PATCH","DELETE"];new Set(X2);var Vx=["GET",...X2];new Set(Vx);var rl=Z.createContext(null);rl.displayName="DataRouter";var Ju=Z.createContext(null);Ju.displayName="DataRouterState";Z.createContext(!1);var q2=Z.createContext({isTransitioning:!1});q2.displayName="ViewTransition";var Xx=Z.createContext(new Map);Xx.displayName="Fetchers";var qx=Z.createContext(null);qx.displayName="Await";var Pi=Z.createContext(null);Pi.displayName="Navigation";var wo=Z.createContext(null);wo.displayName="Location";var Ui=Z.createContext({outlet:null,matches:[],isDataRoute:!1});Ui.displayName="Route";var D0=Z.createContext(null);D0.displayName="RouteError";function Yx(f,{relative:s}={}){Xt(al(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:d}=Z.useContext(Pi),{hash:m,pathname:x,search:A}=yo(f,{relative:s}),_=x;return o!=="/"&&(_=x==="/"?o:Ir([o,x])),d.createHref({pathname:_,search:A,hash:m})}function al(){return Z.useContext(wo)!=null}function ma(){return Xt(al(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(wo).location}var Y2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function W2(f){Z.useContext(Pi).static||Z.useLayoutEffect(f)}function ji(){let{isDataRoute:f}=Z.useContext(Ui);return f?l3():Wx()}function Wx(){Xt(al(),"useNavigate() may be used only in the context of a <Router> component.");let f=Z.useContext(rl),{basename:s,navigator:o}=Z.useContext(Pi),{matches:d}=Z.useContext(Ui),{pathname:m}=ma(),x=JSON.stringify(N0(d)),A=Z.useRef(!1);return W2(()=>{A.current=!0}),Z.useCallback((b,y={})=>{if(ki(A.current,Y2),!A.current)return;if(typeof b=="number"){o.go(b);return}let C=I0(b,JSON.parse(x),m,y.relative==="path");f==null&&s!=="/"&&(C.pathname=C.pathname==="/"?s:Ir([s,C.pathname])),(y.replace?o.replace:o.push)(C,y.state,y)},[s,o,x,m,f])}Z.createContext(null);function Zx(){let{matches:f}=Z.useContext(Ui),s=f[f.length-1];return s?s.params:{}}function yo(f,{relative:s}={}){let{matches:o}=Z.useContext(Ui),{pathname:d}=ma(),m=JSON.stringify(N0(o));return Z.useMemo(()=>I0(f,JSON.parse(m),d,s==="path"),[f,m,d,s])}function Kx(f,s){return Z2(f,s)}function Z2(f,s,o,d){Xt(al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:m}=Z.useContext(Pi),{matches:x}=Z.useContext(Ui),A=x[x.length-1],_=A?A.params:{},b=A?A.pathname:"/",y=A?A.pathnameBase:"/",C=A&&A.route;{let se=C&&C.path||"";K2(b,!C||se.endsWith("*")||se.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${b}" (under <Route path="${se}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${se}"> to <Route path="${se==="/"?"*":`${se}/*`}">.`)}let T=ma(),M;if(s){let se=typeof s=="string"?il(s):s;Xt(y==="/"||se.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${se.pathname}" was given in the \`location\` prop.`),M=se}else M=T;let k=M.pathname||"/",H=k;if(y!=="/"){let se=y.replace(/^\//,"").split("/");H="/"+k.replace(/^\//,"").split("/").slice(se.length).join("/")}let q=H2(f,{pathname:H});ki(C||q!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),ki(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=t3(q&&q.map(se=>Object.assign({},se,{params:Object.assign({},_,se.params),pathname:Ir([y,m.encodeLocation?m.encodeLocation(se.pathname).pathname:se.pathname]),pathnameBase:se.pathnameBase==="/"?y:Ir([y,m.encodeLocation?m.encodeLocation(se.pathnameBase).pathname:se.pathnameBase])})),x,o,d);return s&&Y?Z.createElement(wo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},Y):Y}function Qx(){let f=s3(),s=Gx(f)?`${f.status} ${f.statusText}`:f instanceof Error?f.message:JSON.stringify(f),o=f instanceof Error?f.stack:null,d="rgba(200,200,200, 0.5)",m={padding:"0.5rem",backgroundColor:d},x={padding:"2px 4px",backgroundColor:d},A=null;return console.error("Error handled by React Router default ErrorBoundary:",f),A=Z.createElement(Z.Fragment,null,Z.createElement("p",null,"💿 Hey developer 👋"),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:x},"ErrorBoundary")," or"," ",Z.createElement("code",{style:x},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},s),o?Z.createElement("pre",{style:m},o):null,A)}var Jx=Z.createElement(Qx,null),$x=class extends Z.Component{constructor(f){super(f),this.state={location:f.location,revalidation:f.revalidation,error:f.error}}static getDerivedStateFromError(f){return{error:f}}static getDerivedStateFromProps(f,s){return s.location!==f.location||s.revalidation!=="idle"&&f.revalidation==="idle"?{error:f.error,location:f.location,revalidation:f.revalidation}:{error:f.error!==void 0?f.error:s.error,location:s.location,revalidation:f.revalidation||s.revalidation}}componentDidCatch(f,s){console.error("React Router caught the following error during render",f,s)}render(){return this.state.error!==void 0?Z.createElement(Ui.Provider,{value:this.props.routeContext},Z.createElement(D0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function e3({routeContext:f,match:s,children:o}){let d=Z.useContext(rl);return d&&d.static&&d.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=s.route.id),Z.createElement(Ui.Provider,{value:f},o)}function t3(f,s=[],o=null,d=null){if(f==null){if(!o)return null;if(o.errors)f=o.matches;else if(s.length===0&&!o.initialized&&o.matches.length>0)f=o.matches;else return null}let m=f,x=o?.errors;if(x!=null){let b=m.findIndex(y=>y.route.id&&x?.[y.route.id]!==void 0);Xt(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(x).join(",")}`),m=m.slice(0,Math.min(m.length,b+1))}let A=!1,_=-1;if(o)for(let b=0;b<m.length;b++){let y=m[b];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(_=b),y.route.id){let{loaderData:C,errors:T}=o,M=y.route.loader&&!C.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||M){A=!0,_>=0?m=m.slice(0,_+1):m=[m[0]];break}}}return m.reduceRight((b,y,C)=>{let T,M=!1,k=null,H=null;o&&(T=x&&y.route.id?x[y.route.id]:void 0,k=y.route.errorElement||Jx,A&&(_<0&&C===0?(K2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,H=null):_===C&&(M=!0,H=y.route.hydrateFallbackElement||null)));let q=s.concat(m.slice(0,C+1)),Y=()=>{let se;return T?se=k:M?se=H:y.route.Component?se=Z.createElement(y.route.Component,null):y.route.element?se=y.route.element:se=b,Z.createElement(e3,{match:y,routeContext:{outlet:b,matches:q,isDataRoute:o!=null},children:se})};return o&&(y.route.ErrorBoundary||y.route.errorElement||C===0)?Z.createElement($x,{location:o.location,revalidation:o.revalidation,component:k,error:T,children:Y(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):Y()},null)}function M0(f){return`${f} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n3(f){let s=Z.useContext(rl);return Xt(s,M0(f)),s}function i3(f){let s=Z.useContext(Ju);return Xt(s,M0(f)),s}function r3(f){let s=Z.useContext(Ui);return Xt(s,M0(f)),s}function B0(f){let s=r3(f),o=s.matches[s.matches.length-1];return Xt(o.route.id,`${f} can only be used on routes that contain a unique "id"`),o.route.id}function a3(){return B0("useRouteId")}function s3(){let f=Z.useContext(D0),s=i3("useRouteError"),o=B0("useRouteError");return f!==void 0?f:s.errors?.[o]}function l3(){let{router:f}=n3("useNavigate"),s=B0("useNavigate"),o=Z.useRef(!1);return W2(()=>{o.current=!0}),Z.useCallback(async(m,x={})=>{ki(o.current,Y2),o.current&&(typeof m=="number"?f.navigate(m):await f.navigate(m,{fromRouteId:s,...x}))},[f,s])}var Jd={};function K2(f,s,o){!s&&!Jd[f]&&(Jd[f]=!0,ki(!1,o))}Z.memo(o3);function o3({routes:f,future:s,state:o}){return Z2(f,void 0,o,s)}function u3({to:f,replace:s,state:o,relative:d}){Xt(al(),"<Navigate> may be used only in the context of a <Router> component.");let{static:m}=Z.useContext(Pi);ki(!m,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:x}=Z.useContext(Ui),{pathname:A}=ma(),_=ji(),b=I0(f,N0(x),A,d==="path"),y=JSON.stringify(b);return Z.useEffect(()=>{_(JSON.parse(y),{replace:s,state:o,relative:d})},[_,y,d,s,o]),null}function ar(f){Xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function c3({basename:f="/",children:s=null,location:o,navigationType:d="POP",navigator:m,static:x=!1}){Xt(!al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let A=f.replace(/^\/*/,"/"),_=Z.useMemo(()=>({basename:A,navigator:m,static:x,future:{}}),[A,m,x]);typeof o=="string"&&(o=il(o));let{pathname:b="/",search:y="",hash:C="",state:T=null,key:M="default"}=o,k=Z.useMemo(()=>{let H=Dr(b,A);return H==null?null:{location:{pathname:H,search:y,hash:C,state:T,key:M},navigationType:d}},[A,b,y,C,T,M,d]);return ki(k!=null,`<Router basename="${A}"> is not able to match the URL "${b}${y}${C}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:Z.createElement(Pi.Provider,{value:_},Z.createElement(wo.Provider,{children:s,value:k}))}function f3({children:f,location:s}){return Kx(d0(f),s)}function d0(f,s=[]){let o=[];return Z.Children.forEach(f,(d,m)=>{if(!Z.isValidElement(d))return;let x=[...s,m];if(d.type===Z.Fragment){o.push.apply(o,d0(d.props.children,x));return}Xt(d.type===ar,`[${typeof d.type=="string"?d.type:d.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xt(!d.props.index||!d.props.children,"An index route cannot have child routes.");let A={id:d.props.id||x.join("-"),caseSensitive:d.props.caseSensitive,element:d.props.element,Component:d.props.Component,index:d.props.index,path:d.props.path,loader:d.props.loader,action:d.props.action,hydrateFallbackElement:d.props.hydrateFallbackElement,HydrateFallback:d.props.HydrateFallback,errorElement:d.props.errorElement,ErrorBoundary:d.props.ErrorBoundary,hasErrorBoundary:d.props.hasErrorBoundary===!0||d.props.ErrorBoundary!=null||d.props.errorElement!=null,shouldRevalidate:d.props.shouldRevalidate,handle:d.props.handle,lazy:d.props.lazy};d.props.children&&(A.children=d0(d.props.children,x)),o.push(A)}),o}var zu="get",Hu="application/x-www-form-urlencoded";function $u(f){return f!=null&&typeof f.tagName=="string"}function h3(f){return $u(f)&&f.tagName.toLowerCase()==="button"}function d3(f){return $u(f)&&f.tagName.toLowerCase()==="form"}function g3(f){return $u(f)&&f.tagName.toLowerCase()==="input"}function m3(f){return!!(f.metaKey||f.altKey||f.ctrlKey||f.shiftKey)}function x3(f,s){return f.button===0&&(!s||s==="_self")&&!m3(f)}var Lu=null;function p3(){if(Lu===null)try{new FormData(document.createElement("form"),0),Lu=!1}catch{Lu=!0}return Lu}var w3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function r0(f){return f!=null&&!w3.has(f)?(ki(!1,`"${f}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hu}"`),null):f}function y3(f,s){let o,d,m,x,A;if(d3(f)){let _=f.getAttribute("action");d=_?Dr(_,s):null,o=f.getAttribute("method")||zu,m=r0(f.getAttribute("enctype"))||Hu,x=new FormData(f)}else if(h3(f)||g3(f)&&(f.type==="submit"||f.type==="image")){let _=f.form;if(_==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let b=f.getAttribute("formaction")||_.getAttribute("action");if(d=b?Dr(b,s):null,o=f.getAttribute("formmethod")||_.getAttribute("method")||zu,m=r0(f.getAttribute("formenctype"))||r0(_.getAttribute("enctype"))||Hu,x=new FormData(_,f),!p3()){let{name:y,type:C,value:T}=f;if(C==="image"){let M=y?`${y}.`:"";x.append(`${M}x`,"0"),x.append(`${M}y`,"0")}else y&&x.append(y,T)}}else{if($u(f))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=zu,d=null,m=Hu,A=f}return x&&m==="text/plain"&&(A=x,x=void 0),{action:d,method:o.toLowerCase(),encType:m,formData:x,body:A}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function L0(f,s){if(f===!1||f===null||typeof f>"u")throw new Error(s)}function E3(f,s,o){let d=typeof f=="string"?new URL(f,typeof window>"u"?"server://singlefetch/":window.location.origin):f;return d.pathname==="/"?d.pathname=`_root.${o}`:s&&Dr(d.pathname,s)==="/"?d.pathname=`${s.replace(/\/$/,"")}/_root.${o}`:d.pathname=`${d.pathname.replace(/\/$/,"")}.${o}`,d}async function v3(f,s){if(f.id in s)return s[f.id];try{let o=await import(f.module);return s[f.id]=o,o}catch(o){return console.error(`Error loading route module \`${f.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function b3(f){return f==null?!1:f.href==null?f.rel==="preload"&&typeof f.imageSrcSet=="string"&&typeof f.imageSizes=="string":typeof f.rel=="string"&&typeof f.href=="string"}async function A3(f,s,o){let d=await Promise.all(f.map(async m=>{let x=s.routes[m.route.id];if(x){let A=await v3(x,o);return A.links?A.links():[]}return[]}));return T3(d.flat(1).filter(b3).filter(m=>m.rel==="stylesheet"||m.rel==="preload").map(m=>m.rel==="stylesheet"?{...m,rel:"prefetch",as:"style"}:{...m,rel:"prefetch"}))}function $d(f,s,o,d,m,x){let A=(b,y)=>o[y]?b.route.id!==o[y].route.id:!0,_=(b,y)=>o[y].pathname!==b.pathname||o[y].route.path?.endsWith("*")&&o[y].params["*"]!==b.params["*"];return x==="assets"?s.filter((b,y)=>A(b,y)||_(b,y)):x==="data"?s.filter((b,y)=>{let C=d.routes[b.route.id];if(!C||!C.hasLoader)return!1;if(A(b,y)||_(b,y))return!0;if(b.route.shouldRevalidate){let T=b.route.shouldRevalidate({currentUrl:new URL(m.pathname+m.search+m.hash,window.origin),currentParams:o[0]?.params||{},nextUrl:new URL(f,window.origin),nextParams:b.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function C3(f,s,{includeHydrateFallback:o}={}){return _3(f.map(d=>{let m=s.routes[d.route.id];if(!m)return[];let x=[m.module];return m.clientActionModule&&(x=x.concat(m.clientActionModule)),m.clientLoaderModule&&(x=x.concat(m.clientLoaderModule)),o&&m.hydrateFallbackModule&&(x=x.concat(m.hydrateFallbackModule)),m.imports&&(x=x.concat(m.imports)),x}).flat(1))}function _3(f){return[...new Set(f)]}function S3(f){let s={},o=Object.keys(f).sort();for(let d of o)s[d]=f[d];return s}function T3(f,s){let o=new Set;return new Set(s),f.reduce((d,m)=>{let x=JSON.stringify(S3(m));return o.has(x)||(o.add(x),d.push({key:x,link:m})),d},[])}function Q2(){let f=Z.useContext(rl);return L0(f,"You must render this element inside a <DataRouterContext.Provider> element"),f}function O3(){let f=Z.useContext(Ju);return L0(f,"You must render this element inside a <DataRouterStateContext.Provider> element"),f}var k0=Z.createContext(void 0);k0.displayName="FrameworkContext";function J2(){let f=Z.useContext(k0);return L0(f,"You must render this element inside a <HydratedRouter> element"),f}function R3(f,s){let o=Z.useContext(k0),[d,m]=Z.useState(!1),[x,A]=Z.useState(!1),{onFocus:_,onBlur:b,onMouseEnter:y,onMouseLeave:C,onTouchStart:T}=s,M=Z.useRef(null);Z.useEffect(()=>{if(f==="render"&&A(!0),f==="viewport"){let q=se=>{se.forEach(xe=>{A(xe.isIntersecting)})},Y=new IntersectionObserver(q,{threshold:.5});return M.current&&Y.observe(M.current),()=>{Y.disconnect()}}},[f]),Z.useEffect(()=>{if(d){let q=setTimeout(()=>{A(!0)},100);return()=>{clearTimeout(q)}}},[d]);let k=()=>{m(!0)},H=()=>{m(!1),A(!1)};return o?f!=="intent"?[x,M,{}]:[x,M,{onFocus:ao(_,k),onBlur:ao(b,H),onMouseEnter:ao(y,k),onMouseLeave:ao(C,H),onTouchStart:ao(T,k)}]:[!1,M,{}]}function ao(f,s){return o=>{f&&f(o),o.defaultPrevented||s(o)}}function N3({page:f,...s}){let{router:o}=Q2(),d=Z.useMemo(()=>H2(o.routes,f,o.basename),[o.routes,f,o.basename]);return d?Z.createElement(D3,{page:f,matches:d,...s}):null}function I3(f){let{manifest:s,routeModules:o}=J2(),[d,m]=Z.useState([]);return Z.useEffect(()=>{let x=!1;return A3(f,s,o).then(A=>{x||m(A)}),()=>{x=!0}},[f,s,o]),d}function D3({page:f,matches:s,...o}){let d=ma(),{manifest:m,routeModules:x}=J2(),{basename:A}=Q2(),{loaderData:_,matches:b}=O3(),y=Z.useMemo(()=>$d(f,s,b,m,d,"data"),[f,s,b,m,d]),C=Z.useMemo(()=>$d(f,s,b,m,d,"assets"),[f,s,b,m,d]),T=Z.useMemo(()=>{if(f===d.pathname+d.search+d.hash)return[];let H=new Set,q=!1;if(s.forEach(se=>{let xe=m.routes[se.route.id];!xe||!xe.hasLoader||(!y.some(V=>V.route.id===se.route.id)&&se.route.id in _&&x[se.route.id]?.shouldRevalidate||xe.hasClientLoader?q=!0:H.add(se.route.id))}),H.size===0)return[];let Y=E3(f,A,"data");return q&&H.size>0&&Y.searchParams.set("_routes",s.filter(se=>H.has(se.route.id)).map(se=>se.route.id).join(",")),[Y.pathname+Y.search]},[A,_,d,m,y,s,f,x]),M=Z.useMemo(()=>C3(C,m),[C,m]),k=I3(C);return Z.createElement(Z.Fragment,null,T.map(H=>Z.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...o})),M.map(H=>Z.createElement("link",{key:H,rel:"modulepreload",href:H,...o})),k.map(({key:H,link:q})=>Z.createElement("link",{key:H,nonce:o.nonce,...q})))}function M3(...f){return s=>{f.forEach(o=>{typeof o=="function"?o(s):o!=null&&(o.current=s)})}}var $2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$2&&(window.__reactRouterVersion="7.8.0")}catch{}function B3({basename:f,children:s,window:o}){let d=Z.useRef();d.current==null&&(d.current=Ex({window:o,v5Compat:!0}));let m=d.current,[x,A]=Z.useState({action:m.action,location:m.location}),_=Z.useCallback(b=>{Z.startTransition(()=>A(b))},[A]);return Z.useLayoutEffect(()=>m.listen(_),[m,_]),Z.createElement(c3,{basename:f,children:s,location:x.location,navigationType:x.action,navigator:m})}var eg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tg=Z.forwardRef(function({onClick:s,discover:o="render",prefetch:d="none",relative:m,reloadDocument:x,replace:A,state:_,target:b,to:y,preventScrollReset:C,viewTransition:T,...M},k){let{basename:H}=Z.useContext(Pi),q=typeof y=="string"&&eg.test(y),Y,se=!1;if(typeof y=="string"&&q&&(Y=y,$2))try{let ce=new URL(window.location.href),Ut=y.startsWith("//")?new URL(ce.protocol+y):new URL(y),Ve=Dr(Ut.pathname,H);Ut.origin===ce.origin&&Ve!=null?y=Ve+Ut.search+Ut.hash:se=!0}catch{ki(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let xe=Yx(y,{relative:m}),[V,le,we]=R3(d,M),Ce=P3(y,{replace:A,state:_,target:b,preventScrollReset:C,relative:m,viewTransition:T});function ae(ce){s&&s(ce),ce.defaultPrevented||Ce(ce)}let Le=Z.createElement("a",{...M,...we,href:Y||xe,onClick:se||x?s:ae,ref:M3(k,le),target:b,"data-discover":!q&&o==="render"?"true":void 0});return V&&!q?Z.createElement(Z.Fragment,null,Le,Z.createElement(N3,{page:xe})):Le});tg.displayName="Link";var co=Z.forwardRef(function({"aria-current":s="page",caseSensitive:o=!1,className:d="",end:m=!1,style:x,to:A,viewTransition:_,children:b,...y},C){let T=yo(A,{relative:y.relative}),M=ma(),k=Z.useContext(Ju),{navigator:H,basename:q}=Z.useContext(Pi),Y=k!=null&&H3(T)&&_===!0,se=H.encodeLocation?H.encodeLocation(T).pathname:T.pathname,xe=M.pathname,V=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;o||(xe=xe.toLowerCase(),V=V?V.toLowerCase():null,se=se.toLowerCase()),V&&q&&(V=Dr(V,q)||V);const le=se!=="/"&&se.endsWith("/")?se.length-1:se.length;let we=xe===se||!m&&xe.startsWith(se)&&xe.charAt(le)==="/",Ce=V!=null&&(V===se||!m&&V.startsWith(se)&&V.charAt(se.length)==="/"),ae={isActive:we,isPending:Ce,isTransitioning:Y},Le=we?s:void 0,ce;typeof d=="function"?ce=d(ae):ce=[d,we?"active":null,Ce?"pending":null,Y?"transitioning":null].filter(Boolean).join(" ");let Ut=typeof x=="function"?x(ae):x;return Z.createElement(tg,{...y,"aria-current":Le,className:ce,ref:C,style:Ut,to:A,viewTransition:_},typeof b=="function"?b(ae):b)});co.displayName="NavLink";var L3=Z.forwardRef(({discover:f="render",fetcherKey:s,navigate:o,reloadDocument:d,replace:m,state:x,method:A=zu,action:_,onSubmit:b,relative:y,preventScrollReset:C,viewTransition:T,...M},k)=>{let H=F3(),q=z3(_,{relative:y}),Y=A.toLowerCase()==="get"?"get":"post",se=typeof _=="string"&&eg.test(_),xe=V=>{if(b&&b(V),V.defaultPrevented)return;V.preventDefault();let le=V.nativeEvent.submitter,we=le?.getAttribute("formmethod")||A;H(le||V.currentTarget,{fetcherKey:s,method:we,navigate:o,replace:m,state:x,relative:y,preventScrollReset:C,viewTransition:T})};return Z.createElement("form",{ref:k,method:Y,action:q,onSubmit:d?b:xe,...M,"data-discover":!se&&f==="render"?"true":void 0})});L3.displayName="Form";function k3(f){return`${f} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ng(f){let s=Z.useContext(rl);return Xt(s,k3(f)),s}function P3(f,{target:s,replace:o,state:d,preventScrollReset:m,relative:x,viewTransition:A}={}){let _=ji(),b=ma(),y=yo(f,{relative:x});return Z.useCallback(C=>{if(x3(C,s)){C.preventDefault();let T=o!==void 0?o:mo(b)===mo(y);_(f,{replace:T,state:d,preventScrollReset:m,relative:x,viewTransition:A})}},[b,_,y,o,d,s,f,m,x,A])}var U3=0,j3=()=>`__${String(++U3)}__`;function F3(){let{router:f}=ng("useSubmit"),{basename:s}=Z.useContext(Pi),o=a3();return Z.useCallback(async(d,m={})=>{let{action:x,method:A,encType:_,formData:b,body:y}=y3(d,s);if(m.navigate===!1){let C=m.fetcherKey||j3();await f.fetch(C,o,m.action||x,{preventScrollReset:m.preventScrollReset,formData:b,body:y,formMethod:m.method||A,formEncType:m.encType||_,flushSync:m.flushSync})}else await f.navigate(m.action||x,{preventScrollReset:m.preventScrollReset,formData:b,body:y,formMethod:m.method||A,formEncType:m.encType||_,replace:m.replace,state:m.state,fromRouteId:o,flushSync:m.flushSync,viewTransition:m.viewTransition})},[f,s,o])}function z3(f,{relative:s}={}){let{basename:o}=Z.useContext(Pi),d=Z.useContext(Ui);Xt(d,"useFormAction must be used inside a RouteContext");let[m]=d.matches.slice(-1),x={...yo(f||".",{relative:s})},A=ma();if(f==null){x.search=A.search;let _=new URLSearchParams(x.search),b=_.getAll("index");if(b.some(C=>C==="")){_.delete("index"),b.filter(T=>T).forEach(T=>_.append("index",T));let C=_.toString();x.search=C?`?${C}`:""}}return(!f||f===".")&&m.route.index&&(x.search=x.search?x.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(x.pathname=x.pathname==="/"?o:Ir([o,x.pathname])),mo(x)}function H3(f,{relative:s}={}){let o=Z.useContext(q2);Xt(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:d}=ng("useViewTransitionState"),m=yo(f,{relative:s});if(!o.isTransitioning)return!1;let x=Dr(o.currentLocation.pathname,d)||o.currentLocation.pathname,A=Dr(o.nextLocation.pathname,d)||o.nextLocation.pathname;return Gu(m.pathname,A)!=null||Gu(m.pathname,x)!=null}const G3="modulepreload",V3=function(f){return"/ShelfTracker/"+f},e2={},Eo=function(s,o,d){let m=Promise.resolve();if(o&&o.length>0){let y=function(C){return Promise.all(C.map(T=>Promise.resolve(T).then(M=>({status:"fulfilled",value:M}),M=>({status:"rejected",reason:M}))))};var A=y;document.getElementsByTagName("link");const _=document.querySelector("meta[property=csp-nonce]"),b=_?.nonce||_?.getAttribute("nonce");m=y(o.map(C=>{if(C=V3(C),C in e2)return;e2[C]=!0;const T=C.endsWith(".css"),M=T?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${C}"]${M}`))return;const k=document.createElement("link");if(k.rel=T?"stylesheet":G3,T||(k.as="script"),k.crossOrigin="",k.href=C,b&&k.setAttribute("nonce",b),document.head.appendChild(k),T)return new Promise((H,q)=>{k.addEventListener("load",H),k.addEventListener("error",()=>q(new Error(`Unable to preload CSS for ${C}`)))})}))}function x(_){const b=new Event("vite:preloadError",{cancelable:!0});if(b.payload=_,window.dispatchEvent(b),!b.defaultPrevented)throw _}return m.then(_=>{for(const b of _||[])b.status==="rejected"&&x(b.reason);return s().catch(x)})},X3=f=>{let s;return f?s=f:typeof fetch>"u"?s=(...o)=>Eo(async()=>{const{default:d}=await Promise.resolve().then(()=>sl);return{default:d}},[]).then(({default:d})=>d(...o)):s=fetch,(...o)=>s(...o)};class P0 extends Error{constructor(s,o="FunctionsError",d){super(s),this.name=o,this.context=d}}class q3 extends P0{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class t2 extends P0{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class n2 extends P0{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var g0;(function(f){f.Any="any",f.ApNortheast1="ap-northeast-1",f.ApNortheast2="ap-northeast-2",f.ApSouth1="ap-south-1",f.ApSoutheast1="ap-southeast-1",f.ApSoutheast2="ap-southeast-2",f.CaCentral1="ca-central-1",f.EuCentral1="eu-central-1",f.EuWest1="eu-west-1",f.EuWest2="eu-west-2",f.EuWest3="eu-west-3",f.SaEast1="sa-east-1",f.UsEast1="us-east-1",f.UsWest1="us-west-1",f.UsWest2="us-west-2"})(g0||(g0={}));var Y3=function(f,s,o,d){function m(x){return x instanceof o?x:new o(function(A){A(x)})}return new(o||(o=Promise))(function(x,A){function _(C){try{y(d.next(C))}catch(T){A(T)}}function b(C){try{y(d.throw(C))}catch(T){A(T)}}function y(C){C.done?x(C.value):m(C.value).then(_,b)}y((d=d.apply(f,s||[])).next())})};class W3{constructor(s,{headers:o={},customFetch:d,region:m=g0.Any}={}){this.url=s,this.headers=o,this.region=m,this.fetch=X3(d)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s,o={}){var d;return Y3(this,void 0,void 0,function*(){try{const{headers:m,method:x,body:A}=o;let _={},{region:b}=o;b||(b=this.region);const y=new URL(`${this.url}/${s}`);b&&b!=="any"&&(_["x-region"]=b,y.searchParams.set("forceFunctionRegion",b));let C;A&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)&&(typeof Blob<"u"&&A instanceof Blob||A instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",C=A):typeof A=="string"?(_["Content-Type"]="text/plain",C=A):typeof FormData<"u"&&A instanceof FormData?C=A:(_["Content-Type"]="application/json",C=JSON.stringify(A)));const T=yield this.fetch(y.toString(),{method:x||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),m),body:C}).catch(q=>{throw new q3(q)}),M=T.headers.get("x-relay-error");if(M&&M==="true")throw new t2(T);if(!T.ok)throw new n2(T);let k=((d=T.headers.get("Content-Type"))!==null&&d!==void 0?d:"text/plain").split(";")[0].trim(),H;return k==="application/json"?H=yield T.json():k==="application/octet-stream"?H=yield T.blob():k==="text/event-stream"?H=T:k==="multipart/form-data"?H=yield T.formData():H=yield T.text(),{data:H,error:null,response:T}}catch(m){return{data:null,error:m,response:m instanceof n2||m instanceof t2?m.context:void 0}}})}}var Rn={},Hs={},Gs={},Vs={},Xs={},qs={},Z3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},nl=Z3();const K3=nl.fetch,ig=nl.fetch.bind(nl),rg=nl.Headers,Q3=nl.Request,J3=nl.Response,sl=Object.freeze(Object.defineProperty({__proto__:null,Headers:rg,Request:Q3,Response:J3,default:ig,fetch:K3},Symbol.toStringTag,{value:"Module"})),$3=ux(sl);var ku={},i2;function ag(){if(i2)return ku;i2=1,Object.defineProperty(ku,"__esModule",{value:!0});class f extends Error{constructor(o){super(o.message),this.name="PostgrestError",this.details=o.details,this.hint=o.hint,this.code=o.code}}return ku.default=f,ku}var r2;function sg(){if(r2)return qs;r2=1;var f=qs&&qs.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(qs,"__esModule",{value:!0});const s=f($3),o=f(ag());class d{constructor(x){this.shouldThrowOnError=!1,this.method=x.method,this.url=x.url,this.headers=x.headers,this.schema=x.schema,this.body=x.body,this.shouldThrowOnError=x.shouldThrowOnError,this.signal=x.signal,this.isMaybeSingle=x.isMaybeSingle,x.fetch?this.fetch=x.fetch:typeof fetch>"u"?this.fetch=s.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(x,A){return this.headers=Object.assign({},this.headers),this.headers[x]=A,this}then(x,A){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const _=this.fetch;let b=_(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var C,T,M;let k=null,H=null,q=null,Y=y.status,se=y.statusText;if(y.ok){if(this.method!=="HEAD"){const we=await y.text();we===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?H=we:H=JSON.parse(we))}const V=(C=this.headers.Prefer)===null||C===void 0?void 0:C.match(/count=(exact|planned|estimated)/),le=(T=y.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");V&&le&&le.length>1&&(q=parseInt(le[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(H)&&(H.length>1?(k={code:"PGRST116",details:`Results contain ${H.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},H=null,q=null,Y=406,se="Not Acceptable"):H.length===1?H=H[0]:H=null)}else{const V=await y.text();try{k=JSON.parse(V),Array.isArray(k)&&y.status===404&&(H=[],k=null,Y=200,se="OK")}catch{y.status===404&&V===""?(Y=204,se="No Content"):k={message:V}}if(k&&this.isMaybeSingle&&(!((M=k?.details)===null||M===void 0)&&M.includes("0 rows"))&&(k=null,Y=200,se="OK"),k&&this.shouldThrowOnError)throw new o.default(k)}return{error:k,data:H,count:q,status:Y,statusText:se}});return this.shouldThrowOnError||(b=b.catch(y=>{var C,T,M;return{error:{message:`${(C=y?.name)!==null&&C!==void 0?C:"FetchError"}: ${y?.message}`,details:`${(T=y?.stack)!==null&&T!==void 0?T:""}`,hint:"",code:`${(M=y?.code)!==null&&M!==void 0?M:""}`},data:null,count:null,status:0,statusText:""}})),b.then(x,A)}returns(){return this}overrideTypes(){return this}}return qs.default=d,qs}var a2;function lg(){if(a2)return Xs;a2=1;var f=Xs&&Xs.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Xs,"__esModule",{value:!0});const s=f(sg());class o extends s.default{select(m){let x=!1;const A=(m??"*").split("").map(_=>/\s/.test(_)&&!x?"":(_==='"'&&(x=!x),_)).join("");return this.url.searchParams.set("select",A),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(m,{ascending:x=!0,nullsFirst:A,foreignTable:_,referencedTable:b=_}={}){const y=b?`${b}.order`:"order",C=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${C?`${C},`:""}${m}.${x?"asc":"desc"}${A===void 0?"":A?".nullsfirst":".nullslast"}`),this}limit(m,{foreignTable:x,referencedTable:A=x}={}){const _=typeof A>"u"?"limit":`${A}.limit`;return this.url.searchParams.set(_,`${m}`),this}range(m,x,{foreignTable:A,referencedTable:_=A}={}){const b=typeof _>"u"?"offset":`${_}.offset`,y=typeof _>"u"?"limit":`${_}.limit`;return this.url.searchParams.set(b,`${m}`),this.url.searchParams.set(y,`${x-m+1}`),this}abortSignal(m){return this.signal=m,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:m=!1,verbose:x=!1,settings:A=!1,buffers:_=!1,wal:b=!1,format:y="text"}={}){var C;const T=[m?"analyze":null,x?"verbose":null,A?"settings":null,_?"buffers":null,b?"wal":null].filter(Boolean).join("|"),M=(C=this.headers.Accept)!==null&&C!==void 0?C:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${y}; for="${M}"; options=${T};`,y==="json"?this:this}rollback(){var m;return((m=this.headers.Prefer)!==null&&m!==void 0?m:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Xs.default=o,Xs}var s2;function U0(){if(s2)return Vs;s2=1;var f=Vs&&Vs.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Vs,"__esModule",{value:!0});const s=f(lg());class o extends s.default{eq(m,x){return this.url.searchParams.append(m,`eq.${x}`),this}neq(m,x){return this.url.searchParams.append(m,`neq.${x}`),this}gt(m,x){return this.url.searchParams.append(m,`gt.${x}`),this}gte(m,x){return this.url.searchParams.append(m,`gte.${x}`),this}lt(m,x){return this.url.searchParams.append(m,`lt.${x}`),this}lte(m,x){return this.url.searchParams.append(m,`lte.${x}`),this}like(m,x){return this.url.searchParams.append(m,`like.${x}`),this}likeAllOf(m,x){return this.url.searchParams.append(m,`like(all).{${x.join(",")}}`),this}likeAnyOf(m,x){return this.url.searchParams.append(m,`like(any).{${x.join(",")}}`),this}ilike(m,x){return this.url.searchParams.append(m,`ilike.${x}`),this}ilikeAllOf(m,x){return this.url.searchParams.append(m,`ilike(all).{${x.join(",")}}`),this}ilikeAnyOf(m,x){return this.url.searchParams.append(m,`ilike(any).{${x.join(",")}}`),this}is(m,x){return this.url.searchParams.append(m,`is.${x}`),this}in(m,x){const A=Array.from(new Set(x)).map(_=>typeof _=="string"&&new RegExp("[,()]").test(_)?`"${_}"`:`${_}`).join(",");return this.url.searchParams.append(m,`in.(${A})`),this}contains(m,x){return typeof x=="string"?this.url.searchParams.append(m,`cs.${x}`):Array.isArray(x)?this.url.searchParams.append(m,`cs.{${x.join(",")}}`):this.url.searchParams.append(m,`cs.${JSON.stringify(x)}`),this}containedBy(m,x){return typeof x=="string"?this.url.searchParams.append(m,`cd.${x}`):Array.isArray(x)?this.url.searchParams.append(m,`cd.{${x.join(",")}}`):this.url.searchParams.append(m,`cd.${JSON.stringify(x)}`),this}rangeGt(m,x){return this.url.searchParams.append(m,`sr.${x}`),this}rangeGte(m,x){return this.url.searchParams.append(m,`nxl.${x}`),this}rangeLt(m,x){return this.url.searchParams.append(m,`sl.${x}`),this}rangeLte(m,x){return this.url.searchParams.append(m,`nxr.${x}`),this}rangeAdjacent(m,x){return this.url.searchParams.append(m,`adj.${x}`),this}overlaps(m,x){return typeof x=="string"?this.url.searchParams.append(m,`ov.${x}`):this.url.searchParams.append(m,`ov.{${x.join(",")}}`),this}textSearch(m,x,{config:A,type:_}={}){let b="";_==="plain"?b="pl":_==="phrase"?b="ph":_==="websearch"&&(b="w");const y=A===void 0?"":`(${A})`;return this.url.searchParams.append(m,`${b}fts${y}.${x}`),this}match(m){return Object.entries(m).forEach(([x,A])=>{this.url.searchParams.append(x,`eq.${A}`)}),this}not(m,x,A){return this.url.searchParams.append(m,`not.${x}.${A}`),this}or(m,{foreignTable:x,referencedTable:A=x}={}){const _=A?`${A}.or`:"or";return this.url.searchParams.append(_,`(${m})`),this}filter(m,x,A){return this.url.searchParams.append(m,`${x}.${A}`),this}}return Vs.default=o,Vs}var l2;function og(){if(l2)return Gs;l2=1;var f=Gs&&Gs.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Gs,"__esModule",{value:!0});const s=f(U0());class o{constructor(m,{headers:x={},schema:A,fetch:_}){this.url=m,this.headers=x,this.schema=A,this.fetch=_}select(m,{head:x=!1,count:A}={}){const _=x?"HEAD":"GET";let b=!1;const y=(m??"*").split("").map(C=>/\s/.test(C)&&!b?"":(C==='"'&&(b=!b),C)).join("");return this.url.searchParams.set("select",y),A&&(this.headers.Prefer=`count=${A}`),new s.default({method:_,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(m,{count:x,defaultToNull:A=!0}={}){const _="POST",b=[];if(this.headers.Prefer&&b.push(this.headers.Prefer),x&&b.push(`count=${x}`),A||b.push("missing=default"),this.headers.Prefer=b.join(","),Array.isArray(m)){const y=m.reduce((C,T)=>C.concat(Object.keys(T)),[]);if(y.length>0){const C=[...new Set(y)].map(T=>`"${T}"`);this.url.searchParams.set("columns",C.join(","))}}return new s.default({method:_,url:this.url,headers:this.headers,schema:this.schema,body:m,fetch:this.fetch,allowEmpty:!1})}upsert(m,{onConflict:x,ignoreDuplicates:A=!1,count:_,defaultToNull:b=!0}={}){const y="POST",C=[`resolution=${A?"ignore":"merge"}-duplicates`];if(x!==void 0&&this.url.searchParams.set("on_conflict",x),this.headers.Prefer&&C.push(this.headers.Prefer),_&&C.push(`count=${_}`),b||C.push("missing=default"),this.headers.Prefer=C.join(","),Array.isArray(m)){const T=m.reduce((M,k)=>M.concat(Object.keys(k)),[]);if(T.length>0){const M=[...new Set(T)].map(k=>`"${k}"`);this.url.searchParams.set("columns",M.join(","))}}return new s.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:m,fetch:this.fetch,allowEmpty:!1})}update(m,{count:x}={}){const A="PATCH",_=[];return this.headers.Prefer&&_.push(this.headers.Prefer),x&&_.push(`count=${x}`),this.headers.Prefer=_.join(","),new s.default({method:A,url:this.url,headers:this.headers,schema:this.schema,body:m,fetch:this.fetch,allowEmpty:!1})}delete({count:m}={}){const x="DELETE",A=[];return m&&A.push(`count=${m}`),this.headers.Prefer&&A.unshift(this.headers.Prefer),this.headers.Prefer=A.join(","),new s.default({method:x,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Gs.default=o,Gs}var so={},lo={},o2;function ep(){return o2||(o2=1,Object.defineProperty(lo,"__esModule",{value:!0}),lo.version=void 0,lo.version="0.0.0-automated"),lo}var u2;function tp(){if(u2)return so;u2=1,Object.defineProperty(so,"__esModule",{value:!0}),so.DEFAULT_HEADERS=void 0;const f=ep();return so.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${f.version}`},so}var c2;function np(){if(c2)return Hs;c2=1;var f=Hs&&Hs.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(Hs,"__esModule",{value:!0});const s=f(og()),o=f(U0()),d=tp();class m{constructor(A,{headers:_={},schema:b,fetch:y}={}){this.url=A,this.headers=Object.assign(Object.assign({},d.DEFAULT_HEADERS),_),this.schemaName=b,this.fetch=y}from(A){const _=new URL(`${this.url}/${A}`);return new s.default(_,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(A){return new m(this.url,{headers:this.headers,schema:A,fetch:this.fetch})}rpc(A,_={},{head:b=!1,get:y=!1,count:C}={}){let T;const M=new URL(`${this.url}/rpc/${A}`);let k;b||y?(T=b?"HEAD":"GET",Object.entries(_).filter(([q,Y])=>Y!==void 0).map(([q,Y])=>[q,Array.isArray(Y)?`{${Y.join(",")}}`:`${Y}`]).forEach(([q,Y])=>{M.searchParams.append(q,Y)})):(T="POST",k=_);const H=Object.assign({},this.headers);return C&&(H.Prefer=`count=${C}`),new o.default({method:T,url:M,headers:H,schema:this.schemaName,body:k,fetch:this.fetch,allowEmpty:!1})}}return Hs.default=m,Hs}var f2;function ip(){if(f2)return Rn;f2=1;var f=Rn&&Rn.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.PostgrestError=Rn.PostgrestBuilder=Rn.PostgrestTransformBuilder=Rn.PostgrestFilterBuilder=Rn.PostgrestQueryBuilder=Rn.PostgrestClient=void 0;const s=f(np());Rn.PostgrestClient=s.default;const o=f(og());Rn.PostgrestQueryBuilder=o.default;const d=f(U0());Rn.PostgrestFilterBuilder=d.default;const m=f(lg());Rn.PostgrestTransformBuilder=m.default;const x=f(sg());Rn.PostgrestBuilder=x.default;const A=f(ag());return Rn.PostgrestError=A.default,Rn.default={PostgrestClient:s.default,PostgrestQueryBuilder:o.default,PostgrestFilterBuilder:d.default,PostgrestTransformBuilder:m.default,PostgrestBuilder:x.default,PostgrestError:A.default},Rn}var rp=ip();const ap=O0(rp),{PostgrestClient:sp,PostgrestQueryBuilder:M4,PostgrestFilterBuilder:B4,PostgrestTransformBuilder:L4,PostgrestBuilder:k4,PostgrestError:P4}=ap;class lp{static dynamicRequire(s){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(s):null}catch{return null}}static detectEnvironment(){var s,o;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((s=navigator.userAgent)===null||s===void 0)&&s.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const d=parseInt(process.versions.node.split(".")[0]);if(d>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const m=this.dynamicRequire("undici");if(m&&m.WebSocket)return{type:"native",constructor:m.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const m=this.dynamicRequire("ws");if(m)return{type:"ws",constructor:(o=m.WebSocket)!==null&&o!==void 0?o:m};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${d} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const s=this.detectEnvironment();if(s.constructor)return s.constructor;let o=s.error||"WebSocket not supported in this environment.";throw s.workaround&&(o+=`

Suggested solution: ${s.workaround}`),new Error(o)}static createWebSocket(s,o){const d=this.getWebSocketConstructor();return new d(s,o)}static isWebSocketSupported(){try{const s=this.detectEnvironment();return s.type==="native"||s.type==="ws"}catch{return!1}}}const op="2.15.0",up=`realtime-js/${op}`,cp="1.0.0",m0=1e4,fp=1e3,hp=100;var fo;(function(f){f[f.connecting=0]="connecting",f[f.open=1]="open",f[f.closing=2]="closing",f[f.closed=3]="closed"})(fo||(fo={}));var bn;(function(f){f.closed="closed",f.errored="errored",f.joined="joined",f.joining="joining",f.leaving="leaving"})(bn||(bn={}));var Bi;(function(f){f.close="phx_close",f.error="phx_error",f.join="phx_join",f.reply="phx_reply",f.leave="phx_leave",f.access_token="access_token"})(Bi||(Bi={}));var x0;(function(f){f.websocket="websocket"})(x0||(x0={}));var Za;(function(f){f.Connecting="connecting",f.Open="open",f.Closing="closing",f.Closed="closed"})(Za||(Za={}));class dp{constructor(){this.HEADER_LENGTH=1}decode(s,o){return s.constructor===ArrayBuffer?o(this._binaryDecode(s)):o(typeof s=="string"?JSON.parse(s):{})}_binaryDecode(s){const o=new DataView(s),d=new TextDecoder;return this._decodeBroadcast(s,o,d)}_decodeBroadcast(s,o,d){const m=o.getUint8(1),x=o.getUint8(2);let A=this.HEADER_LENGTH+2;const _=d.decode(s.slice(A,A+m));A=A+m;const b=d.decode(s.slice(A,A+x));A=A+x;const y=JSON.parse(d.decode(s.slice(A,s.byteLength)));return{ref:null,topic:_,event:b,payload:y}}}class ug{constructor(s,o){this.callback=s,this.timerCalc=o,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=o}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var kt;(function(f){f.abstime="abstime",f.bool="bool",f.date="date",f.daterange="daterange",f.float4="float4",f.float8="float8",f.int2="int2",f.int4="int4",f.int4range="int4range",f.int8="int8",f.int8range="int8range",f.json="json",f.jsonb="jsonb",f.money="money",f.numeric="numeric",f.oid="oid",f.reltime="reltime",f.text="text",f.time="time",f.timestamp="timestamp",f.timestamptz="timestamptz",f.timetz="timetz",f.tsrange="tsrange",f.tstzrange="tstzrange"})(kt||(kt={}));const h2=(f,s,o={})=>{var d;const m=(d=o.skipTypes)!==null&&d!==void 0?d:[];return Object.keys(s).reduce((x,A)=>(x[A]=gp(A,f,s,m),x),{})},gp=(f,s,o,d)=>{const m=s.find(_=>_.name===f),x=m?.type,A=o[f];return x&&!d.includes(x)?cg(x,A):p0(A)},cg=(f,s)=>{if(f.charAt(0)==="_"){const o=f.slice(1,f.length);return wp(s,o)}switch(f){case kt.bool:return mp(s);case kt.float4:case kt.float8:case kt.int2:case kt.int4:case kt.int8:case kt.numeric:case kt.oid:return xp(s);case kt.json:case kt.jsonb:return pp(s);case kt.timestamp:return yp(s);case kt.abstime:case kt.date:case kt.daterange:case kt.int4range:case kt.int8range:case kt.money:case kt.reltime:case kt.text:case kt.time:case kt.timestamptz:case kt.timetz:case kt.tsrange:case kt.tstzrange:return p0(s);default:return p0(s)}},p0=f=>f,mp=f=>{switch(f){case"t":return!0;case"f":return!1;default:return f}},xp=f=>{if(typeof f=="string"){const s=parseFloat(f);if(!Number.isNaN(s))return s}return f},pp=f=>{if(typeof f=="string")try{return JSON.parse(f)}catch(s){return console.log(`JSON parse error: ${s}`),f}return f},wp=(f,s)=>{if(typeof f!="string")return f;const o=f.length-1,d=f[o];if(f[0]==="{"&&d==="}"){let x;const A=f.slice(1,o);try{x=JSON.parse("["+A+"]")}catch{x=A?A.split(","):[]}return x.map(_=>cg(s,_))}return f},yp=f=>typeof f=="string"?f.replace(" ","T"):f,fg=f=>{let s=f;return s=s.replace(/^ws/i,"http"),s=s.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),s.replace(/\/+$/,"")+"/api/broadcast"};class a0{constructor(s,o,d={},m=m0){this.channel=s,this.event=o,this.payload=d,this.timeout=m,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,o){var d;return this._hasReceived(s)&&o((d=this.receivedResp)===null||d===void 0?void 0:d.response),this.recHooks.push({status:s,callback:o}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=o=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=o,this._matchReceive(o)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,o){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:o})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:o}){this.recHooks.filter(d=>d.status===s).forEach(d=>d.callback(o))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var d2;(function(f){f.SYNC="sync",f.JOIN="join",f.LEAVE="leave"})(d2||(d2={}));class ho{constructor(s,o){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const d=o?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(d.state,{},m=>{const{onJoin:x,onLeave:A,onSync:_}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ho.syncState(this.state,m,x,A),this.pendingDiffs.forEach(b=>{this.state=ho.syncDiff(this.state,b,x,A)}),this.pendingDiffs=[],_()}),this.channel._on(d.diff,{},m=>{const{onJoin:x,onLeave:A,onSync:_}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(m):(this.state=ho.syncDiff(this.state,m,x,A),_())}),this.onJoin((m,x,A)=>{this.channel._trigger("presence",{event:"join",key:m,currentPresences:x,newPresences:A})}),this.onLeave((m,x,A)=>{this.channel._trigger("presence",{event:"leave",key:m,currentPresences:x,leftPresences:A})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,o,d,m){const x=this.cloneDeep(s),A=this.transformState(o),_={},b={};return this.map(x,(y,C)=>{A[y]||(b[y]=C)}),this.map(A,(y,C)=>{const T=x[y];if(T){const M=C.map(Y=>Y.presence_ref),k=T.map(Y=>Y.presence_ref),H=C.filter(Y=>k.indexOf(Y.presence_ref)<0),q=T.filter(Y=>M.indexOf(Y.presence_ref)<0);H.length>0&&(_[y]=H),q.length>0&&(b[y]=q)}else _[y]=C}),this.syncDiff(x,{joins:_,leaves:b},d,m)}static syncDiff(s,o,d,m){const{joins:x,leaves:A}={joins:this.transformState(o.joins),leaves:this.transformState(o.leaves)};return d||(d=()=>{}),m||(m=()=>{}),this.map(x,(_,b)=>{var y;const C=(y=s[_])!==null&&y!==void 0?y:[];if(s[_]=this.cloneDeep(b),C.length>0){const T=s[_].map(k=>k.presence_ref),M=C.filter(k=>T.indexOf(k.presence_ref)<0);s[_].unshift(...M)}d(_,C,b)}),this.map(A,(_,b)=>{let y=s[_];if(!y)return;const C=b.map(T=>T.presence_ref);y=y.filter(T=>C.indexOf(T.presence_ref)<0),s[_]=y,m(_,y,b),y.length===0&&delete s[_]}),s}static map(s,o){return Object.getOwnPropertyNames(s).map(d=>o(d,s[d]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((o,d)=>{const m=s[d];return"metas"in m?o[d]=m.metas.map(x=>(x.presence_ref=x.phx_ref,delete x.phx_ref,delete x.phx_ref_prev,x)):o[d]=m,o},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var g2;(function(f){f.ALL="*",f.INSERT="INSERT",f.UPDATE="UPDATE",f.DELETE="DELETE"})(g2||(g2={}));var go;(function(f){f.BROADCAST="broadcast",f.PRESENCE="presence",f.POSTGRES_CHANGES="postgres_changes",f.SYSTEM="system"})(go||(go={}));var Rr;(function(f){f.SUBSCRIBED="SUBSCRIBED",f.TIMED_OUT="TIMED_OUT",f.CLOSED="CLOSED",f.CHANNEL_ERROR="CHANNEL_ERROR"})(Rr||(Rr={}));class j0{constructor(s,o={config:{}},d){this.topic=s,this.params=o,this.socket=d,this.bindings={},this.state=bn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},o.config),this.timeout=this.socket.timeout,this.joinPush=new a0(this,Bi.join,this.params,this.timeout),this.rejoinTimer=new ug(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=bn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(m=>m.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=bn.closed,this.socket._remove(this)}),this._onError(m=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,m),this.state=bn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=bn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",m=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,m),this.state=bn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bi.reply,{},(m,x)=>{this._trigger(this._replyEventName(x),m)}),this.presence=new ho(this),this.broadcastEndpointURL=fg(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(s,o=this.timeout){var d,m;if(this.socket.isConnected()||this.socket.connect(),this.state==bn.closed){const{config:{broadcast:x,presence:A,private:_}}=this.params,b=(m=(d=this.bindings.postgres_changes)===null||d===void 0?void 0:d.map(M=>M.filter))!==null&&m!==void 0?m:[],y=!!this.bindings[go.PRESENCE]&&this.bindings[go.PRESENCE].length>0,C={},T={broadcast:x,presence:Object.assign(Object.assign({},A),{enabled:y}),postgres_changes:b,private:_};this.socket.accessTokenValue&&(C.access_token=this.socket.accessTokenValue),this._onError(M=>s?.(Rr.CHANNEL_ERROR,M)),this._onClose(()=>s?.(Rr.CLOSED)),this.updateJoinPayload(Object.assign({config:T},C)),this.joinedOnce=!0,this._rejoin(o),this.joinPush.receive("ok",async({postgres_changes:M})=>{var k;if(this.socket.setAuth(),M===void 0){s?.(Rr.SUBSCRIBED);return}else{const H=this.bindings.postgres_changes,q=(k=H?.length)!==null&&k!==void 0?k:0,Y=[];for(let se=0;se<q;se++){const xe=H[se],{filter:{event:V,schema:le,table:we,filter:Ce}}=xe,ae=M&&M[se];if(ae&&ae.event===V&&ae.schema===le&&ae.table===we&&ae.filter===Ce)Y.push(Object.assign(Object.assign({},xe),{id:ae.id}));else{this.unsubscribe(),this.state=bn.errored,s?.(Rr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=Y,s&&s(Rr.SUBSCRIBED);return}}).receive("error",M=>{this.state=bn.errored,s?.(Rr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(M).join(", ")||"error")))}).receive("timeout",()=>{s?.(Rr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,o={}){return await this.send({type:"presence",event:"track",payload:s},o.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,o,d){return this.state===bn.joined&&s===go.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(s,o,d)}async send(s,o={}){var d,m;if(!this._canPush()&&s.type==="broadcast"){const{event:x,payload:A}=s,b={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:x,payload:A,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,b,(d=o.timeout)!==null&&d!==void 0?d:this.timeout);return await((m=y.body)===null||m===void 0?void 0:m.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(x=>{var A,_,b;const y=this._push(s.type,s,o.timeout||this.timeout);s.type==="broadcast"&&!(!((b=(_=(A=this.params)===null||A===void 0?void 0:A.config)===null||_===void 0?void 0:_.broadcast)===null||b===void 0)&&b.ack)&&x("ok"),y.receive("ok",()=>x("ok")),y.receive("error",()=>x("error")),y.receive("timeout",()=>x("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=bn.leaving;const o=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bi.close,"leave",this._joinRef())};this.joinPush.destroy();let d=null;return new Promise(m=>{d=new a0(this,Bi.leave,{},s),d.receive("ok",()=>{o(),m("ok")}).receive("timeout",()=>{o(),m("timed out")}).receive("error",()=>{m("error")}),d.send(),this._canPush()||d.trigger("ok",{})}).finally(()=>{d?.destroy()})}teardown(){this.pushBuffer.forEach(s=>s.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=bn.closed,this.bindings={}}async _fetchWithTimeout(s,o,d){const m=new AbortController,x=setTimeout(()=>m.abort(),d),A=await this.socket.fetch(s,Object.assign(Object.assign({},o),{signal:m.signal}));return clearTimeout(x),A}_push(s,o,d=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let m=new a0(this,s,o,d);return this._canPush()?m.send():this._addToPushBuffer(m),m}_addToPushBuffer(s){if(s.startTimeout(),this.pushBuffer.push(s),this.pushBuffer.length>hp){const o=this.pushBuffer.shift();o&&(o.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${o.event}`,o.payload))}}_onMessage(s,o,d){return o}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,o,d){var m,x;const A=s.toLocaleLowerCase(),{close:_,error:b,leave:y,join:C}=Bi;if(d&&[_,b,y,C].indexOf(A)>=0&&d!==this._joinRef())return;let M=this._onMessage(A,o,d);if(o&&!M)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(A)?(m=this.bindings.postgres_changes)===null||m===void 0||m.filter(k=>{var H,q,Y;return((H=k.filter)===null||H===void 0?void 0:H.event)==="*"||((Y=(q=k.filter)===null||q===void 0?void 0:q.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase())===A}).map(k=>k.callback(M,d)):(x=this.bindings[A])===null||x===void 0||x.filter(k=>{var H,q,Y,se,xe,V;if(["broadcast","presence","postgres_changes"].includes(A))if("id"in k){const le=k.id,we=(H=k.filter)===null||H===void 0?void 0:H.event;return le&&((q=o.ids)===null||q===void 0?void 0:q.includes(le))&&(we==="*"||we?.toLocaleLowerCase()===((Y=o.data)===null||Y===void 0?void 0:Y.type.toLocaleLowerCase()))}else{const le=(xe=(se=k?.filter)===null||se===void 0?void 0:se.event)===null||xe===void 0?void 0:xe.toLocaleLowerCase();return le==="*"||le===((V=o?.event)===null||V===void 0?void 0:V.toLocaleLowerCase())}else return k.type.toLocaleLowerCase()===A}).map(k=>{if(typeof M=="object"&&"ids"in M){const H=M.data,{schema:q,table:Y,commit_timestamp:se,type:xe,errors:V}=H;M=Object.assign(Object.assign({},{schema:q,table:Y,commit_timestamp:se,eventType:xe,new:{},old:{},errors:V}),this._getPayloadRecords(H))}k.callback(M,d)})}_isClosed(){return this.state===bn.closed}_isJoined(){return this.state===bn.joined}_isJoining(){return this.state===bn.joining}_isLeaving(){return this.state===bn.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,o,d){const m=s.toLocaleLowerCase(),x={type:m,filter:o,callback:d};return this.bindings[m]?this.bindings[m].push(x):this.bindings[m]=[x],this}_off(s,o){const d=s.toLocaleLowerCase();return this.bindings[d]&&(this.bindings[d]=this.bindings[d].filter(m=>{var x;return!(((x=m.type)===null||x===void 0?void 0:x.toLocaleLowerCase())===d&&j0.isEqual(m.filter,o))})),this}static isEqual(s,o){if(Object.keys(s).length!==Object.keys(o).length)return!1;for(const d in s)if(s[d]!==o[d])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(Bi.close,{},s)}_onError(s){this._on(Bi.error,{},o=>s(o))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=bn.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const o={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(o.new=h2(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(o.old=h2(s.columns,s.old_record)),o}}const m2=()=>{},Pu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ep=[1e3,2e3,5e3,1e4],vp=1e4,bp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ap{constructor(s,o){var d;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=m0,this.transport=null,this.heartbeatIntervalMs=Pu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=m2,this.ref=0,this.reconnectTimer=null,this.logger=m2,this.conn=null,this.sendBuffer=[],this.serializer=new dp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=m=>{let x;return m?x=m:typeof fetch>"u"?x=(...A)=>Eo(async()=>{const{default:_}=await Promise.resolve().then(()=>sl);return{default:_}},void 0).then(({default:_})=>_(...A)).catch(_=>{throw new Error(`Failed to load @supabase/node-fetch: ${_.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):x=fetch,(...A)=>x(...A)},!(!((d=o?.params)===null||d===void 0)&&d.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=o.params.apikey,this.endPoint=`${s}/${x0.websocket}`,this.httpEndpoint=fg(s),this._initializeOptions(o),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(o?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=lp.createWebSocket(this.endpointURL())}catch(s){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${s.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cp}))}disconnect(s,o){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const d=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(d),this._setConnectionState("disconnected")},s?this.conn.close(s,o??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(s){const o=await s.unsubscribe();return this.channels.length===0&&this.disconnect(),o}async removeAllChannels(){const s=await Promise.all(this.channels.map(o=>o.unsubscribe()));return this.channels=[],this.disconnect(),s}log(s,o,d){this.logger(s,o,d)}connectionState(){switch(this.conn&&this.conn.readyState){case fo.connecting:return Za.Connecting;case fo.open:return Za.Open;case fo.closing:return Za.Closing;default:return Za.Closed}}isConnected(){return this.connectionState()===Za.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(s,o={config:{}}){const d=`realtime:${s}`,m=this.getChannels().find(x=>x.topic===d);if(m)return m;{const x=new j0(`realtime:${s}`,o,this);return this.channels.push(x),x}}push(s){const{topic:o,event:d,payload:m,ref:x}=s,A=()=>{this.encode(s,_=>{var b;(b=this.conn)===null||b===void 0||b.send(_)})};this.log("push",`${o} ${d} (${x})`,m),this.isConnected()?A():this.sendBuffer.push(A)}async setAuth(s=null){this._authPromise=this._performAuth(s);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var s;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(s=this.conn)===null||s===void 0||s.close(fp,"heartbeat timeout"),setTimeout(()=>{var o;this.isConnected()||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout()},Pu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(s){this.heartbeatCallback=s}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let o=this.channels.find(d=>d.topic===s&&(d._isJoined()||d._isJoining()));o&&(this.log("transport",`leaving duplicate topic "${s}"`),o.unsubscribe())}_remove(s){this.channels=this.channels.filter(o=>o.topic!==s.topic)}_onConnMessage(s){this.decode(s.data,o=>{o.topic==="phoenix"&&o.event==="phx_reply"&&this.heartbeatCallback(o.payload.status==="ok"?"ok":"error"),o.ref&&o.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:d,event:m,payload:x,ref:A}=o,_=A?`(${A})`:"",b=x.status||"";this.log("receive",`${b} ${d} ${m} ${_}`.trim(),x),this.channels.filter(y=>y._isMember(d)).forEach(y=>y._trigger(m,x,A)),this._triggerStateCallbacks("message",o)})}_clearTimer(s){var o;s==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):s==="reconnect"&&((o=this.reconnectTimer)===null||o===void 0||o.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(s=>s.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=o=>{this.log("worker","worker error",o.message),this.workerRef.terminate()},this.workerRef.onmessage=o=>{o.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(s){var o;this._setConnectionState("disconnected"),this.log("transport","close",s),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout(),this._triggerStateCallbacks("close",s)}_onConnError(s){this._setConnectionState("disconnected"),this.log("transport",`${s}`),this._triggerChanError(),this._triggerStateCallbacks("error",s)}_triggerChanError(){this.channels.forEach(s=>s._trigger(Bi.error))}_appendParams(s,o){if(Object.keys(o).length===0)return s;const d=s.match(/\?/)?"&":"?",m=new URLSearchParams(o);return`${s}${d}${m}`}_workerObjectUrl(s){let o;if(s)o=s;else{const d=new Blob([bp],{type:"application/javascript"});o=URL.createObjectURL(d)}return o}_setConnectionState(s,o=!1){this._connectionState=s,s==="connecting"?this._wasManualDisconnect=!1:s==="disconnecting"&&(this._wasManualDisconnect=o)}async _performAuth(s=null){let o;s?o=s:this.accessToken?o=await this.accessToken():o=this.accessTokenValue,this.accessTokenValue!=o&&(this.accessTokenValue=o,this.channels.forEach(d=>{const m={access_token:o,version:up};o&&d.updateJoinPayload(m),d.joinedOnce&&d._isJoined()&&d._push(Bi.access_token,{access_token:o})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(s="general"){this.setAuth().catch(o=>{this.log("error",`error setting auth in ${s}`,o)})}_triggerStateCallbacks(s,o){try{this.stateChangeCallbacks[s].forEach(d=>{try{d(o)}catch(m){this.log("error",`error in ${s} callback`,m)}})}catch(d){this.log("error",`error triggering ${s} callbacks`,d)}}_setupReconnectionTimer(){this.reconnectTimer=new ug(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Pu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(s){var o,d,m,x,A,_,b,y;if(this.transport=(o=s?.transport)!==null&&o!==void 0?o:null,this.timeout=(d=s?.timeout)!==null&&d!==void 0?d:m0,this.heartbeatIntervalMs=(m=s?.heartbeatIntervalMs)!==null&&m!==void 0?m:Pu.HEARTBEAT_INTERVAL,this.worker=(x=s?.worker)!==null&&x!==void 0?x:!1,this.accessToken=(A=s?.accessToken)!==null&&A!==void 0?A:null,s?.params&&(this.params=s.params),s?.logger&&(this.logger=s.logger),(s?.logLevel||s?.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(_=s?.reconnectAfterMs)!==null&&_!==void 0?_:C=>Ep[C-1]||vp,this.encode=(b=s?.encode)!==null&&b!==void 0?b:(C,T)=>T(JSON.stringify(C)),this.decode=(y=s?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=s?.workerUrl}}}class F0 extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}}function Nn(f){return typeof f=="object"&&f!==null&&"__isStorageError"in f}class Cp extends F0{constructor(s,o,d){super(s),this.name="StorageApiError",this.status=o,this.statusCode=d}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class w0 extends F0{constructor(s,o){super(s),this.name="StorageUnknownError",this.originalError=o}}var _p=function(f,s,o,d){function m(x){return x instanceof o?x:new o(function(A){A(x)})}return new(o||(o=Promise))(function(x,A){function _(C){try{y(d.next(C))}catch(T){A(T)}}function b(C){try{y(d.throw(C))}catch(T){A(T)}}function y(C){C.done?x(C.value):m(C.value).then(_,b)}y((d=d.apply(f,s||[])).next())})};const hg=f=>{let s;return f?s=f:typeof fetch>"u"?s=(...o)=>Eo(async()=>{const{default:d}=await Promise.resolve().then(()=>sl);return{default:d}},void 0).then(({default:d})=>d(...o)):s=fetch,(...o)=>s(...o)},Sp=()=>_p(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Eo(()=>Promise.resolve().then(()=>sl),void 0)).Response:Response}),y0=f=>{if(Array.isArray(f))return f.map(o=>y0(o));if(typeof f=="function"||f!==Object(f))return f;const s={};return Object.entries(f).forEach(([o,d])=>{const m=o.replace(/([-_][a-z])/gi,x=>x.toUpperCase().replace(/[-_]/g,""));s[m]=y0(d)}),s},Tp=f=>{if(typeof f!="object"||f===null)return!1;const s=Object.getPrototypeOf(f);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in f)&&!(Symbol.iterator in f)};var Ja=function(f,s,o,d){function m(x){return x instanceof o?x:new o(function(A){A(x)})}return new(o||(o=Promise))(function(x,A){function _(C){try{y(d.next(C))}catch(T){A(T)}}function b(C){try{y(d.throw(C))}catch(T){A(T)}}function y(C){C.done?x(C.value):m(C.value).then(_,b)}y((d=d.apply(f,s||[])).next())})};const s0=f=>f.msg||f.message||f.error_description||f.error||JSON.stringify(f),Op=(f,s,o)=>Ja(void 0,void 0,void 0,function*(){const d=yield Sp();f instanceof d&&!o?.noResolveJson?f.json().then(m=>{const x=f.status||500,A=m?.statusCode||x+"";s(new Cp(s0(m),x,A))}).catch(m=>{s(new w0(s0(m),m))}):s(new w0(s0(f),f))}),Rp=(f,s,o,d)=>{const m={method:f,headers:s?.headers||{}};return f==="GET"||!d?m:(Tp(d)?(m.headers=Object.assign({"Content-Type":"application/json"},s?.headers),m.body=JSON.stringify(d)):m.body=d,Object.assign(Object.assign({},m),o))};function vo(f,s,o,d,m,x){return Ja(this,void 0,void 0,function*(){return new Promise((A,_)=>{f(o,Rp(s,d,m,x)).then(b=>{if(!b.ok)throw b;return d?.noResolveJson?b:b.json()}).then(b=>A(b)).catch(b=>Op(b,_,d))})})}function Vu(f,s,o,d){return Ja(this,void 0,void 0,function*(){return vo(f,"GET",s,o,d)})}function Nr(f,s,o,d,m){return Ja(this,void 0,void 0,function*(){return vo(f,"POST",s,d,m,o)})}function E0(f,s,o,d,m){return Ja(this,void 0,void 0,function*(){return vo(f,"PUT",s,d,m,o)})}function Np(f,s,o,d){return Ja(this,void 0,void 0,function*(){return vo(f,"HEAD",s,Object.assign(Object.assign({},o),{noResolveJson:!0}),d)})}function dg(f,s,o,d,m){return Ja(this,void 0,void 0,function*(){return vo(f,"DELETE",s,d,m,o)})}var ii=function(f,s,o,d){function m(x){return x instanceof o?x:new o(function(A){A(x)})}return new(o||(o=Promise))(function(x,A){function _(C){try{y(d.next(C))}catch(T){A(T)}}function b(C){try{y(d.throw(C))}catch(T){A(T)}}function y(C){C.done?x(C.value):m(C.value).then(_,b)}y((d=d.apply(f,s||[])).next())})};const Ip={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},x2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Dp{constructor(s,o={},d,m){this.url=s,this.headers=o,this.bucketId=d,this.fetch=hg(m)}uploadOrUpdate(s,o,d,m){return ii(this,void 0,void 0,function*(){try{let x;const A=Object.assign(Object.assign({},x2),m);let _=Object.assign(Object.assign({},this.headers),s==="POST"&&{"x-upsert":String(A.upsert)});const b=A.metadata;typeof Blob<"u"&&d instanceof Blob?(x=new FormData,x.append("cacheControl",A.cacheControl),b&&x.append("metadata",this.encodeMetadata(b)),x.append("",d)):typeof FormData<"u"&&d instanceof FormData?(x=d,x.append("cacheControl",A.cacheControl),b&&x.append("metadata",this.encodeMetadata(b))):(x=d,_["cache-control"]=`max-age=${A.cacheControl}`,_["content-type"]=A.contentType,b&&(_["x-metadata"]=this.toBase64(this.encodeMetadata(b)))),m?.headers&&(_=Object.assign(Object.assign({},_),m.headers));const y=this._removeEmptyFolders(o),C=this._getFinalPath(y),T=yield(s=="PUT"?E0:Nr)(this.fetch,`${this.url}/object/${C}`,x,Object.assign({headers:_},A?.duplex?{duplex:A.duplex}:{}));return{data:{path:y,id:T.Id,fullPath:T.Key},error:null}}catch(x){if(Nn(x))return{data:null,error:x};throw x}})}upload(s,o,d){return ii(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",s,o,d)})}uploadToSignedUrl(s,o,d,m){return ii(this,void 0,void 0,function*(){const x=this._removeEmptyFolders(s),A=this._getFinalPath(x),_=new URL(this.url+`/object/upload/sign/${A}`);_.searchParams.set("token",o);try{let b;const y=Object.assign({upsert:x2.upsert},m),C=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&d instanceof Blob?(b=new FormData,b.append("cacheControl",y.cacheControl),b.append("",d)):typeof FormData<"u"&&d instanceof FormData?(b=d,b.append("cacheControl",y.cacheControl)):(b=d,C["cache-control"]=`max-age=${y.cacheControl}`,C["content-type"]=y.contentType);const T=yield E0(this.fetch,_.toString(),b,{headers:C});return{data:{path:x,fullPath:T.Key},error:null}}catch(b){if(Nn(b))return{data:null,error:b};throw b}})}createSignedUploadUrl(s,o){return ii(this,void 0,void 0,function*(){try{let d=this._getFinalPath(s);const m=Object.assign({},this.headers);o?.upsert&&(m["x-upsert"]="true");const x=yield Nr(this.fetch,`${this.url}/object/upload/sign/${d}`,{},{headers:m}),A=new URL(this.url+x.url),_=A.searchParams.get("token");if(!_)throw new F0("No token returned by API");return{data:{signedUrl:A.toString(),path:s,token:_},error:null}}catch(d){if(Nn(d))return{data:null,error:d};throw d}})}update(s,o,d){return ii(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",s,o,d)})}move(s,o,d){return ii(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:s,destinationKey:o,destinationBucket:d?.destinationBucket},{headers:this.headers}),error:null}}catch(m){if(Nn(m))return{data:null,error:m};throw m}})}copy(s,o,d){return ii(this,void 0,void 0,function*(){try{return{data:{path:(yield Nr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:s,destinationKey:o,destinationBucket:d?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(m){if(Nn(m))return{data:null,error:m};throw m}})}createSignedUrl(s,o,d){return ii(this,void 0,void 0,function*(){try{let m=this._getFinalPath(s),x=yield Nr(this.fetch,`${this.url}/object/sign/${m}`,Object.assign({expiresIn:o},d?.transform?{transform:d.transform}:{}),{headers:this.headers});const A=d?.download?`&download=${d.download===!0?"":d.download}`:"";return x={signedUrl:encodeURI(`${this.url}${x.signedURL}${A}`)},{data:x,error:null}}catch(m){if(Nn(m))return{data:null,error:m};throw m}})}createSignedUrls(s,o,d){return ii(this,void 0,void 0,function*(){try{const m=yield Nr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:o,paths:s},{headers:this.headers}),x=d?.download?`&download=${d.download===!0?"":d.download}`:"";return{data:m.map(A=>Object.assign(Object.assign({},A),{signedUrl:A.signedURL?encodeURI(`${this.url}${A.signedURL}${x}`):null})),error:null}}catch(m){if(Nn(m))return{data:null,error:m};throw m}})}download(s,o){return ii(this,void 0,void 0,function*(){const m=typeof o?.transform<"u"?"render/image/authenticated":"object",x=this.transformOptsToQueryString(o?.transform||{}),A=x?`?${x}`:"";try{const _=this._getFinalPath(s);return{data:yield(yield Vu(this.fetch,`${this.url}/${m}/${_}${A}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(_){if(Nn(_))return{data:null,error:_};throw _}})}info(s){return ii(this,void 0,void 0,function*(){const o=this._getFinalPath(s);try{const d=yield Vu(this.fetch,`${this.url}/object/info/${o}`,{headers:this.headers});return{data:y0(d),error:null}}catch(d){if(Nn(d))return{data:null,error:d};throw d}})}exists(s){return ii(this,void 0,void 0,function*(){const o=this._getFinalPath(s);try{return yield Np(this.fetch,`${this.url}/object/${o}`,{headers:this.headers}),{data:!0,error:null}}catch(d){if(Nn(d)&&d instanceof w0){const m=d.originalError;if([400,404].includes(m?.status))return{data:!1,error:d}}throw d}})}getPublicUrl(s,o){const d=this._getFinalPath(s),m=[],x=o?.download?`download=${o.download===!0?"":o.download}`:"";x!==""&&m.push(x);const _=typeof o?.transform<"u"?"render/image":"object",b=this.transformOptsToQueryString(o?.transform||{});b!==""&&m.push(b);let y=m.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${_}/public/${d}${y}`)}}}remove(s){return ii(this,void 0,void 0,function*(){try{return{data:yield dg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:s},{headers:this.headers}),error:null}}catch(o){if(Nn(o))return{data:null,error:o};throw o}})}list(s,o,d){return ii(this,void 0,void 0,function*(){try{const m=Object.assign(Object.assign(Object.assign({},Ip),o),{prefix:s||""});return{data:yield Nr(this.fetch,`${this.url}/object/list/${this.bucketId}`,m,{headers:this.headers},d),error:null}}catch(m){if(Nn(m))return{data:null,error:m};throw m}})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const o=[];return s.width&&o.push(`width=${s.width}`),s.height&&o.push(`height=${s.height}`),s.resize&&o.push(`resize=${s.resize}`),s.format&&o.push(`format=${s.format}`),s.quality&&o.push(`quality=${s.quality}`),o.join("&")}}const Mp="2.10.4",Bp={"X-Client-Info":`storage-js/${Mp}`};var Ys=function(f,s,o,d){function m(x){return x instanceof o?x:new o(function(A){A(x)})}return new(o||(o=Promise))(function(x,A){function _(C){try{y(d.next(C))}catch(T){A(T)}}function b(C){try{y(d.throw(C))}catch(T){A(T)}}function y(C){C.done?x(C.value):m(C.value).then(_,b)}y((d=d.apply(f,s||[])).next())})};class Lp{constructor(s,o={},d,m){const x=new URL(s);m?.useNewHostname&&/supabase\.(co|in|red)$/.test(x.hostname)&&!x.hostname.includes("storage.supabase.")&&(x.hostname=x.hostname.replace("supabase.","storage.supabase.")),this.url=x.href,this.headers=Object.assign(Object.assign({},Bp),o),this.fetch=hg(d)}listBuckets(){return Ys(this,void 0,void 0,function*(){try{return{data:yield Vu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(s){if(Nn(s))return{data:null,error:s};throw s}})}getBucket(s){return Ys(this,void 0,void 0,function*(){try{return{data:yield Vu(this.fetch,`${this.url}/bucket/${s}`,{headers:this.headers}),error:null}}catch(o){if(Nn(o))return{data:null,error:o};throw o}})}createBucket(s,o={public:!1}){return Ys(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(d){if(Nn(d))return{data:null,error:d};throw d}})}updateBucket(s,o){return Ys(this,void 0,void 0,function*(){try{return{data:yield E0(this.fetch,`${this.url}/bucket/${s}`,{id:s,name:s,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(d){if(Nn(d))return{data:null,error:d};throw d}})}emptyBucket(s){return Ys(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/bucket/${s}/empty`,{},{headers:this.headers}),error:null}}catch(o){if(Nn(o))return{data:null,error:o};throw o}})}deleteBucket(s){return Ys(this,void 0,void 0,function*(){try{return{data:yield dg(this.fetch,`${this.url}/bucket/${s}`,{},{headers:this.headers}),error:null}}catch(o){if(Nn(o))return{data:null,error:o};throw o}})}}class kp extends Lp{constructor(s,o={},d,m){super(s,o,d,m)}from(s){return new Dp(this.url,this.headers,s,this.fetch)}}const Pp="2.54.0";let oo="";typeof Deno<"u"?oo="deno":typeof document<"u"?oo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?oo="react-native":oo="node";const Up={"X-Client-Info":`supabase-js-${oo}/${Pp}`},jp={headers:Up},Fp={schema:"public"},zp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Hp={};var Gp=function(f,s,o,d){function m(x){return x instanceof o?x:new o(function(A){A(x)})}return new(o||(o=Promise))(function(x,A){function _(C){try{y(d.next(C))}catch(T){A(T)}}function b(C){try{y(d.throw(C))}catch(T){A(T)}}function y(C){C.done?x(C.value):m(C.value).then(_,b)}y((d=d.apply(f,s||[])).next())})};const Vp=f=>{let s;return f?s=f:typeof fetch>"u"?s=ig:s=fetch,(...o)=>s(...o)},Xp=()=>typeof Headers>"u"?rg:Headers,qp=(f,s,o)=>{const d=Vp(o),m=Xp();return(x,A)=>Gp(void 0,void 0,void 0,function*(){var _;const b=(_=yield s())!==null&&_!==void 0?_:f;let y=new m(A?.headers);return y.has("apikey")||y.set("apikey",f),y.has("Authorization")||y.set("Authorization",`Bearer ${b}`),d(x,Object.assign(Object.assign({},A),{headers:y}))})};var Yp=function(f,s,o,d){function m(x){return x instanceof o?x:new o(function(A){A(x)})}return new(o||(o=Promise))(function(x,A){function _(C){try{y(d.next(C))}catch(T){A(T)}}function b(C){try{y(d.throw(C))}catch(T){A(T)}}function y(C){C.done?x(C.value):m(C.value).then(_,b)}y((d=d.apply(f,s||[])).next())})};function Wp(f){return f.endsWith("/")?f:f+"/"}function Zp(f,s){var o,d;const{db:m,auth:x,realtime:A,global:_}=f,{db:b,auth:y,realtime:C,global:T}=s,M={db:Object.assign(Object.assign({},b),m),auth:Object.assign(Object.assign({},y),x),realtime:Object.assign(Object.assign({},C),A),storage:{},global:Object.assign(Object.assign(Object.assign({},T),_),{headers:Object.assign(Object.assign({},(o=T?.headers)!==null&&o!==void 0?o:{}),(d=_?.headers)!==null&&d!==void 0?d:{})}),accessToken:()=>Yp(this,void 0,void 0,function*(){return""})};return f.accessToken?M.accessToken=f.accessToken:delete M.accessToken,M}const gg="2.71.1",Js=30*1e3,v0=3,l0=v0*Js,Kp="http://localhost:9999",Qp="supabase.auth.token",Jp={"X-Client-Info":`gotrue-js/${gg}`},b0="X-Supabase-Api-Version",mg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$p=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ew=600*1e3;class z0 extends Error{constructor(s,o,d){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=o,this.code=d}}function qe(f){return typeof f=="object"&&f!==null&&"__isAuthError"in f}class tw extends z0{constructor(s,o,d){super(s,o,d),this.name="AuthApiError",this.status=o,this.code=d}}function nw(f){return qe(f)&&f.name==="AuthApiError"}class xg extends z0{constructor(s,o){super(s),this.name="AuthUnknownError",this.originalError=o}}class xa extends z0{constructor(s,o,d,m){super(s,d,m),this.name=o,this.status=d}}class da extends xa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function iw(f){return qe(f)&&f.name==="AuthSessionMissingError"}class Uu extends xa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ju extends xa{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class Fu extends xa{constructor(s,o=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rw(f){return qe(f)&&f.name==="AuthImplicitGrantRedirectError"}class p2 extends xa{constructor(s,o=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class A0 extends xa{constructor(s,o){super(s,"AuthRetryableFetchError",o,void 0)}}function o0(f){return qe(f)&&f.name==="AuthRetryableFetchError"}class w2 extends xa{constructor(s,o,d){super(s,"AuthWeakPasswordError",o,"weak_password"),this.reasons=d}}class C0 extends xa{constructor(s){super(s,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),y2=` 	
\r=`.split(""),aw=(()=>{const f=new Array(128);for(let s=0;s<f.length;s+=1)f[s]=-1;for(let s=0;s<y2.length;s+=1)f[y2[s].charCodeAt(0)]=-2;for(let s=0;s<Xu.length;s+=1)f[Xu[s].charCodeAt(0)]=s;return f})();function E2(f,s,o){if(f!==null)for(s.queue=s.queue<<8|f,s.queuedBits+=8;s.queuedBits>=6;){const d=s.queue>>s.queuedBits-6&63;o(Xu[d]),s.queuedBits-=6}else if(s.queuedBits>0)for(s.queue=s.queue<<6-s.queuedBits,s.queuedBits=6;s.queuedBits>=6;){const d=s.queue>>s.queuedBits-6&63;o(Xu[d]),s.queuedBits-=6}}function pg(f,s,o){const d=aw[f];if(d>-1)for(s.queue=s.queue<<6|d,s.queuedBits+=6;s.queuedBits>=8;)o(s.queue>>s.queuedBits-8&255),s.queuedBits-=8;else{if(d===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(f)}"`)}}function v2(f){const s=[],o=A=>{s.push(String.fromCodePoint(A))},d={utf8seq:0,codepoint:0},m={queue:0,queuedBits:0},x=A=>{ow(A,d,o)};for(let A=0;A<f.length;A+=1)pg(f.charCodeAt(A),m,x);return s.join("")}function sw(f,s){if(f<=127){s(f);return}else if(f<=2047){s(192|f>>6),s(128|f&63);return}else if(f<=65535){s(224|f>>12),s(128|f>>6&63),s(128|f&63);return}else if(f<=1114111){s(240|f>>18),s(128|f>>12&63),s(128|f>>6&63),s(128|f&63);return}throw new Error(`Unrecognized Unicode codepoint: ${f.toString(16)}`)}function lw(f,s){for(let o=0;o<f.length;o+=1){let d=f.charCodeAt(o);if(d>55295&&d<=56319){const m=(d-55296)*1024&65535;d=(f.charCodeAt(o+1)-56320&65535|m)+65536,o+=1}sw(d,s)}}function ow(f,s,o){if(s.utf8seq===0){if(f<=127){o(f);return}for(let d=1;d<6;d+=1)if((f>>7-d&1)===0){s.utf8seq=d;break}if(s.utf8seq===2)s.codepoint=f&31;else if(s.utf8seq===3)s.codepoint=f&15;else if(s.utf8seq===4)s.codepoint=f&7;else throw new Error("Invalid UTF-8 sequence");s.utf8seq-=1}else if(s.utf8seq>0){if(f<=127)throw new Error("Invalid UTF-8 sequence");s.codepoint=s.codepoint<<6|f&63,s.utf8seq-=1,s.utf8seq===0&&o(s.codepoint)}}function uw(f){const s=[],o={queue:0,queuedBits:0},d=m=>{s.push(m)};for(let m=0;m<f.length;m+=1)pg(f.charCodeAt(m),o,d);return new Uint8Array(s)}function cw(f){const s=[];return lw(f,o=>s.push(o)),new Uint8Array(s)}function fw(f){const s=[],o={queue:0,queuedBits:0},d=m=>{s.push(m)};return f.forEach(m=>E2(m,o,d)),E2(null,o,d),s.join("")}function hw(f){return Math.round(Date.now()/1e3)+f}function dw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(f){const s=Math.random()*16|0;return(f=="x"?s:s&3|8).toString(16)})}const Mi=()=>typeof window<"u"&&typeof document<"u",Va={tested:!1,writable:!1},wg=()=>{if(!Mi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Va.tested)return Va.writable;const f=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(f,f),globalThis.localStorage.removeItem(f),Va.tested=!0,Va.writable=!0}catch{Va.tested=!0,Va.writable=!1}return Va.writable};function gw(f){const s={},o=new URL(f);if(o.hash&&o.hash[0]==="#")try{new URLSearchParams(o.hash.substring(1)).forEach((m,x)=>{s[x]=m})}catch{}return o.searchParams.forEach((d,m)=>{s[m]=d}),s}const yg=f=>{let s;return f?s=f:typeof fetch>"u"?s=(...o)=>Eo(async()=>{const{default:d}=await Promise.resolve().then(()=>sl);return{default:d}},void 0).then(({default:d})=>d(...o)):s=fetch,(...o)=>s(...o)},mw=f=>typeof f=="object"&&f!==null&&"status"in f&&"ok"in f&&"json"in f&&typeof f.json=="function",$s=async(f,s,o)=>{await f.setItem(s,JSON.stringify(o))},Xa=async(f,s)=>{const o=await f.getItem(s);if(!o)return null;try{return JSON.parse(o)}catch{return o}},ha=async(f,s)=>{await f.removeItem(s)};class ec{constructor(){this.promise=new ec.promiseConstructor((s,o)=>{this.resolve=s,this.reject=o})}}ec.promiseConstructor=Promise;function u0(f){const s=f.split(".");if(s.length!==3)throw new C0("Invalid JWT structure");for(let d=0;d<s.length;d++)if(!$p.test(s[d]))throw new C0("JWT not in base64url format");return{header:JSON.parse(v2(s[0])),payload:JSON.parse(v2(s[1])),signature:uw(s[2]),raw:{header:s[0],payload:s[1]}}}async function xw(f){return await new Promise(s=>{setTimeout(()=>s(null),f)})}function pw(f,s){return new Promise((d,m)=>{(async()=>{for(let x=0;x<1/0;x++)try{const A=await f(x);if(!s(x,null,A)){d(A);return}}catch(A){if(!s(x,A)){m(A);return}}})()})}function ww(f){return("0"+f.toString(16)).substr(-2)}function yw(){const s=new Uint32Array(56);if(typeof crypto>"u"){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",d=o.length;let m="";for(let x=0;x<56;x++)m+=o.charAt(Math.floor(Math.random()*d));return m}return crypto.getRandomValues(s),Array.from(s,ww).join("")}async function Ew(f){const o=new TextEncoder().encode(f),d=await crypto.subtle.digest("SHA-256",o),m=new Uint8Array(d);return Array.from(m).map(x=>String.fromCharCode(x)).join("")}async function vw(f){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),f;const o=await Ew(f);return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ws(f,s,o=!1){const d=yw();let m=d;o&&(m+="/PASSWORD_RECOVERY"),await $s(f,`${s}-code-verifier`,m);const x=await vw(d);return[x,d===x?"plain":"s256"]}const bw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Aw(f){const s=f.headers.get(b0);if(!s||!s.match(bw))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}function Cw(f){if(!f)throw new Error("Missing exp claim");const s=Math.floor(Date.now()/1e3);if(f<=s)throw new Error("JWT has expired")}function _w(f){switch(f){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Sw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zs(f){if(!Sw.test(f))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function c0(){const f={};return new Proxy(f,{get:(s,o)=>{if(o==="__isUserNotAvailableProxy")return!0;if(typeof o=="symbol"){const d=o.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${o}" property of the session object is not supported. Please use getUser() instead.`)},set:(s,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(s,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function b2(f){return JSON.parse(JSON.stringify(f))}var Tw=function(f,s){var o={};for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&s.indexOf(d)<0&&(o[d]=f[d]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,d=Object.getOwnPropertySymbols(f);m<d.length;m++)s.indexOf(d[m])<0&&Object.prototype.propertyIsEnumerable.call(f,d[m])&&(o[d[m]]=f[d[m]]);return o};const Wa=f=>f.msg||f.message||f.error_description||f.error||JSON.stringify(f),Ow=[502,503,504];async function A2(f){var s;if(!mw(f))throw new A0(Wa(f),0);if(Ow.includes(f.status))throw new A0(Wa(f),f.status);let o;try{o=await f.json()}catch(x){throw new xg(Wa(x),x)}let d;const m=Aw(f);if(m&&m.getTime()>=mg["2024-01-01"].timestamp&&typeof o=="object"&&o&&typeof o.code=="string"?d=o.code:typeof o=="object"&&o&&typeof o.error_code=="string"&&(d=o.error_code),d){if(d==="weak_password")throw new w2(Wa(o),f.status,((s=o.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(d==="session_not_found")throw new da}else if(typeof o=="object"&&o&&typeof o.weak_password=="object"&&o.weak_password&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.reasons.reduce((x,A)=>x&&typeof A=="string",!0))throw new w2(Wa(o),f.status,o.weak_password.reasons);throw new tw(Wa(o),f.status||500,d)}const Rw=(f,s,o,d)=>{const m={method:f,headers:s?.headers||{}};return f==="GET"?m:(m.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s?.headers),m.body=JSON.stringify(d),Object.assign(Object.assign({},m),o))};async function rt(f,s,o,d){var m;const x=Object.assign({},d?.headers);x[b0]||(x[b0]=mg["2024-01-01"].name),d?.jwt&&(x.Authorization=`Bearer ${d.jwt}`);const A=(m=d?.query)!==null&&m!==void 0?m:{};d?.redirectTo&&(A.redirect_to=d.redirectTo);const _=Object.keys(A).length?"?"+new URLSearchParams(A).toString():"",b=await Nw(f,s,o+_,{headers:x,noResolveJson:d?.noResolveJson},{},d?.body);return d?.xform?d?.xform(b):{data:Object.assign({},b),error:null}}async function Nw(f,s,o,d,m,x){const A=Rw(s,d,m,x);let _;try{_=await f(o,Object.assign({},A))}catch(b){throw console.error(b),new A0(Wa(b),0)}if(_.ok||await A2(_),d?.noResolveJson)return _;try{return await _.json()}catch(b){await A2(b)}}function Tr(f){var s;let o=null;Bw(f)&&(o=Object.assign({},f),f.expires_at||(o.expires_at=hw(f.expires_in)));const d=(s=f.user)!==null&&s!==void 0?s:f;return{data:{session:o,user:d},error:null}}function C2(f){const s=Tr(f);return!s.error&&f.weak_password&&typeof f.weak_password=="object"&&Array.isArray(f.weak_password.reasons)&&f.weak_password.reasons.length&&f.weak_password.message&&typeof f.weak_password.message=="string"&&f.weak_password.reasons.reduce((o,d)=>o&&typeof d=="string",!0)&&(s.data.weak_password=f.weak_password),s}function ga(f){var s;return{data:{user:(s=f.user)!==null&&s!==void 0?s:f},error:null}}function Iw(f){return{data:f,error:null}}function Dw(f){const{action_link:s,email_otp:o,hashed_token:d,redirect_to:m,verification_type:x}=f,A=Tw(f,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),_={action_link:s,email_otp:o,hashed_token:d,redirect_to:m,verification_type:x},b=Object.assign({},A);return{data:{properties:_,user:b},error:null}}function Mw(f){return f}function Bw(f){return f.access_token&&f.refresh_token&&f.expires_in}const f0=["global","local","others"];var Lw=function(f,s){var o={};for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&s.indexOf(d)<0&&(o[d]=f[d]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,d=Object.getOwnPropertySymbols(f);m<d.length;m++)s.indexOf(d[m])<0&&Object.prototype.propertyIsEnumerable.call(f,d[m])&&(o[d[m]]=f[d[m]]);return o};class kw{constructor({url:s="",headers:o={},fetch:d}){this.url=s,this.headers=o,this.fetch=yg(d),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(s,o=f0[0]){if(f0.indexOf(o)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${f0.join(", ")}`);try{return await rt(this.fetch,"POST",`${this.url}/logout?scope=${o}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(d){if(qe(d))return{data:null,error:d};throw d}}async inviteUserByEmail(s,o={}){try{return await rt(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:o.data},headers:this.headers,redirectTo:o.redirectTo,xform:ga})}catch(d){if(qe(d))return{data:{user:null},error:d};throw d}}async generateLink(s){try{const{options:o}=s,d=Lw(s,["options"]),m=Object.assign(Object.assign({},d),o);return"newEmail"in d&&(m.new_email=d?.newEmail,delete m.newEmail),await rt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:m,headers:this.headers,xform:Dw,redirectTo:o?.redirectTo})}catch(o){if(qe(o))return{data:{properties:null,user:null},error:o};throw o}}async createUser(s){try{return await rt(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:ga})}catch(o){if(qe(o))return{data:{user:null},error:o};throw o}}async listUsers(s){var o,d,m,x,A,_,b;try{const y={nextPage:null,lastPage:0,total:0},C=await rt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(d=(o=s?.page)===null||o===void 0?void 0:o.toString())!==null&&d!==void 0?d:"",per_page:(x=(m=s?.perPage)===null||m===void 0?void 0:m.toString())!==null&&x!==void 0?x:""},xform:Mw});if(C.error)throw C.error;const T=await C.json(),M=(A=C.headers.get("x-total-count"))!==null&&A!==void 0?A:0,k=(b=(_=C.headers.get("link"))===null||_===void 0?void 0:_.split(","))!==null&&b!==void 0?b:[];return k.length>0&&(k.forEach(H=>{const q=parseInt(H.split(";")[0].split("=")[1].substring(0,1)),Y=JSON.parse(H.split(";")[1].split("=")[1]);y[`${Y}Page`]=q}),y.total=parseInt(M)),{data:Object.assign(Object.assign({},T),y),error:null}}catch(y){if(qe(y))return{data:{users:[]},error:y};throw y}}async getUserById(s){Zs(s);try{return await rt(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:ga})}catch(o){if(qe(o))return{data:{user:null},error:o};throw o}}async updateUserById(s,o){Zs(s);try{return await rt(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:o,headers:this.headers,xform:ga})}catch(d){if(qe(d))return{data:{user:null},error:d};throw d}}async deleteUser(s,o=!1){Zs(s);try{return await rt(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:o},xform:ga})}catch(d){if(qe(d))return{data:{user:null},error:d};throw d}}async _listFactors(s){Zs(s.userId);try{const{data:o,error:d}=await rt(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:m=>({data:{factors:m},error:null})});return{data:o,error:d}}catch(o){if(qe(o))return{data:null,error:o};throw o}}async _deleteFactor(s){Zs(s.userId),Zs(s.id);try{return{data:await rt(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(o){if(qe(o))return{data:null,error:o};throw o}}}function _2(f={}){return{getItem:s=>f[s]||null,setItem:(s,o)=>{f[s]=o},removeItem:s=>{delete f[s]}}}function Pw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ks={debug:!!(globalThis&&wg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Eg extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class Uw extends Eg{}async function jw(f,s,o){Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",f,s);const d=new globalThis.AbortController;return s>0&&setTimeout(()=>{d.abort(),Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",f)},s),await Promise.resolve().then(()=>globalThis.navigator.locks.request(f,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:d.signal},async m=>{if(m){Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",f,m.name);try{return await o()}finally{Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",f,m.name)}}else{if(s===0)throw Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",f),new Uw(`Acquiring an exclusive Navigator LockManager lock "${f}" immediately failed`);if(Ks.debug)try{const x=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(x,null,"  "))}catch(x){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",x)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await o()}}))}Pw();const Fw={url:Kp,storageKey:Qp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Jp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function S2(f,s,o){return await o()}const Qs={};class xo{constructor(s){var o,d;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=xo.nextInstanceID,xo.nextInstanceID+=1,this.instanceID>0&&Mi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const m=Object.assign(Object.assign({},Fw),s);if(this.logDebugMessages=!!m.debug,typeof m.debug=="function"&&(this.logger=m.debug),this.persistSession=m.persistSession,this.storageKey=m.storageKey,this.autoRefreshToken=m.autoRefreshToken,this.admin=new kw({url:m.url,headers:m.headers,fetch:m.fetch}),this.url=m.url,this.headers=m.headers,this.fetch=yg(m.fetch),this.lock=m.lock||S2,this.detectSessionInUrl=m.detectSessionInUrl,this.flowType=m.flowType,this.hasCustomAuthorizationHeader=m.hasCustomAuthorizationHeader,m.lock?this.lock=m.lock:Mi()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=jw:this.lock=S2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(m.storage?this.storage=m.storage:wg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_2(this.memoryStorage)),m.userStorage&&(this.userStorage=m.userStorage)):(this.memoryStorage={},this.storage=_2(this.memoryStorage)),Mi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(x){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",x)}(d=this.broadcastChannel)===null||d===void 0||d.addEventListener("message",async x=>{this._debug("received broadcast notification from other tab or client",x),await this._notifyAllSubscribers(x.data.event,x.data.session,!1)})}this.initialize()}get jwks(){var s,o;return(o=(s=Qs[this.storageKey])===null||s===void 0?void 0:s.jwks)!==null&&o!==void 0?o:{keys:[]}}set jwks(s){Qs[this.storageKey]=Object.assign(Object.assign({},Qs[this.storageKey]),{jwks:s})}get jwks_cached_at(){var s,o;return(o=(s=Qs[this.storageKey])===null||s===void 0?void 0:s.cachedAt)!==null&&o!==void 0?o:Number.MIN_SAFE_INTEGER}set jwks_cached_at(s){Qs[this.storageKey]=Object.assign(Object.assign({},Qs[this.storageKey]),{cachedAt:s})}_debug(...s){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${gg}) ${new Date().toISOString()}`,...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{const o=gw(window.location.href);let d="none";if(this._isImplicitGrantCallback(o)?d="implicit":await this._isPKCECallback(o)&&(d="pkce"),Mi()&&this.detectSessionInUrl&&d!=="none"){const{data:m,error:x}=await this._getSessionFromURL(o,d);if(x){if(this._debug("#_initialize()","error detecting session from URL",x),rw(x)){const b=(s=x.details)===null||s===void 0?void 0:s.code;if(b==="identity_already_exists"||b==="identity_not_found"||b==="single_identity_not_deletable")return{error:x}}return await this._removeSession(),{error:x}}const{session:A,redirectType:_}=m;return this._debug("#_initialize()","detected session in URL",A,"redirect type",_),await this._saveSession(A),setTimeout(async()=>{_==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",A):await this._notifyAllSubscribers("SIGNED_IN",A)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(o){return qe(o)?{error:o}:{error:new xg("Unexpected error during initialization",o)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var o,d,m;try{const x=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(d=(o=s?.options)===null||o===void 0?void 0:o.data)!==null&&d!==void 0?d:{},gotrue_meta_security:{captcha_token:(m=s?.options)===null||m===void 0?void 0:m.captchaToken}},xform:Tr}),{data:A,error:_}=x;if(_||!A)return{data:{user:null,session:null},error:_};const b=A.session,y=A.user;return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",b)),{data:{user:y,session:b},error:null}}catch(x){if(qe(x))return{data:{user:null,session:null},error:x};throw x}}async signUp(s){var o,d,m;try{let x;if("email"in s){const{email:C,password:T,options:M}=s;let k=null,H=null;this.flowType==="pkce"&&([k,H]=await Ws(this.storage,this.storageKey)),x=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:M?.emailRedirectTo,body:{email:C,password:T,data:(o=M?.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:M?.captchaToken},code_challenge:k,code_challenge_method:H},xform:Tr})}else if("phone"in s){const{phone:C,password:T,options:M}=s;x=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:C,password:T,data:(d=M?.data)!==null&&d!==void 0?d:{},channel:(m=M?.channel)!==null&&m!==void 0?m:"sms",gotrue_meta_security:{captcha_token:M?.captchaToken}},xform:Tr})}else throw new ju("You must provide either an email or phone number and a password");const{data:A,error:_}=x;if(_||!A)return{data:{user:null,session:null},error:_};const b=A.session,y=A.user;return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",b)),{data:{user:y,session:b},error:null}}catch(x){if(qe(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithPassword(s){try{let o;if("email"in s){const{email:x,password:A,options:_}=s;o=await rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:x,password:A,gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:C2})}else if("phone"in s){const{phone:x,password:A,options:_}=s;o=await rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:x,password:A,gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:C2})}else throw new ju("You must provide either an email or phone number and a password");const{data:d,error:m}=o;return m?{data:{user:null,session:null},error:m}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Uu}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign({user:d.user,session:d.session},d.weak_password?{weakPassword:d.weak_password}:null),error:m})}catch(o){if(qe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithOAuth(s){var o,d,m,x;return await this._handleProviderSignIn(s.provider,{redirectTo:(o=s.options)===null||o===void 0?void 0:o.redirectTo,scopes:(d=s.options)===null||d===void 0?void 0:d.scopes,queryParams:(m=s.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:(x=s.options)===null||x===void 0?void 0:x.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(s))}async signInWithWeb3(s){const{chain:o}=s;if(o==="solana")return await this.signInWithSolana(s);throw new Error(`@supabase/auth-js: Unsupported chain "${o}"`)}async signInWithSolana(s){var o,d,m,x,A,_,b,y,C,T,M,k;let H,q;if("message"in s)H=s.message,q=s.signature;else{const{chain:Y,wallet:se,statement:xe,options:V}=s;let le;if(Mi())if(typeof se=="object")le=se;else{const Ce=window;if("solana"in Ce&&typeof Ce.solana=="object"&&("signIn"in Ce.solana&&typeof Ce.solana.signIn=="function"||"signMessage"in Ce.solana&&typeof Ce.solana.signMessage=="function"))le=Ce.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof se!="object"||!V?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");le=se}const we=new URL((o=V?.url)!==null&&o!==void 0?o:window.location.href);if("signIn"in le&&le.signIn){const Ce=await le.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},V?.signInWithSolana),{version:"1",domain:we.host,uri:we.href}),xe?{statement:xe}:null));let ae;if(Array.isArray(Ce)&&Ce[0]&&typeof Ce[0]=="object")ae=Ce[0];else if(Ce&&typeof Ce=="object"&&"signedMessage"in Ce&&"signature"in Ce)ae=Ce;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ae&&"signature"in ae&&(typeof ae.signedMessage=="string"||ae.signedMessage instanceof Uint8Array)&&ae.signature instanceof Uint8Array)H=typeof ae.signedMessage=="string"?ae.signedMessage:new TextDecoder().decode(ae.signedMessage),q=ae.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in le)||typeof le.signMessage!="function"||!("publicKey"in le)||typeof le!="object"||!le.publicKey||!("toBase58"in le.publicKey)||typeof le.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");H=[`${we.host} wants you to sign in with your Solana account:`,le.publicKey.toBase58(),...xe?["",xe,""]:[""],"Version: 1",`URI: ${we.href}`,`Issued At: ${(m=(d=V?.signInWithSolana)===null||d===void 0?void 0:d.issuedAt)!==null&&m!==void 0?m:new Date().toISOString()}`,...!((x=V?.signInWithSolana)===null||x===void 0)&&x.notBefore?[`Not Before: ${V.signInWithSolana.notBefore}`]:[],...!((A=V?.signInWithSolana)===null||A===void 0)&&A.expirationTime?[`Expiration Time: ${V.signInWithSolana.expirationTime}`]:[],...!((_=V?.signInWithSolana)===null||_===void 0)&&_.chainId?[`Chain ID: ${V.signInWithSolana.chainId}`]:[],...!((b=V?.signInWithSolana)===null||b===void 0)&&b.nonce?[`Nonce: ${V.signInWithSolana.nonce}`]:[],...!((y=V?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${V.signInWithSolana.requestId}`]:[],...!((T=(C=V?.signInWithSolana)===null||C===void 0?void 0:C.resources)===null||T===void 0)&&T.length?["Resources",...V.signInWithSolana.resources.map(ae=>`- ${ae}`)]:[]].join(`
`);const Ce=await le.signMessage(new TextEncoder().encode(H),"utf8");if(!Ce||!(Ce instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");q=Ce}}try{const{data:Y,error:se}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:H,signature:fw(q)},!((M=s.options)===null||M===void 0)&&M.captchaToken?{gotrue_meta_security:{captcha_token:(k=s.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:Tr});if(se)throw se;return!Y||!Y.session||!Y.user?{data:{user:null,session:null},error:new Uu}:(Y.session&&(await this._saveSession(Y.session),await this._notifyAllSubscribers("SIGNED_IN",Y.session)),{data:Object.assign({},Y),error:se})}catch(Y){if(qe(Y))return{data:{user:null,session:null},error:Y};throw Y}}async _exchangeCodeForSession(s){const o=await Xa(this.storage,`${this.storageKey}-code-verifier`),[d,m]=(o??"").split("/");try{const{data:x,error:A}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:d},xform:Tr});if(await ha(this.storage,`${this.storageKey}-code-verifier`),A)throw A;return!x||!x.session||!x.user?{data:{user:null,session:null,redirectType:null},error:new Uu}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign(Object.assign({},x),{redirectType:m??null}),error:A})}catch(x){if(qe(x))return{data:{user:null,session:null,redirectType:null},error:x};throw x}}async signInWithIdToken(s){try{const{options:o,provider:d,token:m,access_token:x,nonce:A}=s,_=await rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:d,id_token:m,access_token:x,nonce:A,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Tr}),{data:b,error:y}=_;return y?{data:{user:null,session:null},error:y}:!b||!b.session||!b.user?{data:{user:null,session:null},error:new Uu}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:b,error:y})}catch(o){if(qe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithOtp(s){var o,d,m,x,A;try{if("email"in s){const{email:_,options:b}=s;let y=null,C=null;this.flowType==="pkce"&&([y,C]=await Ws(this.storage,this.storageKey));const{error:T}=await rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:_,data:(o=b?.data)!==null&&o!==void 0?o:{},create_user:(d=b?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:y,code_challenge_method:C},redirectTo:b?.emailRedirectTo});return{data:{user:null,session:null},error:T}}if("phone"in s){const{phone:_,options:b}=s,{data:y,error:C}=await rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:_,data:(m=b?.data)!==null&&m!==void 0?m:{},create_user:(x=b?.shouldCreateUser)!==null&&x!==void 0?x:!0,gotrue_meta_security:{captcha_token:b?.captchaToken},channel:(A=b?.channel)!==null&&A!==void 0?A:"sms"}});return{data:{user:null,session:null,messageId:y?.message_id},error:C}}throw new ju("You must provide either an email or phone number.")}catch(_){if(qe(_))return{data:{user:null,session:null},error:_};throw _}}async verifyOtp(s){var o,d;try{let m,x;"options"in s&&(m=(o=s.options)===null||o===void 0?void 0:o.redirectTo,x=(d=s.options)===null||d===void 0?void 0:d.captchaToken);const{data:A,error:_}=await rt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:x}}),redirectTo:m,xform:Tr});if(_)throw _;if(!A)throw new Error("An error occurred on token verification.");const b=A.session,y=A.user;return b?.access_token&&(await this._saveSession(b),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",b)),{data:{user:y,session:b},error:null}}catch(m){if(qe(m))return{data:{user:null,session:null},error:m};throw m}}async signInWithSSO(s){var o,d,m;try{let x=null,A=null;return this.flowType==="pkce"&&([x,A]=await Ws(this.storage,this.storageKey)),await rt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(d=(o=s.options)===null||o===void 0?void 0:o.redirectTo)!==null&&d!==void 0?d:void 0}),!((m=s?.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:x,code_challenge_method:A}),headers:this.headers,xform:Iw})}catch(x){if(qe(x))return{data:null,error:x};throw x}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:o},error:d}=s;if(d)throw d;if(!o)throw new da;const{error:m}=await rt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:o.access_token});return{data:{user:null,session:null},error:m}})}catch(s){if(qe(s))return{data:{user:null,session:null},error:s};throw s}}async resend(s){try{const o=`${this.url}/resend`;if("email"in s){const{email:d,type:m,options:x}=s,{error:A}=await rt(this.fetch,"POST",o,{headers:this.headers,body:{email:d,type:m,gotrue_meta_security:{captcha_token:x?.captchaToken}},redirectTo:x?.emailRedirectTo});return{data:{user:null,session:null},error:A}}else if("phone"in s){const{phone:d,type:m,options:x}=s,{data:A,error:_}=await rt(this.fetch,"POST",o,{headers:this.headers,body:{phone:d,type:m,gotrue_meta_security:{captcha_token:x?.captchaToken}}});return{data:{user:null,session:null,messageId:A?.message_id},error:_}}throw new ju("You must provide either an email or phone number and a type")}catch(o){if(qe(o))return{data:{user:null,session:null},error:o};throw o}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async o=>o))}async _acquireLock(s,o){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const d=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),m=(async()=>(await d,await o()))();return this.pendingInLock.push((async()=>{try{await m}catch{}})()),m}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const d=o();for(this.pendingInLock.push((async()=>{try{await d}catch{}})()),await d;this.pendingInLock.length;){const m=[...this.pendingInLock];await Promise.all(m),this.pendingInLock.splice(0,m.length)}return await d}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const o=await this.__loadSession();return await s(o)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const o=await Xa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",o),o!==null&&(this._isValidSession(o)?s=o:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const d=s.expires_at?s.expires_at*1e3-Date.now()<l0:!1;if(this._debug("#__loadSession()",`session has${d?"":" not"} expired`,"expires_at",s.expires_at),!d){if(this.userStorage){const A=await Xa(this.userStorage,this.storageKey+"-user");A?.user?s.user=A.user:s.user=c0()}if(this.storage.isServer&&s.user){let A=this.suppressGetSessionWarning;s=new Proxy(s,{get:(b,y,C)=>(!A&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),A=!0,this.suppressGetSessionWarning=!0),Reflect.get(b,y,C))})}return{data:{session:s},error:null}}const{session:m,error:x}=await this._callRefreshToken(s.refresh_token);return x?{data:{session:null},error:x}:{data:{session:m},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(s){return s?await this._getUser(s):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(s){try{return s?await rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:ga}):await this._useSession(async o=>{var d,m,x;const{data:A,error:_}=o;if(_)throw _;return!(!((d=A.session)===null||d===void 0)&&d.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new da}:await rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(x=(m=A.session)===null||m===void 0?void 0:m.access_token)!==null&&x!==void 0?x:void 0,xform:ga})})}catch(o){if(qe(o))return iw(o)&&(await this._removeSession(),await ha(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:o};throw o}}async updateUser(s,o={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(s,o))}async _updateUser(s,o={}){try{return await this._useSession(async d=>{const{data:m,error:x}=d;if(x)throw x;if(!m.session)throw new da;const A=m.session;let _=null,b=null;this.flowType==="pkce"&&s.email!=null&&([_,b]=await Ws(this.storage,this.storageKey));const{data:y,error:C}=await rt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:o?.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:_,code_challenge_method:b}),jwt:A.access_token,xform:ga});if(C)throw C;return A.user=y.user,await this._saveSession(A),await this._notifyAllSubscribers("USER_UPDATED",A),{data:{user:A.user},error:null}})}catch(d){if(qe(d))return{data:{user:null},error:d};throw d}}async setSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new da;const o=Date.now()/1e3;let d=o,m=!0,x=null;const{payload:A}=u0(s.access_token);if(A.exp&&(d=A.exp,m=d<=o),m){const{session:_,error:b}=await this._callRefreshToken(s.refresh_token);if(b)return{data:{user:null,session:null},error:b};if(!_)return{data:{user:null,session:null},error:null};x=_}else{const{data:_,error:b}=await this._getUser(s.access_token);if(b)throw b;x={access_token:s.access_token,refresh_token:s.refresh_token,user:_.user,token_type:"bearer",expires_in:d-o,expires_at:d},await this._saveSession(x),await this._notifyAllSubscribers("SIGNED_IN",x)}return{data:{user:x.user,session:x},error:null}}catch(o){if(qe(o))return{data:{session:null,user:null},error:o};throw o}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async o=>{var d;if(!s){const{data:A,error:_}=o;if(_)throw _;s=(d=A.session)!==null&&d!==void 0?d:void 0}if(!s?.refresh_token)throw new da;const{session:m,error:x}=await this._callRefreshToken(s.refresh_token);return x?{data:{user:null,session:null},error:x}:m?{data:{user:m.user,session:m},error:null}:{data:{user:null,session:null},error:null}})}catch(o){if(qe(o))return{data:{user:null,session:null},error:o};throw o}}async _getSessionFromURL(s,o){try{if(!Mi())throw new Fu("No browser detected.");if(s.error||s.error_description||s.error_code)throw new Fu(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(o){case"implicit":if(this.flowType==="pkce")throw new p2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fu("Not a valid implicit grant flow url.");break;default:}if(o==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new p2("No code detected.");const{data:xe,error:V}=await this._exchangeCodeForSession(s.code);if(V)throw V;const le=new URL(window.location.href);return le.searchParams.delete("code"),window.history.replaceState(window.history.state,"",le.toString()),{data:{session:xe.session,redirectType:null},error:null}}const{provider_token:d,provider_refresh_token:m,access_token:x,refresh_token:A,expires_in:_,expires_at:b,token_type:y}=s;if(!x||!_||!A||!y)throw new Fu("No session defined in URL");const C=Math.round(Date.now()/1e3),T=parseInt(_);let M=C+T;b&&(M=parseInt(b));const k=M-C;k*1e3<=Js&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${k}s, should have been closer to ${T}s`);const H=M-T;C-H>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",H,M,C):C-H<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",H,M,C);const{data:q,error:Y}=await this._getUser(x);if(Y)throw Y;const se={provider_token:d,provider_refresh_token:m,access_token:x,expires_in:T,expires_at:M,refresh_token:A,token_type:y,user:q.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:se,redirectType:s.type},error:null}}catch(d){if(qe(d))return{data:{session:null,redirectType:null},error:d};throw d}}_isImplicitGrantCallback(s){return!!(s.access_token||s.error_description)}async _isPKCECallback(s){const o=await Xa(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&o)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async o=>{var d;const{data:m,error:x}=o;if(x)return{error:x};const A=(d=m.session)===null||d===void 0?void 0:d.access_token;if(A){const{error:_}=await this.admin.signOut(A,s);if(_&&!(nw(_)&&(_.status===404||_.status===401||_.status===403)))return{error:_}}return s!=="others"&&(await this._removeSession(),await ha(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(s){const o=dw(),d={id:o,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",o),this.stateChangeEmitters.delete(o)}};return this._debug("#onAuthStateChange()","registered callback with id",o),this.stateChangeEmitters.set(o,d),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(o)})))(),{data:{subscription:d}}}async _emitInitialSession(s){return await this._useSession(async o=>{var d,m;try{const{data:{session:x},error:A}=o;if(A)throw A;await((d=this.stateChangeEmitters.get(s))===null||d===void 0?void 0:d.callback("INITIAL_SESSION",x)),this._debug("INITIAL_SESSION","callback id",s,"session",x)}catch(x){await((m=this.stateChangeEmitters.get(s))===null||m===void 0?void 0:m.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",x),console.error(x)}})}async resetPasswordForEmail(s,o={}){let d=null,m=null;this.flowType==="pkce"&&([d,m]=await Ws(this.storage,this.storageKey,!0));try{return await rt(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:d,code_challenge_method:m,gotrue_meta_security:{captcha_token:o.captchaToken}},headers:this.headers,redirectTo:o.redirectTo})}catch(x){if(qe(x))return{data:null,error:x};throw x}}async getUserIdentities(){var s;try{const{data:o,error:d}=await this.getUser();if(d)throw d;return{data:{identities:(s=o.user.identities)!==null&&s!==void 0?s:[]},error:null}}catch(o){if(qe(o))return{data:null,error:o};throw o}}async linkIdentity(s){var o;try{const{data:d,error:m}=await this._useSession(async x=>{var A,_,b,y,C;const{data:T,error:M}=x;if(M)throw M;const k=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(A=s.options)===null||A===void 0?void 0:A.redirectTo,scopes:(_=s.options)===null||_===void 0?void 0:_.scopes,queryParams:(b=s.options)===null||b===void 0?void 0:b.queryParams,skipBrowserRedirect:!0});return await rt(this.fetch,"GET",k,{headers:this.headers,jwt:(C=(y=T.session)===null||y===void 0?void 0:y.access_token)!==null&&C!==void 0?C:void 0})});if(m)throw m;return Mi()&&!(!((o=s.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d?.url),{data:{provider:s.provider,url:d?.url},error:null}}catch(d){if(qe(d))return{data:{provider:s.provider,url:null},error:d};throw d}}async unlinkIdentity(s){try{return await this._useSession(async o=>{var d,m;const{data:x,error:A}=o;if(A)throw A;return await rt(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(m=(d=x.session)===null||d===void 0?void 0:d.access_token)!==null&&m!==void 0?m:void 0})})}catch(o){if(qe(o))return{data:null,error:o};throw o}}async _refreshAccessToken(s){const o=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(o,"begin");try{const d=Date.now();return await pw(async m=>(m>0&&await xw(200*Math.pow(2,m-1)),this._debug(o,"refreshing attempt",m),await rt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:Tr})),(m,x)=>{const A=200*Math.pow(2,m);return x&&o0(x)&&Date.now()+A-d<Js})}catch(d){if(this._debug(o,"error",d),qe(d))return{data:{session:null,user:null},error:d};throw d}finally{this._debug(o,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,o){const d=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:o.redirectTo,scopes:o.scopes,queryParams:o.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",o,"url",d),Mi()&&!o.skipBrowserRedirect&&window.location.assign(d),{data:{provider:s,url:d},error:null}}async _recoverAndRefresh(){var s,o;const d="#_recoverAndRefresh()";this._debug(d,"begin");try{const m=await Xa(this.storage,this.storageKey);if(m&&this.userStorage){let A=await Xa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!A&&(A={user:m.user},await $s(this.userStorage,this.storageKey+"-user",A)),m.user=(s=A?.user)!==null&&s!==void 0?s:c0()}else if(m&&!m.user&&!m.user){const A=await Xa(this.storage,this.storageKey+"-user");A&&A?.user?(m.user=A.user,await ha(this.storage,this.storageKey+"-user"),await $s(this.storage,this.storageKey,m)):m.user=c0()}if(this._debug(d,"session from storage",m),!this._isValidSession(m)){this._debug(d,"session is not valid"),m!==null&&await this._removeSession();return}const x=((o=m.expires_at)!==null&&o!==void 0?o:1/0)*1e3-Date.now()<l0;if(this._debug(d,`session has${x?"":" not"} expired with margin of ${l0}s`),x){if(this.autoRefreshToken&&m.refresh_token){const{error:A}=await this._callRefreshToken(m.refresh_token);A&&(console.error(A),o0(A)||(this._debug(d,"refresh failed with a non-retryable error, removing the session",A),await this._removeSession()))}}else if(m.user&&m.user.__isUserNotAvailableProxy===!0)try{const{data:A,error:_}=await this._getUser(m.access_token);!_&&A?.user?(m.user=A.user,await this._saveSession(m),await this._notifyAllSubscribers("SIGNED_IN",m)):this._debug(d,"could not get user data, skipping SIGNED_IN notification")}catch(A){console.error("Error getting user data:",A),this._debug(d,"error getting user data, skipping SIGNED_IN notification",A)}else await this._notifyAllSubscribers("SIGNED_IN",m)}catch(m){this._debug(d,"error",m),console.error(m);return}finally{this._debug(d,"end")}}async _callRefreshToken(s){var o,d;if(!s)throw new da;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const m=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(m,"begin");try{this.refreshingDeferred=new ec;const{data:x,error:A}=await this._refreshAccessToken(s);if(A)throw A;if(!x.session)throw new da;await this._saveSession(x.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",x.session);const _={session:x.session,error:null};return this.refreshingDeferred.resolve(_),_}catch(x){if(this._debug(m,"error",x),qe(x)){const A={session:null,error:x};return o0(x)||await this._removeSession(),(o=this.refreshingDeferred)===null||o===void 0||o.resolve(A),A}throw(d=this.refreshingDeferred)===null||d===void 0||d.reject(x),x}finally{this.refreshingDeferred=null,this._debug(m,"end")}}async _notifyAllSubscribers(s,o,d=!0){const m=`#_notifyAllSubscribers(${s})`;this._debug(m,"begin",o,`broadcast = ${d}`);try{this.broadcastChannel&&d&&this.broadcastChannel.postMessage({event:s,session:o});const x=[],A=Array.from(this.stateChangeEmitters.values()).map(async _=>{try{await _.callback(s,o)}catch(b){x.push(b)}});if(await Promise.all(A),x.length>0){for(let _=0;_<x.length;_+=1)console.error(x[_]);throw x[0]}}finally{this._debug(m,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0;const o=Object.assign({},s),d=o.user&&o.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!d&&o.user&&await $s(this.userStorage,this.storageKey+"-user",{user:o.user});const m=Object.assign({},o);delete m.user;const x=b2(m);await $s(this.storage,this.storageKey,x)}else{const m=b2(o);await $s(this.storage,this.storageKey,m)}}async _removeSession(){this._debug("#_removeSession()"),await ha(this.storage,this.storageKey),await ha(this.storage,this.storageKey+"-code-verifier"),await ha(this.storage,this.storageKey+"-user"),this.userStorage&&await ha(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&Mi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",s)}catch(o){console.error("removing visibilitychange callback failed",o)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),Js);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async o=>{const{data:{session:d}}=o;if(!d||!d.refresh_token||!d.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const m=Math.floor((d.expires_at*1e3-s)/Js);this._debug("#_autoRefreshTokenTick()",`access token expires in ${m} ticks, a tick lasts ${Js}ms, refresh threshold is ${v0} ticks`),m<=v0&&await this._callRefreshToken(d.refresh_token)})}catch(o){console.error("Auto refresh tick failed with error. This is likely a transient error.",o)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof Eg)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const o=`#_onVisibilityChanged(${s})`;this._debug(o,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(o,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,o,d){const m=[`provider=${encodeURIComponent(o)}`];if(d?.redirectTo&&m.push(`redirect_to=${encodeURIComponent(d.redirectTo)}`),d?.scopes&&m.push(`scopes=${encodeURIComponent(d.scopes)}`),this.flowType==="pkce"){const[x,A]=await Ws(this.storage,this.storageKey),_=new URLSearchParams({code_challenge:`${encodeURIComponent(x)}`,code_challenge_method:`${encodeURIComponent(A)}`});m.push(_.toString())}if(d?.queryParams){const x=new URLSearchParams(d.queryParams);m.push(x.toString())}return d?.skipBrowserRedirect&&m.push(`skip_http_redirect=${d.skipBrowserRedirect}`),`${s}?${m.join("&")}`}async _unenroll(s){try{return await this._useSession(async o=>{var d;const{data:m,error:x}=o;return x?{data:null,error:x}:await rt(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(d=m?.session)===null||d===void 0?void 0:d.access_token})})}catch(o){if(qe(o))return{data:null,error:o};throw o}}async _enroll(s){try{return await this._useSession(async o=>{var d,m;const{data:x,error:A}=o;if(A)return{data:null,error:A};const _=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:{issuer:s.issuer}),{data:b,error:y}=await rt(this.fetch,"POST",`${this.url}/factors`,{body:_,headers:this.headers,jwt:(d=x?.session)===null||d===void 0?void 0:d.access_token});return y?{data:null,error:y}:(s.factorType==="totp"&&(!((m=b?.totp)===null||m===void 0)&&m.qr_code)&&(b.totp.qr_code=`data:image/svg+xml;utf-8,${b.totp.qr_code}`),{data:b,error:null})})}catch(o){if(qe(o))return{data:null,error:o};throw o}}async _verify(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async o=>{var d;const{data:m,error:x}=o;if(x)return{data:null,error:x};const{data:A,error:_}=await rt(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:{code:s.code,challenge_id:s.challengeId},headers:this.headers,jwt:(d=m?.session)===null||d===void 0?void 0:d.access_token});return _?{data:null,error:_}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+A.expires_in},A)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",A),{data:A,error:_})})}catch(o){if(qe(o))return{data:null,error:o};throw o}})}async _challenge(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async o=>{var d;const{data:m,error:x}=o;return x?{data:null,error:x}:await rt(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:{channel:s.channel},headers:this.headers,jwt:(d=m?.session)===null||d===void 0?void 0:d.access_token})})}catch(o){if(qe(o))return{data:null,error:o};throw o}})}async _challengeAndVerify(s){const{data:o,error:d}=await this._challenge({factorId:s.factorId});return d?{data:null,error:d}:await this._verify({factorId:s.factorId,challengeId:o.id,code:s.code})}async _listFactors(){const{data:{user:s},error:o}=await this.getUser();if(o)return{data:null,error:o};const d=s?.factors||[],m=d.filter(A=>A.factor_type==="totp"&&A.status==="verified"),x=d.filter(A=>A.factor_type==="phone"&&A.status==="verified");return{data:{all:d,totp:m,phone:x},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async s=>{var o,d;const{data:{session:m},error:x}=s;if(x)return{data:null,error:x};if(!m)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:A}=u0(m.access_token);let _=null;A.aal&&(_=A.aal);let b=_;((d=(o=m.user.factors)===null||o===void 0?void 0:o.filter(T=>T.status==="verified"))!==null&&d!==void 0?d:[]).length>0&&(b="aal2");const C=A.amr||[];return{data:{currentLevel:_,nextLevel:b,currentAuthenticationMethods:C},error:null}}))}async fetchJwk(s,o={keys:[]}){let d=o.keys.find(_=>_.kid===s);if(d)return d;const m=Date.now();if(d=this.jwks.keys.find(_=>_.kid===s),d&&this.jwks_cached_at+ew>m)return d;const{data:x,error:A}=await rt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(A)throw A;return!x.keys||x.keys.length===0||(this.jwks=x,this.jwks_cached_at=m,d=x.keys.find(_=>_.kid===s),!d)?null:d}async getClaims(s,o={}){try{let d=s;if(!d){const{data:k,error:H}=await this.getSession();if(H||!k.session)return{data:null,error:H};d=k.session.access_token}const{header:m,payload:x,signature:A,raw:{header:_,payload:b}}=u0(d);o?.allowExpired||Cw(x.exp);const y=!m.alg||m.alg.startsWith("HS")||!m.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(m.kid,o?.keys?{keys:o.keys}:o?.jwks);if(!y){const{error:k}=await this.getUser(d);if(k)throw k;return{data:{claims:x,header:m,signature:A},error:null}}const C=_w(m.alg),T=await crypto.subtle.importKey("jwk",y,C,!0,["verify"]);if(!await crypto.subtle.verify(C,T,A,cw(`${_}.${b}`)))throw new C0("Invalid JWT signature");return{data:{claims:x,header:m,signature:A},error:null}}catch(d){if(qe(d))return{data:null,error:d};throw d}}}xo.nextInstanceID=0;const zw=xo;class Hw extends zw{constructor(s){super(s)}}var Gw=function(f,s,o,d){function m(x){return x instanceof o?x:new o(function(A){A(x)})}return new(o||(o=Promise))(function(x,A){function _(C){try{y(d.next(C))}catch(T){A(T)}}function b(C){try{y(d.throw(C))}catch(T){A(T)}}function y(C){C.done?x(C.value):m(C.value).then(_,b)}y((d=d.apply(f,s||[])).next())})};class Vw{constructor(s,o,d){var m,x,A;if(this.supabaseUrl=s,this.supabaseKey=o,!s)throw new Error("supabaseUrl is required.");if(!o)throw new Error("supabaseKey is required.");const _=Wp(s),b=new URL(_);this.realtimeUrl=new URL("realtime/v1",b),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",b),this.storageUrl=new URL("storage/v1",b),this.functionsUrl=new URL("functions/v1",b);const y=`sb-${b.hostname.split(".")[0]}-auth-token`,C={db:Fp,realtime:Hp,auth:Object.assign(Object.assign({},zp),{storageKey:y}),global:jp},T=Zp(d??{},C);this.storageKey=(m=T.auth.storageKey)!==null&&m!==void 0?m:"",this.headers=(x=T.global.headers)!==null&&x!==void 0?x:{},T.accessToken?(this.accessToken=T.accessToken,this.auth=new Proxy({},{get:(M,k)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(k)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((A=T.auth)!==null&&A!==void 0?A:{},this.headers,T.global.fetch),this.fetch=qp(o,this._getAccessToken.bind(this),T.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},T.realtime)),this.rest=new sp(new URL("rest/v1",b).href,{headers:this.headers,schema:T.db.schema,fetch:this.fetch}),this.storage=new kp(this.storageUrl.href,this.headers,this.fetch,d?.storage),T.accessToken||this._listenForAuthEvents()}get functions(){return new W3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,o={},d={}){return this.rest.rpc(s,o,d)}channel(s,o={config:{}}){return this.realtime.channel(s,o)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var s,o;return Gw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:d}=yield this.auth.getSession();return(o=(s=d.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:o,detectSessionInUrl:d,storage:m,storageKey:x,flowType:A,lock:_,debug:b},y,C){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Hw({url:this.authUrl.href,headers:Object.assign(Object.assign({},T),y),storageKey:x,autoRefreshToken:s,persistSession:o,detectSessionInUrl:d,storage:m,flowType:A,lock:_,debug:b,fetch:C,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(s){return new Ap(this.realtimeUrl.href,Object.assign(Object.assign({},s),{params:Object.assign({apikey:this.supabaseKey},s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((o,d)=>{this._handleTokenChanged(o,"CLIENT",d?.access_token)})}_handleTokenChanged(s,o,d){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==d?this.changedAccessToken=d:s==="SIGNED_OUT"&&(this.realtime.setAuth(),o=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Xw=(f,s,o)=>new Vw(f,s,o);function qw(){if(typeof window<"u"||typeof process>"u")return!1;const f=process.version;if(f==null)return!1;const s=f.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}qw()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Yw="https://wzbqxtaeypjvmynqhkfj.supabase.co",Ww="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind6YnF4dGFleXBqdm15bnFoa2ZqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4MjEzNjAsImV4cCI6MjA3MDM5NzM2MH0.mbflibCoH26AUvCWs0LOhuv5qrc8p1ZB2UF-V3MRlMM",Li=Xw(Yw,Ww),vg=Z.createContext(void 0),Zw=({children:f})=>{const[s,o]=Z.useState(null),[d,m]=Z.useState(!0);Z.useEffect(()=>{Li.auth.getSession().then(({data:{session:y}})=>{o(y?.user??null),m(!1)});const{data:b}=Li.auth.onAuthStateChange((y,C)=>{o(C?.user??null),m(!1)});return()=>{b?.subscription.unsubscribe()}},[]);const x=async(b,y)=>{m(!0);const{error:C}=await Li.auth.signUp({email:b,password:y});if(C)throw C;m(!1)},A=async(b,y)=>{m(!0);const{error:C,data:T}=await Li.auth.signInWithPassword({email:b,password:y});if(C)throw C;m(!1),o(T.user??null)},_=async()=>{m(!0);const{error:b}=await Li.auth.signOut();if(b)throw b;o(null),m(!1)};return z.jsx(vg.Provider,{value:{user:s,loading:d,signUp:x,signIn:A,signOut:_},children:f})},bo=()=>{const f=Z.useContext(vg);if(f===void 0)throw new Error("useAuth must be used within an AuthProvider");return f},H0=()=>z.jsxs("div",{className:"loader-container",children:[z.jsx("div",{className:"loader"}),z.jsx("p",{children:"Chargement..."})]}),qa=({children:f})=>{const{user:s,loading:o}=bo();return o?z.jsx(H0,{}):s?z.jsx(z.Fragment,{children:f}):z.jsx(u3,{to:"/ShelfTracker/login",replace:!0})},Kw=()=>{const{signIn:f}=bo(),[s,o]=Z.useState(""),[d,m]=Z.useState(""),[x,A]=Z.useState(null),[_,b]=Z.useState(!1),y=ji(),C=async T=>{T.preventDefault(),A(null),b(!0);try{await f(s,d),await y("/ShelfTracker")}catch(M){M instanceof Error?A(M.message):A("Une erreur inconnue est survenue")}finally{b(!1)}};return z.jsxs(z.Fragment,{children:[z.jsxs("form",{className:"form",onSubmit:C,"aria-live":"polite",children:[z.jsx("input",{className:"input",type:"email",placeholder:"Email",onChange:T=>o(T.target.value),value:s,required:!0}),z.jsx("input",{className:"input",type:"password",placeholder:"Mot de passe",onChange:T=>m(T.target.value),value:d,required:!0}),z.jsx("button",{className:"btn",type:"submit",disabled:_,children:_?"Chargement...":"Se connecter"})]}),x&&z.jsx("p",{className:"error",role:"alert",children:x})]})};function Qw(){return z.jsx("div",{className:"root",children:z.jsxs("div",{className:"card",children:[z.jsx("h2",{className:"title",children:"Connexion"}),z.jsx(Kw,{})]})})}const G0="equipments",Jw=async()=>{const{data:f,error:s}=await Li.from(G0).select("*").order("name",{ascending:!0});if(s)throw s;return f??[]},bg=async f=>{const{data:s,error:o}=await Li.from(G0).select("*").eq("id",f).single();if(o)throw o;return s},$w=async f=>{const{data:s,error:o}=await Li.from(G0).insert(f).single();if(o)throw o;return s},Ag=Z.createContext(void 0),ey=({children:f})=>{const[s,o]=Z.useState([]),d=A=>{s.some(_=>_.id===A.id)||o(_=>[..._,A])},m=A=>{o(_=>_.filter(b=>b.id!==A))},x=()=>o([]);return z.jsx(Ag.Provider,{value:{cart:s,addToCart:d,removeFromCart:m,clearCart:x},children:f})},$a=()=>{const f=Z.useContext(Ag);if(f===void 0)throw new Error("useCart must be used within an CartProvider");return f};var Cg={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},T2=Pt.createContext&&Pt.createContext(Cg),ty=["attr","size","title"];function ny(f,s){if(f==null)return{};var o=iy(f,s),d,m;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(f);for(m=0;m<x.length;m++)d=x[m],!(s.indexOf(d)>=0)&&Object.prototype.propertyIsEnumerable.call(f,d)&&(o[d]=f[d])}return o}function iy(f,s){if(f==null)return{};var o={};for(var d in f)if(Object.prototype.hasOwnProperty.call(f,d)){if(s.indexOf(d)>=0)continue;o[d]=f[d]}return o}function qu(){return qu=Object.assign?Object.assign.bind():function(f){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(f[d]=o[d])}return f},qu.apply(this,arguments)}function O2(f,s){var o=Object.keys(f);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(f);s&&(d=d.filter(function(m){return Object.getOwnPropertyDescriptor(f,m).enumerable})),o.push.apply(o,d)}return o}function Yu(f){for(var s=1;s<arguments.length;s++){var o=arguments[s]!=null?arguments[s]:{};s%2?O2(Object(o),!0).forEach(function(d){ry(f,d,o[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(o)):O2(Object(o)).forEach(function(d){Object.defineProperty(f,d,Object.getOwnPropertyDescriptor(o,d))})}return f}function ry(f,s,o){return s=ay(s),s in f?Object.defineProperty(f,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):f[s]=o,f}function ay(f){var s=sy(f,"string");return typeof s=="symbol"?s:s+""}function sy(f,s){if(typeof f!="object"||!f)return f;var o=f[Symbol.toPrimitive];if(o!==void 0){var d=o.call(f,s);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(f)}function _g(f){return f&&f.map((s,o)=>Pt.createElement(s.tag,Yu({key:o},s.attr),_g(s.child)))}function qt(f){return s=>Pt.createElement(ly,qu({attr:Yu({},f.attr)},s),_g(f.child))}function ly(f){var s=o=>{var{attr:d,size:m,title:x}=f,A=ny(f,ty),_=m||o.size||"1em",b;return o.className&&(b=o.className),f.className&&(b=(b?b+" ":"")+f.className),Pt.createElement("svg",qu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},o.attr,d,A,{className:b,style:Yu(Yu({color:f.color||o.color},o.style),f.style),height:_,width:_,xmlns:"http://www.w3.org/2000/svg"}),x&&Pt.createElement("title",null,x),f.children)};return T2!==void 0?Pt.createElement(T2.Consumer,null,o=>s(o)):s(Cg)}function V0(f){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 112v288m144-144H112"},child:[]}]})(f)}function oy(f){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M250.26 166.05 256 288l5.73-121.95a5.74 5.74 0 0 0-5.79-6h0a5.74 5.74 0 0 0-5.68 6z"},child:[]},{tag:"path",attr:{d:"M256 367.91a20 20 0 1 1 20-20 20 20 0 0 1-20 20z"},child:[]}]})(f)}function uy(f){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M454.65 169.4A31.82 31.82 0 0 0 432 160h-64v-16a112 112 0 0 0-224 0v16H80a32 32 0 0 0-32 32v216c0 39 33 72 72 72h272a72.22 72.22 0 0 0 50.48-20.55 69.48 69.48 0 0 0 21.52-50.2V192a31.75 31.75 0 0 0-9.35-22.6zM176 144a80 80 0 0 1 160 0v16H176zm192 96a112 112 0 0 1-224 0v-16a16 16 0 0 1 32 0v16a80 80 0 0 0 160 0v-16a16 16 0 0 1 32 0z"},child:[]}]})(f)}function cy(f){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 322.3V189.7A29.74 29.74 0 0 1 77.7 160h137.44l24.4-32H77.7A61.77 61.77 0 0 0 16 189.7v132.6A61.77 61.77 0 0 0 77.7 384h96.85a22.57 22.57 0 0 1 .26-7.32l.15-.75.21-.73 6.5-23.2H77.7A29.74 29.74 0 0 1 48 322.3zM386.3 128h-98.64a22.69 22.69 0 0 1-.27 7.2l-.15.74-.21.73-6.54 23.33H386.3a29.74 29.74 0 0 1 29.7 29.7v132.6a29.74 29.74 0 0 1-29.7 29.7H247l-24.42 32H386.3a61.77 61.77 0 0 0 61.7-61.7V189.7a61.77 61.77 0 0 0-61.7-61.7z"},child:[]},{tag:"path",attr:{d:"M162.65 294.16a24.37 24.37 0 0 1-21.56-13 25 25 0 0 1 1.42-25.83l.31-.46.33-.44L197.62 183H89.69a20 20 0 0 0-20 20v106a20 20 0 0 0 20 20h98.42l9.78-34.86z"},child:[]},{tag:"path",attr:{d:"m276.07 280.89 27.07-35.49a5.2 5.2 0 0 0 .77-1.91 5 5 0 0 0 .08-.66 5 5 0 0 0-.08-1.29 5.11 5.11 0 0 0-.68-1.75 4.76 4.76 0 0 0-.78-.95 3.48 3.48 0 0 0-.48-.38 4 4 0 0 0-1.11-.55 4.28 4.28 0 0 0-1.31-.2h-61.62l12.12-43.21 3.23-11.5 6.21-22.16.51-1.84 7.79-27.76a3.51 3.51 0 0 0 .05-.55v-.16c0-.05 0-.26-.05-.38s0-.09 0-.14a2.2 2.2 0 0 0-.17-.45 3.77 3.77 0 0 0-.26-.39l-.09-.1a2.73 2.73 0 0 0-.25-.23l-.1-.08a3.14 3.14 0 0 0-.39-.24 2 2 0 0 0-.41-.14h-.59a2.3 2.3 0 0 0-.45 0 1.9 1.9 0 0 0-.42.15l-.13.07-.3.21-.11.1a2.4 2.4 0 0 0-.36.41l-18 23.63-13.14 17.22-9.85 12.83-63.71 83.55a5.72 5.72 0 0 0-.44.8 4.78 4.78 0 0 0-.35 1.09 4.7 4.7 0 0 0-.08 1.29 4.86 4.86 0 0 0 2 3.71 4.74 4.74 0 0 0 .54.31 4.31 4.31 0 0 0 1.89.43h61.62L194.42 380.6a3.64 3.64 0 0 0 0 .56v.15a2.32 2.32 0 0 0 .06.38.58.58 0 0 0 0 .14 2.2 2.2 0 0 0 .17.45 3.62 3.62 0 0 0 .26.38l.09.1.25.24a.39.39 0 0 1 .1.08 2.22 2.22 0 0 0 .39.23 2.83 2.83 0 0 0 .41.14h.13a1.86 1.86 0 0 0 .33 0h.13a2.32 2.32 0 0 0 .45-.06 2.05 2.05 0 0 0 .41-.16l.13-.07.3-.21.11-.09a2.4 2.4 0 0 0 .36-.41L221.82 352l17.53-23z"},child:[]},{tag:"path",attr:{d:"m319.5 256.93-.46.6L264.51 329h109.8a20 20 0 0 0 20-20V203a20 20 0 0 0-20-20H274.05l-9.74 34.73h35.24A24.35 24.35 0 0 1 321 230.5a25.21 25.21 0 0 1-1 25.79zM480 202.67a16 16 0 0 0-16 16v74.66a16 16 0 0 0 32 0v-74.66a16 16 0 0 0-16-16z"},child:[]}]})(f)}function fy(f){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"256",cy:"272",r:"64"},child:[]},{tag:"path",attr:{d:"M432 144h-59c-3 0-6.72-1.94-9.62-5l-25.94-40.94a15.52 15.52 0 0 0-1.37-1.85C327.11 85.76 315 80 302 80h-92c-13 0-25.11 5.76-34.07 16.21a15.52 15.52 0 0 0-1.37 1.85l-25.94 41c-2.22 2.42-5.34 5-8.62 5v-8a16 16 0 0 0-16-16h-24a16 16 0 0 0-16 16v8h-4a48.05 48.05 0 0 0-48 48V384a48.05 48.05 0 0 0 48 48h352a48.05 48.05 0 0 0 48-48V192a48.05 48.05 0 0 0-48-48zM256 368a96 96 0 1 1 96-96 96.11 96.11 0 0 1-96 96z"},child:[]}]})(f)}function hy(f){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"176",cy:"416",r:"32"},child:[]},{tag:"circle",attr:{cx:"400",cy:"416",r:"32"},child:[]},{tag:"path",attr:{d:"M456.8 120.78a23.92 23.92 0 0 0-18.56-8.78H133.89l-6.13-34.78A16 16 0 0 0 112 64H48a16 16 0 0 0 0 32h50.58l45.66 258.78A16 16 0 0 0 160 368h256a16 16 0 0 0 0-32H173.42l-5.64-32h241.66A24.07 24.07 0 0 0 433 284.71l28.8-144a24 24 0 0 0-5-19.93z"},child:[]}]})(f)}function Sg(f){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M416 128 192 384l-96-96"},child:[]}]})(f)}function dy(f){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M328 112 184 256l144 144"},child:[]}]})(f)}function gy(f){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M253.72 202.53a4 4 0 0 0 4.56 0 151.88 151.88 0 0 1 128.44-20.41 4 4 0 0 0 5.15-4C388.8 105.86 329 48 256 48s-132.8 57.86-135.87 130.15a4 4 0 0 0 5.15 4 151.88 151.88 0 0 1 128.44 20.41zm151.59 10.03a152.53 152.53 0 0 1-83.08 108.23 4 4 0 0 0-2.28 3.69c0 1.17.05 2.34.05 3.52a151.58 151.58 0 0 1-47.15 109.94 4 4 0 0 0 .64 6.31A135.24 135.24 0 0 0 344 464c72.07 0 134.1-60.28 136-132.34a136.07 136.07 0 0 0-68.76-121.87 4 4 0 0 0-5.93 2.77z"},child:[]},{tag:"path",attr:{d:"M390.57 203.67a4 4 0 0 0-2.69-4.4 135.84 135.84 0 0 0-114.4 12.49 4 4 0 0 0-.64 6.29 151.92 151.92 0 0 1 44.47 81.4 4 4 0 0 0 5.94 2.72 136.29 136.29 0 0 0 67.32-98.5zM192 328c0-1.18 0-2.35.05-3.52a4 4 0 0 0-2.28-3.69 152.53 152.53 0 0 1-83.08-108.23 4 4 0 0 0-5.88-2.77 136.07 136.07 0 0 0-68.76 121.87C34 403.72 96 464 168.05 464a135.24 135.24 0 0 0 70.46-19.75 4 4 0 0 0 .64-6.31A151.58 151.58 0 0 1 192 328z"},child:[]},{tag:"path",attr:{d:"M168 192a135.34 135.34 0 0 0-43.88 7.27 4 4 0 0 0-2.69 4.4 136.29 136.29 0 0 0 67.32 98.5 4 4 0 0 0 5.94-2.72 151.92 151.92 0 0 1 44.47-81.4 4 4 0 0 0-.64-6.29A135.18 135.18 0 0 0 168 192zm88 144a151.44 151.44 0 0 1-42.72-6.12 4 4 0 0 0-5.15 4 135.69 135.69 0 0 0 45.18 95.4 4 4 0 0 0 5.38 0 135.69 135.69 0 0 0 45.18-95.4 4 4 0 0 0-5.15-4A151.44 151.44 0 0 1 256 336zm46.57-27.67a135.94 135.94 0 0 0-43.87-81.58 4.06 4.06 0 0 0-5.4 0 135.94 135.94 0 0 0-43.87 81.58 4 4 0 0 0 2.69 4.4 136.06 136.06 0 0 0 87.76 0 4 4 0 0 0 2.69-4.4z"},child:[]}]})(f)}function my(f){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M448 341.37V170.61A32 32 0 0 0 432.11 143l-152-88.46a47.94 47.94 0 0 0-48.24 0L79.89 143A32 32 0 0 0 64 170.61v170.76A32 32 0 0 0 79.89 369l152 88.46a48 48 0 0 0 48.24 0l152-88.46A32 32 0 0 0 448 341.37z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m69 153.99 187 110 187-110m-187 310v-200"},child:[]}]})(f)}function xy(f){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.9 136.3a4 4 0 0 0 0-6.91L288.16 40.65a64.14 64.14 0 0 0-64.33 0L71.12 129.39a4 4 0 0 0 0 6.91L254 243.88a4 4 0 0 0 4.06 0zM54 163.51a4 4 0 0 0-6 3.49v173.89a48 48 0 0 0 23.84 41.39L234 479.51a4 4 0 0 0 6-3.46V274.3a4 4 0 0 0-2-3.46zM272 275v201a4 4 0 0 0 6 3.46l162.15-97.23A48 48 0 0 0 464 340.89V167a4 4 0 0 0-6-3.45l-184 108a4 4 0 0 0-2 3.45z"},child:[]}]})(f)}function py(f){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M336 176h40a40 40 0 0 1 40 40v208a40 40 0 0 1-40 40H136a40 40 0 0 1-40-40V216a40 40 0 0 1 40-40h40"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m176 272 80 80 80-80M256 48v288"},child:[]}]})(f)}function wy(f){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M345.14 480H274a18 18 0 0 1-18-18v-27.71a31.32 31.32 0 0 0-9.71-22.77c-7.78-7.59-19.08-11.8-30.89-11.51-21.36.5-39.4 19.3-39.4 41.06V462a18 18 0 0 1-18 18H87.62A55.62 55.62 0 0 1 32 424.38V354a18 18 0 0 1 18-18h27.71c9.16 0 18.07-3.92 25.09-11a42.06 42.06 0 0 0 12.2-29.92C114.7 273.89 97.26 256 76.91 256H50a18 18 0 0 1-18-18v-70.38A55.62 55.62 0 0 1 87.62 112h55.24a8 8 0 0 0 8-8v-6.48A65.53 65.53 0 0 1 217.54 32c35.49.62 64.36 30.38 64.36 66.33V104a8 8 0 0 0 8 8h55.24A54.86 54.86 0 0 1 400 166.86v55.24a8 8 0 0 0 8 8h5.66c36.58 0 66.34 29 66.34 64.64 0 36.61-29.39 66.4-65.52 66.4H408a8 8 0 0 0-8 8v56A54.86 54.86 0 0 1 345.14 480z"},child:[]}]})(f)}function yy(f){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M194.82 496a18.36 18.36 0 0 1-18.1-21.53v-.11L204.83 320H96a16 16 0 0 1-12.44-26.06L302.73 23a18.45 18.45 0 0 1 32.8 13.71c0 .3-.08.59-.13.89L307.19 192H416a16 16 0 0 1 12.44 26.06L209.24 489a18.45 18.45 0 0 1-14.42 7z"},child:[]}]})(f)}function Ey(f){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M79.2 211.44c15.52-8.82 34.91-2.28 43.31 13.68l41.38 84.41a7 7 0 0 0 8.93 3.43 7 7 0 0 0 4.41-6.52V72c0-13.91 12.85-24 26.77-24s26 10.09 26 24v156.64A11.24 11.24 0 0 0 240.79 240 11 11 0 0 0 252 229V24c0-13.91 10.94-24 24.86-24S302 10.09 302 24v204.64A11.24 11.24 0 0 0 312.79 240 11 11 0 0 0 324 229V56c0-13.91 12.08-24 26-24s26 11.09 26 25v187.64A11.24 11.24 0 0 0 386.79 256 11 11 0 0 0 398 245V120c0-13.91 11.08-24 25-24s25.12 10.22 25 24v216c0 117.41-72 176-160 176h-16c-88 0-115.71-39.6-136-88L67.33 255c-6.66-18-3.64-34.75 11.87-43.56z"},child:[]}]})(f)}function vy(f){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M411.16 97.46C368.43 55.86 311.88 32 256 32S143.57 55.86 100.84 97.46C56.45 140.67 32 197 32 256c0 26.67 8.75 61.09 32.88 125.55S137 473 157.27 477.41c5.81 1.27 12.62 2.59 18.73 2.59a60.06 60.06 0 0 0 30-8l14-8c15.07-8.82 19.47-28.13 10.8-43.35l-86.92-152.57a31.73 31.73 0 0 0-43.57-11.76l-13.69 8a56.49 56.49 0 0 0-14 11.59 4 4 0 0 1-7-2A114.68 114.68 0 0 1 64 256c0-50.31 21-98.48 59.16-135.61C160 84.55 208.39 64 256 64s96 20.55 132.84 56.39C427 157.52 448 205.69 448 256a114.68 114.68 0 0 1-1.68 17.91 4 4 0 0 1-7 2 56.49 56.49 0 0 0-14-11.59l-13.69-8a31.73 31.73 0 0 0-43.57 11.76L281.2 420.65c-8.67 15.22-4.27 34.53 10.8 43.35l14 8a60.06 60.06 0 0 0 30 8c6.11 0 12.92-1.32 18.73-2.59C375 473 423 446 447.12 381.55S480 282.67 480 256c0-59-24.45-115.33-68.84-158.54z"},child:[]}]})(f)}function by(f){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M261.56 101.28a8 8 0 0 0-11.06 0L66.4 277.15a8 8 0 0 0-2.47 5.79L63.9 448a32 32 0 0 0 32 32H192a16 16 0 0 0 16-16V328a8 8 0 0 1 8-8h80a8 8 0 0 1 8 8v136a16 16 0 0 0 16 16h96.06a32 32 0 0 0 32-32V282.94a8 8 0 0 0-2.47-5.79z"},child:[]},{tag:"path",attr:{d:"m490.91 244.15-74.8-71.56V64a16 16 0 0 0-16-16h-48a16 16 0 0 0-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0 0 43 267.56L250.5 69.28a8 8 0 0 1 11.06 0l207.52 198.28a16 16 0 0 0 22.59-.44c6.14-6.36 5.63-16.86-.76-22.97z"},child:[]}]})(f)}function Ay(f){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 32H192a32 32 0 0 0-32 32v412a4 4 0 0 0 4 4h184a4 4 0 0 0 4-4V64a32 32 0 0 0-32-32zm144 160h-72a8 8 0 0 0-8 8v272a8 8 0 0 0 8 8h80a24 24 0 0 0 24-24V224a32 32 0 0 0-32-32zM48 128a32 32 0 0 0-32 32v296a24 24 0 0 0 24 24h80a8 8 0 0 0 8-8V136a8 8 0 0 0-8-8z"},child:[]}]})(f)}function Cy(f){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"80",height:"80",x:"336",y:"336",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"64",height:"64",x:"272",y:"272",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"64",height:"64",x:"416",y:"416",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"48",height:"48",x:"432",y:"272",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"48",height:"48",x:"272",y:"432",rx:"8",ry:"8"},child:[]},{tag:"path",attr:{d:"M448 32H304a32 32 0 0 0-32 32v144a32 32 0 0 0 32 32h144a32 32 0 0 0 32-32V64a32 32 0 0 0-32-32zm-32 136a8 8 0 0 1-8 8h-64a8 8 0 0 1-8-8v-64a8 8 0 0 1 8-8h64a8 8 0 0 1 8 8zM208 32H64a32 32 0 0 0-32 32v144a32 32 0 0 0 32 32h144a32 32 0 0 0 32-32V64a32 32 0 0 0-32-32zm-32 136a8 8 0 0 1-8 8h-64a8 8 0 0 1-8-8v-64a8 8 0 0 1 8-8h64a8 8 0 0 1 8 8zm32 104H64a32 32 0 0 0-32 32v144a32 32 0 0 0 32 32h144a32 32 0 0 0 32-32V304a32 32 0 0 0-32-32zm-32 136a8 8 0 0 1-8 8h-64a8 8 0 0 1-8-8v-64a8 8 0 0 1 8-8h64a8 8 0 0 1 8 8z"},child:[]}]})(f)}function Tg(f){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M400 256H112"},child:[]}]})(f)}function _y(f){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"256",cy:"256",r:"48"},child:[]},{tag:"path",attr:{d:"m470.39 300-.47-.38-31.56-24.75a16.11 16.11 0 0 1-6.1-13.33v-11.56a16 16 0 0 1 6.11-13.22L469.92 212l.47-.38a26.68 26.68 0 0 0 5.9-34.06l-42.71-73.9a1.59 1.59 0 0 1-.13-.22A26.86 26.86 0 0 0 401 92.14l-.35.13-37.1 14.93a15.94 15.94 0 0 1-14.47-1.29q-4.92-3.1-10-5.86a15.94 15.94 0 0 1-8.19-11.82l-5.59-39.59-.12-.72A27.22 27.22 0 0 0 298.76 26h-85.52a26.92 26.92 0 0 0-26.45 22.39l-.09.56-5.57 39.67a16 16 0 0 1-8.13 11.82 175.21 175.21 0 0 0-10 5.82 15.92 15.92 0 0 1-14.43 1.27l-37.13-15-.35-.14a26.87 26.87 0 0 0-32.48 11.34l-.13.22-42.77 73.95a26.71 26.71 0 0 0 5.9 34.1l.47.38 31.56 24.75a16.11 16.11 0 0 1 6.1 13.33v11.56a16 16 0 0 1-6.11 13.22L42.08 300l-.47.38a26.68 26.68 0 0 0-5.9 34.06l42.71 73.9a1.59 1.59 0 0 1 .13.22 26.86 26.86 0 0 0 32.45 11.3l.35-.13 37.07-14.93a15.94 15.94 0 0 1 14.47 1.29q4.92 3.11 10 5.86a15.94 15.94 0 0 1 8.19 11.82l5.56 39.59.12.72A27.22 27.22 0 0 0 213.24 486h85.52a26.92 26.92 0 0 0 26.45-22.39l.09-.56 5.57-39.67a16 16 0 0 1 8.18-11.82c3.42-1.84 6.76-3.79 10-5.82a15.92 15.92 0 0 1 14.43-1.27l37.13 14.95.35.14a26.85 26.85 0 0 0 32.48-11.34 2.53 2.53 0 0 1 .13-.22l42.71-73.89a26.7 26.7 0 0 0-5.89-34.11zm-134.48-40.24a80 80 0 1 1-83.66-83.67 80.21 80.21 0 0 1 83.66 83.67z"},child:[]}]})(f)}function Sy(f){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 118a22 22 0 0 1-22-22V48a22 22 0 0 1 44 0v48a22 22 0 0 1-22 22zm0 368a22 22 0 0 1-22-22v-48a22 22 0 0 1 44 0v48a22 22 0 0 1-22 22zm113.14-321.14a22 22 0 0 1-15.56-37.55l33.94-33.94a22 22 0 0 1 31.11 31.11l-33.94 33.94a21.93 21.93 0 0 1-15.55 6.44zM108.92 425.08a22 22 0 0 1-15.55-37.56l33.94-33.94a22 22 0 1 1 31.11 31.11l-33.94 33.94a21.94 21.94 0 0 1-15.56 6.45zM464 278h-48a22 22 0 0 1 0-44h48a22 22 0 0 1 0 44zm-368 0H48a22 22 0 0 1 0-44h48a22 22 0 0 1 0 44zm307.08 147.08a21.94 21.94 0 0 1-15.56-6.45l-33.94-33.94a22 22 0 0 1 31.11-31.11l33.94 33.94a22 22 0 0 1-15.55 37.56zM142.86 164.86a21.89 21.89 0 0 1-15.55-6.44l-33.94-33.94a22 22 0 0 1 31.11-31.11l33.94 33.94a22 22 0 0 1-15.56 37.55zM256 358a102 102 0 1 1 102-102 102.12 102.12 0 0 1-102 102z"},child:[]}]})(f)}function Ty(f){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M447.86 384H64.14A48.2 48.2 0 0 1 16 335.86V128.14A48.2 48.2 0 0 1 64.14 80h383.72A48.2 48.2 0 0 1 496 128.14v207.72A48.2 48.2 0 0 1 447.86 384z"},child:[]},{tag:"path",attr:{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M128 416h256"},child:[]}]})(f)}function Oy(f){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 384.39a32 32 0 0 1-13-2.77 15.77 15.77 0 0 1-2.71-1.54l-82.71-58.22A32 32 0 0 1 352 295.7v-79.4a32 32 0 0 1 13.58-26.16l82.71-58.22a15.77 15.77 0 0 1 2.71-1.54 32 32 0 0 1 45 29.24v192.76a32 32 0 0 1-32 32zM268 400H84a68.07 68.07 0 0 1-68-68V180a68.07 68.07 0 0 1 68-68h184.48A67.6 67.6 0 0 1 336 179.52V332a68.07 68.07 0 0 1-68 68z"},child:[]}]})(f)}const po={Sac:{icon:uy,color:"#4A90E2"},Lumière:{icon:Sy,color:"#FFD93D"},Flash:{icon:yy,color:"#FF5E5E"},Stabilisateur:{icon:Oy,color:"#50E3C2"},Pied:{icon:Ay,color:"#B8E986"},Objectif:{icon:fy,color:"#9B51E0"},Filtre:{icon:gy,color:"#FF8C42"},"Retour vidéo":{icon:Ty,color:"#2D9CDB"},"Accessoire caméra":{icon:wy,color:"#F2994A"},Son:{icon:vy,color:"#27AE60"},Grip:{icon:Ey,color:"#F2C94C"},Alimentation:{icon:cy,color:"#EB5757"},Autre:{icon:xy,color:"#888888"}},Og=({equipment:f})=>{const[s,o]=Z.useState(!1),{addToCart:d,removeFromCart:m,cart:x}=$a(),A=ji(),_=f.type??"Autre",{icon:b,color:y}=po[_]||po.Autre;Z.useEffect(()=>{x.find(M=>M.id===f.id)?o(!0):o(!1)},[x,f.id]);const C=()=>{if(s){m(f.id);return}d(f),o(!s)},T=()=>{A(`/ShelfTracker/equipment/${f.id}`)};return z.jsxs("div",{className:"equipment-card",children:[z.jsx("div",{className:"equipment-icon",style:{background:y},onClick:T,children:z.jsx(b,{size:28})}),z.jsxs("div",{className:"equipment-info",onClick:T,children:[z.jsx("p",{className:"equipment-name",children:z.jsx("span",{children:f.name})}),z.jsx("p",{className:"equipment-location",children:z.jsx("span",{children:f.location??"Emplacement inconnu"})})]}),z.jsx("button",{className:"equipment-add-btn",onClick:C,children:s?z.jsx(Tg,{size:28,color:"lightcoral"}):z.jsx(V0,{size:28,color:"lightgreen"})})]})},Ry=["Tous","Sac","Lumière","Flash","Stabilisateur","Pied","Objectif","Filtre","Retour vidéo","Accessoire caméra","Son","Grip","Alimentation","Autre"],Ny=({value:f,onChange:s,typeFilter:o,setTypeFilter:d})=>{const[m,x]=Z.useState(!0),[A,_]=Z.useState(0);return Z.useEffect(()=>{const b=()=>{const y=window.scrollY;y>A?x(!1):x(!0),_(y)};return window.addEventListener("scroll",b),()=>window.removeEventListener("scroll",b)},[A]),z.jsxs("div",{className:`search-bar-container ${m?"visible":"hidden"}`,children:[z.jsx("input",{type:"text",className:"search-bar",placeholder:"Rechercher un équipement...",value:f,onChange:b=>s(b.target.value)}),z.jsx("select",{className:"search-filter",value:o,onChange:b=>d(b.target.value),children:Ry.map(b=>z.jsx("option",{value:b,children:b},b))})]})},R2=({message:f})=>z.jsxs("div",{className:"empty-state",children:[z.jsx(my,{size:64,className:"empty-icon"}),z.jsx("p",{children:f??"Aucun élément trouvé."})]}),Rg=({equipments:f,loading:s,error:o,search:d,setSearch:m})=>{const[x,A]=Z.useState("Tous"),_=ji(),b=f.filter(y=>{const C=y.name.toLowerCase().includes(d.toLowerCase())||(y.location?.toLowerCase().includes(d.toLowerCase())??!1),T=x==="Tous"||y.type===x;return C&&T});return s?z.jsx(H0,{}):o?z.jsx("p",{style:{color:"red"},children:o}):f.length===0?z.jsx(R2,{message:"Aucun équipement trouvé."}):z.jsxs("div",{className:"equipment-list-container",children:[z.jsx(Ny,{value:d,onChange:m,typeFilter:x,setTypeFilter:A}),z.jsx("div",{className:"equipment-create-btn",onClick:()=>_("/ShelfTracker/equipment/new"),children:z.jsx(V0,{className:"equipment-create-btn-logo",size:28})}),z.jsx("div",{className:"equipment-list",children:b.length>0?b.map(y=>z.jsx(Og,{equipment:y},y.id)):z.jsx(R2,{message:"Aucun équipement trouvé."})})]})},Iy=()=>{const[f,s]=Z.useState([]),[o,d]=Z.useState(!0),[m,x]=Z.useState(null),[A,_]=Z.useState("");return Z.useEffect(()=>{(async()=>{try{const y=await Jw();s(y)}catch(y){x(y instanceof Error?y.message:"Erreur inconnue")}finally{d(!1)}})()},[]),z.jsx(Rg,{equipments:f,loading:o,error:m,search:A,setSearch:_})},Dy=({onClick:f})=>z.jsx("div",{className:"fab-cart",onClick:f,children:z.jsx(hy,{})}),Ka=({title:f,backPath:s,cantGoBack:o})=>{const d=ji(),m=()=>{d(s||-1)};return z.jsxs("header",{className:"topbar",children:[!o&&z.jsx("button",{className:"back-button",onClick:m,"aria-label":"Retour",children:z.jsx(dy,{size:24})}),z.jsx("h1",{className:"topbar-title",children:f}),z.jsx("div",{className:"topbar-spacer"})," "]})};function My(){const f=ji(),s=()=>{f("/ShelfTracker/cart")},{cart:o}=$a();return z.jsxs("div",{children:[z.jsx(Ka,{title:"Accueil",cantGoBack:!0}),z.jsx(Iy,{}),o.length>0&&z.jsx(Dy,{onClick:s})]})}const By=({onSuccess:f})=>{const{signUp:s}=bo(),[o,d]=Z.useState(""),[m,x]=Z.useState(""),[A,_]=Z.useState(null),[b,y]=Z.useState(null),C=async T=>{T.preventDefault(),_(null),y(null);try{await s(o,m),y("Compte créé avec succès. Vérifiez vos emails pour confirmer."),f&&f()}catch(M){M instanceof Error?_(M.message):_("Une erreur inconnue est survenue")}};return z.jsxs("form",{onSubmit:C,children:[z.jsx("input",{type:"email",placeholder:"Email",onChange:T=>d(T.target.value),value:o,required:!0}),z.jsx("input",{type:"password",placeholder:"Mot de passe",onChange:T=>x(T.target.value),value:m,required:!0}),z.jsx("button",{type:"submit",children:"S'inscrire"}),A&&z.jsx("p",{style:{color:"red"},children:A}),b&&z.jsx("p",{style:{color:"green"},children:b})]})};function Ly(){const{user:f,loading:s}=bo(),o=ji();return s?z.jsx("div",{children:"Chargement..."}):f?(o("/ShelfTracker"),null):z.jsxs("div",{children:[z.jsx(By,{onSuccess:()=>o("/ShelfTracker")}),z.jsx(co,{to:"/ShelfTracker",children:"Déjà un compte ? Se connecter"})]})}var Te;(function(f){f[f.QR_CODE=0]="QR_CODE",f[f.AZTEC=1]="AZTEC",f[f.CODABAR=2]="CODABAR",f[f.CODE_39=3]="CODE_39",f[f.CODE_93=4]="CODE_93",f[f.CODE_128=5]="CODE_128",f[f.DATA_MATRIX=6]="DATA_MATRIX",f[f.MAXICODE=7]="MAXICODE",f[f.ITF=8]="ITF",f[f.EAN_13=9]="EAN_13",f[f.EAN_8=10]="EAN_8",f[f.PDF_417=11]="PDF_417",f[f.RSS_14=12]="RSS_14",f[f.RSS_EXPANDED=13]="RSS_EXPANDED",f[f.UPC_A=14]="UPC_A",f[f.UPC_E=15]="UPC_E",f[f.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Te||(Te={}));var N2=new Map([[Te.QR_CODE,"QR_CODE"],[Te.AZTEC,"AZTEC"],[Te.CODABAR,"CODABAR"],[Te.CODE_39,"CODE_39"],[Te.CODE_93,"CODE_93"],[Te.CODE_128,"CODE_128"],[Te.DATA_MATRIX,"DATA_MATRIX"],[Te.MAXICODE,"MAXICODE"],[Te.ITF,"ITF"],[Te.EAN_13,"EAN_13"],[Te.EAN_8,"EAN_8"],[Te.PDF_417,"PDF_417"],[Te.RSS_14,"RSS_14"],[Te.RSS_EXPANDED,"RSS_EXPANDED"],[Te.UPC_A,"UPC_A"],[Te.UPC_E,"UPC_E"],[Te.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),I2;(function(f){f[f.UNKNOWN=0]="UNKNOWN",f[f.URL=1]="URL"})(I2||(I2={}));function ky(f){return Object.values(Te).includes(f)}var Wu;(function(f){f[f.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",f[f.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Wu||(Wu={}));var Py=function(){function f(){}return f.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",f.SCAN_DEFAULT_FPS=2,f.DEFAULT_DISABLE_FLIP=!1,f.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,f.DEFAULT_SUPPORTED_SCAN_TYPE=[Wu.SCAN_TYPE_CAMERA,Wu.SCAN_TYPE_FILE],f}(),Ng=function(){function f(s,o){this.format=s,this.formatName=o}return f.prototype.toString=function(){return this.formatName},f.create=function(s){if(!N2.has(s))throw"".concat(s," not in html5QrcodeSupportedFormatsTextMap");return new f(s,N2.get(s))},f}(),D2=function(){function f(){}return f.createFromText=function(s){var o={text:s};return{decodedText:s,result:o}},f.createFromQrcodeResult=function(s){return{decodedText:s.text,result:s}},f}(),_0;(function(f){f[f.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",f[f.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",f[f.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(_0||(_0={}));var Uy=function(){function f(){}return f.createFrom=function(s){return{errorMessage:s,type:_0.UNKWOWN_ERROR}},f}(),jy=function(){function f(s){this.verbose=s}return f.prototype.log=function(s){this.verbose&&console.log(s)},f.prototype.warn=function(s){this.verbose&&console.warn(s)},f.prototype.logError=function(s,o){(this.verbose||o===!0)&&console.error(s)},f.prototype.logErrors=function(s){if(s.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(s)},f}();function Or(f){return typeof f>"u"||f===null}var el=function(){function f(){}return f.codeParseError=function(s){return"QR code parse error, error = ".concat(s)},f.errorGettingUserMedia=function(s){return"Error getting userMedia, error = ".concat(s)},f.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},f.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},f.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},f.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},f.scannerPaused=function(){return"Scanner paused"},f}(),Ig=function(){function f(){}return f.isMediaStreamConstraintsValid=function(s,o){if(typeof s!="object"){var d=typeof s;return o.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(d,"."),!0),!1}for(var m=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],x=new Set(m),A=Object.keys(s),_=0,b=A;_<b.length;_++){var y=b[_];if(x.has(y))return o.logError("".concat(y," is not supported videoConstaints."),!0),!1}return!0},f}(),uo={exports:{}},Fy=uo.exports,M2;function zy(){return M2||(M2=1,function(f,s){(function(o,d){d(s)})(Fy,function(o){function d(R){return R==null}var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,t){R.__proto__=t}||function(R,t){for(var i in t)t.hasOwnProperty(i)&&(R[i]=t[i])};function x(R,t){m(R,t);function i(){this.constructor=R}R.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}function A(R,t){var i=Object.setPrototypeOf;i?i(R,t):R.__proto__=t}function _(R,t){t===void 0&&(t=R.constructor);var i=Error.captureStackTrace;i&&i(R,t)}var b=function(R){x(t,R);function t(i){var r=this.constructor,l=R.call(this,i)||this;return Object.defineProperty(l,"name",{value:r.name,enumerable:!1}),A(l,r.prototype),_(l),l}return t}(Error);class y extends b{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}y.kind="Exception";class C extends y{}C.kind="ArgumentException";class T extends y{}T.kind="IllegalArgumentException";class M{constructor(t){if(this.binarizer=t,t===null)throw new T("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,i){return this.binarizer.getBlackRow(t,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,i,r,l){const u=this.binarizer.getLuminanceSource().crop(t,i,r,l);return new M(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new M(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new M(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class k extends y{static getChecksumInstance(){return new k}}k.kind="ChecksumException";class H{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class q{static arraycopy(t,i,r,l,u){for(;u--;)r[l++]=t[i++]}static currentTimeMillis(){return Date.now()}}class Y extends y{}Y.kind="IndexOutOfBoundsException";class se extends Y{constructor(t=void 0,i=void 0){super(i),this.index=t,this.message=i}}se.kind="ArrayIndexOutOfBoundsException";class xe{static fill(t,i){for(let r=0,l=t.length;r<l;r++)t[r]=i}static fillWithin(t,i,r,l){xe.rangeCheck(t.length,i,r);for(let u=i;u<r;u++)t[u]=l}static rangeCheck(t,i,r){if(i>r)throw new T("fromIndex("+i+") > toIndex("+r+")");if(i<0)throw new se(i);if(r>t)throw new se(r)}static asList(...t){return t}static create(t,i,r){return Array.from({length:t}).map(u=>Array.from({length:i}).fill(r))}static createInt32Array(t,i,r){return Array.from({length:t}).map(u=>Int32Array.from({length:i}).fill(r))}static equals(t,i){if(!t||!i||!t.length||!i.length||t.length!==i.length)return!1;for(let r=0,l=t.length;r<l;r++)if(t[r]!==i[r])return!1;return!0}static hashCode(t){if(t===null)return 0;let i=1;for(const r of t)i=31*i+r;return i}static fillUint8Array(t,i){for(let r=0;r!==t.length;r++)t[r]=i}static copyOf(t,i){return t.slice(0,i)}static copyOfUint8Array(t,i){if(t.length<=i){const r=new Uint8Array(i);return r.set(t),r}return t.slice(0,i)}static copyOfRange(t,i,r){const l=r-i,u=new Int32Array(l);return q.arraycopy(t,i,u,0,l),u}static binarySearch(t,i,r){r===void 0&&(r=xe.numberComparator);let l=0,u=t.length-1;for(;l<=u;){const h=u+l>>1,g=r(i,t[h]);if(g>0)l=h+1;else if(g<0)u=h-1;else return h}return-l-1}static numberComparator(t,i){return t-i}}class V{static numberOfTrailingZeros(t){let i;if(t===0)return 32;let r=31;return i=t<<16,i!==0&&(r-=16,t=i),i=t<<8,i!==0&&(r-=8,t=i),i=t<<4,i!==0&&(r-=4,t=i),i=t<<2,i!==0&&(r-=2,t=i),r-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let i=1;return t>>>16||(i+=16,t<<=16),t>>>24||(i+=8,t<<=8),t>>>28||(i+=4,t<<=4),t>>>30||(i+=2,t<<=2),i-=t>>>31,i}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,i){return Math.trunc(t/i)}static parseInt(t,i=void 0){return parseInt(t,i)}}V.MIN_VALUE_32_BITS=-2147483648,V.MAX_VALUE=Number.MAX_SAFE_INTEGER;class le{constructor(t,i){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,i==null?this.bits=le.makeArray(t):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const i=le.makeArray(t);q.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const i=this.size;if(t>=i)return i;const r=this.bits;let l=Math.floor(t/32),u=r[l];u&=~((1<<(t&31))-1);const h=r.length;for(;u===0;){if(++l===h)return i;u=r[l]}const g=l*32+V.numberOfTrailingZeros(u);return g>i?i:g}getNextUnset(t){const i=this.size;if(t>=i)return i;const r=this.bits;let l=Math.floor(t/32),u=~r[l];u&=~((1<<(t&31))-1);const h=r.length;for(;u===0;){if(++l===h)return i;u=~r[l]}const g=l*32+V.numberOfTrailingZeros(u);return g>i?i:g}setBulk(t,i){this.bits[Math.floor(t/32)]=i}setRange(t,i){if(i<t||t<0||i>this.size)throw new T;if(i===t)return;i--;const r=Math.floor(t/32),l=Math.floor(i/32),u=this.bits;for(let h=r;h<=l;h++){const g=h>r?0:t&31,v=(2<<(h<l?31:i&31))-(1<<g);u[h]|=v}}clear(){const t=this.bits.length,i=this.bits;for(let r=0;r<t;r++)i[r]=0}isRange(t,i,r){if(i<t||t<0||i>this.size)throw new T;if(i===t)return!0;i--;const l=Math.floor(t/32),u=Math.floor(i/32),h=this.bits;for(let g=l;g<=u;g++){const w=g>l?0:t&31,S=(2<<(g<u?31:i&31))-(1<<w)&4294967295;if((h[g]&S)!==(r?S:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,i){if(i<0||i>32)throw new T("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let r=i;r>0;r--)this.appendBit((t>>r-1&1)===1)}appendBitArray(t){const i=t.size;this.ensureCapacity(this.size+i);for(let r=0;r<i;r++)this.appendBit(t.get(r))}xor(t){if(this.size!==t.size)throw new T("Sizes don't match");const i=this.bits;for(let r=0,l=i.length;r<l;r++)i[r]^=t.bits[r]}toBytes(t,i,r,l){for(let u=0;u<l;u++){let h=0;for(let g=0;g<8;g++)this.get(t)&&(h|=1<<7-g),t++;i[r+u]=h}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),r=i+1,l=this.bits;for(let u=0;u<r;u++){let h=l[u];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,t[i-u]=h}if(this.size!==r*32){const u=r*32-this.size;let h=t[0]>>>u;for(let g=1;g<r;g++){const w=t[g];h|=w<<32-u,t[g-1]=h,h=w>>>u}t[r-1]=h}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof le))return!1;const i=t;return this.size===i.size&&xe.equals(this.bits,i.bits)}hashCode(){return 31*this.size+xe.hashCode(this.bits)}toString(){let t="";for(let i=0,r=this.size;i<r;i++)(i&7)===0&&(t+=" "),t+=this.get(i)?"X":".";return t}clone(){return new le(this.size,this.bits.slice())}}var we;(function(R){R[R.OTHER=0]="OTHER",R[R.PURE_BARCODE=1]="PURE_BARCODE",R[R.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",R[R.TRY_HARDER=3]="TRY_HARDER",R[R.CHARACTER_SET=4]="CHARACTER_SET",R[R.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",R[R.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",R[R.ASSUME_GS1=7]="ASSUME_GS1",R[R.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",R[R.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",R[R.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(we||(we={}));var Ce=we;class ae extends y{static getFormatInstance(){return new ae}}ae.kind="FormatException";var Le;(function(R){R[R.Cp437=0]="Cp437",R[R.ISO8859_1=1]="ISO8859_1",R[R.ISO8859_2=2]="ISO8859_2",R[R.ISO8859_3=3]="ISO8859_3",R[R.ISO8859_4=4]="ISO8859_4",R[R.ISO8859_5=5]="ISO8859_5",R[R.ISO8859_6=6]="ISO8859_6",R[R.ISO8859_7=7]="ISO8859_7",R[R.ISO8859_8=8]="ISO8859_8",R[R.ISO8859_9=9]="ISO8859_9",R[R.ISO8859_10=10]="ISO8859_10",R[R.ISO8859_11=11]="ISO8859_11",R[R.ISO8859_13=12]="ISO8859_13",R[R.ISO8859_14=13]="ISO8859_14",R[R.ISO8859_15=14]="ISO8859_15",R[R.ISO8859_16=15]="ISO8859_16",R[R.SJIS=16]="SJIS",R[R.Cp1250=17]="Cp1250",R[R.Cp1251=18]="Cp1251",R[R.Cp1252=19]="Cp1252",R[R.Cp1256=20]="Cp1256",R[R.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",R[R.UTF8=22]="UTF8",R[R.ASCII=23]="ASCII",R[R.Big5=24]="Big5",R[R.GB18030=25]="GB18030",R[R.EUC_KR=26]="EUC_KR"})(Le||(Le={}));class ce{constructor(t,i,r,...l){this.valueIdentifier=t,this.name=r,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=l,ce.VALUE_IDENTIFIER_TO_ECI.set(t,this),ce.NAME_TO_ECI.set(r,this);const u=this.values;for(let h=0,g=u.length;h!==g;h++){const w=u[h];ce.VALUES_TO_ECI.set(w,this)}for(const h of l)ce.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new ae("incorect value");const i=ce.VALUES_TO_ECI.get(t);if(i===void 0)throw new ae("incorect value");return i}static getCharacterSetECIByName(t){const i=ce.NAME_TO_ECI.get(t);if(i===void 0)throw new ae("incorect value");return i}equals(t){if(!(t instanceof ce))return!1;const i=t;return this.getName()===i.getName()}}ce.VALUE_IDENTIFIER_TO_ECI=new Map,ce.VALUES_TO_ECI=new Map,ce.NAME_TO_ECI=new Map,ce.Cp437=new ce(Le.Cp437,Int32Array.from([0,2]),"Cp437"),ce.ISO8859_1=new ce(Le.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ce.ISO8859_2=new ce(Le.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ce.ISO8859_3=new ce(Le.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ce.ISO8859_4=new ce(Le.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ce.ISO8859_5=new ce(Le.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ce.ISO8859_6=new ce(Le.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ce.ISO8859_7=new ce(Le.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ce.ISO8859_8=new ce(Le.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ce.ISO8859_9=new ce(Le.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ce.ISO8859_10=new ce(Le.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ce.ISO8859_11=new ce(Le.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ce.ISO8859_13=new ce(Le.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ce.ISO8859_14=new ce(Le.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ce.ISO8859_15=new ce(Le.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ce.ISO8859_16=new ce(Le.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ce.SJIS=new ce(Le.SJIS,20,"SJIS","Shift_JIS"),ce.Cp1250=new ce(Le.Cp1250,21,"Cp1250","windows-1250"),ce.Cp1251=new ce(Le.Cp1251,22,"Cp1251","windows-1251"),ce.Cp1252=new ce(Le.Cp1252,23,"Cp1252","windows-1252"),ce.Cp1256=new ce(Le.Cp1256,24,"Cp1256","windows-1256"),ce.UnicodeBigUnmarked=new ce(Le.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ce.UTF8=new ce(Le.UTF8,26,"UTF8","UTF-8"),ce.ASCII=new ce(Le.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ce.Big5=new ce(Le.Big5,28,"Big5"),ce.GB18030=new ce(Le.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ce.EUC_KR=new ce(Le.EUC_KR,30,"EUC_KR","EUC-KR");class Ut extends y{}Ut.kind="UnsupportedOperationException";class Ve{static decode(t,i){const r=this.encodingName(i);return this.customDecoder?this.customDecoder(t,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(t,r):new TextDecoder(r).decode(t)}static shouldDecodeOnFallback(t){return!Ve.isBrowser()&&t==="ISO-8859-1"}static encode(t,i){const r=this.encodingName(i);return this.customEncoder?this.customEncoder(t,r):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof ce?t:ce.getCharacterSetECIByName(t)}static decodeFallback(t,i){const r=this.encodingCharacterSet(i);if(Ve.isDecodeFallbackSupported(r)){let l="";for(let u=0,h=t.length;u<h;u++){let g=t[u].toString(16);g.length<2&&(g="0"+g),l+="%"+g}return decodeURIComponent(l)}if(r.equals(ce.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new Ut(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(ce.UTF8)||t.equals(ce.ISO8859_1)||t.equals(ce.ASCII)}static encodeFallback(t){const r=btoa(unescape(encodeURIComponent(t))).split(""),l=[];for(let u=0;u<r.length;u++)l.push(r[u].charCodeAt(0));return new Uint8Array(l)}}class Re{static castAsNonUtf8Char(t,i=null){const r=i?i.getName():this.ISO88591;return Ve.decode(new Uint8Array([t]),r)}static guessEncoding(t,i){if(i!=null&&i.get(Ce.CHARACTER_SET)!==void 0)return i.get(Ce.CHARACTER_SET).toString();const r=t.length;let l=!0,u=!0,h=!0,g=0,w=0,v=0,S=0,N=0,I=0,L=0,U=0,F=0,W=0,te=0;const pe=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let Ee=0;Ee<r&&(l||u||h);Ee++){const me=t[Ee]&255;h&&(g>0?(me&128)===0?h=!1:g--:(me&128)!==0&&((me&64)===0?h=!1:(g++,(me&32)===0?w++:(g++,(me&16)===0?v++:(g++,(me&8)===0?S++:h=!1))))),l&&(me>127&&me<160?l=!1:me>159&&(me<192||me===215||me===247)&&te++),u&&(N>0?me<64||me===127||me>252?u=!1:N--:me===128||me===160||me>239?u=!1:me>160&&me<224?(I++,U=0,L++,L>F&&(F=L)):me>127?(N++,L=0,U++,U>W&&(W=U)):(L=0,U=0))}return h&&g>0&&(h=!1),u&&N>0&&(u=!1),h&&(pe||w+v+S>0)?Re.UTF8:u&&(Re.ASSUME_SHIFT_JIS||F>=3||W>=3)?Re.SHIFT_JIS:l&&u?F===2&&I===2||te*10>=r?Re.SHIFT_JIS:Re.ISO88591:l?Re.ISO88591:u?Re.SHIFT_JIS:h?Re.UTF8:Re.PLATFORM_DEFAULT_ENCODING}static format(t,...i){let r=-1;function l(h,g,w,v,S,N){if(h==="%%")return"%";if(i[++r]===void 0)return;h=v?parseInt(v.substr(1)):void 0;let I=S?parseInt(S.substr(1)):void 0,L;switch(N){case"s":L=i[r];break;case"c":L=i[r][0];break;case"f":L=parseFloat(i[r]).toFixed(h);break;case"p":L=parseFloat(i[r]).toPrecision(h);break;case"e":L=parseFloat(i[r]).toExponential(h);break;case"x":L=parseInt(i[r]).toString(I||16);break;case"d":L=parseFloat(parseInt(i[r],I||10).toPrecision(h)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(I);let U=parseInt(w),F=w&&w[0]+""=="0"?"0":" ";for(;L.length<U;)L=g!==void 0?L+F:F+L;return L}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(u,l)}static getBytes(t,i){return Ve.encode(t,i)}static getCharCode(t,i=0){return t.charCodeAt(i)}static getCharAt(t){return String.fromCharCode(t)}}Re.SHIFT_JIS=ce.SJIS.getName(),Re.GB2312="GB2312",Re.ISO88591=ce.ISO8859_1.getName(),Re.EUC_JP="EUC_JP",Re.UTF8=ce.UTF8.getName(),Re.PLATFORM_DEFAULT_ENCODING=Re.UTF8,Re.ASSUME_SHIFT_JIS=!1;class Ze{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=Re.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,i,r){for(let l=i;i<i+r;l++)this.append(t[l]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+1)}substring(t,i){return this.value.substring(t,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+i.length)}}class ft{constructor(t,i,r,l){if(this.width=t,this.height=i,this.rowSize=r,this.bits=l,i==null&&(i=t),this.height=i,t<1||i<1)throw new T("Both dimensions must be greater than 0");r==null&&(r=Math.floor((t+31)/32)),this.rowSize=r,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const i=t.length,r=t[0].length,l=new ft(r,i);for(let u=0;u<i;u++){const h=t[u];for(let g=0;g<r;g++)h[g]&&l.set(g,u)}return l}static parseFromString(t,i,r){if(t===null)throw new T("stringRepresentation cannot be null");const l=new Array(t.length);let u=0,h=0,g=-1,w=0,v=0;for(;v<t.length;)if(t.charAt(v)===`
`||t.charAt(v)==="\r"){if(u>h){if(g===-1)g=u-h;else if(u-h!==g)throw new T("row lengths do not match");h=u,w++}v++}else if(t.substring(v,v+i.length)===i)v+=i.length,l[u]=!0,u++;else if(t.substring(v,v+r.length)===r)v+=r.length,l[u]=!1,u++;else throw new T("illegal character encountered: "+t.substring(v));if(u>h){if(g===-1)g=u-h;else if(u-h!==g)throw new T("row lengths do not match");w++}const S=new ft(g,w);for(let N=0;N<u;N++)l[N]&&S.set(Math.floor(N%g),Math.floor(N/g));return S}get(t,i){const r=i*this.rowSize+Math.floor(t/32);return(this.bits[r]>>>(t&31)&1)!==0}set(t,i){const r=i*this.rowSize+Math.floor(t/32);this.bits[r]|=1<<(t&31)&4294967295}unset(t,i){const r=i*this.rowSize+Math.floor(t/32);this.bits[r]&=~(1<<(t&31)&4294967295)}flip(t,i){const r=i*this.rowSize+Math.floor(t/32);this.bits[r]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new T("input matrix dimensions do not match");const i=new le(Math.floor(this.width/32)+1),r=this.rowSize,l=this.bits;for(let u=0,h=this.height;u<h;u++){const g=u*r,w=t.getRow(u,i).getBitArray();for(let v=0;v<r;v++)l[g+v]^=w[v]}}clear(){const t=this.bits,i=t.length;for(let r=0;r<i;r++)t[r]=0}setRegion(t,i,r,l){if(i<0||t<0)throw new T("Left and top must be nonnegative");if(l<1||r<1)throw new T("Height and width must be at least 1");const u=t+r,h=i+l;if(h>this.height||u>this.width)throw new T("The region must fit inside the matrix");const g=this.rowSize,w=this.bits;for(let v=i;v<h;v++){const S=v*g;for(let N=t;N<u;N++)w[S+Math.floor(N/32)]|=1<<(N&31)&4294967295}}getRow(t,i){i==null||i.getSize()<this.width?i=new le(this.width):i.clear();const r=this.rowSize,l=this.bits,u=t*r;for(let h=0;h<r;h++)i.setBulk(h*32,l[u+h]);return i}setRow(t,i){q.arraycopy(i.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),i=this.getHeight();let r=new le(t),l=new le(t);for(let u=0,h=Math.floor((i+1)/2);u<h;u++)r=this.getRow(u,r),l=this.getRow(i-1-u,l),r.reverse(),l.reverse(),this.setRow(u,l),this.setRow(i-1-u,r)}getEnclosingRectangle(){const t=this.width,i=this.height,r=this.rowSize,l=this.bits;let u=t,h=i,g=-1,w=-1;for(let v=0;v<i;v++)for(let S=0;S<r;S++){const N=l[v*r+S];if(N!==0){if(v<h&&(h=v),v>w&&(w=v),S*32<u){let I=0;for(;(N<<31-I&4294967295)===0;)I++;S*32+I<u&&(u=S*32+I)}if(S*32+31>g){let I=31;for(;!(N>>>I);)I--;S*32+I>g&&(g=S*32+I)}}}return g<u||w<h?null:Int32Array.from([u,h,g-u+1,w-h+1])}getTopLeftOnBit(){const t=this.rowSize,i=this.bits;let r=0;for(;r<i.length&&i[r]===0;)r++;if(r===i.length)return null;const l=r/t;let u=r%t*32;const h=i[r];let g=0;for(;(h<<31-g&4294967295)===0;)g++;return u+=g,Int32Array.from([u,l])}getBottomRightOnBit(){const t=this.rowSize,i=this.bits;let r=i.length-1;for(;r>=0&&i[r]===0;)r--;if(r<0)return null;const l=Math.floor(r/t);let u=Math.floor(r%t)*32;const h=i[r];let g=31;for(;!(h>>>g);)g--;return u+=g,Int32Array.from([u,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof ft))return!1;const i=t;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&xe.equals(this.bits,i.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+xe.hashCode(this.bits),t}toString(t="X ",i="  ",r=`
`){return this.buildToString(t,i,r)}buildToString(t,i,r){let l=new Ze;for(let u=0,h=this.height;u<h;u++){for(let g=0,w=this.width;g<w;g++)l.append(this.get(g,u)?t:i);l.append(r)}return l.toString()}clone(){return new ft(this.width,this.height,this.rowSize,this.bits.slice())}}class ee extends y{static getNotFoundInstance(){return new ee}}ee.kind="NotFoundException";class re extends H{constructor(t){super(t),this.luminances=re.EMPTY,this.buckets=new Int32Array(re.LUMINANCE_BUCKETS)}getBlackRow(t,i){const r=this.getLuminanceSource(),l=r.getWidth();i==null||i.getSize()<l?i=new le(l):i.clear(),this.initArrays(l);const u=r.getRow(t,this.luminances),h=this.buckets;for(let w=0;w<l;w++)h[(u[w]&255)>>re.LUMINANCE_SHIFT]++;const g=re.estimateBlackPoint(h);if(l<3)for(let w=0;w<l;w++)(u[w]&255)<g&&i.set(w);else{let w=u[0]&255,v=u[1]&255;for(let S=1;S<l-1;S++){const N=u[S+1]&255;(v*4-w-N)/2<g&&i.set(S),w=v,v=N}}return i}getBlackMatrix(){const t=this.getLuminanceSource(),i=t.getWidth(),r=t.getHeight(),l=new ft(i,r);this.initArrays(i);const u=this.buckets;for(let w=1;w<5;w++){const v=Math.floor(r*w/5),S=t.getRow(v,this.luminances),N=Math.floor(i*4/5);for(let I=Math.floor(i/5);I<N;I++){const L=S[I]&255;u[L>>re.LUMINANCE_SHIFT]++}}const h=re.estimateBlackPoint(u),g=t.getMatrix();for(let w=0;w<r;w++){const v=w*i;for(let S=0;S<i;S++)(g[v+S]&255)<h&&l.set(S,w)}return l}createBinarizer(t){return new re(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const i=this.buckets;for(let r=0;r<re.LUMINANCE_BUCKETS;r++)i[r]=0}static estimateBlackPoint(t){const i=t.length;let r=0,l=0,u=0;for(let S=0;S<i;S++)t[S]>u&&(l=S,u=t[S]),t[S]>r&&(r=t[S]);let h=0,g=0;for(let S=0;S<i;S++){const N=S-l,I=t[S]*N*N;I>g&&(h=S,g=I)}if(l>h){const S=l;l=h,h=S}if(h-l<=i/16)throw new ee;let w=h-1,v=-1;for(let S=h-1;S>l;S--){const N=S-l,I=N*N*(h-S)*(r-t[S]);I>v&&(w=S,v=I)}return w<<re.LUMINANCE_SHIFT}}re.LUMINANCE_BITS=5,re.LUMINANCE_SHIFT=8-re.LUMINANCE_BITS,re.LUMINANCE_BUCKETS=1<<re.LUMINANCE_BITS,re.EMPTY=Uint8ClampedArray.from([0]);class ue extends re{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),i=t.getWidth(),r=t.getHeight();if(i>=ue.MINIMUM_DIMENSION&&r>=ue.MINIMUM_DIMENSION){const l=t.getMatrix();let u=i>>ue.BLOCK_SIZE_POWER;(i&ue.BLOCK_SIZE_MASK)!==0&&u++;let h=r>>ue.BLOCK_SIZE_POWER;(r&ue.BLOCK_SIZE_MASK)!==0&&h++;const g=ue.calculateBlackPoints(l,u,h,i,r),w=new ft(i,r);ue.calculateThresholdForBlock(l,u,h,i,r,g,w),this.matrix=w}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new ue(t)}static calculateThresholdForBlock(t,i,r,l,u,h,g){const w=u-ue.BLOCK_SIZE,v=l-ue.BLOCK_SIZE;for(let S=0;S<r;S++){let N=S<<ue.BLOCK_SIZE_POWER;N>w&&(N=w);const I=ue.cap(S,2,r-3);for(let L=0;L<i;L++){let U=L<<ue.BLOCK_SIZE_POWER;U>v&&(U=v);const F=ue.cap(L,2,i-3);let W=0;for(let pe=-2;pe<=2;pe++){const Ee=h[I+pe];W+=Ee[F-2]+Ee[F-1]+Ee[F]+Ee[F+1]+Ee[F+2]}const te=W/25;ue.thresholdBlock(t,U,N,te,l,g)}}}static cap(t,i,r){return t<i?i:t>r?r:t}static thresholdBlock(t,i,r,l,u,h){for(let g=0,w=r*u+i;g<ue.BLOCK_SIZE;g++,w+=u)for(let v=0;v<ue.BLOCK_SIZE;v++)(t[w+v]&255)<=l&&h.set(i+v,r+g)}static calculateBlackPoints(t,i,r,l,u){const h=u-ue.BLOCK_SIZE,g=l-ue.BLOCK_SIZE,w=new Array(r);for(let v=0;v<r;v++){w[v]=new Int32Array(i);let S=v<<ue.BLOCK_SIZE_POWER;S>h&&(S=h);for(let N=0;N<i;N++){let I=N<<ue.BLOCK_SIZE_POWER;I>g&&(I=g);let L=0,U=255,F=0;for(let te=0,pe=S*l+I;te<ue.BLOCK_SIZE;te++,pe+=l){for(let Ee=0;Ee<ue.BLOCK_SIZE;Ee++){const me=t[pe+Ee]&255;L+=me,me<U&&(U=me),me>F&&(F=me)}if(F-U>ue.MIN_DYNAMIC_RANGE)for(te++,pe+=l;te<ue.BLOCK_SIZE;te++,pe+=l)for(let Ee=0;Ee<ue.BLOCK_SIZE;Ee++)L+=t[pe+Ee]&255}let W=L>>ue.BLOCK_SIZE_POWER*2;if(F-U<=ue.MIN_DYNAMIC_RANGE&&(W=U/2,v>0&&N>0)){const te=(w[v-1][N]+2*w[v][N-1]+w[v-1][N-1])/4;U<te&&(W=te)}w[v][N]=W}}return w}}ue.BLOCK_SIZE_POWER=3,ue.BLOCK_SIZE=1<<ue.BLOCK_SIZE_POWER,ue.BLOCK_SIZE_MASK=ue.BLOCK_SIZE-1,ue.MINIMUM_DIMENSION=ue.BLOCK_SIZE*5,ue.MIN_DYNAMIC_RANGE=24;class De{constructor(t,i){this.width=t,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,i,r,l){throw new Ut("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ut("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ut("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let i=new Ze;for(let r=0;r<this.height;r++){const l=this.getRow(r,t);for(let u=0;u<this.width;u++){const h=l[u]&255;let g;h<64?g="#":h<128?g="+":h<192?g=".":g=" ",i.append(g)}i.append(`
`)}return i.toString()}}class Ke extends De{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,i){const r=this.delegate.getRow(t,i),l=this.getWidth();for(let u=0;u<l;u++)r[u]=255-(r[u]&255);return r}getMatrix(){const t=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(i);for(let l=0;l<i;l++)r[l]=255-(t[l]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(t,i,r,l){return new Ke(this.delegate.crop(t,i,r,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ke(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ke(this.delegate.rotateCounterClockwise45())}}class j extends De{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=j.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const i=t.getContext("2d").getImageData(0,0,t.width,t.height);return j.toGrayscaleBuffer(i.data,t.width,t.height)}static toGrayscaleBuffer(t,i,r){const l=new Uint8ClampedArray(i*r);for(let u=0,h=0,g=t.length;u<g;u+=4,h++){let w;if(t[u+3]===0)w=255;else{const S=t[u],N=t[u+1],I=t[u+2];w=306*S+601*N+117*I+512>>10}l[h]=w}return l}getRow(t,i){if(t<0||t>=this.getHeight())throw new T("Requested row is outside the image: "+t);const r=this.getWidth(),l=t*r;return i===null?i=this.buffer.slice(l,l+r):(i.length<r&&(i=new Uint8ClampedArray(r)),i.set(this.buffer.slice(l,l+r))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,i,r,l){return super.crop(t,i,r,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const i=this.getTempCanvasElement(),r=i.getContext("2d"),l=t*j.DEGREE_TO_RADIANS,u=this.canvas.width,h=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(l))*u+Math.abs(Math.sin(l))*h),w=Math.ceil(Math.abs(Math.sin(l))*u+Math.abs(Math.cos(l))*h);return i.width=g,i.height=w,r.translate(g/2,w/2),r.rotate(l),r.drawImage(this.canvas,u/-2,h/-2),this.buffer=j.makeBufferFromCanvasImageData(i),this}invert(){return new Ke(this)}}j.DEGREE_TO_RADIANS=Math.PI/180;class ge{constructor(t,i,r){this.deviceId=t,this.label=i,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ve=(globalThis||Bu||self||window||void 0)&&(globalThis||Bu||self||window||void 0).__awaiter||function(R,t,i,r){function l(u){return u instanceof i?u:new i(function(h){h(u)})}return new(i||(i=Promise))(function(u,h){function g(S){try{v(r.next(S))}catch(N){h(N)}}function w(S){try{v(r.throw(S))}catch(N){h(N)}}function v(S){S.done?u(S.value):l(S.value).then(g,w)}v((r=r.apply(R,t||[])).next())})};class Ae{constructor(t,i=500,r){this.reader=t,this.timeBetweenScansMillis=i,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return ve(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const r of t){const l=r.kind==="video"?"videoinput":r.kind;if(l!=="videoinput")continue;const u=r.deviceId||r.id,h=r.label||`Video device ${i.length+1}`,g=r.groupId,w={deviceId:u,label:h,kind:l,groupId:g};i.push(w)}return i})}getVideoInputDevices(){return ve(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new ge(i.deviceId,i.label))})}findDeviceById(t){return ve(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(r=>r.deviceId===t):null})}decodeFromInputVideoDevice(t,i){return ve(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,i)})}decodeOnceFromVideoDevice(t,i){return ve(this,void 0,void 0,function*(){this.reset();let r;t?r={deviceId:{exact:t}}:r={facingMode:"environment"};const l={video:r};return yield this.decodeOnceFromConstraints(l,i)})}decodeOnceFromConstraints(t,i){return ve(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(r,i)})}decodeOnceFromStream(t,i){return ve(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(t,i);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(t,i,r){return ve(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,i,r)})}decodeFromVideoDevice(t,i,r){return ve(this,void 0,void 0,function*(){let l;t?l={deviceId:{exact:t}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeFromConstraints(u,i,r)})}decodeFromConstraints(t,i,r){return ve(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(l,i,r)})}decodeFromStream(t,i,r){return ve(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(t,i);return yield this.decodeContinuously(l,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,i){return ve(this,void 0,void 0,function*(){const r=this.prepareVideoElement(i);return this.addVideoSource(r,t),this.videoElement=r,this.stream=t,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(t){return new Promise((i,r)=>this.playVideoOnLoad(t,()=>i()))}playVideoOnLoad(t,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",i),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return ve(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,i){const r=document.getElementById(t);if(!r)throw new C(`element with id '${t}' not found`);if(r.nodeName.toLowerCase()!==i.toLowerCase())throw new C(`element with id '${t}' must be an ${i} element`);return r}decodeFromImage(t,i){if(!t&&!i)throw new C("either imageElement with a src set or an url must be provided");return i&&!t?this.decodeFromImageUrl(i):this.decodeFromImageElement(t)}decodeFromVideo(t,i){if(!t&&!i)throw new C("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,i,r){if(t===void 0&&i===void 0)throw new C("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrlContinuously(i,r):this.decodeFromVideoElementContinuously(t,r)}decodeFromImageElement(t){if(!t)throw new C("An image element must be provided.");this.reset();const i=this.prepareImageElement(t);this.imageElement=i;let r;return this.isImageLoaded(i)?r=this.decodeOnce(i,!1,!0):r=this._decodeOnLoadImage(i),r}decodeFromVideoElement(t){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(t,i){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(r,i)}_decodeFromVideoElementSetup(t){if(!t)throw new C("A video element must be provided.");this.reset();const i=this.prepareVideoElement(t);return this.videoElement=i,i}decodeFromImageUrl(t){if(!t)throw new C("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const r=this._decodeOnLoadImage(i);return i.src=t,r}decodeFromVideoUrl(t){if(!t)throw new C("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),r=this.decodeFromVideoElement(i);return i.src=t,r}decodeFromVideoUrlContinuously(t,i){if(!t)throw new C("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(r,i);return r.src=t,l}_decodeOnLoadImage(t){return new Promise((i,r)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(i,r),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return ve(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,i){return ve(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,i)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let i;return typeof t>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(i=t),i}prepareVideoElement(t){let i;return!t&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(i=t),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(t,i=!0,r=!0){this._stopAsyncDecode=!1;const l=(u,h)=>{if(this._stopAsyncDecode){h(new ee("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const g=this.decode(t);u(g)}catch(g){const w=i&&g instanceof ee,S=(g instanceof k||g instanceof ae)&&r;if(w||S)return setTimeout(l,this._timeBetweenDecodingAttempts,u,h);h(g)}};return new Promise((u,h)=>l(u,h))}decodeContinuously(t,i){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(t);i(l,null),setTimeout(r,this.timeBetweenScansMillis)}catch(l){i(null,l);const u=l instanceof k||l instanceof ae,h=l instanceof ee;(u||h)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(t){const i=this.createBinaryBitmap(t);return this.decodeBitmap(i)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,i,r){i||(i={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(t,i,r=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const i=this.getCaptureCanvas(t),r=new j(i),l=new ue(r);return new M(l)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const i=this.createCaptureCanvas(t);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let r,l;return typeof t<"u"&&(t instanceof HTMLVideoElement?(r=t.videoWidth,l=t.videoHeight):t instanceof HTMLImageElement&&(r=t.naturalWidth||t.width,l=t.naturalHeight||t.height)),i.style.width=r+"px",i.style.height=l+"px",i.width=r,i.height=l,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,i){try{t.srcObject=i}catch{t.src=URL.createObjectURL(i)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class Se{constructor(t,i,r=i==null?0:8*i.length,l,u,h=q.currentTimeMillis()){this.text=t,this.rawBytes=i,this.numBits=r,this.resultPoints=l,this.format=u,this.timestamp=h,this.text=t,this.rawBytes=i,r==null?this.numBits=i==null?0:8*i.length:this.numBits=r,this.resultPoints=l,this.format=u,this.resultMetadata=null,h==null?this.timestamp=q.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,i)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const i=this.resultPoints;if(i===null)this.resultPoints=t;else if(t!==null&&t.length>0){const r=new Array(i.length+t.length);q.arraycopy(i,0,r,0,i.length),q.arraycopy(t,0,r,i.length,t.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var at;(function(R){R[R.AZTEC=0]="AZTEC",R[R.CODABAR=1]="CODABAR",R[R.CODE_39=2]="CODE_39",R[R.CODE_93=3]="CODE_93",R[R.CODE_128=4]="CODE_128",R[R.DATA_MATRIX=5]="DATA_MATRIX",R[R.EAN_8=6]="EAN_8",R[R.EAN_13=7]="EAN_13",R[R.ITF=8]="ITF",R[R.MAXICODE=9]="MAXICODE",R[R.PDF_417=10]="PDF_417",R[R.QR_CODE=11]="QR_CODE",R[R.RSS_14=12]="RSS_14",R[R.RSS_EXPANDED=13]="RSS_EXPANDED",R[R.UPC_A=14]="UPC_A",R[R.UPC_E=15]="UPC_E",R[R.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(at||(at={}));var ye=at,In;(function(R){R[R.OTHER=0]="OTHER",R[R.ORIENTATION=1]="ORIENTATION",R[R.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",R[R.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",R[R.ISSUE_NUMBER=4]="ISSUE_NUMBER",R[R.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",R[R.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",R[R.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",R[R.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",R[R.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",R[R.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(In||(In={}));var Xe=In;class Zn{constructor(t,i,r,l,u=-1,h=-1){this.rawBytes=t,this.text=i,this.byteSegments=r,this.ecLevel=l,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=h,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class sr{exp(t){return this.expTable[t]}log(t){if(t===0)throw new T;return this.logTable[t]}static addOrSubtract(t,i){return t^i}}class dn{constructor(t,i){if(i.length===0)throw new T;this.field=t;const r=i.length;if(r>1&&i[0]===0){let l=1;for(;l<r&&i[l]===0;)l++;l===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-l),q.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const i=this.coefficients;let r;if(t===1){r=0;for(let h=0,g=i.length;h!==g;h++){const w=i[h];r=sr.addOrSubtract(r,w)}return r}r=i[0];const l=i.length,u=this.field;for(let h=1;h<l;h++)r=sr.addOrSubtract(u.multiply(t,r),i[h]);return r}addOrSubtract(t){if(!this.field.equals(t.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,r=t.coefficients;if(i.length>r.length){const h=i;i=r,r=h}let l=new Int32Array(r.length);const u=r.length-i.length;q.arraycopy(r,0,l,0,u);for(let h=u;h<r.length;h++)l[h]=sr.addOrSubtract(i[h-u],r[h]);return new dn(this.field,l)}multiply(t){if(!this.field.equals(t.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const i=this.coefficients,r=i.length,l=t.coefficients,u=l.length,h=new Int32Array(r+u-1),g=this.field;for(let w=0;w<r;w++){const v=i[w];for(let S=0;S<u;S++)h[w+S]=sr.addOrSubtract(h[w+S],g.multiply(v,l[S]))}return new dn(g,h)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const i=this.coefficients.length,r=this.field,l=new Int32Array(i),u=this.coefficients;for(let h=0;h<i;h++)l[h]=r.multiply(u[h],t);return new dn(r,l)}multiplyByMonomial(t,i){if(t<0)throw new T;if(i===0)return this.field.getZero();const r=this.coefficients,l=r.length,u=new Int32Array(l+t),h=this.field;for(let g=0;g<l;g++)u[g]=h.multiply(r[g],i);return new dn(h,u)}divide(t){if(!this.field.equals(t.field))throw new T("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new T("Divide by 0");const i=this.field;let r=i.getZero(),l=this;const u=t.getCoefficient(t.getDegree()),h=i.inverse(u);for(;l.getDegree()>=t.getDegree()&&!l.isZero();){const g=l.getDegree()-t.getDegree(),w=i.multiply(l.getCoefficient(l.getDegree()),h),v=t.multiplyByMonomial(g,w),S=i.buildMonomial(g,w);r=r.addOrSubtract(S),l=l.addOrSubtract(v)}return[r,l]}toString(){let t="";for(let i=this.getDegree();i>=0;i--){let r=this.getCoefficient(i);if(r!==0){if(r<0?(t+=" - ",r=-r):t.length>0&&(t+=" + "),i===0||r!==1){const l=this.field.log(r);l===0?t+="1":l===1?t+="a":(t+="a^",t+=l)}i!==0&&(i===1?t+="x":(t+="x^",t+=i))}}return t}}class Mr extends y{}Mr.kind="ArithmeticException";class ot extends sr{constructor(t,i,r){super(),this.primitive=t,this.size=i,this.generatorBase=r;const l=new Int32Array(i);let u=1;for(let g=0;g<i;g++)l[g]=u,u*=2,u>=i&&(u^=t,u&=i-1);this.expTable=l;const h=new Int32Array(i);for(let g=0;g<i-1;g++)h[l[g]]=g;this.logTable=h,this.zero=new dn(this,Int32Array.from([0])),this.one=new dn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new T;if(i===0)return this.zero;const r=new Int32Array(t+1);return r[0]=i,new dn(this,r)}inverse(t){if(t===0)throw new Mr;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+V.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}ot.AZTEC_DATA_12=new ot(4201,4096,1),ot.AZTEC_DATA_10=new ot(1033,1024,1),ot.AZTEC_DATA_6=new ot(67,64,1),ot.AZTEC_PARAM=new ot(19,16,1),ot.QR_CODE_FIELD_256=new ot(285,256,0),ot.DATA_MATRIX_FIELD_256=new ot(301,256,1),ot.AZTEC_DATA_8=ot.DATA_MATRIX_FIELD_256,ot.MAXICODE_FIELD_64=ot.AZTEC_DATA_6;class Fi extends y{}Fi.kind="ReedSolomonException";class mi extends y{}mi.kind="IllegalStateException";class pa{constructor(t){this.field=t}decode(t,i){const r=this.field,l=new dn(r,t),u=new Int32Array(i);let h=!0;for(let L=0;L<i;L++){const U=l.evaluateAt(r.exp(L+r.getGeneratorBase()));u[u.length-1-L]=U,U!==0&&(h=!1)}if(h)return;const g=new dn(r,u),w=this.runEuclideanAlgorithm(r.buildMonomial(i,1),g,i),v=w[0],S=w[1],N=this.findErrorLocations(v),I=this.findErrorMagnitudes(S,N);for(let L=0;L<N.length;L++){const U=t.length-1-r.log(N[L]);if(U<0)throw new Fi("Bad error location");t[U]=ot.addOrSubtract(t[U],I[L])}}runEuclideanAlgorithm(t,i,r){if(t.getDegree()<i.getDegree()){const L=t;t=i,i=L}const l=this.field;let u=t,h=i,g=l.getZero(),w=l.getOne();for(;h.getDegree()>=(r/2|0);){let L=u,U=g;if(u=h,g=w,u.isZero())throw new Fi("r_{i-1} was zero");h=L;let F=l.getZero();const W=u.getCoefficient(u.getDegree()),te=l.inverse(W);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){const pe=h.getDegree()-u.getDegree(),Ee=l.multiply(h.getCoefficient(h.getDegree()),te);F=F.addOrSubtract(l.buildMonomial(pe,Ee)),h=h.addOrSubtract(u.multiplyByMonomial(pe,Ee))}if(w=F.multiply(g).addOrSubtract(U),h.getDegree()>=u.getDegree())throw new mi("Division algorithm failed to reduce polynomial?")}const v=w.getCoefficient(0);if(v===0)throw new Fi("sigmaTilde(0) was zero");const S=l.inverse(v),N=w.multiplyScalar(S),I=h.multiplyScalar(S);return[N,I]}findErrorLocations(t){const i=t.getDegree();if(i===1)return Int32Array.from([t.getCoefficient(1)]);const r=new Int32Array(i);let l=0;const u=this.field;for(let h=1;h<u.getSize()&&l<i;h++)t.evaluateAt(h)===0&&(r[l]=u.inverse(h),l++);if(l!==i)throw new Fi("Error locator degree does not match number of roots");return r}findErrorMagnitudes(t,i){const r=i.length,l=new Int32Array(r),u=this.field;for(let h=0;h<r;h++){const g=u.inverse(i[h]);let w=1;for(let v=0;v<r;v++)if(h!==v){const S=u.multiply(i[v],g),N=(S&1)===0?S|1:S&-2;w=u.multiply(w,N)}l[h]=u.multiply(t.evaluateAt(g),u.inverse(w)),u.getGeneratorBase()!==0&&(l[h]=u.multiply(l[h],g))}return l}}var _t;(function(R){R[R.UPPER=0]="UPPER",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.DIGIT=3]="DIGIT",R[R.PUNCT=4]="PUNCT",R[R.BINARY=5]="BINARY"})(_t||(_t={}));class St{decode(t){this.ddata=t;let i=t.getBits(),r=this.extractBits(i),l=this.correctBits(r),u=St.convertBoolArrayToByteArray(l),h=St.getEncodedData(l),g=new Zn(u,h,null,null);return g.setNumBits(l.length),g}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let i=t.length,r=_t.UPPER,l=_t.UPPER,u="",h=0;for(;h<i;)if(l===_t.BINARY){if(i-h<5)break;let g=St.readCode(t,h,5);if(h+=5,g===0){if(i-h<11)break;g=St.readCode(t,h,11)+31,h+=11}for(let w=0;w<g;w++){if(i-h<8){h=i;break}const v=St.readCode(t,h,8);u+=Re.castAsNonUtf8Char(v),h+=8}l=r}else{let g=l===_t.DIGIT?4:5;if(i-h<g)break;let w=St.readCode(t,h,g);h+=g;let v=St.getCharacter(l,w);v.startsWith("CTRL_")?(r=l,l=St.getTable(v.charAt(5)),v.charAt(6)==="L"&&(r=l)):(u+=v,l=r)}return u}static getTable(t){switch(t){case"L":return _t.LOWER;case"P":return _t.PUNCT;case"M":return _t.MIXED;case"D":return _t.DIGIT;case"B":return _t.BINARY;case"U":default:return _t.UPPER}}static getCharacter(t,i){switch(t){case _t.UPPER:return St.UPPER_TABLE[i];case _t.LOWER:return St.LOWER_TABLE[i];case _t.MIXED:return St.MIXED_TABLE[i];case _t.PUNCT:return St.PUNCT_TABLE[i];case _t.DIGIT:return St.DIGIT_TABLE[i];default:throw new mi("Bad table")}}correctBits(t){let i,r;this.ddata.getNbLayers()<=2?(r=6,i=ot.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,i=ot.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,i=ot.AZTEC_DATA_10):(r=12,i=ot.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),u=t.length/r;if(u<l)throw new ae;let h=t.length%r,g=new Int32Array(u);for(let I=0;I<u;I++,h+=r)g[I]=St.readCode(t,h,r);try{new pa(i).decode(g,u-l)}catch(I){throw new ae(I)}let w=(1<<r)-1,v=0;for(let I=0;I<l;I++){let L=g[I];if(L===0||L===w)throw new ae;(L===1||L===w-1)&&v++}let S=new Array(l*r-v),N=0;for(let I=0;I<l;I++){let L=g[I];if(L===1||L===w-1)S.fill(L>1,N,N+r-1),N+=r-1;else for(let U=r-1;U>=0;--U)S[N++]=(L&1<<U)!==0}return S}extractBits(t){let i=this.ddata.isCompact(),r=this.ddata.getNbLayers(),l=(i?11:14)+r*4,u=new Int32Array(l),h=new Array(this.totalBitsInLayer(r,i));if(i)for(let g=0;g<u.length;g++)u[g]=g;else{let g=l+1+2*V.truncDivision(V.truncDivision(l,2)-1,15),w=l/2,v=V.truncDivision(g,2);for(let S=0;S<w;S++){let N=S+V.truncDivision(S,15);u[w-S-1]=v-N-1,u[w+S]=v+N+1}}for(let g=0,w=0;g<r;g++){let v=(r-g)*4+(i?9:12),S=g*2,N=l-1-S;for(let I=0;I<v;I++){let L=I*2;for(let U=0;U<2;U++)h[w+L+U]=t.get(u[S+U],u[S+I]),h[w+2*v+L+U]=t.get(u[S+I],u[N-U]),h[w+4*v+L+U]=t.get(u[N-U],u[N-I]),h[w+6*v+L+U]=t.get(u[N-I],u[S+U])}w+=v*8}return h}static readCode(t,i,r){let l=0;for(let u=i;u<i+r;u++)l<<=1,t[u]&&(l|=1);return l}static readByte(t,i){let r=t.length-i;return r>=8?St.readCode(t,i,8):St.readCode(t,i,r)<<8-r}static convertBoolArrayToByteArray(t){let i=new Uint8Array((t.length+7)/8);for(let r=0;r<i.length;r++)i[r]=St.readByte(t,8*r);return i}totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}St.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],St.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],St.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],St.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],St.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class st{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,i,r,l){const u=t-r,h=i-l;return Math.sqrt(u*u+h*h)}static sum(t){let i=0;for(let r=0,l=t.length;r!==l;r++){const u=t[r];i+=u}return i}}class wa{static floatToIntBits(t){return t}}wa.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Oe{constructor(t,i){this.x=t,this.y=i}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof Oe){const i=t;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*wa.floatToIntBits(this.x)+wa.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const i=this.distance(t[0],t[1]),r=this.distance(t[1],t[2]),l=this.distance(t[0],t[2]);let u,h,g;if(r>=i&&r>=l?(h=t[0],u=t[1],g=t[2]):l>=r&&l>=i?(h=t[1],u=t[0],g=t[2]):(h=t[2],u=t[0],g=t[1]),this.crossProductZ(u,h,g)<0){const w=u;u=g,g=w}t[0]=u,t[1]=h,t[2]=g}static distance(t,i){return st.distance(t.x,t.y,i.x,i.y)}static crossProductZ(t,i,r){const l=i.x,u=i.y;return(r.x-l)*(t.y-u)-(r.y-u)*(t.x-l)}}class es{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class ll extends es{constructor(t,i,r,l,u){super(t,i),this.compact=r,this.nbDatablocks=l,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class _i{constructor(t,i,r,l){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),i==null&&(i=_i.INIT_SIZE),r==null&&(r=t.getWidth()/2|0),l==null&&(l=t.getHeight()/2|0);const u=i/2|0;if(this.leftInit=r-u,this.rightInit=r+u,this.upInit=l-u,this.downInit=l+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ee}detect(){let t=this.leftInit,i=this.rightInit,r=this.upInit,l=this.downInit,u=!1,h=!0,g=!1,w=!1,v=!1,S=!1,N=!1;const I=this.width,L=this.height;for(;h;){h=!1;let U=!0;for(;(U||!w)&&i<I;)U=this.containsBlackPoint(r,l,i,!1),U?(i++,h=!0,w=!0):w||i++;if(i>=I){u=!0;break}let F=!0;for(;(F||!v)&&l<L;)F=this.containsBlackPoint(t,i,l,!0),F?(l++,h=!0,v=!0):v||l++;if(l>=L){u=!0;break}let W=!0;for(;(W||!S)&&t>=0;)W=this.containsBlackPoint(r,l,t,!1),W?(t--,h=!0,S=!0):S||t--;if(t<0){u=!0;break}let te=!0;for(;(te||!N)&&r>=0;)te=this.containsBlackPoint(t,i,r,!0),te?(r--,h=!0,N=!0):N||r--;if(r<0){u=!0;break}h&&(g=!0)}if(!u&&g){const U=i-t;let F=null;for(let Ee=1;F===null&&Ee<U;Ee++)F=this.getBlackPointOnSegment(t,l-Ee,t+Ee,l);if(F==null)throw new ee;let W=null;for(let Ee=1;W===null&&Ee<U;Ee++)W=this.getBlackPointOnSegment(t,r+Ee,t+Ee,r);if(W==null)throw new ee;let te=null;for(let Ee=1;te===null&&Ee<U;Ee++)te=this.getBlackPointOnSegment(i,r+Ee,i-Ee,r);if(te==null)throw new ee;let pe=null;for(let Ee=1;pe===null&&Ee<U;Ee++)pe=this.getBlackPointOnSegment(i,l-Ee,i-Ee,l);if(pe==null)throw new ee;return this.centerEdges(pe,F,te,W)}else throw new ee}getBlackPointOnSegment(t,i,r,l){const u=st.round(st.distance(t,i,r,l)),h=(r-t)/u,g=(l-i)/u,w=this.image;for(let v=0;v<u;v++){const S=st.round(t+v*h),N=st.round(i+v*g);if(w.get(S,N))return new Oe(S,N)}return null}centerEdges(t,i,r,l){const u=t.getX(),h=t.getY(),g=i.getX(),w=i.getY(),v=r.getX(),S=r.getY(),N=l.getX(),I=l.getY(),L=_i.CORR;return u<this.width/2?[new Oe(N-L,I+L),new Oe(g+L,w+L),new Oe(v-L,S-L),new Oe(u+L,h-L)]:[new Oe(N+L,I+L),new Oe(g+L,w-L),new Oe(v-L,S+L),new Oe(u-L,h-L)]}containsBlackPoint(t,i,r,l){const u=this.image;if(l){for(let h=t;h<=i;h++)if(u.get(h,r))return!0}else for(let h=t;h<=i;h++)if(u.get(r,h))return!0;return!1}}_i.INIT_SIZE=10,_i.CORR=1;class ol{static checkAndNudgePoints(t,i){const r=t.getWidth(),l=t.getHeight();let u=!0;for(let h=0;h<i.length&&u;h+=2){const g=Math.floor(i[h]),w=Math.floor(i[h+1]);if(g<-1||g>r||w<-1||w>l)throw new ee;u=!1,g===-1?(i[h]=0,u=!0):g===r&&(i[h]=r-1,u=!0),w===-1?(i[h+1]=0,u=!0):w===l&&(i[h+1]=l-1,u=!0)}u=!0;for(let h=i.length-2;h>=0&&u;h-=2){const g=Math.floor(i[h]),w=Math.floor(i[h+1]);if(g<-1||g>r||w<-1||w>l)throw new ee;u=!1,g===-1?(i[h]=0,u=!0):g===r&&(i[h]=r-1,u=!0),w===-1?(i[h+1]=0,u=!0):w===l&&(i[h+1]=l-1,u=!0)}}}class Dn{constructor(t,i,r,l,u,h,g,w,v){this.a11=t,this.a21=i,this.a31=r,this.a12=l,this.a22=u,this.a32=h,this.a13=g,this.a23=w,this.a33=v}static quadrilateralToQuadrilateral(t,i,r,l,u,h,g,w,v,S,N,I,L,U,F,W){const te=Dn.quadrilateralToSquare(t,i,r,l,u,h,g,w);return Dn.squareToQuadrilateral(v,S,N,I,L,U,F,W).times(te)}transformPoints(t){const i=t.length,r=this.a11,l=this.a12,u=this.a13,h=this.a21,g=this.a22,w=this.a23,v=this.a31,S=this.a32,N=this.a33;for(let I=0;I<i;I+=2){const L=t[I],U=t[I+1],F=u*L+w*U+N;t[I]=(r*L+h*U+v)/F,t[I+1]=(l*L+g*U+S)/F}}transformPointsWithValues(t,i){const r=this.a11,l=this.a12,u=this.a13,h=this.a21,g=this.a22,w=this.a23,v=this.a31,S=this.a32,N=this.a33,I=t.length;for(let L=0;L<I;L++){const U=t[L],F=i[L],W=u*U+w*F+N;t[L]=(r*U+h*F+v)/W,i[L]=(l*U+g*F+S)/W}}static squareToQuadrilateral(t,i,r,l,u,h,g,w){const v=t-r+u-g,S=i-l+h-w;if(v===0&&S===0)return new Dn(r-t,u-r,t,l-i,h-l,i,0,0,1);{const N=r-u,I=g-u,L=l-h,U=w-h,F=N*U-I*L,W=(v*U-I*S)/F,te=(N*S-v*L)/F;return new Dn(r-t+W*r,g-t+te*g,t,l-i+W*l,w-i+te*w,i,W,te,1)}}static quadrilateralToSquare(t,i,r,l,u,h,g,w){return Dn.squareToQuadrilateral(t,i,r,l,u,h,g,w).buildAdjoint()}buildAdjoint(){return new Dn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new Dn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class Un extends ol{sampleGrid(t,i,r,l,u,h,g,w,v,S,N,I,L,U,F,W,te,pe,Ee){const me=Dn.quadrilateralToQuadrilateral(l,u,h,g,w,v,S,N,I,L,U,F,W,te,pe,Ee);return this.sampleGridWithTransform(t,i,r,me)}sampleGridWithTransform(t,i,r,l){if(i<=0||r<=0)throw new ee;const u=new ft(i,r),h=new Float32Array(2*i);for(let g=0;g<r;g++){const w=h.length,v=g+.5;for(let S=0;S<w;S+=2)h[S]=S/2+.5,h[S+1]=v;l.transformPoints(h),ol.checkAndNudgePoints(t,h);try{for(let S=0;S<w;S+=2)t.get(Math.floor(h[S]),Math.floor(h[S+1]))&&u.set(S/2,g)}catch{throw new ee}}return u}}class Mn{static setGridSampler(t){Mn.gridSampler=t}static getInstance(){return Mn.gridSampler}}Mn.gridSampler=new Un;class yt{constructor(t,i){this.x=t,this.y=i}toResultPoint(){return new Oe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ao{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let i=this.getMatrixCenter(),r=this.getBullsEyeCorners(i);if(t){let h=r[0];r[0]=r[2],r[2]=h}this.extractParameters(r);let l=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),u=this.getMatrixCornerPoints(r);return new ll(l,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new ee;let i=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(t[0],t[1],i),this.sampleLine(t[1],t[2],i),this.sampleLine(t[2],t[3],i),this.sampleLine(t[3],t[0],i)]);this.shift=this.getRotation(r,i);let l=0;for(let h=0;h<4;h++){let g=r[(this.shift+h)%4];this.compact?(l<<=7,l+=g>>1&127):(l<<=10,l+=(g>>2&992)+(g>>1&31))}let u=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(t,i){let r=0;t.forEach((l,u,h)=>{let g=(l>>i-2<<1)+(l&1);r=(r<<3)+g}),r=((r&1)<<11)+(r>>1);for(let l=0;l<4;l++)if(V.bitCount(r^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new ee}getCorrectedParameterData(t,i){let r,l;i?(r=7,l=2):(r=10,l=4);let u=r-l,h=new Int32Array(r);for(let w=r-1;w>=0;--w)h[w]=t&15,t>>=4;try{new pa(ot.AZTEC_PARAM).decode(h,u)}catch{throw new ee}let g=0;for(let w=0;w<l;w++)g=(g<<4)+h[w];return g}getBullsEyeCorners(t){let i=t,r=t,l=t,u=t,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let N=this.getFirstDifferent(i,h,1,-1),I=this.getFirstDifferent(r,h,1,1),L=this.getFirstDifferent(l,h,-1,1),U=this.getFirstDifferent(u,h,-1,-1);if(this.nbCenterLayers>2){let F=this.distancePoint(U,N)*this.nbCenterLayers/(this.distancePoint(u,i)*(this.nbCenterLayers+2));if(F<.75||F>1.25||!this.isWhiteOrBlackRectangle(N,I,L,U))break}i=N,r=I,l=L,u=U,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ee;this.compact=this.nbCenterLayers===5;let g=new Oe(i.getX()+.5,i.getY()-.5),w=new Oe(r.getX()+.5,r.getY()+.5),v=new Oe(l.getX()-.5,l.getY()+.5),S=new Oe(u.getX()-.5,u.getY()-.5);return this.expandSquare([g,w,v,S],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,i,r,l;try{let g=new _i(this.image).detect();t=g[0],i=g[1],r=g[2],l=g[3]}catch{let w=this.image.getWidth()/2,v=this.image.getHeight()/2;t=this.getFirstDifferent(new yt(w+7,v-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new yt(w+7,v+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new yt(w-7,v+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new yt(w-7,v-7),!1,-1,-1).toResultPoint()}let u=st.round((t.getX()+l.getX()+i.getX()+r.getX())/4),h=st.round((t.getY()+l.getY()+i.getY()+r.getY())/4);try{let g=new _i(this.image,15,u,h).detect();t=g[0],i=g[1],r=g[2],l=g[3]}catch{t=this.getFirstDifferent(new yt(u+7,h-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new yt(u+7,h+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new yt(u-7,h+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new yt(u-7,h-7),!1,-1,-1).toResultPoint()}return u=st.round((t.getX()+l.getX()+i.getX()+r.getX())/4),h=st.round((t.getY()+l.getY()+i.getY()+r.getY())/4),new yt(u,h)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,i,r,l,u){let h=Mn.getInstance(),g=this.getDimension(),w=g/2-this.nbCenterLayers,v=g/2+this.nbCenterLayers;return h.sampleGrid(t,g,g,w,w,v,w,v,v,w,v,i.getX(),i.getY(),r.getX(),r.getY(),l.getX(),l.getY(),u.getX(),u.getY())}sampleLine(t,i,r){let l=0,u=this.distanceResultPoint(t,i),h=u/r,g=t.getX(),w=t.getY(),v=h*(i.getX()-t.getX())/u,S=h*(i.getY()-t.getY())/u;for(let N=0;N<r;N++)this.image.get(st.round(g+N*v),st.round(w+N*S))&&(l|=1<<r-N-1);return l}isWhiteOrBlackRectangle(t,i,r,l){let u=3;t=new yt(t.getX()-u,t.getY()+u),i=new yt(i.getX()-u,i.getY()-u),r=new yt(r.getX()+u,r.getY()-u),l=new yt(l.getX()+u,l.getY()+u);let h=this.getColor(l,t);if(h===0)return!1;let g=this.getColor(t,i);return g!==h||(g=this.getColor(i,r),g!==h)?!1:(g=this.getColor(r,l),g===h)}getColor(t,i){let r=this.distancePoint(t,i),l=(i.getX()-t.getX())/r,u=(i.getY()-t.getY())/r,h=0,g=t.getX(),w=t.getY(),v=this.image.get(t.getX(),t.getY()),S=Math.ceil(r);for(let I=0;I<S;I++)g+=l,w+=u,this.image.get(st.round(g),st.round(w))!==v&&h++;let N=h/r;return N>.1&&N<.9?0:N<=.1===v?1:-1}getFirstDifferent(t,i,r,l){let u=t.getX()+r,h=t.getY()+l;for(;this.isValid(u,h)&&this.image.get(u,h)===i;)u+=r,h+=l;for(u-=r,h-=l;this.isValid(u,h)&&this.image.get(u,h)===i;)u+=r;for(u-=r;this.isValid(u,h)&&this.image.get(u,h)===i;)h+=l;return h-=l,new yt(u,h)}expandSquare(t,i,r){let l=r/(2*i),u=t[0].getX()-t[2].getX(),h=t[0].getY()-t[2].getY(),g=(t[0].getX()+t[2].getX())/2,w=(t[0].getY()+t[2].getY())/2,v=new Oe(g+l*u,w+l*h),S=new Oe(g-l*u,w-l*h);u=t[1].getX()-t[3].getX(),h=t[1].getY()-t[3].getY(),g=(t[1].getX()+t[3].getX())/2,w=(t[1].getY()+t[3].getY())/2;let N=new Oe(g+l*u,w+l*h),I=new Oe(g-l*u,w-l*h);return[v,N,S,I]}isValid(t,i){return t>=0&&t<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(t){let i=st.round(t.getX()),r=st.round(t.getY());return this.isValid(i,r)}distancePoint(t,i){return st.distance(t.getX(),t.getY(),i.getX(),i.getY())}distanceResultPoint(t,i){return st.distance(t.getX(),t.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(V.truncDivision(this.nbLayers-4,8)+1)+15}}class ts{decode(t,i=null){let r=null,l=new Ao(t.getBlackMatrix()),u=null,h=null;try{let S=l.detectMirror(!1);u=S.getPoints(),this.reportFoundResultPoints(i,u),h=new St().decode(S)}catch(S){r=S}if(h==null)try{let S=l.detectMirror(!0);u=S.getPoints(),this.reportFoundResultPoints(i,u),h=new St().decode(S)}catch(S){throw r??S}let g=new Se(h.getText(),h.getRawBytes(),h.getNumBits(),u,ye.AZTEC,q.currentTimeMillis()),w=h.getByteSegments();w!=null&&g.putMetadata(Xe.BYTE_SEGMENTS,w);let v=h.getECLevel();return v!=null&&g.putMetadata(Xe.ERROR_CORRECTION_LEVEL,v),g}reportFoundResultPoints(t,i){if(t!=null){let r=t.get(Ce.NEED_RESULT_POINT_CALLBACK);r!=null&&i.forEach((l,u,h)=>{r.foundPossibleResultPoint(l)})}}reset(){}}class tc extends Ae{constructor(t=500){super(new ts,t)}}class jt{decode(t,i){try{return this.doDecode(t,i)}catch{if(i&&i.get(Ce.TRY_HARDER)===!0&&t.isRotateSupported()){const u=t.rotateCounterClockwise(),h=this.doDecode(u,i),g=h.getResultMetadata();let w=270;g!==null&&g.get(Xe.ORIENTATION)===!0&&(w=w+g.get(Xe.ORIENTATION)%360),h.putMetadata(Xe.ORIENTATION,w);const v=h.getResultPoints();if(v!==null){const S=u.getHeight();for(let N=0;N<v.length;N++)v[N]=new Oe(S-v[N].getY()-1,v[N].getX())}return h}else throw new ee}}reset(){}doDecode(t,i){const r=t.getWidth(),l=t.getHeight();let u=new le(r);const h=i&&i.get(Ce.TRY_HARDER)===!0,g=Math.max(1,l>>(h?8:5));let w;h?w=l:w=15;const v=Math.trunc(l/2);for(let S=0;S<w;S++){const N=Math.trunc((S+1)/2),I=(S&1)===0,L=v+g*(I?N:-N);if(L<0||L>=l)break;try{u=t.getBlackRow(L,u)}catch{continue}for(let U=0;U<2;U++){if(U===1&&(u.reverse(),i&&i.get(Ce.NEED_RESULT_POINT_CALLBACK)===!0)){const F=new Map;i.forEach((W,te)=>F.set(te,W)),F.delete(Ce.NEED_RESULT_POINT_CALLBACK),i=F}try{const F=this.decodeRow(L,u,i);if(U===1){F.putMetadata(Xe.ORIENTATION,180);const W=F.getResultPoints();W!==null&&(W[0]=new Oe(r-W[0].getX()-1,W[0].getY()),W[1]=new Oe(r-W[1].getX()-1,W[1].getY()))}return F}catch{}}}throw new ee}static recordPattern(t,i,r){const l=r.length;for(let v=0;v<l;v++)r[v]=0;const u=t.getSize();if(i>=u)throw new ee;let h=!t.get(i),g=0,w=i;for(;w<u;){if(t.get(w)!==h)r[g]++;else{if(++g===l)break;r[g]=1,h=!h}w++}if(!(g===l||g===l-1&&w===u))throw new ee}static recordPatternInReverse(t,i,r){let l=r.length,u=t.get(i);for(;i>0&&l>=0;)t.get(--i)!==u&&(l--,u=!u);if(l>=0)throw new ee;jt.recordPattern(t,i+1,r)}static patternMatchVariance(t,i,r){const l=t.length;let u=0,h=0;for(let v=0;v<l;v++)u+=t[v],h+=i[v];if(u<h)return Number.POSITIVE_INFINITY;const g=u/h;r*=g;let w=0;for(let v=0;v<l;v++){const S=t[v],N=i[v]*g,I=S>N?S-N:N-S;if(I>r)return Number.POSITIVE_INFINITY;w+=I}return w/u}}class be extends jt{static findStartPattern(t){const i=t.getSize(),r=t.getNextSet(0);let l=0,u=Int32Array.from([0,0,0,0,0,0]),h=r,g=!1;const w=6;for(let v=r;v<i;v++)if(t.get(v)!==g)u[l]++;else{if(l===w-1){let S=be.MAX_AVG_VARIANCE,N=-1;for(let I=be.CODE_START_A;I<=be.CODE_START_C;I++){const L=jt.patternMatchVariance(u,be.CODE_PATTERNS[I],be.MAX_INDIVIDUAL_VARIANCE);L<S&&(S=L,N=I)}if(N>=0&&t.isRange(Math.max(0,h-(v-h)/2),h,!1))return Int32Array.from([h,v,N]);h+=u[0]+u[1],u=u.slice(2,u.length-1),u[l-1]=0,u[l]=0,l--}else l++;u[l]=1,g=!g}throw new ee}static decodeCode(t,i,r){jt.recordPattern(t,r,i);let l=be.MAX_AVG_VARIANCE,u=-1;for(let h=0;h<be.CODE_PATTERNS.length;h++){const g=be.CODE_PATTERNS[h],w=this.patternMatchVariance(i,g,be.MAX_INDIVIDUAL_VARIANCE);w<l&&(l=w,u=h)}if(u>=0)return u;throw new ee}decodeRow(t,i,r){const l=r&&r.get(Ce.ASSUME_GS1)===!0,u=be.findStartPattern(i),h=u[2];let g=0;const w=new Uint8Array(20);w[g++]=h;let v;switch(h){case be.CODE_START_A:v=be.CODE_CODE_A;break;case be.CODE_START_B:v=be.CODE_CODE_B;break;case be.CODE_START_C:v=be.CODE_CODE_C;break;default:throw new ae}let S=!1,N=!1,I="",L=u[0],U=u[1];const F=Int32Array.from([0,0,0,0,0,0]);let W=0,te=0,pe=h,Ee=0,me=!0,Ge=!1,ze=!1;for(;!S;){const $i=N;switch(N=!1,W=te,te=be.decodeCode(i,F,U),w[g++]=te,te!==be.CODE_STOP&&(me=!0),te!==be.CODE_STOP&&(Ee++,pe+=Ee*te),L=U,U+=F.reduce((li,Bo)=>li+Bo,0),te){case be.CODE_START_A:case be.CODE_START_B:case be.CODE_START_C:throw new ae}switch(v){case be.CODE_CODE_A:if(te<64)ze===Ge?I+=String.fromCharCode(32+te):I+=String.fromCharCode(32+te+128),ze=!1;else if(te<96)ze===Ge?I+=String.fromCharCode(te-64):I+=String.fromCharCode(te+64),ze=!1;else switch(te!==be.CODE_STOP&&(me=!1),te){case be.CODE_FNC_1:l&&(I.length===0?I+="]C1":I+="");break;case be.CODE_FNC_2:case be.CODE_FNC_3:break;case be.CODE_FNC_4_A:!Ge&&ze?(Ge=!0,ze=!1):Ge&&ze?(Ge=!1,ze=!1):ze=!0;break;case be.CODE_SHIFT:N=!0,v=be.CODE_CODE_B;break;case be.CODE_CODE_B:v=be.CODE_CODE_B;break;case be.CODE_CODE_C:v=be.CODE_CODE_C;break;case be.CODE_STOP:S=!0;break}break;case be.CODE_CODE_B:if(te<96)ze===Ge?I+=String.fromCharCode(32+te):I+=String.fromCharCode(32+te+128),ze=!1;else switch(te!==be.CODE_STOP&&(me=!1),te){case be.CODE_FNC_1:l&&(I.length===0?I+="]C1":I+="");break;case be.CODE_FNC_2:case be.CODE_FNC_3:break;case be.CODE_FNC_4_B:!Ge&&ze?(Ge=!0,ze=!1):Ge&&ze?(Ge=!1,ze=!1):ze=!0;break;case be.CODE_SHIFT:N=!0,v=be.CODE_CODE_A;break;case be.CODE_CODE_A:v=be.CODE_CODE_A;break;case be.CODE_CODE_C:v=be.CODE_CODE_C;break;case be.CODE_STOP:S=!0;break}break;case be.CODE_CODE_C:if(te<100)te<10&&(I+="0"),I+=te;else switch(te!==be.CODE_STOP&&(me=!1),te){case be.CODE_FNC_1:l&&(I.length===0?I+="]C1":I+="");break;case be.CODE_CODE_A:v=be.CODE_CODE_A;break;case be.CODE_CODE_B:v=be.CODE_CODE_B;break;case be.CODE_STOP:S=!0;break}break}$i&&(v=v===be.CODE_CODE_A?be.CODE_CODE_B:be.CODE_CODE_A)}const Bn=U-L;if(U=i.getNextUnset(U),!i.isRange(U,Math.min(i.getSize(),U+(U-L)/2),!1))throw new ee;if(pe-=Ee*W,pe%103!==W)throw new k;const $n=I.length;if($n===0)throw new ee;$n>0&&me&&(v===be.CODE_CODE_C?I=I.substring(0,$n-2):I=I.substring(0,$n-1));const Hn=(u[1]+u[0])/2,bt=L+Bn/2,yn=w.length,Gn=new Uint8Array(yn);for(let $i=0;$i<yn;$i++)Gn[$i]=w[$i];const dr=[new Oe(Hn,t),new Oe(bt,t)];return new Se(I,Gn,0,dr,ye.CODE_128,new Date().getTime())}}be.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],be.MAX_AVG_VARIANCE=.25,be.MAX_INDIVIDUAL_VARIANCE=.7,be.CODE_SHIFT=98,be.CODE_CODE_C=99,be.CODE_CODE_B=100,be.CODE_CODE_A=101,be.CODE_FNC_1=102,be.CODE_FNC_2=97,be.CODE_FNC_3=96,be.CODE_FNC_4_A=101,be.CODE_FNC_4_B=100,be.CODE_START_A=103,be.CODE_START_B=104,be.CODE_START_C=105,be.CODE_STOP=106;class It extends jt{constructor(t=!1,i=!1){super(),this.usingCheckDigit=t,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,i,r){let l=this.counters;l.fill(0),this.decodeRowResult="";let u=It.findAsteriskPattern(i,l),h=i.getNextSet(u[1]),g=i.getSize(),w,v;do{It.recordPattern(i,h,l);let F=It.toNarrowWidePattern(l);if(F<0)throw new ee;w=It.patternToChar(F),this.decodeRowResult+=w,v=h;for(let W of l)h+=W;h=i.getNextSet(h)}while(w!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let S=0;for(let F of l)S+=F;let N=h-v-S;if(h!==g&&N*2<S)throw new ee;if(this.usingCheckDigit){let F=this.decodeRowResult.length-1,W=0;for(let te=0;te<F;te++)W+=It.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(te));if(this.decodeRowResult.charAt(F)!==It.ALPHABET_STRING.charAt(W%43))throw new k;this.decodeRowResult=this.decodeRowResult.substring(0,F)}if(this.decodeRowResult.length===0)throw new ee;let I;this.extendedMode?I=It.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;let L=(u[1]+u[0])/2,U=v+S/2;return new Se(I,null,0,[new Oe(L,t),new Oe(U,t)],ye.CODE_39,new Date().getTime())}static findAsteriskPattern(t,i){let r=t.getSize(),l=t.getNextSet(0),u=0,h=l,g=!1,w=i.length;for(let v=l;v<r;v++)if(t.get(v)!==g)i[u]++;else{if(u===w-1){if(this.toNarrowWidePattern(i)===It.ASTERISK_ENCODING&&t.isRange(Math.max(0,h-Math.floor((v-h)/2)),h,!1))return[h,v];h+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,g=!g}throw new ee}static toNarrowWidePattern(t){let i=t.length,r=0,l;do{let u=2147483647;for(let w of t)w<u&&w>r&&(u=w);r=u,l=0;let h=0,g=0;for(let w=0;w<i;w++){let v=t[w];v>r&&(g|=1<<i-1-w,l++,h+=v)}if(l===3){for(let w=0;w<i&&l>0;w++){let v=t[w];if(v>r&&(l--,v*2>=h))return-1}return g}}while(l>3);return-1}static patternToChar(t){for(let i=0;i<It.CHARACTER_ENCODINGS.length;i++)if(It.CHARACTER_ENCODINGS[i]===t)return It.ALPHABET_STRING.charAt(i);if(t===It.ASTERISK_ENCODING)return"*";throw new ee}static decodeExtended(t){let i=t.length,r="";for(let l=0;l<i;l++){let u=t.charAt(l);if(u==="+"||u==="$"||u==="%"||u==="/"){let h=t.charAt(l+1),g="\0";switch(u){case"+":if(h>="A"&&h<="Z")g=String.fromCharCode(h.charCodeAt(0)+32);else throw new ae;break;case"$":if(h>="A"&&h<="Z")g=String.fromCharCode(h.charCodeAt(0)-64);else throw new ae;break;case"%":if(h>="A"&&h<="E")g=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")g=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")g=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")g=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")g="\0";else if(h==="V")g="@";else if(h==="W")g="`";else if(h==="X"||h==="Y"||h==="Z")g="";else throw new ae;break;case"/":if(h>="A"&&h<="O")g=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")g=":";else throw new ae;break}r+=g,l++}else r+=u}return r}}It.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",It.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],It.ASTERISK_ENCODING=148;class dt extends jt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,i,r){let l=this.decodeStart(i),u=this.decodeEnd(i),h=new Ze;dt.decodeMiddle(i,l[1],u[0],h);let g=h.toString(),w=null;r!=null&&(w=r.get(Ce.ALLOWED_LENGTHS)),w==null&&(w=dt.DEFAULT_ALLOWED_LENGTHS);let v=g.length,S=!1,N=0;for(let U of w){if(v===U){S=!0;break}U>N&&(N=U)}if(!S&&v>N&&(S=!0),!S)throw new ae;const I=[new Oe(l[1],t),new Oe(u[0],t)];return new Se(g,null,0,I,ye.ITF,new Date().getTime())}static decodeMiddle(t,i,r,l){let u=new Int32Array(10),h=new Int32Array(5),g=new Int32Array(5);for(u.fill(0),h.fill(0),g.fill(0);i<r;){jt.recordPattern(t,i,u);for(let v=0;v<5;v++){let S=2*v;h[v]=u[S],g[v]=u[S+1]}let w=dt.decodeDigit(h);l.append(w.toString()),w=this.decodeDigit(g),l.append(w.toString()),u.forEach(function(v){i+=v})}}decodeStart(t){let i=dt.skipWhiteSpace(t),r=dt.findGuardPattern(t,i,dt.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(t,r[0]),r}validateQuietZone(t,i){let r=this.narrowLineWidth*10;r=r<i?r:i;for(let l=i-1;r>0&&l>=0&&!t.get(l);l--)r--;if(r!==0)throw new ee}static skipWhiteSpace(t){const i=t.getSize(),r=t.getNextSet(0);if(r===i)throw new ee;return r}decodeEnd(t){t.reverse();try{let i=dt.skipWhiteSpace(t),r;try{r=dt.findGuardPattern(t,i,dt.END_PATTERN_REVERSED[0])}catch(u){u instanceof ee&&(r=dt.findGuardPattern(t,i,dt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,r[0]);let l=r[0];return r[0]=t.getSize()-r[1],r[1]=t.getSize()-l,r}finally{t.reverse()}}static findGuardPattern(t,i,r){let l=r.length,u=new Int32Array(l),h=t.getSize(),g=!1,w=0,v=i;u.fill(0);for(let S=i;S<h;S++)if(t.get(S)!==g)u[w]++;else{if(w===l-1){if(jt.patternMatchVariance(u,r,dt.MAX_INDIVIDUAL_VARIANCE)<dt.MAX_AVG_VARIANCE)return[v,S];v+=u[0]+u[1],q.arraycopy(u,2,u,0,w-1),u[w-1]=0,u[w]=0,w--}else w++;u[w]=1,g=!g}throw new ee}static decodeDigit(t){let i=dt.MAX_AVG_VARIANCE,r=-1,l=dt.PATTERNS.length;for(let u=0;u<l;u++){let h=dt.PATTERNS[u],g=jt.patternMatchVariance(t,h,dt.MAX_INDIVIDUAL_VARIANCE);g<i?(i=g,r=u):g===i&&(r=-1)}if(r>=0)return r%10;throw new ee}}dt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],dt.MAX_AVG_VARIANCE=.38,dt.MAX_INDIVIDUAL_VARIANCE=.5,dt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],dt.START_PATTERN=Int32Array.from([1,1,1,1]),dt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Tt extends jt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let i=!1,r,l=0,u=Int32Array.from([0,0,0]);for(;!i;){u=Int32Array.from([0,0,0]),r=Tt.findGuardPattern(t,l,!1,this.START_END_PATTERN,u);let h=r[0];l=r[1];let g=h-(l-h);g>=0&&(i=t.isRange(g,h,!1))}return r}static checkChecksum(t){return Tt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let r=parseInt(t.charAt(i-1),10);return Tt.getStandardUPCEANChecksum(t.substring(0,i-1))===r}static getStandardUPCEANChecksum(t){let i=t.length,r=0;for(let l=i-1;l>=0;l-=2){let u=t.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new ae;r+=u}r*=3;for(let l=i-2;l>=0;l-=2){let u=t.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new ae;r+=u}return(1e3-r)%10}static decodeEnd(t,i){return Tt.findGuardPattern(t,i,!1,Tt.START_END_PATTERN,new Int32Array(Tt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,i,r,l){return this.findGuardPattern(t,i,r,l,new Int32Array(l.length))}static findGuardPattern(t,i,r,l,u){let h=t.getSize();i=r?t.getNextUnset(i):t.getNextSet(i);let g=0,w=i,v=l.length,S=r;for(let N=i;N<h;N++)if(t.get(N)!==S)u[g]++;else{if(g===v-1){if(jt.patternMatchVariance(u,l,Tt.MAX_INDIVIDUAL_VARIANCE)<Tt.MAX_AVG_VARIANCE)return Int32Array.from([w,N]);w+=u[0]+u[1];let I=u.slice(2,u.length-1);for(let L=0;L<g-1;L++)u[L]=I[L];u[g-1]=0,u[g]=0,g--}else g++;u[g]=1,S=!S}throw new ee}static decodeDigit(t,i,r,l){this.recordPattern(t,r,i);let u=this.MAX_AVG_VARIANCE,h=-1,g=l.length;for(let w=0;w<g;w++){let v=l[w],S=jt.patternMatchVariance(i,v,Tt.MAX_INDIVIDUAL_VARIANCE);S<u&&(u=S,h=w)}if(h>=0)return h;throw new ee}}Tt.MAX_AVG_VARIANCE=.48,Tt.MAX_INDIVIDUAL_VARIANCE=.7,Tt.START_END_PATTERN=Int32Array.from([1,1,1]),Tt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Tt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Tt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ya{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,r){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(i,r,l),h=l.toString(),g=ya.parseExtensionString(h),w=[new Oe((r[0]+r[1])/2,t),new Oe(u,t)],v=new Se(h,null,0,w,ye.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&v.putAllMetadata(g),v}decodeMiddle(t,i,r){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=t.getSize(),h=i[1],g=0;for(let v=0;v<5&&h<u;v++){let S=Tt.decodeDigit(t,l,h,Tt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+S%10);for(let N of l)h+=N;S>=10&&(g|=1<<4-v),v!==4&&(h=t.getNextSet(h),h=t.getNextUnset(h))}if(r.length!==5)throw new ee;let w=this.determineCheckDigit(g);if(ya.extensionChecksum(r.toString())!==w)throw new ee;return h}static extensionChecksum(t){let i=t.length,r=0;for(let l=i-2;l>=0;l-=2)r+=t.charAt(l).charCodeAt(0)-48;r*=3;for(let l=i-1;l>=0;l-=2)r+=t.charAt(l).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(t){for(let i=0;i<10;i++)if(t===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new ee}static parseExtensionString(t){if(t.length!==5)return null;let i=ya.parseExtension5String(t);return i==null?null:new Map([[Xe.SUGGESTED_PRICE,i]])}static parseExtension5String(t){let i;switch(t.charAt(0)){case"0":i="£";break;case"5":i="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let r=parseInt(t.substring(1)),l=(r/100).toString(),u=r%100,h=u<10?"0"+u:u.toString();return i+l+"."+h}}class ns{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,r){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(i,r,l),h=l.toString(),g=ns.parseExtensionString(h),w=[new Oe((r[0]+r[1])/2,t),new Oe(u,t)],v=new Se(h,null,0,w,ye.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&v.putAllMetadata(g),v}decodeMiddle(t,i,r){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=t.getSize(),h=i[1],g=0;for(let w=0;w<2&&h<u;w++){let v=Tt.decodeDigit(t,l,h,Tt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+v%10);for(let S of l)h+=S;v>=10&&(g|=1<<1-w),w!==1&&(h=t.getNextSet(h),h=t.getNextUnset(h))}if(r.length!==2)throw new ee;if(parseInt(r.toString())%4!==g)throw new ee;return h}static parseExtensionString(t){return t.length!==2?null:new Map([[Xe.ISSUE_NUMBER,parseInt(t)]])}}class ul{static decodeRow(t,i,r){let l=Tt.findGuardPattern(i,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ya().decodeRow(t,i,l)}catch{return new ns().decodeRow(t,i,l)}}}ul.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ut extends Tt{constructor(){super(),this.decodeRowStringBuffer="",ut.L_AND_G_PATTERNS=ut.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let i=ut.L_PATTERNS[t-10],r=new Int32Array(i.length);for(let l=0;l<i.length;l++)r[l]=i[i.length-l-1];ut.L_AND_G_PATTERNS[t]=r}}decodeRow(t,i,r){let l=ut.findStartGuardPattern(i),u=r==null?null:r.get(Ce.NEED_RESULT_POINT_CALLBACK);if(u!=null){const me=new Oe((l[0]+l[1])/2,t);u.foundPossibleResultPoint(me)}let h=this.decodeMiddle(i,l,this.decodeRowStringBuffer),g=h.rowOffset,w=h.resultString;if(u!=null){const me=new Oe(g,t);u.foundPossibleResultPoint(me)}let v=this.decodeEnd(i,g);if(u!=null){const me=new Oe((v[0]+v[1])/2,t);u.foundPossibleResultPoint(me)}let S=v[1],N=S+(S-v[0]);if(N>=i.getSize()||!i.isRange(S,N,!1))throw new ee;let I=w.toString();if(I.length<8)throw new ae;if(!ut.checkChecksum(I))throw new k;let L=(l[1]+l[0])/2,U=(v[1]+v[0])/2,F=this.getBarcodeFormat(),W=[new Oe(L,t),new Oe(U,t)],te=new Se(I,null,0,W,F,new Date().getTime()),pe=0;try{let me=ul.decodeRow(t,i,v[1]);te.putMetadata(Xe.UPC_EAN_EXTENSION,me.getText()),te.putAllMetadata(me.getResultMetadata()),te.addResultPoints(me.getResultPoints()),pe=me.getText().length}catch{}let Ee=r==null?null:r.get(Ce.ALLOWED_EAN_EXTENSIONS);if(Ee!=null){let me=!1;for(let Ge in Ee)if(pe.toString()===Ge){me=!0;break}if(!me)throw new ee}return te}decodeEnd(t,i){return ut.findGuardPattern(t,i,!1,ut.START_END_PATTERN,new Int32Array(ut.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return ut.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let r=parseInt(t.charAt(i-1),10);return ut.getStandardUPCEANChecksum(t.substring(0,i-1))===r}static getStandardUPCEANChecksum(t){let i=t.length,r=0;for(let l=i-1;l>=0;l-=2){let u=t.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new ae;r+=u}r*=3;for(let l=i-2;l>=0;l-=2){let u=t.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new ae;r+=u}return(1e3-r)%10}}class ri extends ut{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,r){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=t.getSize(),h=i[1],g=0;for(let v=0;v<6&&h<u;v++){let S=ut.decodeDigit(t,l,h,ut.L_AND_G_PATTERNS);r+=String.fromCharCode(48+S%10);for(let N of l)h+=N;S>=10&&(g|=1<<5-v)}r=ri.determineFirstDigit(r,g),h=ut.findGuardPattern(t,h,!0,ut.MIDDLE_PATTERN,new Int32Array(ut.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<6&&h<u;v++){let S=ut.decodeDigit(t,l,h,ut.L_PATTERNS);r+=String.fromCharCode(48+S);for(let N of l)h+=N}return{rowOffset:h,resultString:r}}getBarcodeFormat(){return ye.EAN_13}static determineFirstDigit(t,i){for(let r=0;r<10;r++)if(i===this.FIRST_DIGIT_ENCODINGS[r])return t=String.fromCharCode(48+r)+t,t;throw new ee}}ri.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Co extends ut{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,r){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=t.getSize(),h=i[1];for(let w=0;w<4&&h<u;w++){let v=ut.decodeDigit(t,l,h,ut.L_PATTERNS);r+=String.fromCharCode(48+v);for(let S of l)h+=S}h=ut.findGuardPattern(t,h,!0,ut.MIDDLE_PATTERN,new Int32Array(ut.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<4&&h<u;w++){let v=ut.decodeDigit(t,l,h,ut.L_PATTERNS);r+=String.fromCharCode(48+v);for(let S of l)h+=S}return{rowOffset:h,resultString:r}}getBarcodeFormat(){return ye.EAN_8}}class cl extends ut{constructor(){super(...arguments),this.ean13Reader=new ri}getBarcodeFormat(){return ye.UPC_A}decode(t,i){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,i,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,i,r))}decodeMiddle(t,i,r){return this.ean13Reader.decodeMiddle(t,i,r)}maybeReturnResult(t){let i=t.getText();if(i.charAt(0)==="0"){let r=new Se(i.substring(1),null,null,t.getResultPoints(),ye.UPC_A);return t.getResultMetadata()!=null&&r.putAllMetadata(t.getResultMetadata()),r}else throw new ee}reset(){this.ean13Reader.reset()}}class Kn extends ut{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,i,r){const l=this.decodeMiddleCounters.map(v=>v);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const u=t.getSize();let h=i[1],g=0;for(let v=0;v<6&&h<u;v++){const S=Kn.decodeDigit(t,l,h,Kn.L_AND_G_PATTERNS);r+=String.fromCharCode(48+S%10);for(let N of l)h+=N;S>=10&&(g|=1<<5-v)}let w=Kn.determineNumSysAndCheckDigit(r,g);return{rowOffset:h,resultString:w}}decodeEnd(t,i){return Kn.findGuardPatternWithoutCounters(t,i,!0,Kn.MIDDLE_END_PATTERN)}checkChecksum(t){return ut.checkChecksum(Kn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,i){for(let r=0;r<=1;r++)for(let l=0;l<10;l++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][l]){let u=String.fromCharCode(48+r),h=String.fromCharCode(48+l);return u+t+h}throw ee.getNotFoundInstance()}getBarcodeFormat(){return ye.UPC_E}static convertUPCEtoUPCA(t){const i=t.slice(1,7).split("").map(u=>u.charCodeAt(0)),r=new Ze;r.append(t.charAt(0));let l=i[5];switch(l){case 0:case 1:case 2:r.appendChars(i,0,2),r.append(l),r.append("0000"),r.appendChars(i,2,3);break;case 3:r.appendChars(i,0,3),r.append("00000"),r.appendChars(i,3,2);break;case 4:r.appendChars(i,0,4),r.append("00000"),r.append(i[4]);break;default:r.appendChars(i,0,5),r.append("0000"),r.append(l);break}return t.length>=8&&r.append(t.charAt(7)),r.toString()}}Kn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Kn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ea extends jt{constructor(t){super();let i=t==null?null:t.get(Ce.POSSIBLE_FORMATS),r=[];d(i)?(r.push(new ri),r.push(new cl),r.push(new Co),r.push(new Kn)):(i.indexOf(ye.EAN_13)>-1&&r.push(new ri),i.indexOf(ye.UPC_A)>-1&&r.push(new cl),i.indexOf(ye.EAN_8)>-1&&r.push(new Co),i.indexOf(ye.UPC_E)>-1&&r.push(new Kn)),this.readers=r}decodeRow(t,i,r){for(let l of this.readers)try{const u=l.decodeRow(t,i,r),h=u.getBarcodeFormat()===ye.EAN_13&&u.getText().charAt(0)==="0",g=r==null?null:r.get(Ce.POSSIBLE_FORMATS),w=g==null||g.includes(ye.UPC_A);if(h&&w){const v=u.getRawBytes(),S=new Se(u.getText().substring(1),v,v?v.length:null,u.getResultPoints(),ye.UPC_A);return S.putAllMetadata(u.getResultMetadata()),S}return u}catch{}throw new ee}reset(){for(let t of this.readers)t.reset()}}class un extends jt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,i){for(let r=0;r<i.length;r++)if(jt.patternMatchVariance(t,i[r],un.MAX_INDIVIDUAL_VARIANCE)<un.MAX_AVG_VARIANCE)return r;throw new ee}static count(t){return st.sum(new Int32Array(t))}static increment(t,i){let r=0,l=i[0];for(let u=1;u<t.length;u++)i[u]>l&&(l=i[u],r=u);t[r]++}static decrement(t,i){let r=0,l=i[0];for(let u=1;u<t.length;u++)i[u]<l&&(l=i[u],r=u);t[r]--}static isFinderPattern(t){let i=t[0]+t[1],r=i+t[2]+t[3],l=i/r;if(l>=un.MIN_FINDER_PATTERN_RATIO&&l<=un.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let g of t)g>h&&(h=g),g<u&&(u=g);return h<10*u}return!1}}un.MAX_AVG_VARIANCE=.2,un.MAX_INDIVIDUAL_VARIANCE=.45,un.MIN_FINDER_PATTERN_RATIO=9.5/12,un.MAX_FINDER_PATTERN_RATIO=12.5/14;class lr{constructor(t,i){this.value=t,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof lr))return!1;const i=t;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class is{constructor(t,i,r,l,u){this.value=t,this.startEnd=i,this.value=t,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new Oe(r,u)),this.resultPoints.push(new Oe(l,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof is))return!1;const i=t;return this.value===i.value}hashCode(){return this.value}}class gn{constructor(){}static getRSSvalue(t,i,r){let l=0;for(let w of t)l+=w;let u=0,h=0,g=t.length;for(let w=0;w<g-1;w++){let v;for(v=1,h|=1<<w;v<t[w];v++,h&=~(1<<w)){let S=gn.combins(l-v-1,g-w-2);if(r&&h===0&&l-v-(g-w-1)>=g-w-1&&(S-=gn.combins(l-v-(g-w),g-w-2)),g-w-1>1){let N=0;for(let I=l-v-(g-w-2);I>i;I--)N+=gn.combins(l-v-I-1,g-w-3);S-=N*(g-1-w)}else l-v>i&&S--;u+=S}l-=v}return u}static combins(t,i){let r,l;t-i>i?(l=i,r=t-i):(l=t-i,r=i);let u=1,h=1;for(let g=t;g>r;g--)u*=g,h<=l&&(u/=h,h++);for(;h<=l;)u/=h,h++;return u}}class An{static buildBitArray(t){let i=t.length*2-1;t[t.length-1].getRightChar()==null&&(i-=1);let r=12*i,l=new le(r),u=0,g=t[0].getRightChar().getValue();for(let w=11;w>=0;--w)(g&1<<w)!=0&&l.set(u),u++;for(let w=1;w<t.length;++w){let v=t[w],S=v.getLeftChar().getValue();for(let N=11;N>=0;--N)(S&1<<N)!=0&&l.set(u),u++;if(v.getRightChar()!=null){let N=v.getRightChar().getValue();for(let I=11;I>=0;--I)(N&1<<I)!=0&&l.set(u),u++}}return l}}class Zt{constructor(t,i){i?this.decodedInformation=null:(this.finished=t,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class zi{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Cn extends zi{constructor(t,i){super(t),this.value=i}getValue(){return this.value}isFNC1(){return this.value===Cn.FNC1}}Cn.FNC1="$";class or extends zi{constructor(t,i,r){super(t),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Qn extends zi{constructor(t,i,r){if(super(t),i<0||i>10||r<0||r>10)throw new ae;this.firstDigit=i,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Qn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Qn.FNC1}isAnyFNC1(){return this.firstDigit===Qn.FNC1||this.secondDigit===Qn.FNC1}}Qn.FNC1=10;class _e{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new ee;let i=t.substring(0,2);for(let u of _e.TWO_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(2,u[2],t):_e.processFixedAI(2,u[1],t);if(t.length<3)throw new ee;let r=t.substring(0,3);for(let u of _e.THREE_DIGIT_DATA_LENGTH)if(u[0]===r)return u[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(3,u[2],t):_e.processFixedAI(3,u[1],t);for(let u of _e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===r)return u[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(4,u[2],t):_e.processFixedAI(4,u[1],t);if(t.length<4)throw new ee;let l=t.substring(0,4);for(let u of _e.FOUR_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(4,u[2],t):_e.processFixedAI(4,u[1],t);throw new ee}static processFixedAI(t,i,r){if(r.length<t)throw new ee;let l=r.substring(0,t);if(r.length<t+i)throw new ee;let u=r.substring(t,t+i),h=r.substring(t+i),g="("+l+")"+u,w=_e.parseFieldsInGeneralPurpose(h);return w==null?g:g+w}static processVariableAI(t,i,r){let l=r.substring(0,t),u;r.length<t+i?u=r.length:u=t+i;let h=r.substring(t,u),g=r.substring(u),w="("+l+")"+h,v=_e.parseFieldsInGeneralPurpose(g);return v==null?w:w+v}}_e.VARIABLE_LENGTH=[],_e.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",_e.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",_e.VARIABLE_LENGTH,20],["22",_e.VARIABLE_LENGTH,29],["30",_e.VARIABLE_LENGTH,8],["37",_e.VARIABLE_LENGTH,8],["90",_e.VARIABLE_LENGTH,30],["91",_e.VARIABLE_LENGTH,30],["92",_e.VARIABLE_LENGTH,30],["93",_e.VARIABLE_LENGTH,30],["94",_e.VARIABLE_LENGTH,30],["95",_e.VARIABLE_LENGTH,30],["96",_e.VARIABLE_LENGTH,30],["97",_e.VARIABLE_LENGTH,3],["98",_e.VARIABLE_LENGTH,30],["99",_e.VARIABLE_LENGTH,30]],_e.THREE_DIGIT_DATA_LENGTH=[["240",_e.VARIABLE_LENGTH,30],["241",_e.VARIABLE_LENGTH,30],["242",_e.VARIABLE_LENGTH,6],["250",_e.VARIABLE_LENGTH,30],["251",_e.VARIABLE_LENGTH,30],["253",_e.VARIABLE_LENGTH,17],["254",_e.VARIABLE_LENGTH,20],["400",_e.VARIABLE_LENGTH,30],["401",_e.VARIABLE_LENGTH,30],["402",17],["403",_e.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",_e.VARIABLE_LENGTH,20],["421",_e.VARIABLE_LENGTH,15],["422",3],["423",_e.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],_e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",_e.VARIABLE_LENGTH,15],["391",_e.VARIABLE_LENGTH,18],["392",_e.VARIABLE_LENGTH,15],["393",_e.VARIABLE_LENGTH,18],["703",_e.VARIABLE_LENGTH,30]],_e.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",_e.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",_e.VARIABLE_LENGTH,20],["8003",_e.VARIABLE_LENGTH,30],["8004",_e.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",_e.VARIABLE_LENGTH,30],["8008",_e.VARIABLE_LENGTH,12],["8018",18],["8020",_e.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",_e.VARIABLE_LENGTH,70],["8200",_e.VARIABLE_LENGTH,70]];class xi{constructor(t){this.buffer=new Ze,this.information=t}decodeAllCodes(t,i){let r=i,l=null;do{let u=this.decodeGeneralPurposeField(r,l),h=_e.parseFieldsInGeneralPurpose(u.getNewString());if(h!=null&&t.append(h),u.isRemaining()?l=""+u.getRemainingValue():l=null,r===u.getNewPosition())break;r=u.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let i=t;i<t+3;++i)if(this.information.get(i))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(t,4);return u===0?new Qn(this.information.getSize(),Qn.FNC1,Qn.FNC1):new Qn(this.information.getSize(),u-1,Qn.FNC1)}let i=this.extractNumericValueFromBitArray(t,7),r=(i-8)/11,l=(i-8)%11;return new Qn(t+7,r,l)}extractNumericValueFromBitArray(t,i){return xi.extractNumericValueFromBitArray(this.information,t,i)}static extractNumericValueFromBitArray(t,i,r){let l=0;for(let u=0;u<r;++u)t.get(i+u)&&(l|=1<<r-u-1);return l}decodeGeneralPurposeField(t,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(t);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new or(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new or(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,i;do{let r=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),t=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),t=i.isFinished()):(i=this.parseNumericBlock(),t=i.isFinished()),!(r!==this.current.getPosition())&&!t)break}while(!t);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let i;return t.isSecondDigitFNC1()?i=new or(this.current.getPosition(),this.buffer.toString()):i=new or(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Zt(!0,i)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let i=new or(this.current.getPosition(),this.buffer.toString());return new Zt(!0,i)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Zt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new or(this.current.getPosition(),this.buffer.toString());return new Zt(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Zt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new or(this.current.getPosition(),this.buffer.toString());return new Zt(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Zt(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<116)return!0;if(t+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(t,8);return l>=232&&l<253}decodeIsoIec646(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new Cn(t+5,Cn.FNC1);if(i>=5&&i<15)return new Cn(t+5,"0"+(i-5));let r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<90)return new Cn(t+7,""+(r+1));if(r>=90&&r<116)return new Cn(t+7,""+(r+7));let l=this.extractNumericValueFromBitArray(t,8),u;switch(l){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new ae}return new Cn(t+8,u)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,6);return r>=16&&r<63}decodeAlphanumeric(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new Cn(t+5,Cn.FNC1);if(i>=5&&i<15)return new Cn(t+5,"0"+(i-5));let r=this.extractNumericValueFromBitArray(t,6);if(r>=32&&r<58)return new Cn(t+6,""+(r+33));let l;switch(r){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new mi("Decoding invalid alphanumeric value: "+r)}return new Cn(t+6,l)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<5&&i+t<this.information.getSize();++i)if(i===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+i))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let i=t;i<t+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<4&&i+t<this.information.getSize();++i)if(this.information.get(t+i))return!1;return!0}}class va{constructor(t){this.information=t,this.generalDecoder=new xi(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class nn extends va{constructor(t){super(t)}encodeCompressedGtin(t,i){t.append("(01)");let r=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,i,r)}encodeCompressedGtinWithoutAI(t,i,r){for(let l=0;l<4;++l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*l,10);u/100===0&&t.append("0"),u/10===0&&t.append("0"),t.append(u)}nn.appendCheckDigit(t,r)}static appendCheckDigit(t,i){let r=0;for(let l=0;l<13;l++){let u=t.charAt(l+i).charCodeAt(0)-48;r+=(l&1)===0?3*u:u}r=10-r%10,r===10&&(r=0),t.append(r)}}nn.GTIN_SIZE=40;class ai extends nn{constructor(t){super(t)}parseInformation(){let t=new Ze;t.append("(01)");let i=t.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(ai.HEADER_SIZE,4);return t.append(r),this.encodeCompressedGtinWithoutAI(t,ai.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(t,ai.HEADER_SIZE+44)}}ai.HEADER_SIZE=4;class Hi extends va{constructor(t){super(t)}parseInformation(){let t=new Ze;return this.getGeneralDecoder().decodeAllCodes(t,Hi.HEADER_SIZE)}}Hi.HEADER_SIZE=5;class Si extends nn{constructor(t){super(t)}encodeCompressedWeight(t,i,r){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i,r);this.addWeightCode(t,l);let u=this.checkWeight(l),h=1e5;for(let g=0;g<5;++g)u/h===0&&t.append("0"),h/=10;t.append(u)}}class Et extends Si{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Et.HEADER_SIZE+Si.GTIN_SIZE+Et.WEIGHT_SIZE)throw new ee;let t=new Ze;return this.encodeCompressedGtin(t,Et.HEADER_SIZE),this.encodeCompressedWeight(t,Et.HEADER_SIZE+Si.GTIN_SIZE,Et.WEIGHT_SIZE),t.toString()}}Et.HEADER_SIZE=5,Et.WEIGHT_SIZE=15;class _o extends Et{constructor(t){super(t)}addWeightCode(t,i){t.append("(3103)")}checkWeight(t){return t}}class So extends Et{constructor(t){super(t)}addWeightCode(t,i){i<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class _n extends nn{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<_n.HEADER_SIZE+nn.GTIN_SIZE)throw new ee;let t=new Ze;this.encodeCompressedGtin(t,_n.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(_n.HEADER_SIZE+nn.GTIN_SIZE,_n.LAST_DIGIT_SIZE);t.append("(392"),t.append(i),t.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(_n.HEADER_SIZE+nn.GTIN_SIZE+_n.LAST_DIGIT_SIZE,null);return t.append(r.getNewString()),t.toString()}}_n.HEADER_SIZE=8,_n.LAST_DIGIT_SIZE=2;class Kt extends nn{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Kt.HEADER_SIZE+nn.GTIN_SIZE)throw new ee;let t=new Ze;this.encodeCompressedGtin(t,Kt.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Kt.HEADER_SIZE+nn.GTIN_SIZE,Kt.LAST_DIGIT_SIZE);t.append("(393"),t.append(i),t.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Kt.HEADER_SIZE+nn.GTIN_SIZE+Kt.LAST_DIGIT_SIZE,Kt.FIRST_THREE_DIGITS_SIZE);r/100==0&&t.append("0"),r/10==0&&t.append("0"),t.append(r);let l=this.getGeneralDecoder().decodeGeneralPurposeField(Kt.HEADER_SIZE+nn.GTIN_SIZE+Kt.LAST_DIGIT_SIZE+Kt.FIRST_THREE_DIGITS_SIZE,null);return t.append(l.getNewString()),t.toString()}}Kt.HEADER_SIZE=8,Kt.LAST_DIGIT_SIZE=2,Kt.FIRST_THREE_DIGITS_SIZE=10;class Bt extends Si{constructor(t,i,r){super(t),this.dateCode=r,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=Bt.HEADER_SIZE+Bt.GTIN_SIZE+Bt.WEIGHT_SIZE+Bt.DATE_SIZE)throw new ee;let t=new Ze;return this.encodeCompressedGtin(t,Bt.HEADER_SIZE),this.encodeCompressedWeight(t,Bt.HEADER_SIZE+Bt.GTIN_SIZE,Bt.WEIGHT_SIZE),this.encodeCompressedDate(t,Bt.HEADER_SIZE+Bt.GTIN_SIZE+Bt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,i){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(i,Bt.DATE_SIZE);if(r==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let l=r%32;r/=32;let u=r%12+1;r/=12;let h=r;h/10==0&&t.append("0"),t.append(h),u/10==0&&t.append("0"),t.append(u),l/10==0&&t.append("0"),t.append(l)}addWeightCode(t,i){t.append("("),t.append(this.firstAIdigits),t.append(i/1e5),t.append(")")}checkWeight(t){return t%1e5}}Bt.HEADER_SIZE=8,Bt.WEIGHT_SIZE=20,Bt.DATE_SIZE=16;function fl(R){try{if(R.get(1))return new ai(R);if(!R.get(2))return new Hi(R);switch(xi.extractNumericValueFromBitArray(R,1,4)){case 4:return new _o(R);case 5:return new So(R)}switch(xi.extractNumericValueFromBitArray(R,1,5)){case 12:return new _n(R);case 13:return new Kt(R)}switch(xi.extractNumericValueFromBitArray(R,1,7)){case 56:return new Bt(R,"310","11");case 57:return new Bt(R,"320","11");case 58:return new Bt(R,"310","13");case 59:return new Bt(R,"320","13");case 60:return new Bt(R,"310","15");case 61:return new Bt(R,"320","15");case 62:return new Bt(R,"310","17");case 63:return new Bt(R,"320","17")}}catch(t){throw console.log(t),new mi("unknown decoder: "+R)}}class Ti{constructor(t,i,r,l){this.leftchar=t,this.rightchar=i,this.finderpattern=r,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,i){return t instanceof Ti?Ti.equalsOrNull(t.leftchar,i.leftchar)&&Ti.equalsOrNull(t.rightchar,i.rightchar)&&Ti.equalsOrNull(t.finderpattern,i.finderpattern):!1}static equalsOrNull(t,i){return t===null?i===null:Ti.equals(t,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class hl{constructor(t,i,r){this.pairs=t,this.rowNumber=i,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,i){return t instanceof hl?this.checkEqualitity(t,i)&&t.wasReversed===i.wasReversed:!1}checkEqualitity(t,i){if(!t||!i)return;let r;return t.forEach((l,u)=>{i.forEach(h=>{l.getLeftChar().getValue()===h.getLeftChar().getValue()&&l.getRightChar().getValue()===h.getRightChar().getValue()&&l.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(r=!0)})}),r}}class de extends un{constructor(t){super(...arguments),this.pairs=new Array(de.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,i,r){this.pairs.length=0,this.startFromEven=!1;try{return de.constructResult(this.decodeRow2pairs(t,i))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,de.constructResult(this.decodeRow2pairs(t,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,i){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,t))}catch(u){if(u instanceof ee){if(!this.pairs.length)throw new ee;r=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(t,!1),l){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new ee}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return t&&(this.rows=this.rows.reverse()),i}checkRows(t,i){for(let r=i;r<this.rows.length;r++){let l=this.rows[r];this.pairs.length=0;for(let h of t)this.pairs.push(h.getPairs());if(this.pairs.push(l.getPairs()),!de.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(t);u.push(l);try{return this.checkRows(u,r+1)}catch(h){this.verbose&&console.log(h)}}throw new ee}static isValidSequence(t){for(let i of de.FINDER_PATTERN_SEQUENCES){if(t.length>i.length)continue;let r=!0;for(let l=0;l<t.length;l++)if(t[l].getFinderPattern().getValue()!=i[l]){r=!1;break}if(r)return!0}return!1}storeRow(t,i){let r=0,l=!1,u=!1;for(;r<this.rows.length;){let h=this.rows[r];if(h.getRowNumber()>t){u=h.isEquivalent(this.pairs);break}l=h.isEquivalent(this.pairs),r++}u||l||de.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new hl(this.pairs,t,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,i){for(let r of i)if(r.getPairs().length!==t.length){for(let l of r.getPairs())for(let u of t)if(Ti.equals(l,u))break}}static isPartialRow(t,i){for(let r of i){let l=!0;for(let u of t){let h=!1;for(let g of r.getPairs())if(u.equals(g)){h=!0;break}if(!h){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(t){let i=An.buildBitArray(t),l=fl(i).parseInformation(),u=t[0].getFinderPattern().getResultPoints(),h=t[t.length-1].getFinderPattern().getResultPoints(),g=[u[0],u[1],h[0],h[1]];return new Se(l,null,null,g,ye.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),i=t.getLeftChar(),r=t.getRightChar();if(r==null)return!1;let l=r.getChecksumPortion(),u=2;for(let g=1;g<this.pairs.size();++g){let w=this.pairs.get(g);l+=w.getLeftChar().getChecksumPortion(),u++;let v=w.getRightChar();v!=null&&(l+=v.getChecksumPortion(),u++)}return l%=211,211*(u-4)+l==i.getValue()}static getNextSecondBar(t,i){let r;return t.get(i)?(r=t.getNextUnset(i),r=t.getNextSet(r)):(r=t.getNextSet(i),r=t.getNextUnset(r)),r}retrieveNextPair(t,i,r){let l=i.length%2==0;this.startFromEven&&(l=!l);let u,h=!0,g=-1;do this.findNextPair(t,i,g),u=this.parseFoundFinderPattern(t,r,l),u==null?g=de.getNextSecondBar(t,this.startEnd[0]):h=!1;while(h);let w=this.decodeDataCharacter(t,u,l,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new ee;let v;try{v=this.decodeDataCharacter(t,u,l,!1)}catch(S){v=null,this.verbose&&console.log(S)}return new Ti(w,v,u,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,i,r){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=t.getSize(),h;r>=0?h=r:this.isEmptyPair(i)?h=0:h=i[i.length-1].getFinderPattern().getStartEnd()[1];let g=i.length%2!=0;this.startFromEven&&(g=!g);let w=!1;for(;h<u&&(w=!t.get(h),!!w);)h++;let v=0,S=h;for(let N=h;N<u;N++)if(t.get(N)!=w)l[v]++;else{if(v==3){if(g&&de.reverseCounters(l),de.isFinderPattern(l)){this.startEnd[0]=S,this.startEnd[1]=N;return}g&&de.reverseCounters(l),S+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,v--}else v++;l[v]=1,w=!w}throw new ee}static reverseCounters(t){let i=t.length;for(let r=0;r<i/2;++r){let l=t[r];t[r]=t[i-r-1],t[i-r-1]=l}}parseFoundFinderPattern(t,i,r){let l,u,h;if(r){let v=this.startEnd[0]-1;for(;v>=0&&!t.get(v);)v--;v++,l=this.startEnd[0]-v,u=v,h=this.startEnd[1]}else u=this.startEnd[0],h=t.getNextUnset(this.startEnd[1]+1),l=h-this.startEnd[1];let g=this.getDecodeFinderCounters();q.arraycopy(g,0,g,1,g.length-1),g[0]=l;let w;try{w=this.parseFinderValue(g,de.FINDER_PATTERNS)}catch{return null}return new is(w,[u,h],u,h,i)}decodeDataCharacter(t,i,r,l){let u=this.getDataCharacterCounters();for(let bt=0;bt<u.length;bt++)u[bt]=0;if(l)de.recordPatternInReverse(t,i.getStartEnd()[0],u);else{de.recordPattern(t,i.getStartEnd()[1],u);for(let bt=0,yn=u.length-1;bt<yn;bt++,yn--){let Gn=u[bt];u[bt]=u[yn],u[yn]=Gn}}let h=17,g=st.sum(new Int32Array(u))/h,w=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(g-w)/w>.3)throw new ee;let v=this.getOddCounts(),S=this.getEvenCounts(),N=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let bt=0;bt<u.length;bt++){let yn=1*u[bt]/g,Gn=yn+.5;if(Gn<1){if(yn<.3)throw new ee;Gn=1}else if(Gn>8){if(yn>8.7)throw new ee;Gn=8}let dr=bt/2;(bt&1)==0?(v[dr]=Gn,N[dr]=yn-Gn):(S[dr]=Gn,I[dr]=yn-Gn)}this.adjustOddEvenCounts(h);let L=4*i.getValue()+(r?0:2)+(l?0:1)-1,U=0,F=0;for(let bt=v.length-1;bt>=0;bt--){if(de.isNotA1left(i,r,l)){let yn=de.WEIGHTS[L][2*bt];F+=v[bt]*yn}U+=v[bt]}let W=0;for(let bt=S.length-1;bt>=0;bt--)if(de.isNotA1left(i,r,l)){let yn=de.WEIGHTS[L][2*bt+1];W+=S[bt]*yn}let te=F+W;if((U&1)!=0||U>13||U<4)throw new ee;let pe=(13-U)/2,Ee=de.SYMBOL_WIDEST[pe],me=9-Ee,Ge=gn.getRSSvalue(v,Ee,!0),ze=gn.getRSSvalue(S,me,!1),Bn=de.EVEN_TOTAL_SUBSET[pe],$n=de.GSUM[pe],Hn=Ge*Bn+ze+$n;return new lr(Hn,te)}static isNotA1left(t,i,r){return!(t.getValue()==0&&i&&r)}adjustOddEvenCounts(t){let i=st.sum(new Int32Array(this.getOddCounts())),r=st.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1;i>13?u=!0:i<4&&(l=!0);let h=!1,g=!1;r>13?g=!0:r<4&&(h=!0);let w=i+r-t,v=(i&1)==1,S=(r&1)==0;if(w==1)if(v){if(S)throw new ee;u=!0}else{if(!S)throw new ee;g=!0}else if(w==-1)if(v){if(S)throw new ee;l=!0}else{if(!S)throw new ee;h=!0}else if(w==0){if(v){if(!S)throw new ee;i<r?(l=!0,g=!0):(u=!0,h=!0)}else if(S)throw new ee}else throw new ee;if(l){if(u)throw new ee;de.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&de.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(g)throw new ee;de.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&de.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}de.SYMBOL_WIDEST=[7,5,4,3,1],de.EVEN_TOTAL_SUBSET=[4,20,52,104,204],de.GSUM=[0,348,1388,2948,3988],de.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],de.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],de.FINDER_PAT_A=0,de.FINDER_PAT_B=1,de.FINDER_PAT_C=2,de.FINDER_PAT_D=3,de.FINDER_PAT_E=4,de.FINDER_PAT_F=5,de.FINDER_PATTERN_SEQUENCES=[[de.FINDER_PAT_A,de.FINDER_PAT_A],[de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B],[de.FINDER_PAT_A,de.FINDER_PAT_C,de.FINDER_PAT_B,de.FINDER_PAT_D],[de.FINDER_PAT_A,de.FINDER_PAT_E,de.FINDER_PAT_B,de.FINDER_PAT_D,de.FINDER_PAT_C],[de.FINDER_PAT_A,de.FINDER_PAT_E,de.FINDER_PAT_B,de.FINDER_PAT_D,de.FINDER_PAT_D,de.FINDER_PAT_F],[de.FINDER_PAT_A,de.FINDER_PAT_E,de.FINDER_PAT_B,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_F,de.FINDER_PAT_F],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_D],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_E],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_F,de.FINDER_PAT_F],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_E,de.FINDER_PAT_F,de.FINDER_PAT_F]],de.MAX_PAIRS=11;class rs extends lr{constructor(t,i,r){super(t,i),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class gt extends un{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,i,r){const l=this.decodePair(i,!1,t,r);gt.addOrTally(this.possibleLeftPairs,l),i.reverse();let u=this.decodePair(i,!0,t,r);gt.addOrTally(this.possibleRightPairs,u),i.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let g of this.possibleRightPairs)if(g.getCount()>1&&gt.checkChecksum(h,g))return gt.constructResult(h,g)}throw new ee}static addOrTally(t,i){if(i==null)return;let r=!1;for(let l of t)if(l.getValue()===i.getValue()){l.incrementCount(),r=!0;break}r||t.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,i){let r=4537077*t.getValue()+i.getValue(),l=new String(r).toString(),u=new Ze;for(let v=13-l.length;v>0;v--)u.append("0");u.append(l);let h=0;for(let v=0;v<13;v++){let S=u.charAt(v).charCodeAt(0)-48;h+=(v&1)===0?3*S:S}h=10-h%10,h===10&&(h=0),u.append(h.toString());let g=t.getFinderPattern().getResultPoints(),w=i.getFinderPattern().getResultPoints();return new Se(u.toString(),null,0,[g[0],g[1],w[0],w[1]],ye.RSS_14,new Date().getTime())}static checkChecksum(t,i){let r=(t.getChecksumPortion()+16*i.getChecksumPortion())%79,l=9*t.getFinderPattern().getValue()+i.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,r===l}decodePair(t,i,r,l){try{let u=this.findFinderPattern(t,i),h=this.parseFoundFinderPattern(t,r,i,u),g=l==null?null:l.get(Ce.NEED_RESULT_POINT_CALLBACK);if(g!=null){let S=(u[0]+u[1])/2;i&&(S=t.getSize()-1-S),g.foundPossibleResultPoint(new Oe(S,r))}let w=this.decodeDataCharacter(t,h,!0),v=this.decodeDataCharacter(t,h,!1);return new rs(1597*w.getValue()+v.getValue(),w.getChecksumPortion()+4*v.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(t,i,r){let l=this.getDataCharacterCounters();for(let W=0;W<l.length;W++)l[W]=0;if(r)jt.recordPatternInReverse(t,i.getStartEnd()[0],l);else{jt.recordPattern(t,i.getStartEnd()[1]+1,l);for(let W=0,te=l.length-1;W<te;W++,te--){let pe=l[W];l[W]=l[te],l[te]=pe}}let u=r?16:15,h=st.sum(new Int32Array(l))/u,g=this.getOddCounts(),w=this.getEvenCounts(),v=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors();for(let W=0;W<l.length;W++){let te=l[W]/h,pe=Math.floor(te+.5);pe<1?pe=1:pe>8&&(pe=8);let Ee=Math.floor(W/2);(W&1)===0?(g[Ee]=pe,v[Ee]=te-pe):(w[Ee]=pe,S[Ee]=te-pe)}this.adjustOddEvenCounts(r,u);let N=0,I=0;for(let W=g.length-1;W>=0;W--)I*=9,I+=g[W],N+=g[W];let L=0,U=0;for(let W=w.length-1;W>=0;W--)L*=9,L+=w[W],U+=w[W];let F=I+3*L;if(r){if((N&1)!==0||N>12||N<4)throw new ee;let W=(12-N)/2,te=gt.OUTSIDE_ODD_WIDEST[W],pe=9-te,Ee=gn.getRSSvalue(g,te,!1),me=gn.getRSSvalue(w,pe,!0),Ge=gt.OUTSIDE_EVEN_TOTAL_SUBSET[W],ze=gt.OUTSIDE_GSUM[W];return new lr(Ee*Ge+me+ze,F)}else{if((U&1)!==0||U>10||U<4)throw new ee;let W=(10-U)/2,te=gt.INSIDE_ODD_WIDEST[W],pe=9-te,Ee=gn.getRSSvalue(g,te,!0),me=gn.getRSSvalue(w,pe,!1),Ge=gt.INSIDE_ODD_TOTAL_SUBSET[W],ze=gt.INSIDE_GSUM[W];return new lr(me*Ge+Ee+ze,F)}}findFinderPattern(t,i){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let l=t.getSize(),u=!1,h=0;for(;h<l&&(u=!t.get(h),i!==u);)h++;let g=0,w=h;for(let v=h;v<l;v++)if(t.get(v)!==u)r[g]++;else{if(g===3){if(un.isFinderPattern(r))return[w,v];w+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,g--}else g++;r[g]=1,u=!u}throw new ee}parseFoundFinderPattern(t,i,r,l){let u=t.get(l[0]),h=l[0]-1;for(;h>=0&&u!==t.get(h);)h--;h++;const g=l[0]-h,w=this.getDecodeFinderCounters(),v=new Int32Array(w.length);q.arraycopy(w,0,v,1,w.length-1),v[0]=g;const S=this.parseFinderValue(v,gt.FINDER_PATTERNS);let N=h,I=l[1];return r&&(N=t.getSize()-1-N,I=t.getSize()-1-I),new is(S,[h,l[1]],N,I,i)}adjustOddEvenCounts(t,i){let r=st.sum(new Int32Array(this.getOddCounts())),l=st.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1,g=!1,w=!1;t?(r>12?h=!0:r<4&&(u=!0),l>12?w=!0:l<4&&(g=!0)):(r>11?h=!0:r<5&&(u=!0),l>10?w=!0:l<4&&(g=!0));let v=r+l-i,S=(r&1)===(t?1:0),N=(l&1)===1;if(v===1)if(S){if(N)throw new ee;h=!0}else{if(!N)throw new ee;w=!0}else if(v===-1)if(S){if(N)throw new ee;u=!0}else{if(!N)throw new ee;g=!0}else if(v===0){if(S){if(!N)throw new ee;r<l?(u=!0,w=!0):(h=!0,g=!0)}else if(N)throw new ee}else throw new ee;if(u){if(h)throw new ee;un.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&un.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(w)throw new ee;un.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&un.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}gt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],gt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],gt.OUTSIDE_GSUM=[0,161,961,2015,2715],gt.INSIDE_GSUM=[0,336,1036,1516],gt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],gt.INSIDE_ODD_WIDEST=[2,4,6,8],gt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Gi extends jt{constructor(t,i){super(),this.readers=[],this.verbose=i===!0;const r=t?t.get(Ce.POSSIBLE_FORMATS):null,l=t&&t.get(Ce.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(ye.EAN_13)||r.includes(ye.UPC_A)||r.includes(ye.EAN_8)||r.includes(ye.UPC_E))&&this.readers.push(new Ea(t)),r.includes(ye.CODE_39)&&this.readers.push(new It(l)),r.includes(ye.CODE_128)&&this.readers.push(new be),r.includes(ye.ITF)&&this.readers.push(new dt),r.includes(ye.RSS_14)&&this.readers.push(new gt),r.includes(ye.RSS_EXPANDED)&&this.readers.push(new de(this.verbose))):(this.readers.push(new Ea(t)),this.readers.push(new It),this.readers.push(new Ea(t)),this.readers.push(new be),this.readers.push(new dt),this.readers.push(new gt),this.readers.push(new de(this.verbose)))}decodeRow(t,i,r){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(t,i,r)}catch{}throw new ee}reset(){this.readers.forEach(t=>t.reset())}}class To extends Ae{constructor(t=500,i){super(new Gi(i),t,i)}}class et{constructor(t,i,r){this.ecCodewords=t,this.ecBlocks=[i],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ct{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Qe{constructor(t,i,r,l,u,h){this.versionNumber=t,this.symbolSizeRows=i,this.symbolSizeColumns=r,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=u,this.ecBlocks=h;let g=0;const w=h.getECCodewords(),v=h.getECBlocks();for(let S of v)g+=S.getCount()*(S.getDataCodewords()+w);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,i){if((t&1)!==0||(i&1)!==0)throw new ae;for(let r of Qe.VERSIONS)if(r.symbolSizeRows===t&&r.symbolSizeColumns===i)return r;throw new ae}toString(){return""+this.versionNumber}static buildVersions(){return[new Qe(1,10,10,8,8,new et(5,new ct(1,3))),new Qe(2,12,12,10,10,new et(7,new ct(1,5))),new Qe(3,14,14,12,12,new et(10,new ct(1,8))),new Qe(4,16,16,14,14,new et(12,new ct(1,12))),new Qe(5,18,18,16,16,new et(14,new ct(1,18))),new Qe(6,20,20,18,18,new et(18,new ct(1,22))),new Qe(7,22,22,20,20,new et(20,new ct(1,30))),new Qe(8,24,24,22,22,new et(24,new ct(1,36))),new Qe(9,26,26,24,24,new et(28,new ct(1,44))),new Qe(10,32,32,14,14,new et(36,new ct(1,62))),new Qe(11,36,36,16,16,new et(42,new ct(1,86))),new Qe(12,40,40,18,18,new et(48,new ct(1,114))),new Qe(13,44,44,20,20,new et(56,new ct(1,144))),new Qe(14,48,48,22,22,new et(68,new ct(1,174))),new Qe(15,52,52,24,24,new et(42,new ct(2,102))),new Qe(16,64,64,14,14,new et(56,new ct(2,140))),new Qe(17,72,72,16,16,new et(36,new ct(4,92))),new Qe(18,80,80,18,18,new et(48,new ct(4,114))),new Qe(19,88,88,20,20,new et(56,new ct(4,144))),new Qe(20,96,96,22,22,new et(68,new ct(4,174))),new Qe(21,104,104,24,24,new et(56,new ct(6,136))),new Qe(22,120,120,18,18,new et(68,new ct(6,175))),new Qe(23,132,132,20,20,new et(62,new ct(8,163))),new Qe(24,144,144,22,22,new et(62,new ct(8,156),new ct(2,155))),new Qe(25,8,18,6,16,new et(7,new ct(1,5))),new Qe(26,8,32,6,14,new et(11,new ct(1,10))),new Qe(27,12,26,10,24,new et(14,new ct(1,16))),new Qe(28,12,36,10,16,new et(18,new ct(1,22))),new Qe(29,16,36,14,16,new et(24,new ct(1,32))),new Qe(30,16,48,14,22,new et(28,new ct(1,49)))]}}Qe.VERSIONS=Qe.buildVersions();class dl{constructor(t){const i=t.getHeight();if(i<8||i>144||(i&1)!==0)throw new ae;this.version=dl.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new ft(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const i=t.getHeight(),r=t.getWidth();return Qe.getVersionForDimensions(i,r)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let i=0,r=4,l=0;const u=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let g=!1,w=!1,v=!1,S=!1;do if(r===u&&l===0&&!g)t[i++]=this.readCorner1(u,h)&255,r-=2,l+=2,g=!0;else if(r===u-2&&l===0&&(h&3)!==0&&!w)t[i++]=this.readCorner2(u,h)&255,r-=2,l+=2,w=!0;else if(r===u+4&&l===2&&(h&7)===0&&!v)t[i++]=this.readCorner3(u,h)&255,r-=2,l+=2,v=!0;else if(r===u-2&&l===0&&(h&7)===4&&!S)t[i++]=this.readCorner4(u,h)&255,r-=2,l+=2,S=!0;else{do r<u&&l>=0&&!this.readMappingMatrix.get(l,r)&&(t[i++]=this.readUtah(r,l,u,h)&255),r-=2,l+=2;while(r>=0&&l<h);r+=1,l+=3;do r>=0&&l<h&&!this.readMappingMatrix.get(l,r)&&(t[i++]=this.readUtah(r,l,u,h)&255),r+=2,l-=2;while(r<u&&l>=0);r+=3,l+=1}while(r<u||l<h);if(i!==this.version.getTotalCodewords())throw new ae;return t}readModule(t,i,r,l){return t<0&&(t+=r,i+=4-(r+4&7)),i<0&&(i+=l,t+=4-(l+4&7)),this.readMappingMatrix.set(i,t),this.mappingBitMatrix.get(i,t)}readUtah(t,i,r,l){let u=0;return this.readModule(t-2,i-2,r,l)&&(u|=1),u<<=1,this.readModule(t-2,i-1,r,l)&&(u|=1),u<<=1,this.readModule(t-1,i-2,r,l)&&(u|=1),u<<=1,this.readModule(t-1,i-1,r,l)&&(u|=1),u<<=1,this.readModule(t-1,i,r,l)&&(u|=1),u<<=1,this.readModule(t,i-2,r,l)&&(u|=1),u<<=1,this.readModule(t,i-1,r,l)&&(u|=1),u<<=1,this.readModule(t,i,r,l)&&(u|=1),u}readCorner1(t,i){let r=0;return this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,1,t,i)&&(r|=1),r<<=1,this.readModule(t-1,2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r<<=1,this.readModule(2,i-1,t,i)&&(r|=1),r<<=1,this.readModule(3,i-1,t,i)&&(r|=1),r}readCorner2(t,i){let r=0;return this.readModule(t-3,0,t,i)&&(r|=1),r<<=1,this.readModule(t-2,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(0,i-4,t,i)&&(r|=1),r<<=1,this.readModule(0,i-3,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r}readCorner3(t,i){let r=0;return this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,i-1,t,i)&&(r|=1),r<<=1,this.readModule(0,i-3,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-3,t,i)&&(r|=1),r<<=1,this.readModule(1,i-2,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r}readCorner4(t,i){let r=0;return this.readModule(t-3,0,t,i)&&(r|=1),r<<=1,this.readModule(t-2,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r<<=1,this.readModule(2,i-1,t,i)&&(r|=1),r<<=1,this.readModule(3,i-1,t,i)&&(r|=1),r}extractDataRegion(t){const i=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(t.getHeight()!==i)throw new T("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),h=i/l|0,g=r/u|0,w=h*l,v=g*u,S=new ft(v,w);for(let N=0;N<h;++N){const I=N*l;for(let L=0;L<g;++L){const U=L*u;for(let F=0;F<l;++F){const W=N*(l+2)+1+F,te=I+F;for(let pe=0;pe<u;++pe){const Ee=L*(u+2)+1+pe;if(t.get(Ee,W)){const me=U+pe;S.set(me,te)}}}}}return S}}class as{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i){const r=i.getECBlocks();let l=0;const u=r.getECBlocks();for(let F of u)l+=F.getCount();const h=new Array(l);let g=0;for(let F of u)for(let W=0;W<F.getCount();W++){const te=F.getDataCodewords(),pe=r.getECCodewords()+te;h[g++]=new as(te,new Uint8Array(pe))}const v=h[0].codewords.length-r.getECCodewords(),S=v-1;let N=0;for(let F=0;F<S;F++)for(let W=0;W<g;W++)h[W].codewords[F]=t[N++];const I=i.getVersionNumber()===24,L=I?8:g;for(let F=0;F<L;F++)h[F].codewords[v-1]=t[N++];const U=h[0].codewords.length;for(let F=v;F<U;F++)for(let W=0;W<g;W++){const te=I?(W+8)%g:W,pe=I&&te>7?F-1:F;h[te].codewords[pe]=t[N++]}if(N!==t.length)throw new T;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class jn{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new T(""+t);let i=0,r=this.bitOffset,l=this.byteOffset;const u=this.bytes;if(r>0){const h=8-r,g=t<h?t:h,w=h-g,v=255>>8-g<<w;i=(u[l]&v)>>w,t-=g,r+=g,r===8&&(r=0,l++)}if(t>0){for(;t>=8;)i=i<<8|u[l]&255,l++,t-=8;if(t>0){const h=8-t,g=255>>h<<h;i=i<<t|(u[l]&g)>>h,r+=t}}return this.bitOffset=r,this.byteOffset=l,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Qt;(function(R){R[R.PAD_ENCODE=0]="PAD_ENCODE",R[R.ASCII_ENCODE=1]="ASCII_ENCODE",R[R.C40_ENCODE=2]="C40_ENCODE",R[R.TEXT_ENCODE=3]="TEXT_ENCODE",R[R.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",R[R.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",R[R.BASE256_ENCODE=6]="BASE256_ENCODE"})(Qt||(Qt={}));class Vi{static decode(t){const i=new jn(t),r=new Ze,l=new Ze,u=new Array;let h=Qt.ASCII_ENCODE;do if(h===Qt.ASCII_ENCODE)h=this.decodeAsciiSegment(i,r,l);else{switch(h){case Qt.C40_ENCODE:this.decodeC40Segment(i,r);break;case Qt.TEXT_ENCODE:this.decodeTextSegment(i,r);break;case Qt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,r);break;case Qt.EDIFACT_ENCODE:this.decodeEdifactSegment(i,r);break;case Qt.BASE256_ENCODE:this.decodeBase256Segment(i,r,u);break;default:throw new ae}h=Qt.ASCII_ENCODE}while(h!==Qt.PAD_ENCODE&&i.available()>0);return l.length()>0&&r.append(l.toString()),new Zn(t,r.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(t,i,r){let l=!1;do{let u=t.readBits(8);if(u===0)throw new ae;if(u<=128)return l&&(u+=128),i.append(String.fromCharCode(u-1)),Qt.ASCII_ENCODE;if(u===129)return Qt.PAD_ENCODE;if(u<=229){const h=u-130;h<10&&i.append("0"),i.append(""+h)}else switch(u){case 230:return Qt.C40_ENCODE;case 231:return Qt.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:i.append("[)>05"),r.insert(0,"");break;case 237:i.append("[)>06"),r.insert(0,"");break;case 238:return Qt.ANSIX12_ENCODE;case 239:return Qt.TEXT_ENCODE;case 240:return Qt.EDIFACT_ENCODE;case 241:break;default:if(u!==254||t.available()!==0)throw new ae;break}}while(t.available()>0);return Qt.ASCII_ENCODE}static decodeC40Segment(t,i){let r=!1;const l=[];let u=0;do{if(t.available()===8)return;const h=t.readBits(8);if(h===254)return;this.parseTwoBytes(h,t.readBits(8),l);for(let g=0;g<3;g++){const w=l[g];switch(u){case 0:if(w<3)u=w+1;else if(w<this.C40_BASIC_SET_CHARS.length){const v=this.C40_BASIC_SET_CHARS[w];r?(i.append(String.fromCharCode(v.charCodeAt(0)+128)),r=!1):i.append(v)}else throw new ae;break;case 1:r?(i.append(String.fromCharCode(w+128)),r=!1):i.append(String.fromCharCode(w)),u=0;break;case 2:if(w<this.C40_SHIFT2_SET_CHARS.length){const v=this.C40_SHIFT2_SET_CHARS[w];r?(i.append(String.fromCharCode(v.charCodeAt(0)+128)),r=!1):i.append(v)}else switch(w){case 27:i.append("");break;case 30:r=!0;break;default:throw new ae}u=0;break;case 3:r?(i.append(String.fromCharCode(w+224)),r=!1):i.append(String.fromCharCode(w+96)),u=0;break;default:throw new ae}}}while(t.available()>0)}static decodeTextSegment(t,i){let r=!1,l=[],u=0;do{if(t.available()===8)return;const h=t.readBits(8);if(h===254)return;this.parseTwoBytes(h,t.readBits(8),l);for(let g=0;g<3;g++){const w=l[g];switch(u){case 0:if(w<3)u=w+1;else if(w<this.TEXT_BASIC_SET_CHARS.length){const v=this.TEXT_BASIC_SET_CHARS[w];r?(i.append(String.fromCharCode(v.charCodeAt(0)+128)),r=!1):i.append(v)}else throw new ae;break;case 1:r?(i.append(String.fromCharCode(w+128)),r=!1):i.append(String.fromCharCode(w)),u=0;break;case 2:if(w<this.TEXT_SHIFT2_SET_CHARS.length){const v=this.TEXT_SHIFT2_SET_CHARS[w];r?(i.append(String.fromCharCode(v.charCodeAt(0)+128)),r=!1):i.append(v)}else switch(w){case 27:i.append("");break;case 30:r=!0;break;default:throw new ae}u=0;break;case 3:if(w<this.TEXT_SHIFT3_SET_CHARS.length){const v=this.TEXT_SHIFT3_SET_CHARS[w];r?(i.append(String.fromCharCode(v.charCodeAt(0)+128)),r=!1):i.append(v),u=0}else throw new ae;break;default:throw new ae}}}while(t.available()>0)}static decodeAnsiX12Segment(t,i){const r=[];do{if(t.available()===8)return;const l=t.readBits(8);if(l===254)return;this.parseTwoBytes(l,t.readBits(8),r);for(let u=0;u<3;u++){const h=r[u];switch(h){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(h<14)i.append(String.fromCharCode(h+44));else if(h<40)i.append(String.fromCharCode(h+51));else throw new ae;break}}}while(t.available()>0)}static parseTwoBytes(t,i,r){let l=(t<<8)+i-1,u=Math.floor(l/1600);r[0]=u,l-=u*1600,u=Math.floor(l/40),r[1]=u,r[2]=l-u*40}static decodeEdifactSegment(t,i){do{if(t.available()<=16)return;for(let r=0;r<4;r++){let l=t.readBits(6);if(l===31){const u=8-t.getBitOffset();u!==8&&t.readBits(u);return}(l&32)===0&&(l|=64),i.append(String.fromCharCode(l))}}while(t.available()>0)}static decodeBase256Segment(t,i,r){let l=1+t.getByteOffset();const u=this.unrandomize255State(t.readBits(8),l++);let h;if(u===0?h=t.available()/8|0:u<250?h=u:h=250*(u-249)+this.unrandomize255State(t.readBits(8),l++),h<0)throw new ae;const g=new Uint8Array(h);for(let w=0;w<h;w++){if(t.available()<8)throw new ae;g[w]=this.unrandomize255State(t.readBits(8),l++)}r.push(g);try{i.append(Ve.decode(g,Re.ISO88591))}catch(w){throw new mi("Platform does not support required encoding: "+w.message)}}static unrandomize255State(t,i){const r=149*i%255+1,l=t-r;return l>=0?l:l+256}}Vi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Vi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Vi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Vi.TEXT_SHIFT2_SET_CHARS=Vi.C40_SHIFT2_SET_CHARS,Vi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ss{constructor(){this.rsDecoder=new pa(ot.DATA_MATRIX_FIELD_256)}decode(t){const i=new dl(t),r=i.getVersion(),l=i.readCodewords(),u=as.getDataBlocks(l,r);let h=0;for(let v of u)h+=v.getNumDataCodewords();const g=new Uint8Array(h),w=u.length;for(let v=0;v<w;v++){const S=u[v],N=S.getCodewords(),I=S.getNumDataCodewords();this.correctErrors(N,I);for(let L=0;L<I;L++)g[L*w+v]=N[L]}return Vi.decode(g)}correctErrors(t,i){const r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-i)}catch{throw new k}for(let l=0;l<i;l++)t[l]=r[l]}}class Ht{constructor(t){this.image=t,this.rectangleDetector=new _i(this.image)}detect(){const t=this.rectangleDetector.detect();let i=this.detectSolid1(t);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new ee;i=this.shiftToModuleCenter(i);const r=i[0],l=i[1],u=i[2],h=i[3];let g=this.transitionsBetween(r,h)+1,w=this.transitionsBetween(u,h)+1;(g&1)===1&&(g+=1),(w&1)===1&&(w+=1),4*g<7*w&&4*w<7*g&&(g=w=Math.max(g,w));let v=Ht.sampleGrid(this.image,r,l,u,h,g,w);return new es(v,[r,l,u,h])}static shiftPoint(t,i,r){let l=(i.getX()-t.getX())/(r+1),u=(i.getY()-t.getY())/(r+1);return new Oe(t.getX()+l,t.getY()+u)}static moveAway(t,i,r){let l=t.getX(),u=t.getY();return l<i?l-=1:l+=1,u<r?u-=1:u+=1,new Oe(l,u)}detectSolid1(t){let i=t[0],r=t[1],l=t[3],u=t[2],h=this.transitionsBetween(i,r),g=this.transitionsBetween(r,l),w=this.transitionsBetween(l,u),v=this.transitionsBetween(u,i),S=h,N=[u,i,r,l];return S>g&&(S=g,N[0]=i,N[1]=r,N[2]=l,N[3]=u),S>w&&(S=w,N[0]=r,N[1]=l,N[2]=u,N[3]=i),S>v&&(N[0]=l,N[1]=u,N[2]=i,N[3]=r),N}detectSolid2(t){let i=t[0],r=t[1],l=t[2],u=t[3],h=this.transitionsBetween(i,u),g=Ht.shiftPoint(r,l,(h+1)*4),w=Ht.shiftPoint(l,r,(h+1)*4),v=this.transitionsBetween(g,i),S=this.transitionsBetween(w,u);return v<S?(t[0]=i,t[1]=r,t[2]=l,t[3]=u):(t[0]=r,t[1]=l,t[2]=u,t[3]=i),t}correctTopRight(t){let i=t[0],r=t[1],l=t[2],u=t[3],h=this.transitionsBetween(i,u),g=this.transitionsBetween(r,u),w=Ht.shiftPoint(i,r,(g+1)*4),v=Ht.shiftPoint(l,r,(h+1)*4);h=this.transitionsBetween(w,u),g=this.transitionsBetween(v,u);let S=new Oe(u.getX()+(l.getX()-r.getX())/(h+1),u.getY()+(l.getY()-r.getY())/(h+1)),N=new Oe(u.getX()+(i.getX()-r.getX())/(g+1),u.getY()+(i.getY()-r.getY())/(g+1));if(!this.isValid(S))return this.isValid(N)?N:null;if(!this.isValid(N))return S;let I=this.transitionsBetween(w,S)+this.transitionsBetween(v,S),L=this.transitionsBetween(w,N)+this.transitionsBetween(v,N);return I>L?S:N}shiftToModuleCenter(t){let i=t[0],r=t[1],l=t[2],u=t[3],h=this.transitionsBetween(i,u)+1,g=this.transitionsBetween(l,u)+1,w=Ht.shiftPoint(i,r,g*4),v=Ht.shiftPoint(l,r,h*4);h=this.transitionsBetween(w,u)+1,g=this.transitionsBetween(v,u)+1,(h&1)===1&&(h+=1),(g&1)===1&&(g+=1);let S=(i.getX()+r.getX()+l.getX()+u.getX())/4,N=(i.getY()+r.getY()+l.getY()+u.getY())/4;i=Ht.moveAway(i,S,N),r=Ht.moveAway(r,S,N),l=Ht.moveAway(l,S,N),u=Ht.moveAway(u,S,N);let I,L;return w=Ht.shiftPoint(i,r,g*4),w=Ht.shiftPoint(w,u,h*4),I=Ht.shiftPoint(r,i,g*4),I=Ht.shiftPoint(I,l,h*4),v=Ht.shiftPoint(l,u,g*4),v=Ht.shiftPoint(v,r,h*4),L=Ht.shiftPoint(u,l,g*4),L=Ht.shiftPoint(L,i,h*4),[w,I,v,L]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,i,r,l,u,h,g){return Mn.getInstance().sampleGrid(t,h,g,.5,.5,h-.5,.5,h-.5,g-.5,.5,g-.5,i.getX(),i.getY(),u.getX(),u.getY(),l.getX(),l.getY(),r.getX(),r.getY())}transitionsBetween(t,i){let r=Math.trunc(t.getX()),l=Math.trunc(t.getY()),u=Math.trunc(i.getX()),h=Math.trunc(i.getY()),g=Math.abs(h-l)>Math.abs(u-r);if(g){let F=r;r=l,l=F,F=u,u=h,h=F}let w=Math.abs(u-r),v=Math.abs(h-l),S=-w/2,N=l<h?1:-1,I=r<u?1:-1,L=0,U=this.image.get(g?l:r,g?r:l);for(let F=r,W=l;F!==u;F+=I){let te=this.image.get(g?W:F,g?F:W);if(te!==U&&(L++,U=te),S+=v,S>0){if(W===h)break;W+=N,S-=w}}return L}}class si{constructor(){this.decoder=new ss}decode(t,i=null){let r,l;if(i!=null&&i.has(Ce.PURE_BARCODE)){const v=si.extractPureBits(t.getBlackMatrix());r=this.decoder.decode(v),l=si.NO_POINTS}else{const v=new Ht(t.getBlackMatrix()).detect();r=this.decoder.decode(v.getBits()),l=v.getPoints()}const u=r.getRawBytes(),h=new Se(r.getText(),u,8*u.length,l,ye.DATA_MATRIX,q.currentTimeMillis()),g=r.getByteSegments();g!=null&&h.putMetadata(Xe.BYTE_SEGMENTS,g);const w=r.getECLevel();return w!=null&&h.putMetadata(Xe.ERROR_CORRECTION_LEVEL,w),h}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(i==null||r==null)throw new ee;const l=this.moduleSize(i,t);let u=i[1];const h=r[1];let g=i[0];const v=(r[0]-g+1)/l,S=(h-u+1)/l;if(v<=0||S<=0)throw new ee;const N=l/2;u+=N,g+=N;const I=new ft(v,S);for(let L=0;L<S;L++){const U=u+L*l;for(let F=0;F<v;F++)t.get(g+F*l,U)&&I.set(F,L)}return I}static moduleSize(t,i){const r=i.getWidth();let l=t[0];const u=t[1];for(;l<r&&i.get(l,u);)l++;if(l===r)throw new ee;const h=l-t[0];if(h===0)throw new ee;return h}}si.NO_POINTS=[];class nc extends Ae{constructor(t=500){super(new si,t)}}var mn;(function(R){R[R.L=0]="L",R[R.M=1]="M",R[R.Q=2]="Q",R[R.H=3]="H"})(mn||(mn={}));class pt{constructor(t,i,r){this.value=t,this.stringValue=i,this.bits=r,pt.FOR_BITS.set(r,this),pt.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return pt.L;case"M":return pt.M;case"Q":return pt.Q;case"H":return pt.H;default:throw new C(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof pt))return!1;const i=t;return this.value===i.value}static forBits(t){if(t<0||t>=pt.FOR_BITS.size)throw new T;return pt.FOR_BITS.get(t)}}pt.FOR_BITS=new Map,pt.FOR_VALUE=new Map,pt.L=new pt(mn.L,"L",1),pt.M=new pt(mn.M,"M",0),pt.Q=new pt(mn.Q,"Q",3),pt.H=new pt(mn.H,"H",2);class xn{constructor(t){this.errorCorrectionLevel=pt.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,i){return V.bitCount(t^i)}static decodeFormatInformation(t,i){const r=xn.doDecodeFormatInformation(t,i);return r!==null?r:xn.doDecodeFormatInformation(t^xn.FORMAT_INFO_MASK_QR,i^xn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,i){let r=Number.MAX_SAFE_INTEGER,l=0;for(const u of xn.FORMAT_INFO_DECODE_LOOKUP){const h=u[0];if(h===t||h===i)return new xn(u[1]);let g=xn.numBitsDiffering(t,h);g<r&&(l=u[1],r=g),t!==i&&(g=xn.numBitsDiffering(i,h),g<r&&(l=u[1],r=g))}return r<=3?new xn(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof xn))return!1;const i=t;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}xn.FORMAT_INFO_MASK_QR=21522,xn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class K{constructor(t,...i){this.ecCodewordsPerBlock=t,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const i=this.ecBlocks;for(const r of i)t+=r.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class B{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ie{constructor(t,i,...r){this.versionNumber=t,this.alignmentPatternCenters=i,this.ecBlocks=r;let l=0;const u=r[0].getECCodewordsPerBlock(),h=r[0].getECBlocks();for(const g of h)l+=g.getCount()*(g.getDataCodewords()+u);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new ae;try{return this.getVersionForNumber((t-17)/4)}catch{throw new ae}}static getVersionForNumber(t){if(t<1||t>40)throw new T;return Ie.VERSIONS[t-1]}static decodeVersionInformation(t){let i=Number.MAX_SAFE_INTEGER,r=0;for(let l=0;l<Ie.VERSION_DECODE_INFO.length;l++){const u=Ie.VERSION_DECODE_INFO[l];if(u===t)return Ie.getVersionForNumber(l+7);const h=xn.numBitsDiffering(t,u);h<i&&(r=l+7,i=h)}return i<=3?Ie.getVersionForNumber(r):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),i=new ft(t);i.setRegion(0,0,9,9),i.setRegion(t-8,0,8,9),i.setRegion(0,t-8,9,8);const r=this.alignmentPatternCenters.length;for(let l=0;l<r;l++){const u=this.alignmentPatternCenters[l]-2;for(let h=0;h<r;h++)l===0&&(h===0||h===r-1)||l===r-1&&h===0||i.setRegion(this.alignmentPatternCenters[h]-2,u,5,5)}return i.setRegion(6,9,1,t-17),i.setRegion(9,6,t-17,1),this.versionNumber>6&&(i.setRegion(t-11,0,3,6),i.setRegion(0,t-11,6,3)),i}toString(){return""+this.versionNumber}}Ie.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ie.VERSIONS=[new Ie(1,new Int32Array(0),new K(7,new B(1,19)),new K(10,new B(1,16)),new K(13,new B(1,13)),new K(17,new B(1,9))),new Ie(2,Int32Array.from([6,18]),new K(10,new B(1,34)),new K(16,new B(1,28)),new K(22,new B(1,22)),new K(28,new B(1,16))),new Ie(3,Int32Array.from([6,22]),new K(15,new B(1,55)),new K(26,new B(1,44)),new K(18,new B(2,17)),new K(22,new B(2,13))),new Ie(4,Int32Array.from([6,26]),new K(20,new B(1,80)),new K(18,new B(2,32)),new K(26,new B(2,24)),new K(16,new B(4,9))),new Ie(5,Int32Array.from([6,30]),new K(26,new B(1,108)),new K(24,new B(2,43)),new K(18,new B(2,15),new B(2,16)),new K(22,new B(2,11),new B(2,12))),new Ie(6,Int32Array.from([6,34]),new K(18,new B(2,68)),new K(16,new B(4,27)),new K(24,new B(4,19)),new K(28,new B(4,15))),new Ie(7,Int32Array.from([6,22,38]),new K(20,new B(2,78)),new K(18,new B(4,31)),new K(18,new B(2,14),new B(4,15)),new K(26,new B(4,13),new B(1,14))),new Ie(8,Int32Array.from([6,24,42]),new K(24,new B(2,97)),new K(22,new B(2,38),new B(2,39)),new K(22,new B(4,18),new B(2,19)),new K(26,new B(4,14),new B(2,15))),new Ie(9,Int32Array.from([6,26,46]),new K(30,new B(2,116)),new K(22,new B(3,36),new B(2,37)),new K(20,new B(4,16),new B(4,17)),new K(24,new B(4,12),new B(4,13))),new Ie(10,Int32Array.from([6,28,50]),new K(18,new B(2,68),new B(2,69)),new K(26,new B(4,43),new B(1,44)),new K(24,new B(6,19),new B(2,20)),new K(28,new B(6,15),new B(2,16))),new Ie(11,Int32Array.from([6,30,54]),new K(20,new B(4,81)),new K(30,new B(1,50),new B(4,51)),new K(28,new B(4,22),new B(4,23)),new K(24,new B(3,12),new B(8,13))),new Ie(12,Int32Array.from([6,32,58]),new K(24,new B(2,92),new B(2,93)),new K(22,new B(6,36),new B(2,37)),new K(26,new B(4,20),new B(6,21)),new K(28,new B(7,14),new B(4,15))),new Ie(13,Int32Array.from([6,34,62]),new K(26,new B(4,107)),new K(22,new B(8,37),new B(1,38)),new K(24,new B(8,20),new B(4,21)),new K(22,new B(12,11),new B(4,12))),new Ie(14,Int32Array.from([6,26,46,66]),new K(30,new B(3,115),new B(1,116)),new K(24,new B(4,40),new B(5,41)),new K(20,new B(11,16),new B(5,17)),new K(24,new B(11,12),new B(5,13))),new Ie(15,Int32Array.from([6,26,48,70]),new K(22,new B(5,87),new B(1,88)),new K(24,new B(5,41),new B(5,42)),new K(30,new B(5,24),new B(7,25)),new K(24,new B(11,12),new B(7,13))),new Ie(16,Int32Array.from([6,26,50,74]),new K(24,new B(5,98),new B(1,99)),new K(28,new B(7,45),new B(3,46)),new K(24,new B(15,19),new B(2,20)),new K(30,new B(3,15),new B(13,16))),new Ie(17,Int32Array.from([6,30,54,78]),new K(28,new B(1,107),new B(5,108)),new K(28,new B(10,46),new B(1,47)),new K(28,new B(1,22),new B(15,23)),new K(28,new B(2,14),new B(17,15))),new Ie(18,Int32Array.from([6,30,56,82]),new K(30,new B(5,120),new B(1,121)),new K(26,new B(9,43),new B(4,44)),new K(28,new B(17,22),new B(1,23)),new K(28,new B(2,14),new B(19,15))),new Ie(19,Int32Array.from([6,30,58,86]),new K(28,new B(3,113),new B(4,114)),new K(26,new B(3,44),new B(11,45)),new K(26,new B(17,21),new B(4,22)),new K(26,new B(9,13),new B(16,14))),new Ie(20,Int32Array.from([6,34,62,90]),new K(28,new B(3,107),new B(5,108)),new K(26,new B(3,41),new B(13,42)),new K(30,new B(15,24),new B(5,25)),new K(28,new B(15,15),new B(10,16))),new Ie(21,Int32Array.from([6,28,50,72,94]),new K(28,new B(4,116),new B(4,117)),new K(26,new B(17,42)),new K(28,new B(17,22),new B(6,23)),new K(30,new B(19,16),new B(6,17))),new Ie(22,Int32Array.from([6,26,50,74,98]),new K(28,new B(2,111),new B(7,112)),new K(28,new B(17,46)),new K(30,new B(7,24),new B(16,25)),new K(24,new B(34,13))),new Ie(23,Int32Array.from([6,30,54,78,102]),new K(30,new B(4,121),new B(5,122)),new K(28,new B(4,47),new B(14,48)),new K(30,new B(11,24),new B(14,25)),new K(30,new B(16,15),new B(14,16))),new Ie(24,Int32Array.from([6,28,54,80,106]),new K(30,new B(6,117),new B(4,118)),new K(28,new B(6,45),new B(14,46)),new K(30,new B(11,24),new B(16,25)),new K(30,new B(30,16),new B(2,17))),new Ie(25,Int32Array.from([6,32,58,84,110]),new K(26,new B(8,106),new B(4,107)),new K(28,new B(8,47),new B(13,48)),new K(30,new B(7,24),new B(22,25)),new K(30,new B(22,15),new B(13,16))),new Ie(26,Int32Array.from([6,30,58,86,114]),new K(28,new B(10,114),new B(2,115)),new K(28,new B(19,46),new B(4,47)),new K(28,new B(28,22),new B(6,23)),new K(30,new B(33,16),new B(4,17))),new Ie(27,Int32Array.from([6,34,62,90,118]),new K(30,new B(8,122),new B(4,123)),new K(28,new B(22,45),new B(3,46)),new K(30,new B(8,23),new B(26,24)),new K(30,new B(12,15),new B(28,16))),new Ie(28,Int32Array.from([6,26,50,74,98,122]),new K(30,new B(3,117),new B(10,118)),new K(28,new B(3,45),new B(23,46)),new K(30,new B(4,24),new B(31,25)),new K(30,new B(11,15),new B(31,16))),new Ie(29,Int32Array.from([6,30,54,78,102,126]),new K(30,new B(7,116),new B(7,117)),new K(28,new B(21,45),new B(7,46)),new K(30,new B(1,23),new B(37,24)),new K(30,new B(19,15),new B(26,16))),new Ie(30,Int32Array.from([6,26,52,78,104,130]),new K(30,new B(5,115),new B(10,116)),new K(28,new B(19,47),new B(10,48)),new K(30,new B(15,24),new B(25,25)),new K(30,new B(23,15),new B(25,16))),new Ie(31,Int32Array.from([6,30,56,82,108,134]),new K(30,new B(13,115),new B(3,116)),new K(28,new B(2,46),new B(29,47)),new K(30,new B(42,24),new B(1,25)),new K(30,new B(23,15),new B(28,16))),new Ie(32,Int32Array.from([6,34,60,86,112,138]),new K(30,new B(17,115)),new K(28,new B(10,46),new B(23,47)),new K(30,new B(10,24),new B(35,25)),new K(30,new B(19,15),new B(35,16))),new Ie(33,Int32Array.from([6,30,58,86,114,142]),new K(30,new B(17,115),new B(1,116)),new K(28,new B(14,46),new B(21,47)),new K(30,new B(29,24),new B(19,25)),new K(30,new B(11,15),new B(46,16))),new Ie(34,Int32Array.from([6,34,62,90,118,146]),new K(30,new B(13,115),new B(6,116)),new K(28,new B(14,46),new B(23,47)),new K(30,new B(44,24),new B(7,25)),new K(30,new B(59,16),new B(1,17))),new Ie(35,Int32Array.from([6,30,54,78,102,126,150]),new K(30,new B(12,121),new B(7,122)),new K(28,new B(12,47),new B(26,48)),new K(30,new B(39,24),new B(14,25)),new K(30,new B(22,15),new B(41,16))),new Ie(36,Int32Array.from([6,24,50,76,102,128,154]),new K(30,new B(6,121),new B(14,122)),new K(28,new B(6,47),new B(34,48)),new K(30,new B(46,24),new B(10,25)),new K(30,new B(2,15),new B(64,16))),new Ie(37,Int32Array.from([6,28,54,80,106,132,158]),new K(30,new B(17,122),new B(4,123)),new K(28,new B(29,46),new B(14,47)),new K(30,new B(49,24),new B(10,25)),new K(30,new B(24,15),new B(46,16))),new Ie(38,Int32Array.from([6,32,58,84,110,136,162]),new K(30,new B(4,122),new B(18,123)),new K(28,new B(13,46),new B(32,47)),new K(30,new B(48,24),new B(14,25)),new K(30,new B(42,15),new B(32,16))),new Ie(39,Int32Array.from([6,26,54,82,110,138,166]),new K(30,new B(20,117),new B(4,118)),new K(28,new B(40,47),new B(7,48)),new K(30,new B(43,24),new B(22,25)),new K(30,new B(10,15),new B(67,16))),new Ie(40,Int32Array.from([6,30,58,86,114,142,170]),new K(30,new B(19,118),new B(6,119)),new K(28,new B(18,47),new B(31,48)),new K(30,new B(34,24),new B(34,25)),new K(30,new B(20,15),new B(61,16)))];var rn;(function(R){R[R.DATA_MASK_000=0]="DATA_MASK_000",R[R.DATA_MASK_001=1]="DATA_MASK_001",R[R.DATA_MASK_010=2]="DATA_MASK_010",R[R.DATA_MASK_011=3]="DATA_MASK_011",R[R.DATA_MASK_100=4]="DATA_MASK_100",R[R.DATA_MASK_101=5]="DATA_MASK_101",R[R.DATA_MASK_110=6]="DATA_MASK_110",R[R.DATA_MASK_111=7]="DATA_MASK_111"})(rn||(rn={}));class pn{constructor(t,i){this.value=t,this.isMasked=i}unmaskBitMatrix(t,i){for(let r=0;r<i;r++)for(let l=0;l<i;l++)this.isMasked(r,l)&&t.flip(l,r)}}pn.values=new Map([[rn.DATA_MASK_000,new pn(rn.DATA_MASK_000,(R,t)=>(R+t&1)===0)],[rn.DATA_MASK_001,new pn(rn.DATA_MASK_001,(R,t)=>(R&1)===0)],[rn.DATA_MASK_010,new pn(rn.DATA_MASK_010,(R,t)=>t%3===0)],[rn.DATA_MASK_011,new pn(rn.DATA_MASK_011,(R,t)=>(R+t)%3===0)],[rn.DATA_MASK_100,new pn(rn.DATA_MASK_100,(R,t)=>(Math.floor(R/2)+Math.floor(t/3)&1)===0)],[rn.DATA_MASK_101,new pn(rn.DATA_MASK_101,(R,t)=>R*t%6===0)],[rn.DATA_MASK_110,new pn(rn.DATA_MASK_110,(R,t)=>R*t%6<3)],[rn.DATA_MASK_111,new pn(rn.DATA_MASK_111,(R,t)=>(R+t+R*t%3&1)===0)]]);class ic{constructor(t){const i=t.getHeight();if(i<21||(i&3)!==1)throw new ae;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let u=0;u<6;u++)t=this.copyBit(u,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let u=5;u>=0;u--)t=this.copyBit(8,u,t);const i=this.bitMatrix.getHeight();let r=0;const l=i-7;for(let u=i-1;u>=l;u--)r=this.copyBit(8,u,r);for(let u=i-8;u<i;u++)r=this.copyBit(u,8,r);if(this.parsedFormatInfo=xn.decodeFormatInformation(t,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ae}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),i=Math.floor((t-17)/4);if(i<=6)return Ie.getVersionForNumber(i);let r=0;const l=t-11;for(let h=5;h>=0;h--)for(let g=t-9;g>=l;g--)r=this.copyBit(g,h,r);let u=Ie.decodeVersionInformation(r);if(u!==null&&u.getDimensionForVersion()===t)return this.parsedVersion=u,u;r=0;for(let h=5;h>=0;h--)for(let g=t-9;g>=l;g--)r=this.copyBit(h,g,r);if(u=Ie.decodeVersionInformation(r),u!==null&&u.getDimensionForVersion()===t)return this.parsedVersion=u,u;throw new ae}copyBit(t,i,r){return(this.isMirror?this.bitMatrix.get(i,t):this.bitMatrix.get(t,i))?r<<1|1:r<<1}readCodewords(){const t=this.readFormatInformation(),i=this.readVersion(),r=pn.values.get(t.getDataMask()),l=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,l);const u=i.buildFunctionPattern();let h=!0;const g=new Uint8Array(i.getTotalCodewords());let w=0,v=0,S=0;for(let N=l-1;N>0;N-=2){N===6&&N--;for(let I=0;I<l;I++){const L=h?l-1-I:I;for(let U=0;U<2;U++)u.get(N-U,L)||(S++,v<<=1,this.bitMatrix.get(N-U,L)&&(v|=1),S===8&&(g[w++]=v,S=0,v=0))}h=!h}if(w!==i.getTotalCodewords())throw new ae;return g}remask(){if(this.parsedFormatInfo===null)return;const t=pn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,i)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let i=0,r=t.getWidth();i<r;i++)for(let l=i+1,u=t.getHeight();l<u;l++)t.get(i,l)!==t.get(l,i)&&(t.flip(l,i),t.flip(i,l))}}class ls{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i,r){if(t.length!==i.getTotalCodewords())throw new T;const l=i.getECBlocksForLevel(r);let u=0;const h=l.getECBlocks();for(const U of h)u+=U.getCount();const g=new Array(u);let w=0;for(const U of h)for(let F=0;F<U.getCount();F++){const W=U.getDataCodewords(),te=l.getECCodewordsPerBlock()+W;g[w++]=new ls(W,new Uint8Array(te))}const v=g[0].codewords.length;let S=g.length-1;for(;S>=0&&g[S].codewords.length!==v;)S--;S++;const N=v-l.getECCodewordsPerBlock();let I=0;for(let U=0;U<N;U++)for(let F=0;F<w;F++)g[F].codewords[U]=t[I++];for(let U=S;U<w;U++)g[U].codewords[N]=t[I++];const L=g[0].codewords.length;for(let U=N;U<L;U++)for(let F=0;F<w;F++){const W=F<S?U:U+1;g[F].codewords[W]=t[I++]}return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var qn;(function(R){R[R.TERMINATOR=0]="TERMINATOR",R[R.NUMERIC=1]="NUMERIC",R[R.ALPHANUMERIC=2]="ALPHANUMERIC",R[R.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",R[R.BYTE=4]="BYTE",R[R.ECI=5]="ECI",R[R.KANJI=6]="KANJI",R[R.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",R[R.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",R[R.HANZI=9]="HANZI"})(qn||(qn={}));class Me{constructor(t,i,r,l){this.value=t,this.stringValue=i,this.characterCountBitsForVersions=r,this.bits=l,Me.FOR_BITS.set(l,this),Me.FOR_VALUE.set(t,this)}static forBits(t){const i=Me.FOR_BITS.get(t);if(i===void 0)throw new T;return i}getCharacterCountBits(t){const i=t.getVersionNumber();let r;return i<=9?r=0:i<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof Me))return!1;const i=t;return this.value===i.value}toString(){return this.stringValue}}Me.FOR_BITS=new Map,Me.FOR_VALUE=new Map,Me.TERMINATOR=new Me(qn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Me.NUMERIC=new Me(qn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Me.ALPHANUMERIC=new Me(qn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Me.STRUCTURED_APPEND=new Me(qn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Me.BYTE=new Me(qn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Me.ECI=new Me(qn.ECI,"ECI",Int32Array.from([0,0,0]),7),Me.KANJI=new Me(qn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Me.FNC1_FIRST_POSITION=new Me(qn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Me.FNC1_SECOND_POSITION=new Me(qn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Me.HANZI=new Me(qn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ft{static decode(t,i,r,l){const u=new jn(t);let h=new Ze;const g=new Array;let w=-1,v=-1;try{let S=null,N=!1,I;do{if(u.available()<4)I=Me.TERMINATOR;else{const L=u.readBits(4);I=Me.forBits(L)}switch(I){case Me.TERMINATOR:break;case Me.FNC1_FIRST_POSITION:case Me.FNC1_SECOND_POSITION:N=!0;break;case Me.STRUCTURED_APPEND:if(u.available()<16)throw new ae;w=u.readBits(8),v=u.readBits(8);break;case Me.ECI:const L=Ft.parseECIValue(u);if(S=ce.getCharacterSetECIByValue(L),S===null)throw new ae;break;case Me.HANZI:const U=u.readBits(4),F=u.readBits(I.getCharacterCountBits(i));U===Ft.GB2312_SUBSET&&Ft.decodeHanziSegment(u,h,F);break;default:const W=u.readBits(I.getCharacterCountBits(i));switch(I){case Me.NUMERIC:Ft.decodeNumericSegment(u,h,W);break;case Me.ALPHANUMERIC:Ft.decodeAlphanumericSegment(u,h,W,N);break;case Me.BYTE:Ft.decodeByteSegment(u,h,W,S,g,l);break;case Me.KANJI:Ft.decodeKanjiSegment(u,h,W);break;default:throw new ae}break}}while(I!==Me.TERMINATOR)}catch{throw new ae}return new Zn(t,h.toString(),g.length===0?null:g,r===null?null:r.toString(),w,v)}static decodeHanziSegment(t,i,r){if(r*13>t.available())throw new ae;const l=new Uint8Array(2*r);let u=0;for(;r>0;){const h=t.readBits(13);let g=h/96<<8&4294967295|h%96;g<959?g+=41377:g+=42657,l[u]=g>>8&255,l[u+1]=g&255,u+=2,r--}try{i.append(Ve.decode(l,Re.GB2312))}catch(h){throw new ae(h)}}static decodeKanjiSegment(t,i,r){if(r*13>t.available())throw new ae;const l=new Uint8Array(2*r);let u=0;for(;r>0;){const h=t.readBits(13);let g=h/192<<8&4294967295|h%192;g<7936?g+=33088:g+=49472,l[u]=g>>8,l[u+1]=g,u+=2,r--}try{i.append(Ve.decode(l,Re.SHIFT_JIS))}catch(h){throw new ae(h)}}static decodeByteSegment(t,i,r,l,u,h){if(8*r>t.available())throw new ae;const g=new Uint8Array(r);for(let v=0;v<r;v++)g[v]=t.readBits(8);let w;l===null?w=Re.guessEncoding(g,h):w=l.getName();try{i.append(Ve.decode(g,w))}catch(v){throw new ae(v)}u.push(g)}static toAlphaNumericChar(t){if(t>=Ft.ALPHANUMERIC_CHARS.length)throw new ae;return Ft.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,i,r,l){const u=i.length();for(;r>1;){if(t.available()<11)throw new ae;const h=t.readBits(11);i.append(Ft.toAlphaNumericChar(Math.floor(h/45))),i.append(Ft.toAlphaNumericChar(h%45)),r-=2}if(r===1){if(t.available()<6)throw new ae;i.append(Ft.toAlphaNumericChar(t.readBits(6)))}if(l)for(let h=u;h<i.length();h++)i.charAt(h)==="%"&&(h<i.length()-1&&i.charAt(h+1)==="%"?i.deleteCharAt(h+1):i.setCharAt(h,""))}static decodeNumericSegment(t,i,r){for(;r>=3;){if(t.available()<10)throw new ae;const l=t.readBits(10);if(l>=1e3)throw new ae;i.append(Ft.toAlphaNumericChar(Math.floor(l/100))),i.append(Ft.toAlphaNumericChar(Math.floor(l/10)%10)),i.append(Ft.toAlphaNumericChar(l%10)),r-=3}if(r===2){if(t.available()<7)throw new ae;const l=t.readBits(7);if(l>=100)throw new ae;i.append(Ft.toAlphaNumericChar(Math.floor(l/10))),i.append(Ft.toAlphaNumericChar(l%10))}else if(r===1){if(t.available()<4)throw new ae;const l=t.readBits(4);if(l>=10)throw new ae;i.append(Ft.toAlphaNumericChar(l))}}static parseECIValue(t){const i=t.readBits(8);if((i&128)===0)return i&127;if((i&192)===128){const r=t.readBits(8);return(i&63)<<8&4294967295|r}if((i&224)===192){const r=t.readBits(16);return(i&31)<<16&4294967295|r}throw new ae}}Ft.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ft.GB2312_SUBSET=1;class Oo{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const i=t[0];t[0]=t[2],t[2]=i}}class os{constructor(){this.rsDecoder=new pa(ot.QR_CODE_FIELD_256)}decodeBooleanArray(t,i){return this.decodeBitMatrix(ft.parseFromBooleanArray(t),i)}decodeBitMatrix(t,i){const r=new ic(t);let l=null;try{return this.decodeBitMatrixParser(r,i)}catch(u){l=u}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const u=this.decodeBitMatrixParser(r,i);return u.setOther(new Oo(!0)),u}catch(u){throw l!==null?l:u}}decodeBitMatrixParser(t,i){const r=t.readVersion(),l=t.readFormatInformation().getErrorCorrectionLevel(),u=t.readCodewords(),h=ls.getDataBlocks(u,r,l);let g=0;for(const S of h)g+=S.getNumDataCodewords();const w=new Uint8Array(g);let v=0;for(const S of h){const N=S.getCodewords(),I=S.getNumDataCodewords();this.correctErrors(N,I);for(let L=0;L<I;L++)w[v++]=N[L]}return Ft.decode(w,r,l,i)}correctErrors(t,i){const r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-i)}catch{throw new k}for(let l=0;l<i;l++)t[l]=r[l]}}class ba extends Oe{constructor(t,i,r){super(t,i),this.estimatedModuleSize=r}aboutEquals(t,i,r){if(Math.abs(i-this.getY())<=t&&Math.abs(r-this.getX())<=t){const l=Math.abs(t-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(t,i,r){const l=(this.getX()+i)/2,u=(this.getY()+t)/2,h=(this.estimatedModuleSize+r)/2;return new ba(l,u,h)}}class Br{constructor(t,i,r,l,u,h,g){this.image=t,this.startX=i,this.startY=r,this.width=l,this.height=u,this.moduleSize=h,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,i=this.height,r=this.width,l=t+r,u=this.startY+i/2,h=new Int32Array(3),g=this.image;for(let w=0;w<i;w++){const v=u+((w&1)===0?Math.floor((w+1)/2):-Math.floor((w+1)/2));h[0]=0,h[1]=0,h[2]=0;let S=t;for(;S<l&&!g.get(S,v);)S++;let N=0;for(;S<l;){if(g.get(S,v))if(N===1)h[1]++;else if(N===2){if(this.foundPatternCross(h)){const I=this.handlePossibleCenter(h,v,S);if(I!==null)return I}h[0]=h[2],h[1]=1,h[2]=0,N=1}else h[++N]++;else N===1&&N++,h[N]++;S++}if(this.foundPatternCross(h)){const I=this.handlePossibleCenter(h,v,l);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ee}static centerFromEnd(t,i){return i-t[2]-t[1]/2}foundPatternCross(t){const i=this.moduleSize,r=i/2;for(let l=0;l<3;l++)if(Math.abs(i-t[l])>=r)return!1;return!0}crossCheckVertical(t,i,r,l){const u=this.image,h=u.getHeight(),g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;let w=t;for(;w>=0&&u.get(i,w)&&g[1]<=r;)g[1]++,w--;if(w<0||g[1]>r)return NaN;for(;w>=0&&!u.get(i,w)&&g[0]<=r;)g[0]++,w--;if(g[0]>r)return NaN;for(w=t+1;w<h&&u.get(i,w)&&g[1]<=r;)g[1]++,w++;if(w===h||g[1]>r)return NaN;for(;w<h&&!u.get(i,w)&&g[2]<=r;)g[2]++,w++;if(g[2]>r)return NaN;const v=g[0]+g[1]+g[2];return 5*Math.abs(v-l)>=2*l?NaN:this.foundPatternCross(g)?Br.centerFromEnd(g,w):NaN}handlePossibleCenter(t,i,r){const l=t[0]+t[1]+t[2],u=Br.centerFromEnd(t,r),h=this.crossCheckVertical(i,u,2*t[1],l);if(!isNaN(h)){const g=(t[0]+t[1]+t[2])/3;for(const v of this.possibleCenters)if(v.aboutEquals(g,h,u))return v.combineEstimate(h,u,g);const w=new ba(u,h,g);this.possibleCenters.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return null}}class Xi extends Oe{constructor(t,i,r,l){super(t,i),this.estimatedModuleSize=r,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,i,r){if(Math.abs(i-this.getY())<=t&&Math.abs(r-this.getX())<=t){const l=Math.abs(t-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(t,i,r){const l=this.count+1,u=(this.count*this.getX()+i)/l,h=(this.count*this.getY()+t)/l,g=(this.count*this.estimatedModuleSize+r)/l;return new Xi(u,h,g,l)}}class Lr{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class an{constructor(t,i){this.image=t,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const i=t!=null&&t.get(Ce.TRY_HARDER)!==void 0,r=t!=null&&t.get(Ce.PURE_BARCODE)!==void 0,l=this.image,u=l.getHeight(),h=l.getWidth();let g=Math.floor(3*u/(4*an.MAX_MODULES));(g<an.MIN_SKIP||i)&&(g=an.MIN_SKIP);let w=!1;const v=new Int32Array(5);for(let N=g-1;N<u&&!w;N+=g){v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0;let I=0;for(let L=0;L<h;L++)if(l.get(L,N))(I&1)===1&&I++,v[I]++;else if((I&1)===0)if(I===4)if(an.foundPatternCross(v)){if(this.handlePossibleCenter(v,N,L,r)===!0)if(g=2,this.hasSkipped===!0)w=this.haveMultiplyConfirmedCenters();else{const F=this.findRowSkip();F>v[2]&&(N+=F-v[2]-g,L=h-1)}else{v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,I=3;continue}I=0,v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0}else v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,I=3;else v[++I]++;else v[I]++;an.foundPatternCross(v)&&this.handlePossibleCenter(v,N,h,r)===!0&&(g=v[0],this.hasSkipped&&(w=this.haveMultiplyConfirmedCenters()))}const S=this.selectBestPatterns();return Oe.orderBestPatterns(S),new Lr(S)}static centerFromEnd(t,i){return i-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let i=0;for(let u=0;u<5;u++){const h=t[u];if(h===0)return!1;i+=h}if(i<7)return!1;const r=i/7,l=r/2;return Math.abs(r-t[0])<l&&Math.abs(r-t[1])<l&&Math.abs(3*r-t[2])<3*l&&Math.abs(r-t[3])<l&&Math.abs(r-t[4])<l}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,i,r,l){const u=this.getCrossCheckStateCount();let h=0;const g=this.image;for(;t>=h&&i>=h&&g.get(i-h,t-h);)u[2]++,h++;if(t<h||i<h)return!1;for(;t>=h&&i>=h&&!g.get(i-h,t-h)&&u[1]<=r;)u[1]++,h++;if(t<h||i<h||u[1]>r)return!1;for(;t>=h&&i>=h&&g.get(i-h,t-h)&&u[0]<=r;)u[0]++,h++;if(u[0]>r)return!1;const w=g.getHeight(),v=g.getWidth();for(h=1;t+h<w&&i+h<v&&g.get(i+h,t+h);)u[2]++,h++;if(t+h>=w||i+h>=v)return!1;for(;t+h<w&&i+h<v&&!g.get(i+h,t+h)&&u[3]<r;)u[3]++,h++;if(t+h>=w||i+h>=v||u[3]>=r)return!1;for(;t+h<w&&i+h<v&&g.get(i+h,t+h)&&u[4]<r;)u[4]++,h++;if(u[4]>=r)return!1;const S=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(S-l)<2*l&&an.foundPatternCross(u)}crossCheckVertical(t,i,r,l){const u=this.image,h=u.getHeight(),g=this.getCrossCheckStateCount();let w=t;for(;w>=0&&u.get(i,w);)g[2]++,w--;if(w<0)return NaN;for(;w>=0&&!u.get(i,w)&&g[1]<=r;)g[1]++,w--;if(w<0||g[1]>r)return NaN;for(;w>=0&&u.get(i,w)&&g[0]<=r;)g[0]++,w--;if(g[0]>r)return NaN;for(w=t+1;w<h&&u.get(i,w);)g[2]++,w++;if(w===h)return NaN;for(;w<h&&!u.get(i,w)&&g[3]<r;)g[3]++,w++;if(w===h||g[3]>=r)return NaN;for(;w<h&&u.get(i,w)&&g[4]<r;)g[4]++,w++;if(g[4]>=r)return NaN;const v=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(v-l)>=2*l?NaN:an.foundPatternCross(g)?an.centerFromEnd(g,w):NaN}crossCheckHorizontal(t,i,r,l){const u=this.image,h=u.getWidth(),g=this.getCrossCheckStateCount();let w=t;for(;w>=0&&u.get(w,i);)g[2]++,w--;if(w<0)return NaN;for(;w>=0&&!u.get(w,i)&&g[1]<=r;)g[1]++,w--;if(w<0||g[1]>r)return NaN;for(;w>=0&&u.get(w,i)&&g[0]<=r;)g[0]++,w--;if(g[0]>r)return NaN;for(w=t+1;w<h&&u.get(w,i);)g[2]++,w++;if(w===h)return NaN;for(;w<h&&!u.get(w,i)&&g[3]<r;)g[3]++,w++;if(w===h||g[3]>=r)return NaN;for(;w<h&&u.get(w,i)&&g[4]<r;)g[4]++,w++;if(g[4]>=r)return NaN;const v=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(v-l)>=l?NaN:an.foundPatternCross(g)?an.centerFromEnd(g,w):NaN}handlePossibleCenter(t,i,r,l){const u=t[0]+t[1]+t[2]+t[3]+t[4];let h=an.centerFromEnd(t,r),g=this.crossCheckVertical(i,Math.floor(h),t[2],u);if(!isNaN(g)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(g),t[2],u),!isNaN(h)&&(!l||this.crossCheckDiagonal(Math.floor(g),Math.floor(h),t[2],u)))){const w=u/7;let v=!1;const S=this.possibleCenters;for(let N=0,I=S.length;N<I;N++){const L=S[N];if(L.aboutEquals(w,g,h)){S[N]=L.combineEstimate(g,h,w),v=!0;break}}if(!v){const N=new Xi(h,g,w);S.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const r of this.possibleCenters)if(r.getCount()>=an.CENTER_QUORUM)if(i==null)i=r;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-r.getX())-Math.abs(i.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,i=0;const r=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=an.CENTER_QUORUM&&(t++,i+=h.getEstimatedModuleSize());if(t<3)return!1;const l=i/r;let u=0;for(const h of this.possibleCenters)u+=Math.abs(h.getEstimatedModuleSize()-l);return u<=.05*i}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new ee;const i=this.possibleCenters;let r;if(t>3){let l=0,u=0;for(const w of this.possibleCenters){const v=w.getEstimatedModuleSize();l+=v,u+=v*v}r=l/t;let h=Math.sqrt(u/t-r*r);i.sort((w,v)=>{const S=Math.abs(v.getEstimatedModuleSize()-r),N=Math.abs(w.getEstimatedModuleSize()-r);return S<N?-1:S>N?1:0});const g=Math.max(.2*r,h);for(let w=0;w<i.length&&i.length>3;w++){const v=i[w];Math.abs(v.getEstimatedModuleSize()-r)>g&&(i.splice(w,1),w--)}}if(i.length>3){let l=0;for(const u of i)l+=u.getEstimatedModuleSize();r=l/i.length,i.sort((u,h)=>{if(h.getCount()===u.getCount()){const g=Math.abs(h.getEstimatedModuleSize()-r),w=Math.abs(u.getEstimatedModuleSize()-r);return g<w?1:g>w?-1:0}else return h.getCount()-u.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}an.CENTER_QUORUM=2,an.MIN_SKIP=3,an.MAX_MODULES=57;class ur{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(Ce.NEED_RESULT_POINT_CALLBACK);const r=new an(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(r)}processFinderPatternInfo(t){const i=t.getTopLeft(),r=t.getTopRight(),l=t.getBottomLeft(),u=this.calculateModuleSize(i,r,l);if(u<1)throw new ee("No pattern found in proccess finder.");const h=ur.computeDimension(i,r,l,u),g=Ie.getProvisionalVersionForDimension(h),w=g.getDimensionForVersion()-7;let v=null;if(g.getAlignmentPatternCenters().length>0){const L=r.getX()-i.getX()+l.getX(),U=r.getY()-i.getY()+l.getY(),F=1-3/w,W=Math.floor(i.getX()+F*(L-i.getX())),te=Math.floor(i.getY()+F*(U-i.getY()));for(let pe=4;pe<=16;pe<<=1)try{v=this.findAlignmentInRegion(u,W,te,pe);break}catch(Ee){if(!(Ee instanceof ee))throw Ee}}const S=ur.createTransform(i,r,l,v,h),N=ur.sampleGrid(this.image,S,h);let I;return v===null?I=[l,i,r]:I=[l,i,r,v],new es(N,I)}static createTransform(t,i,r,l,u){const h=u-3.5;let g,w,v,S;return l!==null?(g=l.getX(),w=l.getY(),v=h-3,S=v):(g=i.getX()-t.getX()+r.getX(),w=i.getY()-t.getY()+r.getY(),v=h,S=h),Dn.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,v,S,3.5,h,t.getX(),t.getY(),i.getX(),i.getY(),g,w,r.getX(),r.getY())}static sampleGrid(t,i,r){return Mn.getInstance().sampleGridWithTransform(t,r,r,i)}static computeDimension(t,i,r,l){const u=st.round(Oe.distance(t,i)/l),h=st.round(Oe.distance(t,r)/l);let g=Math.floor((u+h)/2)+7;switch(g&3){case 0:g++;break;case 2:g--;break;case 3:throw new ee("Dimensions could be not found.")}return g}calculateModuleSize(t,i,r){return(this.calculateModuleSizeOneWay(t,i)+this.calculateModuleSizeOneWay(t,r))/2}calculateModuleSizeOneWay(t,i){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(i.getX()),Math.floor(i.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(r)?l/7:isNaN(l)?r/7:(r+l)/14}sizeOfBlackWhiteBlackRunBothWays(t,i,r,l){let u=this.sizeOfBlackWhiteBlackRun(t,i,r,l),h=1,g=t-(r-t);g<0?(h=t/(t-g),g=0):g>=this.image.getWidth()&&(h=(this.image.getWidth()-1-t)/(g-t),g=this.image.getWidth()-1);let w=Math.floor(i-(l-i)*h);return h=1,w<0?(h=i/(i-w),w=0):w>=this.image.getHeight()&&(h=(this.image.getHeight()-1-i)/(w-i),w=this.image.getHeight()-1),g=Math.floor(t+(g-t)*h),u+=this.sizeOfBlackWhiteBlackRun(t,i,g,w),u-1}sizeOfBlackWhiteBlackRun(t,i,r,l){const u=Math.abs(l-i)>Math.abs(r-t);if(u){let L=t;t=i,i=L,L=r,r=l,l=L}const h=Math.abs(r-t),g=Math.abs(l-i);let w=-h/2;const v=t<r?1:-1,S=i<l?1:-1;let N=0;const I=r+v;for(let L=t,U=i;L!==I;L+=v){const F=u?U:L,W=u?L:U;if(N===1===this.image.get(F,W)){if(N===2)return st.distance(L,U,t,i);N++}if(w+=g,w>0){if(U===l)break;U+=S,w-=h}}return N===2?st.distance(r+v,l,t,i):NaN}findAlignmentInRegion(t,i,r,l){const u=Math.floor(l*t),h=Math.max(0,i-u),g=Math.min(this.image.getWidth()-1,i+u);if(g-h<t*3)throw new ee("Alignment top exceeds estimated module size.");const w=Math.max(0,r-u),v=Math.min(this.image.getHeight()-1,r+u);if(v-w<t*3)throw new ee("Alignment bottom exceeds estimated module size.");return new Br(this.image,h,w,g-h,v-w,t,this.resultPointCallback).find()}}class Oi{constructor(){this.decoder=new os}getDecoder(){return this.decoder}decode(t,i){let r,l;if(i!=null&&i.get(Ce.PURE_BARCODE)!==void 0){const w=Oi.extractPureBits(t.getBlackMatrix());r=this.decoder.decodeBitMatrix(w,i),l=Oi.NO_POINTS}else{const w=new ur(t.getBlackMatrix()).detect(i);r=this.decoder.decodeBitMatrix(w.getBits(),i),l=w.getPoints()}r.getOther()instanceof Oo&&r.getOther().applyMirroredCorrection(l);const u=new Se(r.getText(),r.getRawBytes(),void 0,l,ye.QR_CODE,void 0),h=r.getByteSegments();h!==null&&u.putMetadata(Xe.BYTE_SEGMENTS,h);const g=r.getECLevel();return g!==null&&u.putMetadata(Xe.ERROR_CORRECTION_LEVEL,g),r.hasStructuredAppend()&&(u.putMetadata(Xe.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),u.putMetadata(Xe.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),u}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(i===null||r===null)throw new ee;const l=this.moduleSize(i,t);let u=i[1],h=r[1],g=i[0],w=r[0];if(g>=w||u>=h)throw new ee;if(h-u!==w-g&&(w=g+(h-u),w>=t.getWidth()))throw new ee;const v=Math.round((w-g+1)/l),S=Math.round((h-u+1)/l);if(v<=0||S<=0)throw new ee;if(S!==v)throw new ee;const N=Math.floor(l/2);u+=N,g+=N;const I=g+Math.floor((v-1)*l)-w;if(I>0){if(I>N)throw new ee;g-=I}const L=u+Math.floor((S-1)*l)-h;if(L>0){if(L>N)throw new ee;u-=L}const U=new ft(v,S);for(let F=0;F<S;F++){const W=u+Math.floor(F*l);for(let te=0;te<v;te++)t.get(g+Math.floor(te*l),W)&&U.set(te,F)}return U}static moduleSize(t,i){const r=i.getHeight(),l=i.getWidth();let u=t[0],h=t[1],g=!0,w=0;for(;u<l&&h<r;){if(g!==i.get(u,h)){if(++w===5)break;g=!g}u++,h++}if(u===l||h===r)throw new ee;return(u-t[0])/7}}Oi.NO_POINTS=new Array;class ke{PDF417Common(){}static getBitCountSum(t){return st.sum(t)}static toIntArray(t){if(t==null||!t.length)return ke.EMPTY_INT_ARRAY;const i=new Int32Array(t.length);let r=0;for(const l of t)i[r++]=l;return i}static getCodeword(t){const i=xe.binarySearch(ke.SYMBOL_TABLE,t&262143);return i<0?-1:(ke.CODEWORD_TABLE[i]-1)%ke.NUMBER_OF_CODEWORDS}}ke.NUMBER_OF_CODEWORDS=929,ke.MAX_CODEWORDS_IN_BARCODE=ke.NUMBER_OF_CODEWORDS-1,ke.MIN_ROWS_IN_BARCODE=3,ke.MAX_ROWS_IN_BARCODE=90,ke.MODULES_IN_CODEWORD=17,ke.MODULES_IN_STOP_PATTERN=18,ke.BARS_IN_MODULE=8,ke.EMPTY_INT_ARRAY=new Int32Array([]),ke.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ke.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ri{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class He{static detectMultiple(t,i,r){let l=t.getBlackMatrix(),u=He.detect(r,l);return u.length||(l=l.clone(),l.rotate180(),u=He.detect(r,l)),new Ri(l,u)}static detect(t,i){const r=new Array;let l=0,u=0,h=!1;for(;l<i.getHeight();){const g=He.findVertices(i,l,u);if(g[0]==null&&g[3]==null){if(!h)break;h=!1,u=0;for(const w of r)w[1]!=null&&(l=Math.trunc(Math.max(l,w[1].getY()))),w[3]!=null&&(l=Math.max(l,Math.trunc(w[3].getY())));l+=He.ROW_STEP;continue}if(h=!0,r.push(g),!t)break;g[2]!=null?(u=Math.trunc(g[2].getX()),l=Math.trunc(g[2].getY())):(u=Math.trunc(g[4].getX()),l=Math.trunc(g[4].getY()))}return r}static findVertices(t,i,r){const l=t.getHeight(),u=t.getWidth(),h=new Array(8);return He.copyToResult(h,He.findRowsWithPattern(t,l,u,i,r,He.START_PATTERN),He.INDEXES_START_PATTERN),h[4]!=null&&(r=Math.trunc(h[4].getX()),i=Math.trunc(h[4].getY())),He.copyToResult(h,He.findRowsWithPattern(t,l,u,i,r,He.STOP_PATTERN),He.INDEXES_STOP_PATTERN),h}static copyToResult(t,i,r){for(let l=0;l<r.length;l++)t[r[l]]=i[l]}static findRowsWithPattern(t,i,r,l,u,h){const g=new Array(4);let w=!1;const v=new Int32Array(h.length);for(;l<i;l+=He.ROW_STEP){let N=He.findGuardPattern(t,u,l,r,!1,h,v);if(N!=null){for(;l>0;){const I=He.findGuardPattern(t,u,--l,r,!1,h,v);if(I!=null)N=I;else{l++;break}}g[0]=new Oe(N[0],l),g[1]=new Oe(N[1],l),w=!0;break}}let S=l+1;if(w){let N=0,I=Int32Array.from([Math.trunc(g[0].getX()),Math.trunc(g[1].getX())]);for(;S<i;S++){const L=He.findGuardPattern(t,I[0],S,r,!1,h,v);if(L!=null&&Math.abs(I[0]-L[0])<He.MAX_PATTERN_DRIFT&&Math.abs(I[1]-L[1])<He.MAX_PATTERN_DRIFT)I=L,N=0;else{if(N>He.SKIPPED_ROW_COUNT_MAX)break;N++}}S-=N+1,g[2]=new Oe(I[0],S),g[3]=new Oe(I[1],S)}return S-l<He.BARCODE_MIN_HEIGHT&&xe.fill(g,null),g}static findGuardPattern(t,i,r,l,u,h,g){xe.fillWithin(g,0,g.length,0);let w=i,v=0;for(;t.get(w,r)&&w>0&&v++<He.MAX_PIXEL_DRIFT;)w--;let S=w,N=0,I=h.length;for(let L=u;S<l;S++)if(t.get(S,r)!==L)g[N]++;else{if(N===I-1){if(He.patternMatchVariance(g,h,He.MAX_INDIVIDUAL_VARIANCE)<He.MAX_AVG_VARIANCE)return new Int32Array([w,S]);w+=g[0]+g[1],q.arraycopy(g,2,g,0,N-1),g[N-1]=0,g[N]=0,N--}else N++;g[N]=1,L=!L}return N===I-1&&He.patternMatchVariance(g,h,He.MAX_INDIVIDUAL_VARIANCE)<He.MAX_AVG_VARIANCE?new Int32Array([w,S-1]):null}static patternMatchVariance(t,i,r){let l=t.length,u=0,h=0;for(let v=0;v<l;v++)u+=t[v],h+=i[v];if(u<h)return 1/0;let g=u/h;r*=g;let w=0;for(let v=0;v<l;v++){let S=t[v],N=i[v]*g,I=S>N?S-N:N-S;if(I>r)return 1/0;w+=I}return w/u}}He.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),He.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),He.MAX_AVG_VARIANCE=.42,He.MAX_INDIVIDUAL_VARIANCE=.8,He.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),He.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),He.MAX_PIXEL_DRIFT=3,He.MAX_PATTERN_DRIFT=5,He.SKIPPED_ROW_COUNT_MAX=25,He.ROW_STEP=5,He.BARCODE_MIN_HEIGHT=10;class Yt{constructor(t,i){if(i.length===0)throw new T;this.field=t;let r=i.length;if(r>1&&i[0]===0){let l=1;for(;l<r&&i[l]===0;)l++;l===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-l),q.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let l=0;for(let u of this.coefficients)l=this.field.add(l,u);return l}let i=this.coefficients[0],r=this.coefficients.length;for(let l=1;l<r;l++)i=this.field.add(this.field.multiply(t,i),this.coefficients[l]);return i}add(t){if(!this.field.equals(t.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,r=t.coefficients;if(i.length>r.length){let h=i;i=r,r=h}let l=new Int32Array(r.length),u=r.length-i.length;q.arraycopy(r,0,l,0,u);for(let h=u;h<r.length;h++)l[h]=this.field.add(i[h-u],r[h]);return new Yt(this.field,l)}subtract(t){if(!this.field.equals(t.field))throw new T("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Yt?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Yt(this.field,new Int32Array([0]));let i=this.coefficients,r=i.length,l=t.coefficients,u=l.length,h=new Int32Array(r+u-1);for(let g=0;g<r;g++){let w=i[g];for(let v=0;v<u;v++)h[g+v]=this.field.add(h[g+v],this.field.multiply(w,l[v]))}return new Yt(this.field,h)}negative(){let t=this.coefficients.length,i=new Int32Array(t);for(let r=0;r<t;r++)i[r]=this.field.subtract(0,this.coefficients[r]);return new Yt(this.field,i)}multiplyScalar(t){if(t===0)return new Yt(this.field,new Int32Array([0]));if(t===1)return this;let i=this.coefficients.length,r=new Int32Array(i);for(let l=0;l<i;l++)r[l]=this.field.multiply(this.coefficients[l],t);return new Yt(this.field,r)}multiplyByMonomial(t,i){if(t<0)throw new T;if(i===0)return new Yt(this.field,new Int32Array([0]));let r=this.coefficients.length,l=new Int32Array(r+t);for(let u=0;u<r;u++)l[u]=this.field.multiply(this.coefficients[u],i);return new Yt(this.field,l)}toString(){let t=new Ze;for(let i=this.getDegree();i>=0;i--){let r=this.getCoefficient(i);r!==0&&(r<0?(t.append(" - "),r=-r):t.length()>0&&t.append(" + "),(i===0||r!==1)&&t.append(r),i!==0&&(i===1?t.append("x"):(t.append("x^"),t.append(i))))}return t.toString()}}class qi{add(t,i){return(t+i)%this.modulus}subtract(t,i){return(this.modulus+t-i)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new T;return this.logTable[t]}inverse(t){if(t===0)throw new Mr;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class Aa extends qi{constructor(t,i){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let r=1;for(let l=0;l<t;l++)this.expTable[l]=r,r=r*i%t;for(let l=0;l<t-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new Yt(this,new Int32Array([0])),this.one=new Yt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new T;if(i===0)return this.zero;let r=new Int32Array(t+1);return r[0]=i,new Yt(this,r)}}Aa.PDF417_GF=new Aa(ke.NUMBER_OF_CODEWORDS,3);class Ca{constructor(){this.field=Aa.PDF417_GF}decode(t,i,r){let l=new Yt(this.field,t),u=new Int32Array(i),h=!1;for(let U=i;U>0;U--){let F=l.evaluateAt(this.field.exp(U));u[i-U]=F,F!==0&&(h=!0)}if(!h)return 0;let g=this.field.getOne();if(r!=null)for(const U of r){let F=this.field.exp(t.length-1-U),W=new Yt(this.field,new Int32Array([this.field.subtract(0,F),1]));g=g.multiply(W)}let w=new Yt(this.field,u),v=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),w,i),S=v[0],N=v[1],I=this.findErrorLocations(S),L=this.findErrorMagnitudes(N,S,I);for(let U=0;U<I.length;U++){let F=t.length-1-this.field.log(I[U]);if(F<0)throw k.getChecksumInstance();t[F]=this.field.subtract(t[F],L[U])}return I.length}runEuclideanAlgorithm(t,i,r){if(t.getDegree()<i.getDegree()){let I=t;t=i,i=I}let l=t,u=i,h=this.field.getZero(),g=this.field.getOne();for(;u.getDegree()>=Math.round(r/2);){let I=l,L=h;if(l=u,h=g,l.isZero())throw k.getChecksumInstance();u=I;let U=this.field.getZero(),F=l.getCoefficient(l.getDegree()),W=this.field.inverse(F);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){let te=u.getDegree()-l.getDegree(),pe=this.field.multiply(u.getCoefficient(u.getDegree()),W);U=U.add(this.field.buildMonomial(te,pe)),u=u.subtract(l.multiplyByMonomial(te,pe))}g=U.multiply(h).subtract(L).negative()}let w=g.getCoefficient(0);if(w===0)throw k.getChecksumInstance();let v=this.field.inverse(w),S=g.multiply(v),N=u.multiply(v);return[S,N]}findErrorLocations(t){let i=t.getDegree(),r=new Int32Array(i),l=0;for(let u=1;u<this.field.getSize()&&l<i;u++)t.evaluateAt(u)===0&&(r[l]=this.field.inverse(u),l++);if(l!==i)throw k.getChecksumInstance();return r}findErrorMagnitudes(t,i,r){let l=i.getDegree(),u=new Int32Array(l);for(let v=1;v<=l;v++)u[l-v]=this.field.multiply(v,i.getCoefficient(v));let h=new Yt(this.field,u),g=r.length,w=new Int32Array(g);for(let v=0;v<g;v++){let S=this.field.inverse(r[v]),N=this.field.subtract(0,t.evaluateAt(S)),I=this.field.inverse(h.evaluateAt(S));w[v]=this.field.multiply(N,I)}return w}}class Yi{constructor(t,i,r,l,u){t instanceof Yi?this.constructor_2(t):this.constructor_1(t,i,r,l,u)}constructor_1(t,i,r,l,u){const h=i==null||r==null,g=l==null||u==null;if(h&&g)throw new ee;h?(i=new Oe(0,l.getY()),r=new Oe(0,u.getY())):g&&(l=new Oe(t.getWidth()-1,i.getY()),u=new Oe(t.getWidth()-1,r.getY())),this.image=t,this.topLeft=i,this.bottomLeft=r,this.topRight=l,this.bottomRight=u,this.minX=Math.trunc(Math.min(i.getX(),r.getX())),this.maxX=Math.trunc(Math.max(l.getX(),u.getX())),this.minY=Math.trunc(Math.min(i.getY(),l.getY())),this.maxY=Math.trunc(Math.max(r.getY(),u.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,i){return t==null?i:i==null?t:new Yi(t.image,t.topLeft,t.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(t,i,r){let l=this.topLeft,u=this.bottomLeft,h=this.topRight,g=this.bottomRight;if(t>0){let w=r?this.topLeft:this.topRight,v=Math.trunc(w.getY()-t);v<0&&(v=0);let S=new Oe(w.getX(),v);r?l=S:h=S}if(i>0){let w=r?this.bottomLeft:this.bottomRight,v=Math.trunc(w.getY()+i);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);let S=new Oe(w.getX(),v);r?u=S:g=S}return new Yi(this.image,l,u,h,g)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class us{constructor(t,i,r,l){this.columnCount=t,this.errorCorrectionLevel=l,this.rowCountUpperPart=i,this.rowCountLowerPart=r,this.rowCount=i+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Wi{constructor(){this.buffer=""}static form(t,i){let r=-1;function l(h,g,w,v,S,N){if(h==="%%")return"%";if(i[++r]===void 0)return;h=v?parseInt(v.substr(1)):void 0;let I=S?parseInt(S.substr(1)):void 0,L;switch(N){case"s":L=i[r];break;case"c":L=i[r][0];break;case"f":L=parseFloat(i[r]).toFixed(h);break;case"p":L=parseFloat(i[r]).toPrecision(h);break;case"e":L=parseFloat(i[r]).toExponential(h);break;case"x":L=parseInt(i[r]).toString(I||16);break;case"d":L=parseFloat(parseInt(i[r],I||10).toPrecision(h)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(I);let U=parseInt(w),F=w&&w[0]+""=="0"?"0":" ";for(;L.length<U;)L=g!==void 0?L+F:F+L;return L}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(u,l)}format(t,...i){this.buffer+=Wi.form(t,i)}toString(){return this.buffer}}class kr{constructor(t){this.boundingBox=new Yi(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let i=this.getCodeword(t);if(i!=null)return i;for(let r=1;r<kr.MAX_NEARBY_DISTANCE;r++){let l=this.imageRowToCodewordIndex(t)-r;if(l>=0&&(i=this.codewords[l],i!=null)||(l=this.imageRowToCodewordIndex(t)+r,l<this.codewords.length&&(i=this.codewords[l],i!=null)))return i}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,i){this.codewords[this.imageRowToCodewordIndex(t)]=i}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Wi;let i=0;for(const r of this.codewords){if(r==null){t.format("%3d:    |   %n",i++);continue}t.format("%3d: %3d|%3d%n",i++,r.getRowNumber(),r.getValue())}return t.toString()}}kr.MAX_NEARBY_DISTANCE=5;class cn{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let i=this.values.get(t);i==null&&(i=0),i++,this.values.set(t,i)}getValue(){let t=-1,i=new Array;for(const[r,l]of this.values.entries()){const u={getKey:()=>r,getValue:()=>l};u.getValue()>t?(t=u.getValue(),i=[],i.push(u.getKey())):u.getValue()===t&&i.push(u.getKey())}return ke.toIntArray(i)}getConfidence(t){return this.values.get(t)}}class Zi extends kr{constructor(t,i){super(t),this._isLeft=i}setRowNumbers(){for(let t of this.getCodewords())t?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,t);let r=this.getBoundingBox(),l=this._isLeft?r.getTopLeft():r.getTopRight(),u=this._isLeft?r.getBottomLeft():r.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(l.getY())),g=this.imageRowToCodewordIndex(Math.trunc(u.getY())),w=-1,v=1,S=0;for(let N=h;N<g;N++){if(i[N]==null)continue;let I=i[N],L=I.getRowNumber()-w;if(L===0)S++;else if(L===1)v=Math.max(v,S),S=1,w=I.getRowNumber();else if(L<0||I.getRowNumber()>=t.getRowCount()||L>N)i[N]=null;else{let U;v>2?U=(v-2)*L:U=L;let F=U>=N;for(let W=1;W<=U&&!F;W++)F=i[N-W]!=null;F?i[N]=null:(w=I.getRowNumber(),S=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let i=new Int32Array(t.getRowCount());for(let r of this.getCodewords())if(r!=null){let l=r.getRowNumber();if(l>=i.length)continue;i[l]++}return i}adjustIncompleteIndicatorColumnRowNumbers(t){let i=this.getBoundingBox(),r=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(r.getY())),h=this.imageRowToCodewordIndex(Math.trunc(l.getY())),g=this.getCodewords(),w=-1;for(let v=u;v<h;v++){if(g[v]==null)continue;let S=g[v];S.setRowNumberAsRowIndicatorColumn();let N=S.getRowNumber()-w;N===0||(N===1?w=S.getRowNumber():S.getRowNumber()>=t.getRowCount()?g[v]=null:w=S.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),i=new cn,r=new cn,l=new cn,u=new cn;for(let g of t){if(g==null)continue;g.setRowNumberAsRowIndicatorColumn();let w=g.getValue()%30,v=g.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:r.setValue(w*3+1);break;case 1:u.setValue(w/3),l.setValue(w%3);break;case 2:i.setValue(w+1);break}}if(i.getValue().length===0||r.getValue().length===0||l.getValue().length===0||u.getValue().length===0||i.getValue()[0]<1||r.getValue()[0]+l.getValue()[0]<ke.MIN_ROWS_IN_BARCODE||r.getValue()[0]+l.getValue()[0]>ke.MAX_ROWS_IN_BARCODE)return null;let h=new us(i.getValue()[0],r.getValue()[0],l.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(t,h),h}removeIncorrectCodewords(t,i){for(let r=0;r<t.length;r++){let l=t[r];if(t[r]==null)continue;let u=l.getValue()%30,h=l.getRowNumber();if(h>i.getRowCount()){t[r]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:u*3+1!==i.getRowCountUpperPart()&&(t[r]=null);break;case 1:(Math.trunc(u/3)!==i.getErrorCorrectionLevel()||u%3!==i.getRowCountLowerPart())&&(t[r]=null);break;case 2:u+1!==i.getColumnCount()&&(t[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ki{constructor(t,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=ke.MAX_CODEWORDS_IN_BARCODE,i;do i=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let r=this.detectionResultColumns[i].getCodewords();for(let l=0;l<r.length;l++)r[l]!=null&&(r[l].hasValidRowNumber()||this.adjustRowNumbers(i,l,r))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<t.length;r++)if(t[r]!=null&&i[r]!=null&&t[r].getRowNumber()===i[r].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let u=this.detectionResultColumns[l].getCodewords()[r];u!=null&&(u.setRowNumber(t[r].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<i.length;r++){if(i[r]==null)continue;let l=i[r].getRowNumber(),u=0;for(let h=this.barcodeColumnCount+1;h>0&&u<this.ADJUST_ROW_NUMBER_SKIP;h--){let g=this.detectionResultColumns[h].getCodewords()[r];g!=null&&(u=Ki.adjustRowNumberIfValid(l,u,g),g.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,i=this.detectionResultColumns[0].getCodewords();for(let r=0;r<i.length;r++){if(i[r]==null)continue;let l=i[r].getRowNumber(),u=0;for(let h=1;h<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;h++){let g=this.detectionResultColumns[h].getCodewords()[r];g!=null&&(u=Ki.adjustRowNumberIfValid(l,u,g),g.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,i,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(t)?(r.setRowNumber(t),i=0):++i),i}adjustRowNumbers(t,i,r){if(!this.detectionResultColumns[t-1])return;let l=r[i],u=this.detectionResultColumns[t-1].getCodewords(),h=u;this.detectionResultColumns[t+1]!=null&&(h=this.detectionResultColumns[t+1].getCodewords());let g=new Array(14);g[2]=u[i],g[3]=h[i],i>0&&(g[0]=r[i-1],g[4]=u[i-1],g[5]=h[i-1]),i>1&&(g[8]=r[i-2],g[10]=u[i-2],g[11]=h[i-2]),i<r.length-1&&(g[1]=r[i+1],g[6]=u[i+1],g[7]=h[i+1]),i<r.length-2&&(g[9]=r[i+2],g[12]=u[i+2],g[13]=h[i+2]);for(let w of g)if(Ki.adjustRowNumber(l,w))return}static adjustRowNumber(t,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===t.getBucket()?(t.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,i){this.detectionResultColumns[t]=i}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Wi;for(let r=0;r<t.getCodewords().length;r++){i.format("CW %3d:",r);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){i.format("    |   ");continue}let u=this.detectionResultColumns[l].getCodewords()[r];if(u==null){i.format("    |   ");continue}i.format(" %3d|%3d",u.getRowNumber(),u.getValue())}i.format("%n")}return i.toString()}}class Ni{constructor(t,i,r,l){this.rowNumber=Ni.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(i),this.bucket=Math.trunc(r),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==Ni.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}Ni.BARCODE_ROW_UNKNOWN=-1;class Fn{static initialize(){for(let t=0;t<ke.SYMBOL_TABLE.length;t++){let i=ke.SYMBOL_TABLE[t],r=i&1;for(let l=0;l<ke.BARS_IN_MODULE;l++){let u=0;for(;(i&1)===r;)u+=1,i>>=1;r=i&1,Fn.RATIOS_TABLE[t]||(Fn.RATIOS_TABLE[t]=new Array(ke.BARS_IN_MODULE)),Fn.RATIOS_TABLE[t][ke.BARS_IN_MODULE-l-1]=Math.fround(u/ke.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let i=Fn.getDecodedCodewordValue(Fn.sampleBitCounts(t));return i!==-1?i:Fn.getClosestDecodedValue(t)}static sampleBitCounts(t){let i=st.sum(t),r=new Int32Array(ke.BARS_IN_MODULE),l=0,u=0;for(let h=0;h<ke.MODULES_IN_CODEWORD;h++){let g=i/(2*ke.MODULES_IN_CODEWORD)+h*i/ke.MODULES_IN_CODEWORD;u+t[l]<=g&&(u+=t[l],l++),r[l]++}return r}static getDecodedCodewordValue(t){let i=Fn.getBitValue(t);return ke.getCodeword(i)===-1?-1:i}static getBitValue(t){let i=0;for(let r=0;r<t.length;r++)for(let l=0;l<t[r];l++)i=i<<1|(r%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(t){let i=st.sum(t),r=new Array(ke.BARS_IN_MODULE);if(i>1)for(let h=0;h<r.length;h++)r[h]=Math.fround(t[h]/i);let l=wa.MAX_VALUE,u=-1;this.bSymbolTableReady||Fn.initialize();for(let h=0;h<Fn.RATIOS_TABLE.length;h++){let g=0,w=Fn.RATIOS_TABLE[h];for(let v=0;v<ke.BARS_IN_MODULE;v++){let S=Math.fround(w[v]-r[v]);if(g+=Math.fround(S*S),g>=l)break}g<l&&(l=g,u=ke.SYMBOL_TABLE[h])}return u}}Fn.bSymbolTableReady=!1,Fn.RATIOS_TABLE=new Array(ke.SYMBOL_TABLE.length).map(R=>new Array(ke.BARS_IN_MODULE));class cs{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class fs{static parseLong(t,i=void 0){return parseInt(t,i)}}class Pr extends y{}Pr.kind="NullPointerException";class hs{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,i,r){if(t==null)throw new Pr;if(i<0||i>t.length||r<0||i+r>t.length||i+r<0)throw new Y;if(r===0)return;for(let l=0;l<r;l++)this.write(t[i+l])}flush(){}close(){}}class Ro extends y{}class rc extends hs{constructor(t=32){if(super(),this.count=0,t<0)throw new T("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let r=this.buf.length<<1;if(r-t<0&&(r=t),r<0){if(t<0)throw new Ro;r=V.MAX_VALUE}this.buf=xe.copyOfUint8Array(this.buf,r)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,i,r){if(i<0||i>t.length||r<0||i+r-t.length>0)throw new Y;this.ensureCapacity(this.count+r),q.arraycopy(t,i,this.buf,this.count,r),this.count+=r}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return xe.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var wt;(function(R){R[R.ALPHA=0]="ALPHA",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.PUNCT=3]="PUNCT",R[R.ALPHA_SHIFT=4]="ALPHA_SHIFT",R[R.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(wt||(wt={}));function No(){if(typeof window<"u")return window.BigInt||null;if(typeof Bu<"u")return Bu.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ur;function Qi(R){if(typeof Ur>"u"&&(Ur=No()),Ur===null)throw new Error("BigInt is not supported!");return Ur(R)}function ac(){let R=[];R[0]=Qi(1);let t=Qi(900);R[1]=t;for(let i=2;i<16;i++)R[i]=R[i-1]*t;return R}class ie{static decode(t,i){let r=new Ze(""),l=ce.ISO8859_1;r.enableDecoding(l);let u=1,h=t[u++],g=new cs;for(;u<t[0];){switch(h){case ie.TEXT_COMPACTION_MODE_LATCH:u=ie.textCompaction(t,u,r);break;case ie.BYTE_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:u=ie.byteCompaction(h,t,l,u,r);break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[u++]);break;case ie.NUMERIC_COMPACTION_MODE_LATCH:u=ie.numericCompaction(t,u,r);break;case ie.ECI_CHARSET:ce.getCharacterSetECIByValue(t[u++]);break;case ie.ECI_GENERAL_PURPOSE:u+=2;break;case ie.ECI_USER_DEFINED:u++;break;case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=ie.decodeMacroBlock(t,u,g);break;case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:throw new ae;default:u--,u=ie.textCompaction(t,u,r);break}if(u<t.length)h=t[u++];else throw ae.getFormatInstance()}if(r.length()===0)throw ae.getFormatInstance();let w=new Zn(null,r.toString(),null,i);return w.setOther(g),w}static decodeMacroBlock(t,i,r){if(i+ie.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw ae.getFormatInstance();let l=new Int32Array(ie.NUMBER_OF_SEQUENCE_CODEWORDS);for(let g=0;g<ie.NUMBER_OF_SEQUENCE_CODEWORDS;g++,i++)l[g]=t[i];r.setSegmentIndex(V.parseInt(ie.decodeBase900toBase10(l,ie.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new Ze;i=ie.textCompaction(t,i,u),r.setFileId(u.toString());let h=-1;for(t[i]===ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=i+1);i<t[0];)switch(t[i]){case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,t[i]){case ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let g=new Ze;i=ie.textCompaction(t,i+1,g),r.setFileName(g.toString());break;case ie.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let w=new Ze;i=ie.textCompaction(t,i+1,w),r.setSender(w.toString());break;case ie.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let v=new Ze;i=ie.textCompaction(t,i+1,v),r.setAddressee(v.toString());break;case ie.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let S=new Ze;i=ie.numericCompaction(t,i+1,S),r.setSegmentCount(V.parseInt(S.toString()));break;case ie.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let N=new Ze;i=ie.numericCompaction(t,i+1,N),r.setTimestamp(fs.parseLong(N.toString()));break;case ie.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new Ze;i=ie.numericCompaction(t,i+1,I),r.setChecksum(V.parseInt(I.toString()));break;case ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let L=new Ze;i=ie.numericCompaction(t,i+1,L),r.setFileSize(fs.parseLong(L.toString()));break;default:throw ae.getFormatInstance()}break;case ie.MACRO_PDF417_TERMINATOR:i++,r.setLastSegment(!0);break;default:throw ae.getFormatInstance()}if(h!==-1){let g=i-h;r.isLastSegment()&&g--,r.setOptionalData(xe.copyOfRange(t,h,h+g))}return i}static textCompaction(t,i,r){let l=new Int32Array((t[0]-i)*2),u=new Int32Array((t[0]-i)*2),h=0,g=!1;for(;i<t[0]&&!g;){let w=t[i++];if(w<ie.TEXT_COMPACTION_MODE_LATCH)l[h]=w/30,l[h+1]=w%30,h+=2;else switch(w){case ie.TEXT_COMPACTION_MODE_LATCH:l[h++]=ie.TEXT_COMPACTION_MODE_LATCH;break;case ie.BYTE_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:case ie.NUMERIC_COMPACTION_MODE_LATCH:case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:i--,g=!0;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[h]=ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,w=t[i++],u[h]=w,h++;break}}return ie.decodeTextCompaction(l,u,h,r),i}static decodeTextCompaction(t,i,r,l){let u=wt.ALPHA,h=wt.ALPHA,g=0;for(;g<r;){let w=t[g],v="";switch(u){case wt.ALPHA:if(w<26)v=String.fromCharCode(65+w);else switch(w){case 26:v=" ";break;case ie.LL:u=wt.LOWER;break;case ie.ML:u=wt.MIXED;break;case ie.PS:h=u,u=wt.PUNCT_SHIFT;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[g]);break;case ie.TEXT_COMPACTION_MODE_LATCH:u=wt.ALPHA;break}break;case wt.LOWER:if(w<26)v=String.fromCharCode(97+w);else switch(w){case 26:v=" ";break;case ie.AS:h=u,u=wt.ALPHA_SHIFT;break;case ie.ML:u=wt.MIXED;break;case ie.PS:h=u,u=wt.PUNCT_SHIFT;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[g]);break;case ie.TEXT_COMPACTION_MODE_LATCH:u=wt.ALPHA;break}break;case wt.MIXED:if(w<ie.PL)v=ie.MIXED_CHARS[w];else switch(w){case ie.PL:u=wt.PUNCT;break;case 26:v=" ";break;case ie.LL:u=wt.LOWER;break;case ie.AL:u=wt.ALPHA;break;case ie.PS:h=u,u=wt.PUNCT_SHIFT;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[g]);break;case ie.TEXT_COMPACTION_MODE_LATCH:u=wt.ALPHA;break}break;case wt.PUNCT:if(w<ie.PAL)v=ie.PUNCT_CHARS[w];else switch(w){case ie.PAL:u=wt.ALPHA;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[g]);break;case ie.TEXT_COMPACTION_MODE_LATCH:u=wt.ALPHA;break}break;case wt.ALPHA_SHIFT:if(u=h,w<26)v=String.fromCharCode(65+w);else switch(w){case 26:v=" ";break;case ie.TEXT_COMPACTION_MODE_LATCH:u=wt.ALPHA;break}break;case wt.PUNCT_SHIFT:if(u=h,w<ie.PAL)v=ie.PUNCT_CHARS[w];else switch(w){case ie.PAL:u=wt.ALPHA;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[g]);break;case ie.TEXT_COMPACTION_MODE_LATCH:u=wt.ALPHA;break}break}v!==""&&l.append(v),g++}}static byteCompaction(t,i,r,l,u){let h=new rc,g=0,w=0,v=!1;switch(t){case ie.BYTE_COMPACTION_MODE_LATCH:let S=new Int32Array(6),N=i[l++];for(;l<i[0]&&!v;)switch(S[g++]=N,w=900*w+N,N=i[l++],N){case ie.TEXT_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH:case ie.NUMERIC_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:l--,v=!0;break;default:if(g%5===0&&g>0){for(let I=0;I<6;++I)h.write(Number(Qi(w)>>Qi(8*(5-I))));w=0,g=0}break}l===i[0]&&N<ie.TEXT_COMPACTION_MODE_LATCH&&(S[g++]=N);for(let I=0;I<g;I++)h.write(S[I]);break;case ie.BYTE_COMPACTION_MODE_LATCH_6:for(;l<i[0]&&!v;){let I=i[l++];if(I<ie.TEXT_COMPACTION_MODE_LATCH)g++,w=900*w+I;else switch(I){case ie.TEXT_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH:case ie.NUMERIC_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:l--,v=!0;break}if(g%5===0&&g>0){for(let L=0;L<6;++L)h.write(Number(Qi(w)>>Qi(8*(5-L))));w=0,g=0}}break}return u.append(Ve.decode(h.toByteArray(),r)),l}static numericCompaction(t,i,r){let l=0,u=!1,h=new Int32Array(ie.MAX_NUMERIC_CODEWORDS);for(;i<t[0]&&!u;){let g=t[i++];if(i===t[0]&&(u=!0),g<ie.TEXT_COMPACTION_MODE_LATCH)h[l]=g,l++;else switch(g){case ie.TEXT_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:i--,u=!0;break}(l%ie.MAX_NUMERIC_CODEWORDS===0||g===ie.NUMERIC_COMPACTION_MODE_LATCH||u)&&l>0&&(r.append(ie.decodeBase900toBase10(h,l)),l=0)}return i}static decodeBase900toBase10(t,i){let r=Qi(0);for(let u=0;u<i;u++)r+=ie.EXP900[i-u-1]*Qi(t[u]);let l=r.toString();if(l.charAt(0)!=="1")throw new ae;return l.substring(1)}}ie.TEXT_COMPACTION_MODE_LATCH=900,ie.BYTE_COMPACTION_MODE_LATCH=901,ie.NUMERIC_COMPACTION_MODE_LATCH=902,ie.BYTE_COMPACTION_MODE_LATCH_6=924,ie.ECI_USER_DEFINED=925,ie.ECI_GENERAL_PURPOSE=926,ie.ECI_CHARSET=927,ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ie.MACRO_PDF417_TERMINATOR=922,ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ie.MAX_NUMERIC_CODEWORDS=15,ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ie.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ie.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ie.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ie.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ie.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ie.PL=25,ie.LL=27,ie.AS=27,ie.ML=28,ie.AL=28,ie.PS=29,ie.PAL=29,ie.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ie.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ie.EXP900=No()?ac():[],ie.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ye{constructor(){}static decode(t,i,r,l,u,h,g){let w=new Yi(t,i,r,l,u),v=null,S=null,N;for(let U=!0;;U=!1){if(i!=null&&(v=Ye.getRowIndicatorColumn(t,w,i,!0,h,g)),l!=null&&(S=Ye.getRowIndicatorColumn(t,w,l,!1,h,g)),N=Ye.merge(v,S),N==null)throw ee.getNotFoundInstance();let F=N.getBoundingBox();if(U&&F!=null&&(F.getMinY()<w.getMinY()||F.getMaxY()>w.getMaxY()))w=F;else break}N.setBoundingBox(w);let I=N.getBarcodeColumnCount()+1;N.setDetectionResultColumn(0,v),N.setDetectionResultColumn(I,S);let L=v!=null;for(let U=1;U<=I;U++){let F=L?U:I-U;if(N.getDetectionResultColumn(F)!==void 0)continue;let W;F===0||F===I?W=new Zi(w,F===0):W=new kr(w),N.setDetectionResultColumn(F,W);let te=-1,pe=te;for(let Ee=w.getMinY();Ee<=w.getMaxY();Ee++){if(te=Ye.getStartColumn(N,F,Ee,L),te<0||te>w.getMaxX()){if(pe===-1)continue;te=pe}let me=Ye.detectCodeword(t,w.getMinX(),w.getMaxX(),L,te,Ee,h,g);me!=null&&(W.setCodeword(Ee,me),pe=te,h=Math.min(h,me.getWidth()),g=Math.max(g,me.getWidth()))}}return Ye.createDecoderResult(N)}static merge(t,i){if(t==null&&i==null)return null;let r=Ye.getBarcodeMetadata(t,i);if(r==null)return null;let l=Yi.merge(Ye.adjustBoundingBox(t),Ye.adjustBoundingBox(i));return new Ki(r,l)}static adjustBoundingBox(t){if(t==null)return null;let i=t.getRowHeights();if(i==null)return null;let r=Ye.getMax(i),l=0;for(let g of i)if(l+=r-g,g>0)break;let u=t.getCodewords();for(let g=0;l>0&&u[g]==null;g++)l--;let h=0;for(let g=i.length-1;g>=0&&(h+=r-i[g],!(i[g]>0));g--);for(let g=u.length-1;h>0&&u[g]==null;g--)h--;return t.getBoundingBox().addMissingRows(l,h,t.isLeft())}static getMax(t){let i=-1;for(let r of t)i=Math.max(i,r);return i}static getBarcodeMetadata(t,i){let r;if(t==null||(r=t.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let l;return i==null||(l=i.getBarcodeMetadata())==null?r:r.getColumnCount()!==l.getColumnCount()&&r.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&r.getRowCount()!==l.getRowCount()?null:r}static getRowIndicatorColumn(t,i,r,l,u,h){let g=new Zi(i,l);for(let w=0;w<2;w++){let v=w===0?1:-1,S=Math.trunc(Math.trunc(r.getX()));for(let N=Math.trunc(Math.trunc(r.getY()));N<=i.getMaxY()&&N>=i.getMinY();N+=v){let I=Ye.detectCodeword(t,0,t.getWidth(),l,S,N,u,h);I!=null&&(g.setCodeword(N,I),l?S=I.getStartX():S=I.getEndX())}}return g}static adjustCodewordCount(t,i){let r=i[0][1],l=r.getValue(),u=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-Ye.getNumberOfECCodeWords(t.getBarcodeECLevel());if(l.length===0){if(u<1||u>ke.MAX_CODEWORDS_IN_BARCODE)throw ee.getNotFoundInstance();r.setValue(u)}else l[0]!==u&&r.setValue(u)}static createDecoderResult(t){let i=Ye.createBarcodeMatrix(t);Ye.adjustCodewordCount(t,i);let r=new Array,l=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),u=[],h=new Array;for(let w=0;w<t.getBarcodeRowCount();w++)for(let v=0;v<t.getBarcodeColumnCount();v++){let S=i[w][v+1].getValue(),N=w*t.getBarcodeColumnCount()+v;S.length===0?r.push(N):S.length===1?l[N]=S[0]:(h.push(N),u.push(S))}let g=new Array(u.length);for(let w=0;w<g.length;w++)g[w]=u[w];return Ye.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),l,ke.toIntArray(r),ke.toIntArray(h),g)}static createDecoderResultFromAmbiguousValues(t,i,r,l,u){let h=new Int32Array(l.length),g=100;for(;g-- >0;){for(let w=0;w<h.length;w++)i[l[w]]=u[w][h[w]];try{return Ye.decodeCodewords(i,t,r)}catch(w){if(!(w instanceof k))throw w}if(h.length===0)throw k.getChecksumInstance();for(let w=0;w<h.length;w++)if(h[w]<u[w].length-1){h[w]++;break}else if(h[w]=0,w===h.length-1)throw k.getChecksumInstance()}throw k.getChecksumInstance()}static createBarcodeMatrix(t){let i=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let l=0;l<i.length;l++)for(let u=0;u<i[l].length;u++)i[l][u]=new cn;let r=0;for(let l of t.getDetectionResultColumns()){if(l!=null){for(let u of l.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=0){if(h>=i.length)continue;i[h][r].setValue(u.getValue())}}}r++}return i}static isValidBarcodeColumn(t,i){return i>=0&&i<=t.getBarcodeColumnCount()+1}static getStartColumn(t,i,r,l){let u=l?1:-1,h=null;if(Ye.isValidBarcodeColumn(t,i-u)&&(h=t.getDetectionResultColumn(i-u).getCodeword(r)),h!=null)return l?h.getEndX():h.getStartX();if(h=t.getDetectionResultColumn(i).getCodewordNearby(r),h!=null)return l?h.getStartX():h.getEndX();if(Ye.isValidBarcodeColumn(t,i-u)&&(h=t.getDetectionResultColumn(i-u).getCodewordNearby(r)),h!=null)return l?h.getEndX():h.getStartX();let g=0;for(;Ye.isValidBarcodeColumn(t,i-u);){i-=u;for(let w of t.getDetectionResultColumn(i).getCodewords())if(w!=null)return(l?w.getEndX():w.getStartX())+u*g*(w.getEndX()-w.getStartX());g++}return l?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,i,r,l,u,h,g,w){u=Ye.adjustCodewordStartColumn(t,i,r,l,u,h);let v=Ye.getModuleBitCount(t,i,r,l,u,h);if(v==null)return null;let S,N=st.sum(v);if(l)S=u+N;else{for(let U=0;U<v.length/2;U++){let F=v[U];v[U]=v[v.length-1-U],v[v.length-1-U]=F}S=u,u=S-N}if(!Ye.checkCodewordSkew(N,g,w))return null;let I=Fn.getDecodedValue(v),L=ke.getCodeword(I);return L===-1?null:new Ni(u,S,Ye.getCodewordBucketNumber(I),L)}static getModuleBitCount(t,i,r,l,u,h){let g=u,w=new Int32Array(8),v=0,S=l?1:-1,N=l;for(;(l?g<r:g>=i)&&v<w.length;)t.get(g,h)===N?(w[v]++,g+=S):(v++,N=!N);return v===w.length||g===(l?r:i)&&v===w.length-1?w:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,i,r,l,u,h){let g=u,w=l?-1:1;for(let v=0;v<2;v++){for(;(l?g>=i:g<r)&&l===t.get(g,h);){if(Math.abs(u-g)>Ye.CODEWORD_SKEW_SIZE)return u;g+=w}w=-w,l=!l}return g}static checkCodewordSkew(t,i,r){return i-Ye.CODEWORD_SKEW_SIZE<=t&&t<=r+Ye.CODEWORD_SKEW_SIZE}static decodeCodewords(t,i,r){if(t.length===0)throw ae.getFormatInstance();let l=1<<i+1,u=Ye.correctErrors(t,r,l);Ye.verifyCodewordCount(t,l);let h=ie.decode(t,""+i);return h.setErrorsCorrected(u),h.setErasures(r.length),h}static correctErrors(t,i,r){if(i!=null&&i.length>r/2+Ye.MAX_ERRORS||r<0||r>Ye.MAX_EC_CODEWORDS)throw k.getChecksumInstance();return Ye.errorCorrection.decode(t,r,i)}static verifyCodewordCount(t,i){if(t.length<4)throw ae.getFormatInstance();let r=t[0];if(r>t.length)throw ae.getFormatInstance();if(r===0)if(i<t.length)t[0]=t.length-i;else throw ae.getFormatInstance()}static getBitCountForCodeword(t){let i=new Int32Array(8),r=0,l=i.length-1;for(;!((t&1)!==r&&(r=t&1,l--,l<0));)i[l]++,t>>=1;return i}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return Ye.getCodewordBucketNumber(Ye.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let i=new Wi;for(let r=0;r<t.length;r++){i.format("Row %2d: ",r);for(let l=0;l<t[r].length;l++){let u=t[r][l];u.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}i.format("%n")}return i.toString()}}Ye.CODEWORD_SKEW_SIZE=2,Ye.MAX_ERRORS=3,Ye.MAX_EC_CODEWORDS=512,Ye.errorCorrection=new Ca;class wn{decode(t,i=null){let r=wn.decode(t,i,!1);if(r==null||r.length===0||r[0]==null)throw ee.getNotFoundInstance();return r[0]}decodeMultiple(t,i=null){try{return wn.decode(t,i,!0)}catch(r){throw r instanceof ae||r instanceof k?ee.getNotFoundInstance():r}}static decode(t,i,r){const l=new Array,u=He.detectMultiple(t,i,r);for(const h of u.getPoints()){const g=Ye.decode(u.getBits(),h[4],h[5],h[6],h[7],wn.getMinCodewordWidth(h),wn.getMaxCodewordWidth(h)),w=new Se(g.getText(),g.getRawBytes(),void 0,h,ye.PDF_417);w.putMetadata(Xe.ERROR_CORRECTION_LEVEL,g.getECLevel());const v=g.getOther();v!=null&&w.putMetadata(Xe.PDF417_EXTRA_METADATA,v),l.push(w)}return l.map(h=>h)}static getMaxWidth(t,i){return t==null||i==null?0:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMinWidth(t,i){return t==null||i==null?V.MAX_VALUE:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(wn.getMaxWidth(t[0],t[4]),wn.getMaxWidth(t[6],t[2])*ke.MODULES_IN_CODEWORD/ke.MODULES_IN_STOP_PATTERN),Math.max(wn.getMaxWidth(t[1],t[5]),wn.getMaxWidth(t[7],t[3])*ke.MODULES_IN_CODEWORD/ke.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(wn.getMinWidth(t[0],t[4]),wn.getMinWidth(t[6],t[2])*ke.MODULES_IN_CODEWORD/ke.MODULES_IN_STOP_PATTERN),Math.min(wn.getMinWidth(t[1],t[5]),wn.getMinWidth(t[7],t[3])*ke.MODULES_IN_CODEWORD/ke.MODULES_IN_STOP_PATTERN)))}reset(){}}class _a extends y{}_a.kind="ReaderException";class Io{constructor(t,i){this.verbose=t===!0,i&&this.setHints(i)}decode(t,i){return i&&this.setHints(i),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const i=!d(t)&&t.get(Ce.TRY_HARDER)===!0,r=d(t)?null:t.get(Ce.POSSIBLE_FORMATS),l=new Array;if(!d(r)){const u=r.some(h=>h===ye.UPC_A||h===ye.UPC_E||h===ye.EAN_13||h===ye.EAN_8||h===ye.CODABAR||h===ye.CODE_39||h===ye.CODE_93||h===ye.CODE_128||h===ye.ITF||h===ye.RSS_14||h===ye.RSS_EXPANDED);u&&!i&&l.push(new Gi(t,this.verbose)),r.includes(ye.QR_CODE)&&l.push(new Oi),r.includes(ye.DATA_MATRIX)&&l.push(new si),r.includes(ye.AZTEC)&&l.push(new ts),r.includes(ye.PDF_417)&&l.push(new wn),u&&i&&l.push(new Gi(t,this.verbose))}l.length===0&&(i||l.push(new Gi(t,this.verbose)),l.push(new Oi),l.push(new si),l.push(new ts),l.push(new wn),i&&l.push(new Gi(t,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new _a("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(t,this.hints)}catch(r){if(r instanceof _a)continue}throw new ee("No MultiFormat Readers were able to detect the code.")}}class sc extends Ae{constructor(t=null,i=500){const r=new Io;r.setHints(t),super(r,i)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class lc extends Ae{constructor(t=500){super(new wn,t)}}class oc extends Ae{constructor(t=500){super(new Oi,t)}}var Sa;(function(R){R[R.ERROR_CORRECTION=0]="ERROR_CORRECTION",R[R.CHARACTER_SET=1]="CHARACTER_SET",R[R.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",R[R.MIN_SIZE=3]="MIN_SIZE",R[R.MAX_SIZE=4]="MAX_SIZE",R[R.MARGIN=5]="MARGIN",R[R.PDF417_COMPACT=6]="PDF417_COMPACT",R[R.PDF417_COMPACTION=7]="PDF417_COMPACTION",R[R.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",R[R.AZTEC_LAYERS=9]="AZTEC_LAYERS",R[R.QR_VERSION=10]="QR_VERSION"})(Sa||(Sa={}));var sn=Sa;class gl{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new dn(t,Int32Array.from([1])))}buildGenerator(t){const i=this.cachedGenerators;if(t>=i.length){let r=i[i.length-1];const l=this.field;for(let u=i.length;u<=t;u++){const h=r.multiply(new dn(l,Int32Array.from([1,l.exp(u-1+l.getGeneratorBase())])));i.push(h),r=h}}return i[t]}encode(t,i){if(i===0)throw new T("No error correction bytes");const r=t.length-i;if(r<=0)throw new T("No data bytes provided");const l=this.buildGenerator(i),u=new Int32Array(r);q.arraycopy(t,0,u,0,r);let h=new dn(this.field,u);h=h.multiplyByMonomial(i,1);const w=h.divide(l)[1].getCoefficients(),v=i-w.length;for(let S=0;S<v;S++)t[r+S]=0;q.arraycopy(w,0,t,r+v,w.length)}}class Gt{constructor(){}static applyMaskPenaltyRule1(t){return Gt.applyMaskPenaltyRule1Internal(t,!0)+Gt.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let i=0;const r=t.getArray(),l=t.getWidth(),u=t.getHeight();for(let h=0;h<u-1;h++){const g=r[h];for(let w=0;w<l-1;w++){const v=g[w];v===g[w+1]&&v===r[h+1][w]&&v===r[h+1][w+1]&&i++}}return Gt.N2*i}static applyMaskPenaltyRule3(t){let i=0;const r=t.getArray(),l=t.getWidth(),u=t.getHeight();for(let h=0;h<u;h++)for(let g=0;g<l;g++){const w=r[h];g+6<l&&w[g]===1&&w[g+1]===0&&w[g+2]===1&&w[g+3]===1&&w[g+4]===1&&w[g+5]===0&&w[g+6]===1&&(Gt.isWhiteHorizontal(w,g-4,g)||Gt.isWhiteHorizontal(w,g+7,g+11))&&i++,h+6<u&&r[h][g]===1&&r[h+1][g]===0&&r[h+2][g]===1&&r[h+3][g]===1&&r[h+4][g]===1&&r[h+5][g]===0&&r[h+6][g]===1&&(Gt.isWhiteVertical(r,g,h-4,h)||Gt.isWhiteVertical(r,g,h+7,h+11))&&i++}return i*Gt.N3}static isWhiteHorizontal(t,i,r){i=Math.max(i,0),r=Math.min(r,t.length);for(let l=i;l<r;l++)if(t[l]===1)return!1;return!0}static isWhiteVertical(t,i,r,l){r=Math.max(r,0),l=Math.min(l,t.length);for(let u=r;u<l;u++)if(t[u][i]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let i=0;const r=t.getArray(),l=t.getWidth(),u=t.getHeight();for(let w=0;w<u;w++){const v=r[w];for(let S=0;S<l;S++)v[S]===1&&i++}const h=t.getHeight()*t.getWidth();return Math.floor(Math.abs(i*2-h)*10/h)*Gt.N4}static getDataMaskBit(t,i,r){let l,u;switch(t){case 0:l=r+i&1;break;case 1:l=r&1;break;case 2:l=i%3;break;case 3:l=(r+i)%3;break;case 4:l=Math.floor(r/2)+Math.floor(i/3)&1;break;case 5:u=r*i,l=(u&1)+u%3;break;case 6:u=r*i,l=(u&1)+u%3&1;break;case 7:u=r*i,l=u%3+(r+i&1)&1;break;default:throw new T("Invalid mask pattern: "+t)}return l===0}static applyMaskPenaltyRule1Internal(t,i){let r=0;const l=i?t.getHeight():t.getWidth(),u=i?t.getWidth():t.getHeight(),h=t.getArray();for(let g=0;g<l;g++){let w=0,v=-1;for(let S=0;S<u;S++){const N=i?h[g][S]:h[S][g];N===v?w++:(w>=5&&(r+=Gt.N1+(w-5)),w=1,v=N)}w>=5&&(r+=Gt.N1+(w-5))}return r}}Gt.N1=3,Gt.N2=3,Gt.N3=40,Gt.N4=10;class Ta{constructor(t,i){this.width=t,this.height=i;const r=new Array(i);for(let l=0;l!==i;l++)r[l]=new Uint8Array(t);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(t,i){return this.bytes[i][t]}getArray(){return this.bytes}setNumber(t,i,r){this.bytes[i][t]=r}setBoolean(t,i,r){this.bytes[i][t]=r?1:0}clear(t){for(const i of this.bytes)xe.fill(i,t)}equals(t){if(!(t instanceof Ta))return!1;const i=t;if(this.width!==i.width||this.height!==i.height)return!1;for(let r=0,l=this.height;r<l;++r){const u=this.bytes[r],h=i.bytes[r];for(let g=0,w=this.width;g<w;++g)if(u[g]!==h[g])return!1}return!0}toString(){const t=new Ze;for(let i=0,r=this.height;i<r;++i){const l=this.bytes[i];for(let u=0,h=this.width;u<h;++u)switch(l[u]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class cr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Ze;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<cr.NUM_MASK_PATTERNS}}cr.NUM_MASK_PATTERNS=8;class vt extends y{}vt.kind="WriterException";class Pe{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,i,r,l,u){Pe.clearMatrix(u),Pe.embedBasicPatterns(r,u),Pe.embedTypeInfo(i,l,u),Pe.maybeEmbedVersionInfo(r,u),Pe.embedDataBits(t,l,u)}static embedBasicPatterns(t,i){Pe.embedPositionDetectionPatternsAndSeparators(i),Pe.embedDarkDotAtLeftBottomCorner(i),Pe.maybeEmbedPositionAdjustmentPatterns(t,i),Pe.embedTimingPatterns(i)}static embedTypeInfo(t,i,r){const l=new le;Pe.makeTypeInfoBits(t,i,l);for(let u=0,h=l.getSize();u<h;++u){const g=l.get(l.getSize()-1-u),w=Pe.TYPE_INFO_COORDINATES[u],v=w[0],S=w[1];if(r.setBoolean(v,S,g),u<8){const N=r.getWidth()-u-1;r.setBoolean(N,8,g)}else{const I=r.getHeight()-7+(u-8);r.setBoolean(8,I,g)}}}static maybeEmbedVersionInfo(t,i){if(t.getVersionNumber()<7)return;const r=new le;Pe.makeVersionInfoBits(t,r);let l=17;for(let u=0;u<6;++u)for(let h=0;h<3;++h){const g=r.get(l);l--,i.setBoolean(u,i.getHeight()-11+h,g),i.setBoolean(i.getHeight()-11+h,u,g)}}static embedDataBits(t,i,r){let l=0,u=-1,h=r.getWidth()-1,g=r.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);g>=0&&g<r.getHeight();){for(let w=0;w<2;++w){const v=h-w;if(!Pe.isEmpty(r.get(v,g)))continue;let S;l<t.getSize()?(S=t.get(l),++l):S=!1,i!==255&&Gt.getDataMaskBit(i,v,g)&&(S=!S),r.setBoolean(v,g,S)}g+=u}u=-u,g+=u,h-=2}if(l!==t.getSize())throw new vt("Not all bits consumed: "+l+"/"+t.getSize())}static findMSBSet(t){return 32-V.numberOfLeadingZeros(t)}static calculateBCHCode(t,i){if(i===0)throw new T("0 polynomial");const r=Pe.findMSBSet(i);for(t<<=r-1;Pe.findMSBSet(t)>=r;)t^=i<<Pe.findMSBSet(t)-r;return t}static makeTypeInfoBits(t,i,r){if(!cr.isValidMaskPattern(i))throw new vt("Invalid mask pattern");const l=t.getBits()<<3|i;r.appendBits(l,5);const u=Pe.calculateBCHCode(l,Pe.TYPE_INFO_POLY);r.appendBits(u,10);const h=new le;if(h.appendBits(Pe.TYPE_INFO_MASK_PATTERN,15),r.xor(h),r.getSize()!==15)throw new vt("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(t,i){i.appendBits(t.getVersionNumber(),6);const r=Pe.calculateBCHCode(t.getVersionNumber(),Pe.VERSION_INFO_POLY);if(i.appendBits(r,12),i.getSize()!==18)throw new vt("should not happen but we got: "+i.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let i=8;i<t.getWidth()-8;++i){const r=(i+1)%2;Pe.isEmpty(t.get(i,6))&&t.setNumber(i,6,r),Pe.isEmpty(t.get(6,i))&&t.setNumber(6,i,r)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new vt;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,i,r){for(let l=0;l<8;++l){if(!Pe.isEmpty(r.get(t+l,i)))throw new vt;r.setNumber(t+l,i,0)}}static embedVerticalSeparationPattern(t,i,r){for(let l=0;l<7;++l){if(!Pe.isEmpty(r.get(t,i+l)))throw new vt;r.setNumber(t,i+l,0)}}static embedPositionAdjustmentPattern(t,i,r){for(let l=0;l<5;++l){const u=Pe.POSITION_ADJUSTMENT_PATTERN[l];for(let h=0;h<5;++h)r.setNumber(t+h,i+l,u[h])}}static embedPositionDetectionPattern(t,i,r){for(let l=0;l<7;++l){const u=Pe.POSITION_DETECTION_PATTERN[l];for(let h=0;h<7;++h)r.setNumber(t+h,i+l,u[h])}}static embedPositionDetectionPatternsAndSeparators(t){const i=Pe.POSITION_DETECTION_PATTERN[0].length;Pe.embedPositionDetectionPattern(0,0,t),Pe.embedPositionDetectionPattern(t.getWidth()-i,0,t),Pe.embedPositionDetectionPattern(0,t.getWidth()-i,t);const r=8;Pe.embedHorizontalSeparationPattern(0,r-1,t),Pe.embedHorizontalSeparationPattern(t.getWidth()-r,r-1,t),Pe.embedHorizontalSeparationPattern(0,t.getWidth()-r,t);const l=7;Pe.embedVerticalSeparationPattern(l,0,t),Pe.embedVerticalSeparationPattern(t.getHeight()-l-1,0,t),Pe.embedVerticalSeparationPattern(l,t.getHeight()-l,t)}static maybeEmbedPositionAdjustmentPatterns(t,i){if(t.getVersionNumber()<2)return;const r=t.getVersionNumber()-1,l=Pe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let u=0,h=l.length;u!==h;u++){const g=l[u];if(g>=0)for(let w=0;w!==h;w++){const v=l[w];v>=0&&Pe.isEmpty(i.get(v,g))&&Pe.embedPositionAdjustmentPattern(v-2,g-2,i)}}}}Pe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Pe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Pe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Pe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Pe.VERSION_INFO_POLY=7973,Pe.TYPE_INFO_POLY=1335,Pe.TYPE_INFO_MASK_PATTERN=21522;class uc{constructor(t,i){this.dataBytes=t,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Dt{constructor(){}static calculateMaskPenalty(t){return Gt.applyMaskPenaltyRule1(t)+Gt.applyMaskPenaltyRule2(t)+Gt.applyMaskPenaltyRule3(t)+Gt.applyMaskPenaltyRule4(t)}static encode(t,i,r=null){let l=Dt.DEFAULT_BYTE_MODE_ENCODING;const u=r!==null&&r.get(sn.CHARACTER_SET)!==void 0;u&&(l=r.get(sn.CHARACTER_SET).toString());const h=this.chooseMode(t,l),g=new le;if(h===Me.BYTE&&(u||Dt.DEFAULT_BYTE_MODE_ENCODING!==l)){const Ee=ce.getCharacterSetECIByName(l);Ee!==void 0&&this.appendECI(Ee,g)}this.appendModeInfo(h,g);const w=new le;this.appendBytes(t,h,w,l);let v;if(r!==null&&r.get(sn.QR_VERSION)!==void 0){const Ee=Number.parseInt(r.get(sn.QR_VERSION).toString(),10);v=Ie.getVersionForNumber(Ee);const me=this.calculateBitsNeeded(h,g,w,v);if(!this.willFit(me,v,i))throw new vt("Data too big for requested version")}else v=this.recommendVersion(i,h,g,w);const S=new le;S.appendBitArray(g);const N=h===Me.BYTE?w.getSizeInBytes():t.length;this.appendLengthInfo(N,v,h,S),S.appendBitArray(w);const I=v.getECBlocksForLevel(i),L=v.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(L,S);const U=this.interleaveWithECBytes(S,v.getTotalCodewords(),L,I.getNumBlocks()),F=new cr;F.setECLevel(i),F.setMode(h),F.setVersion(v);const W=v.getDimensionForVersion(),te=new Ta(W,W),pe=this.chooseMaskPattern(U,i,v,te);return F.setMaskPattern(pe),Pe.buildMatrix(U,i,v,pe,te),F.setMatrix(te),F}static recommendVersion(t,i,r,l){const u=this.calculateBitsNeeded(i,r,l,Ie.getVersionForNumber(1)),h=this.chooseVersion(u,t),g=this.calculateBitsNeeded(i,r,l,h);return this.chooseVersion(g,t)}static calculateBitsNeeded(t,i,r,l){return i.getSize()+t.getCharacterCountBits(l)+r.getSize()}static getAlphanumericCode(t){return t<Dt.ALPHANUMERIC_TABLE.length?Dt.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,i=null){if(ce.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(t))return Me.KANJI;let r=!1,l=!1;for(let u=0,h=t.length;u<h;++u){const g=t.charAt(u);if(Dt.isDigit(g))r=!0;else if(this.getAlphanumericCode(g.charCodeAt(0))!==-1)l=!0;else return Me.BYTE}return l?Me.ALPHANUMERIC:r?Me.NUMERIC:Me.BYTE}static isOnlyDoubleByteKanji(t){let i;try{i=Ve.encode(t,ce.SJIS)}catch{return!1}const r=i.length;if(r%2!==0)return!1;for(let l=0;l<r;l+=2){const u=i[l]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(t,i,r,l){let u=Number.MAX_SAFE_INTEGER,h=-1;for(let g=0;g<cr.NUM_MASK_PATTERNS;g++){Pe.buildMatrix(t,i,r,g,l);let w=this.calculateMaskPenalty(l);w<u&&(u=w,h=g)}return h}static chooseVersion(t,i){for(let r=1;r<=40;r++){const l=Ie.getVersionForNumber(r);if(Dt.willFit(t,l,i))return l}throw new vt("Data too big")}static willFit(t,i,r){const l=i.getTotalCodewords(),h=i.getECBlocksForLevel(r).getTotalECCodewords(),g=l-h,w=(t+7)/8;return g>=w}static terminateBits(t,i){const r=t*8;if(i.getSize()>r)throw new vt("data bits cannot fit in the QR Code"+i.getSize()+" > "+r);for(let h=0;h<4&&i.getSize()<r;++h)i.appendBit(!1);const l=i.getSize()&7;if(l>0)for(let h=l;h<8;h++)i.appendBit(!1);const u=t-i.getSizeInBytes();for(let h=0;h<u;++h)i.appendBits((h&1)===0?236:17,8);if(i.getSize()!==r)throw new vt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,i,r,l,u,h){if(l>=r)throw new vt("Block ID too large");const g=t%r,w=r-g,v=Math.floor(t/r),S=v+1,N=Math.floor(i/r),I=N+1,L=v-N,U=S-I;if(L!==U)throw new vt("EC bytes mismatch");if(r!==w+g)throw new vt("RS blocks mismatch");if(t!==(N+L)*w+(I+U)*g)throw new vt("Total bytes mismatch");l<w?(u[0]=N,h[0]=L):(u[0]=I,h[0]=U)}static interleaveWithECBytes(t,i,r,l){if(t.getSizeInBytes()!==r)throw new vt("Number of bits and data bytes does not match");let u=0,h=0,g=0;const w=new Array;for(let S=0;S<l;++S){const N=new Int32Array(1),I=new Int32Array(1);Dt.getNumDataBytesAndNumECBytesForBlockID(i,r,l,S,N,I);const L=N[0],U=new Uint8Array(L);t.toBytes(8*u,U,0,L);const F=Dt.generateECBytes(U,I[0]);w.push(new uc(U,F)),h=Math.max(h,L),g=Math.max(g,F.length),u+=N[0]}if(r!==u)throw new vt("Data bytes does not match offset");const v=new le;for(let S=0;S<h;++S)for(const N of w){const I=N.getDataBytes();S<I.length&&v.appendBits(I[S],8)}for(let S=0;S<g;++S)for(const N of w){const I=N.getErrorCorrectionBytes();S<I.length&&v.appendBits(I[S],8)}if(i!==v.getSizeInBytes())throw new vt("Interleaving error: "+i+" and "+v.getSizeInBytes()+" differ.");return v}static generateECBytes(t,i){const r=t.length,l=new Int32Array(r+i);for(let h=0;h<r;h++)l[h]=t[h]&255;new gl(ot.QR_CODE_FIELD_256).encode(l,i);const u=new Uint8Array(i);for(let h=0;h<i;h++)u[h]=l[r+h];return u}static appendModeInfo(t,i){i.appendBits(t.getBits(),4)}static appendLengthInfo(t,i,r,l){const u=r.getCharacterCountBits(i);if(t>=1<<u)throw new vt(t+" is bigger than "+((1<<u)-1));l.appendBits(t,u)}static appendBytes(t,i,r,l){switch(i){case Me.NUMERIC:Dt.appendNumericBytes(t,r);break;case Me.ALPHANUMERIC:Dt.appendAlphanumericBytes(t,r);break;case Me.BYTE:Dt.append8BitBytes(t,r,l);break;case Me.KANJI:Dt.appendKanjiBytes(t,r);break;default:throw new vt("Invalid mode: "+i)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const i=Dt.getDigit(t);return i>=0&&i<=9}static appendNumericBytes(t,i){const r=t.length;let l=0;for(;l<r;){const u=Dt.getDigit(t.charAt(l));if(l+2<r){const h=Dt.getDigit(t.charAt(l+1)),g=Dt.getDigit(t.charAt(l+2));i.appendBits(u*100+h*10+g,10),l+=3}else if(l+1<r){const h=Dt.getDigit(t.charAt(l+1));i.appendBits(u*10+h,7),l+=2}else i.appendBits(u,4),l++}}static appendAlphanumericBytes(t,i){const r=t.length;let l=0;for(;l<r;){const u=Dt.getAlphanumericCode(t.charCodeAt(l));if(u===-1)throw new vt;if(l+1<r){const h=Dt.getAlphanumericCode(t.charCodeAt(l+1));if(h===-1)throw new vt;i.appendBits(u*45+h,11),l+=2}else i.appendBits(u,6),l++}}static append8BitBytes(t,i,r){let l;try{l=Ve.encode(t,r)}catch(u){throw new vt(u)}for(let u=0,h=l.length;u!==h;u++){const g=l[u];i.appendBits(g,8)}}static appendKanjiBytes(t,i){let r;try{r=Ve.encode(t,ce.SJIS)}catch(u){throw new vt(u)}const l=r.length;for(let u=0;u<l;u+=2){const h=r[u]&255,g=r[u+1]&255,w=h<<8&4294967295|g;let v=-1;if(w>=33088&&w<=40956?v=w-33088:w>=57408&&w<=60351&&(v=w-49472),v===-1)throw new vt("Invalid byte sequence");const S=(v>>8)*192+(v&255);i.appendBits(S,13)}}static appendECI(t,i){i.appendBits(Me.ECI.getBits(),4),i.appendBits(t.getValue(),8)}}Dt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Dt.DEFAULT_BYTE_MODE_ENCODING=ce.UTF8.getName();class fr{write(t,i,r,l=null){if(t.length===0)throw new T("Found empty contents");if(i<0||r<0)throw new T("Requested dimensions are too small: "+i+"x"+r);let u=pt.L,h=fr.QUIET_ZONE_SIZE;l!==null&&(l.get(sn.ERROR_CORRECTION)!==void 0&&(u=pt.fromString(l.get(sn.ERROR_CORRECTION).toString())),l.get(sn.MARGIN)!==void 0&&(h=Number.parseInt(l.get(sn.MARGIN).toString(),10)));const g=Dt.encode(t,u,l);return this.renderResult(g,i,r,h)}writeToDom(t,i,r,l,u=null){typeof t=="string"&&(t=document.querySelector(t));const h=this.write(i,r,l,u);t&&t.appendChild(h)}renderResult(t,i,r,l){const u=t.getMatrix();if(u===null)throw new mi;const h=u.getWidth(),g=u.getHeight(),w=h+l*2,v=g+l*2,S=Math.max(i,w),N=Math.max(r,v),I=Math.min(Math.floor(S/w),Math.floor(N/v)),L=Math.floor((S-h*I)/2),U=Math.floor((N-g*I)/2),F=this.createSVGElement(S,N);for(let W=0,te=U;W<g;W++,te+=I)for(let pe=0,Ee=L;pe<h;pe++,Ee+=I)if(u.get(pe,W)===1){const me=this.createSvgRectElement(Ee,te,I,I);F.appendChild(me)}return F}createSVGElement(t,i){const r=document.createElementNS(fr.SVG_NS,"svg");return r.setAttributeNS(null,"height",t.toString()),r.setAttributeNS(null,"width",i.toString()),r}createSvgRectElement(t,i,r,l){const u=document.createElementNS(fr.SVG_NS,"rect");return u.setAttributeNS(null,"x",t.toString()),u.setAttributeNS(null,"y",i.toString()),u.setAttributeNS(null,"height",r.toString()),u.setAttributeNS(null,"width",l.toString()),u.setAttributeNS(null,"fill","#000000"),u}}fr.QUIET_ZONE_SIZE=4,fr.SVG_NS="http://www.w3.org/2000/svg";class jr{encode(t,i,r,l,u){if(t.length===0)throw new T("Found empty contents");if(i!==ye.QR_CODE)throw new T("Can only encode QR_CODE, but got "+i);if(r<0||l<0)throw new T(`Requested dimensions are too small: ${r}x${l}`);let h=pt.L,g=jr.QUIET_ZONE_SIZE;u!==null&&(u.get(sn.ERROR_CORRECTION)!==void 0&&(h=pt.fromString(u.get(sn.ERROR_CORRECTION).toString())),u.get(sn.MARGIN)!==void 0&&(g=Number.parseInt(u.get(sn.MARGIN).toString(),10)));const w=Dt.encode(t,h,u);return jr.renderResult(w,r,l,g)}static renderResult(t,i,r,l){const u=t.getMatrix();if(u===null)throw new mi;const h=u.getWidth(),g=u.getHeight(),w=h+l*2,v=g+l*2,S=Math.max(i,w),N=Math.max(r,v),I=Math.min(Math.floor(S/w),Math.floor(N/v)),L=Math.floor((S-h*I)/2),U=Math.floor((N-g*I)/2),F=new ft(S,N);for(let W=0,te=U;W<g;W++,te+=I)for(let pe=0,Ee=L;pe<h;pe++,Ee+=I)u.get(pe,W)===1&&F.setRegion(Ee,te,I,I);return F}}jr.QUIET_ZONE_SIZE=4;class cc{encode(t,i,r,l,u){let h;switch(i){case ye.QR_CODE:h=new jr;break;default:throw new T("No encoder available for format "+i)}return h.encode(t,i,r,l,u)}}class pi extends De{constructor(t,i,r,l,u,h,g,w){if(super(h,g),this.yuvData=t,this.dataWidth=i,this.dataHeight=r,this.left=l,this.top=u,l+h>i||u+g>r)throw new T("Crop rectangle does not fit within image data.");w&&this.reverseHorizontal(h,g)}getRow(t,i){if(t<0||t>=this.getHeight())throw new T("Requested row is outside the image: "+t);const r=this.getWidth();(i==null||i.length<r)&&(i=new Uint8ClampedArray(r));const l=(t+this.top)*this.dataWidth+this.left;return q.arraycopy(this.yuvData,l,i,0,r),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.yuvData;const r=t*i,l=new Uint8ClampedArray(r);let u=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return q.arraycopy(this.yuvData,u,l,0,r),l;for(let h=0;h<i;h++){const g=h*t;q.arraycopy(this.yuvData,u,l,g,t),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(t,i,r,l){return new pi(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+i,r,l,!1)}renderThumbnail(){const t=this.getWidth()/pi.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/pi.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(t*i),l=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let h=0;h<i;h++){const g=h*t;for(let w=0;w<t;w++){const v=l[u+w*pi.THUMBNAIL_SCALE_FACTOR]&255;r[g+w]=4278190080|v*65793}u+=this.dataWidth*pi.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/pi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/pi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,i){const r=this.yuvData;for(let l=0,u=this.top*this.dataWidth+this.left;l<i;l++,u+=this.dataWidth){const h=u+t/2;for(let g=u,w=u+t-1;g<h;g++,w--){const v=r[g];r[g]=r[w],r[w]=v}}}invert(){return new Ke(this)}}pi.THUMBNAIL_SCALE_FACTOR=2;class Oa extends De{constructor(t,i,r,l,u,h,g){if(super(i,r),this.dataWidth=l,this.dataHeight=u,this.left=h,this.top=g,t.BYTES_PER_ELEMENT===4){const w=i*r,v=new Uint8ClampedArray(w);for(let S=0;S<w;S++){const N=t[S],I=N>>16&255,L=N>>7&510,U=N&255;v[S]=(I+L+U)/4&255}this.luminances=v}else this.luminances=t;if(l===void 0&&(this.dataWidth=i),u===void 0&&(this.dataHeight=r),h===void 0&&(this.left=0),g===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+r>this.dataHeight)throw new T("Crop rectangle does not fit within image data.")}getRow(t,i){if(t<0||t>=this.getHeight())throw new T("Requested row is outside the image: "+t);const r=this.getWidth();(i==null||i.length<r)&&(i=new Uint8ClampedArray(r));const l=(t+this.top)*this.dataWidth+this.left;return q.arraycopy(this.luminances,l,i,0,r),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.luminances;const r=t*i,l=new Uint8ClampedArray(r);let u=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return q.arraycopy(this.luminances,u,l,0,r),l;for(let h=0;h<i;h++){const g=h*t;q.arraycopy(this.luminances,u,l,g,t),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(t,i,r,l){return new Oa(this.luminances,r,l,this.dataWidth,this.dataHeight,this.left+t,this.top+i)}invert(){return new Ke(this)}}class Fr extends ce{static forName(t){return this.getCharacterSetECIByName(t)}}class ml{}ml.ISO_8859_1=ce.ISO8859_1;class xl{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class pl{static singletonList(t){return[t]}static min(t,i){return t.sort(i)[0]}}class Do{constructor(t){this.previous=t}getPrevious(){return this.previous}}class hr extends Do{constructor(t,i,r){super(t),this.value=i,this.bitCount=r}appendTo(t,i){t.appendBits(this.value,this.bitCount)}add(t,i){return new hr(this,t,i)}addBinaryShift(t,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new hr(this,t,i)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+V.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class ds extends hr{constructor(t,i,r){super(t,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=r}appendTo(t,i){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):r===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(i[this.binaryShiftStart+r],8)}addBinaryShift(t,i){return new ds(this,t,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function zr(R,t,i){return new ds(R,t,i)}function Ra(R,t,i){return new hr(R,t,i)}const fc=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ji=0,Na=1,Yn=2,Hr=3,zn=4,hc=new hr(null,0,0),Gr=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Mo(R){for(let t of R)xe.fill(t,-1);return R[Ji][zn]=0,R[Na][zn]=0,R[Na][Ji]=28,R[Hr][zn]=0,R[Yn][zn]=0,R[Yn][Ji]=15,R}const wl=Mo(xe.createInt32Array(6,6));class Jn{constructor(t,i,r,l){this.token=t,this.mode=i,this.binaryShiftByteCount=r,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,i){let r=this.bitCount,l=this.token;if(t!==this.mode){let h=Gr[this.mode][t];l=Ra(l,h&65535,h>>16),r+=h>>16}let u=t===Yn?4:5;return l=Ra(l,i,u),new Jn(l,t,0,r+u)}shiftAndAppend(t,i){let r=this.token,l=this.mode===Yn?4:5;return r=Ra(r,wl[this.mode][t],l),r=Ra(r,i,5),new Jn(r,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(t){let i=this.token,r=this.mode,l=this.bitCount;if(this.mode===zn||this.mode===Yn){let g=Gr[r][Ji];i=Ra(i,g&65535,g>>16),l+=g>>16,r=Ji}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new Jn(i,r,this.binaryShiftByteCount+1,l+u);return h.binaryShiftByteCount===2078&&(h=h.endBinaryShift(t+1)),h}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=zr(i,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Jn(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let i=this.bitCount+(Gr[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?i+=Jn.calculateBinaryShiftCost(t)-Jn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(i+=10),i<=t.bitCount}toBitArray(t){let i=[];for(let l=this.endBinaryShift(t.length).token;l!==null;l=l.getPrevious())i.unshift(l);let r=new le;for(const l of i)l.appendTo(r,t);return r}toString(){return Re.format("%s bits=%d bytes=%d",fc[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Jn.INITIAL_STATE=new Jn(hc,Ji,0,0);function yl(R){const t=Re.getCharCode(" "),i=Re.getCharCode("."),r=Re.getCharCode(",");R[Ji][t]=1;const l=Re.getCharCode("Z"),u=Re.getCharCode("A");for(let I=u;I<=l;I++)R[Ji][I]=I-u+2;R[Na][t]=1;const h=Re.getCharCode("z"),g=Re.getCharCode("a");for(let I=g;I<=h;I++)R[Na][I]=I-g+2;R[Yn][t]=1;const w=Re.getCharCode("9"),v=Re.getCharCode("0");for(let I=v;I<=w;I++)R[Yn][I]=I-v+2;R[Yn][r]=12,R[Yn][i]=13;const S=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let I=0;I<S.length;I++)R[Hr][Re.getCharCode(S[I])]=I;const N=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<N.length;I++)Re.getCharCode(N[I])>0&&(R[zn][Re.getCharCode(N[I])]=I);return R}const gs=yl(xe.createInt32Array(5,256));class Vr{constructor(t){this.text=t}encode(){const t=Re.getCharCode(" "),i=Re.getCharCode(`
`);let r=pl.singletonList(Jn.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let h,g=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case Re.getCharCode("\r"):h=g===i?2:0;break;case Re.getCharCode("."):h=g===t?3:0;break;case Re.getCharCode(","):h=g===t?4:0;break;case Re.getCharCode(":"):h=g===t?5:0;break;default:h=0}h>0?(r=Vr.updateStateListForPair(r,u,h),u++):r=this.updateStateListForChar(r,u)}return pl.min(r,(u,h)=>u.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,i){const r=[];for(let l of t)this.updateStateForChar(l,i,r);return Vr.simplifyStates(r)}updateStateForChar(t,i,r){let l=this.text[i]&255,u=gs[t.getMode()][l]>0,h=null;for(let g=0;g<=zn;g++){let w=gs[g][l];if(w>0){if(h==null&&(h=t.endBinaryShift(i)),!u||g===t.getMode()||g===Yn){const v=h.latchAndAppend(g,w);r.push(v)}if(!u&&wl[t.getMode()][g]>=0){const v=h.shiftAndAppend(g,w);r.push(v)}}}if(t.getBinaryShiftByteCount()>0||gs[t.getMode()][l]===0){let g=t.addBinaryShiftChar(i);r.push(g)}}static updateStateListForPair(t,i,r){const l=[];for(let u of t)this.updateStateForPair(u,i,r,l);return this.simplifyStates(l)}static updateStateForPair(t,i,r,l){let u=t.endBinaryShift(i);if(l.push(u.latchAndAppend(zn,r)),t.getMode()!==zn&&l.push(u.shiftAndAppend(zn,r)),r===3||r===4){let h=u.latchAndAppend(Yn,16-r).latchAndAppend(Yn,1);l.push(h)}if(t.getBinaryShiftByteCount()>0){let h=t.addBinaryShiftChar(i).addBinaryShiftChar(i+1);l.push(h)}}static simplifyStates(t){let i=[];for(const r of t){let l=!0;for(const u of i){if(u.isBetterThanOrEqualTo(r)){l=!1;break}r.isBetterThanOrEqualTo(u)&&(i=i.filter(h=>h!==u))}l&&i.push(r)}return i}}class lt{constructor(){}static encodeBytes(t){return lt.encode(t,lt.DEFAULT_EC_PERCENT,lt.DEFAULT_AZTEC_LAYERS)}static encode(t,i,r){let l=new Vr(t).encode(),u=V.truncDivision(l.getSize()*i,100)+11,h=l.getSize()+u,g,w,v,S,N;if(r!==lt.DEFAULT_AZTEC_LAYERS){if(g=r<0,w=Math.abs(r),w>(g?lt.MAX_NB_BITS_COMPACT:lt.MAX_NB_BITS))throw new T(Re.format("Illegal value %s for layers",r));v=lt.totalBitsInLayer(w,g),S=lt.WORD_SIZE[w];let me=v-v%S;if(N=lt.stuffBits(l,S),N.getSize()+u>me)throw new T("Data to large for user specified layer");if(g&&N.getSize()>S*64)throw new T("Data to large for user specified layer")}else{S=0,N=null;for(let me=0;;me++){if(me>lt.MAX_NB_BITS)throw new T("Data too large for an Aztec code");if(g=me<=3,w=g?me+1:me,v=lt.totalBitsInLayer(w,g),h>v)continue;(N==null||S!==lt.WORD_SIZE[w])&&(S=lt.WORD_SIZE[w],N=lt.stuffBits(l,S));let Ge=v-v%S;if(!(g&&N.getSize()>S*64)&&N.getSize()+u<=Ge)break}}let I=lt.generateCheckWords(N,v,S),L=N.getSize()/S,U=lt.generateModeMessage(g,w,L),F=(g?11:14)+w*4,W=new Int32Array(F),te;if(g){te=F;for(let me=0;me<W.length;me++)W[me]=me}else{te=F+1+2*V.truncDivision(V.truncDivision(F,2)-1,15);let me=V.truncDivision(F,2),Ge=V.truncDivision(te,2);for(let ze=0;ze<me;ze++){let Bn=ze+V.truncDivision(ze,15);W[me-ze-1]=Ge-Bn-1,W[me+ze]=Ge+Bn+1}}let pe=new ft(te);for(let me=0,Ge=0;me<w;me++){let ze=(w-me)*4+(g?9:12);for(let Bn=0;Bn<ze;Bn++){let $n=Bn*2;for(let Hn=0;Hn<2;Hn++)I.get(Ge+$n+Hn)&&pe.set(W[me*2+Hn],W[me*2+Bn]),I.get(Ge+ze*2+$n+Hn)&&pe.set(W[me*2+Bn],W[F-1-me*2-Hn]),I.get(Ge+ze*4+$n+Hn)&&pe.set(W[F-1-me*2-Hn],W[F-1-me*2-Bn]),I.get(Ge+ze*6+$n+Hn)&&pe.set(W[F-1-me*2-Bn],W[me*2+Hn])}Ge+=ze*8}if(lt.drawModeMessage(pe,g,te,U),g)lt.drawBullsEye(pe,V.truncDivision(te,2),5);else{lt.drawBullsEye(pe,V.truncDivision(te,2),7);for(let me=0,Ge=0;me<V.truncDivision(F,2)-1;me+=15,Ge+=16)for(let ze=V.truncDivision(te,2)&1;ze<te;ze+=2)pe.set(V.truncDivision(te,2)-Ge,ze),pe.set(V.truncDivision(te,2)+Ge,ze),pe.set(ze,V.truncDivision(te,2)-Ge),pe.set(ze,V.truncDivision(te,2)+Ge)}let Ee=new xl;return Ee.setCompact(g),Ee.setSize(te),Ee.setLayers(w),Ee.setCodeWords(L),Ee.setMatrix(pe),Ee}static drawBullsEye(t,i,r){for(let l=0;l<r;l+=2)for(let u=i-l;u<=i+l;u++)t.set(u,i-l),t.set(u,i+l),t.set(i-l,u),t.set(i+l,u);t.set(i-r,i-r),t.set(i-r+1,i-r),t.set(i-r,i-r+1),t.set(i+r,i-r),t.set(i+r,i-r+1),t.set(i+r,i+r-1)}static generateModeMessage(t,i,r){let l=new le;return t?(l.appendBits(i-1,2),l.appendBits(r-1,6),l=lt.generateCheckWords(l,28,4)):(l.appendBits(i-1,5),l.appendBits(r-1,11),l=lt.generateCheckWords(l,40,4)),l}static drawModeMessage(t,i,r,l){let u=V.truncDivision(r,2);if(i)for(let h=0;h<7;h++){let g=u-3+h;l.get(h)&&t.set(g,u-5),l.get(h+7)&&t.set(u+5,g),l.get(20-h)&&t.set(g,u+5),l.get(27-h)&&t.set(u-5,g)}else for(let h=0;h<10;h++){let g=u-5+h+V.truncDivision(h,5);l.get(h)&&t.set(g,u-7),l.get(h+10)&&t.set(u+7,g),l.get(29-h)&&t.set(g,u+7),l.get(39-h)&&t.set(u-7,g)}}static generateCheckWords(t,i,r){let l=t.getSize()/r,u=new gl(lt.getGF(r)),h=V.truncDivision(i,r),g=lt.bitsToWords(t,r,h);u.encode(g,h-l);let w=i%r,v=new le;v.appendBits(0,w);for(const S of Array.from(g))v.appendBits(S,r);return v}static bitsToWords(t,i,r){let l=new Int32Array(r),u,h;for(u=0,h=t.getSize()/i;u<h;u++){let g=0;for(let w=0;w<i;w++)g|=t.get(u*i+w)?1<<i-w-1:0;l[u]=g}return l}static getGF(t){switch(t){case 4:return ot.AZTEC_PARAM;case 6:return ot.AZTEC_DATA_6;case 8:return ot.AZTEC_DATA_8;case 10:return ot.AZTEC_DATA_10;case 12:return ot.AZTEC_DATA_12;default:throw new T("Unsupported word size "+t)}}static stuffBits(t,i){let r=new le,l=t.getSize(),u=(1<<i)-2;for(let h=0;h<l;h+=i){let g=0;for(let w=0;w<i;w++)(h+w>=l||t.get(h+w))&&(g|=1<<i-1-w);(g&u)===u?(r.appendBits(g&u,i),h--):(g&u)===0?(r.appendBits(g|1,i),h--):r.appendBits(g,i)}return r}static totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}lt.DEFAULT_EC_PERCENT=33,lt.DEFAULT_AZTEC_LAYERS=0,lt.MAX_NB_BITS=32,lt.MAX_NB_BITS_COMPACT=4,lt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ms{encode(t,i,r,l){return this.encodeWithHints(t,i,r,l,null)}encodeWithHints(t,i,r,l,u){let h=ml.ISO_8859_1,g=lt.DEFAULT_EC_PERCENT,w=lt.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(sn.CHARACTER_SET)&&(h=Fr.forName(u.get(sn.CHARACTER_SET).toString())),u.has(sn.ERROR_CORRECTION)&&(g=V.parseInt(u.get(sn.ERROR_CORRECTION).toString())),u.has(sn.AZTEC_LAYERS)&&(w=V.parseInt(u.get(sn.AZTEC_LAYERS).toString()))),ms.encodeLayers(t,i,r,l,h,g,w)}static encodeLayers(t,i,r,l,u,h,g){if(i!==ye.AZTEC)throw new T("Can only encode AZTEC, but got "+i);let w=lt.encode(Re.getBytes(t,u),h,g);return ms.renderResult(w,r,l)}static renderResult(t,i,r){let l=t.getMatrix();if(l==null)throw new mi;let u=l.getWidth(),h=l.getHeight(),g=Math.max(i,u),w=Math.max(r,h),v=Math.min(g/u,w/h),S=(g-u*v)/2,N=(w-h*v)/2,I=new ft(g,w);for(let L=0,U=N;L<h;L++,U+=v)for(let F=0,W=S;F<u;F++,W+=v)l.get(F,L)&&I.setRegion(W,U,v,v);return I}}o.AbstractExpandedDecoder=va,o.ArgumentException=C,o.ArithmeticException=Mr,o.AztecCode=xl,o.AztecCodeReader=ts,o.AztecCodeWriter=ms,o.AztecDecoder=St,o.AztecDetector=Ao,o.AztecDetectorResult=ll,o.AztecEncoder=lt,o.AztecHighLevelEncoder=Vr,o.AztecPoint=yt,o.BarcodeFormat=ye,o.Binarizer=H,o.BinaryBitmap=M,o.BitArray=le,o.BitMatrix=ft,o.BitSource=jn,o.BrowserAztecCodeReader=tc,o.BrowserBarcodeReader=To,o.BrowserCodeReader=Ae,o.BrowserDatamatrixCodeReader=nc,o.BrowserMultiFormatReader=sc,o.BrowserPDF417Reader=lc,o.BrowserQRCodeReader=oc,o.BrowserQRCodeSvgWriter=fr,o.CharacterSetECI=ce,o.ChecksumException=k,o.Code128Reader=be,o.Code39Reader=It,o.DataMatrixDecodedBitStreamParser=Vi,o.DataMatrixReader=si,o.DecodeHintType=Ce,o.DecoderResult=Zn,o.DefaultGridSampler=Un,o.DetectorResult=es,o.EAN13Reader=ri,o.EncodeHintType=sn,o.Exception=y,o.FormatException=ae,o.GenericGF=ot,o.GenericGFPoly=dn,o.GlobalHistogramBinarizer=re,o.GridSampler=ol,o.GridSamplerInstance=Mn,o.HTMLCanvasElementLuminanceSource=j,o.HybridBinarizer=ue,o.ITFReader=dt,o.IllegalArgumentException=T,o.IllegalStateException=mi,o.InvertedLuminanceSource=Ke,o.LuminanceSource=De,o.MathUtils=st,o.MultiFormatOneDReader=Gi,o.MultiFormatReader=Io,o.MultiFormatWriter=cc,o.NotFoundException=ee,o.OneDReader=jt,o.PDF417DecodedBitStreamParser=ie,o.PDF417DecoderErrorCorrection=Ca,o.PDF417Reader=wn,o.PDF417ResultMetadata=cs,o.PerspectiveTransform=Dn,o.PlanarYUVLuminanceSource=pi,o.QRCodeByteMatrix=Ta,o.QRCodeDataMask=pn,o.QRCodeDecodedBitStreamParser=Ft,o.QRCodeDecoderErrorCorrectionLevel=pt,o.QRCodeDecoderFormatInformation=xn,o.QRCodeEncoder=Dt,o.QRCodeEncoderQRCode=cr,o.QRCodeMaskUtil=Gt,o.QRCodeMatrixUtil=Pe,o.QRCodeMode=Me,o.QRCodeReader=Oi,o.QRCodeVersion=Ie,o.QRCodeWriter=jr,o.RGBLuminanceSource=Oa,o.RSS14Reader=gt,o.RSSExpandedReader=de,o.ReaderException=_a,o.ReedSolomonDecoder=pa,o.ReedSolomonEncoder=gl,o.ReedSolomonException=Fi,o.Result=Se,o.ResultMetadataType=Xe,o.ResultPoint=Oe,o.StringUtils=Re,o.UnsupportedOperationException=Ut,o.VideoInputDevice=ge,o.WhiteRectangleDetector=_i,o.WriterException=vt,o.ZXingArrays=xe,o.ZXingCharset=Fr,o.ZXingInteger=V,o.ZXingStandardCharsets=ml,o.ZXingStringBuilder=Ze,o.ZXingStringEncoding=Ve,o.ZXingSystem=q,o.createAbstractExpandedDecoder=fl,Object.defineProperty(o,"__esModule",{value:!0})})}(uo,uo.exports)),uo.exports}var zt=zy();const Hy=O0(zt),Gy=ox({__proto__:null,default:Hy},[zt]);var B2=function(){function f(s,o,d){if(this.formatMap=new Map([[Te.QR_CODE,zt.BarcodeFormat.QR_CODE],[Te.AZTEC,zt.BarcodeFormat.AZTEC],[Te.CODABAR,zt.BarcodeFormat.CODABAR],[Te.CODE_39,zt.BarcodeFormat.CODE_39],[Te.CODE_93,zt.BarcodeFormat.CODE_93],[Te.CODE_128,zt.BarcodeFormat.CODE_128],[Te.DATA_MATRIX,zt.BarcodeFormat.DATA_MATRIX],[Te.MAXICODE,zt.BarcodeFormat.MAXICODE],[Te.ITF,zt.BarcodeFormat.ITF],[Te.EAN_13,zt.BarcodeFormat.EAN_13],[Te.EAN_8,zt.BarcodeFormat.EAN_8],[Te.PDF_417,zt.BarcodeFormat.PDF_417],[Te.RSS_14,zt.BarcodeFormat.RSS_14],[Te.RSS_EXPANDED,zt.BarcodeFormat.RSS_EXPANDED],[Te.UPC_A,zt.BarcodeFormat.UPC_A],[Te.UPC_E,zt.BarcodeFormat.UPC_E],[Te.UPC_EAN_EXTENSION,zt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Gy)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=o,this.logger=d;var m=this.createZXingFormats(s),x=new Map;x.set(zt.DecodeHintType.POSSIBLE_FORMATS,m),x.set(zt.DecodeHintType.TRY_HARDER,!1),this.hints=x}return f.prototype.decodeAsync=function(s){var o=this;return new Promise(function(d,m){try{d(o.decode(s))}catch(x){m(x)}})},f.prototype.decode=function(s){var o=new zt.MultiFormatReader(this.verbose,this.hints),d=new zt.HTMLCanvasElementLuminanceSource(s),m=new zt.BinaryBitmap(new zt.HybridBinarizer(d)),x=o.decode(m);return{text:x.text,format:Ng.create(this.toHtml5QrcodeSupportedFormats(x.format)),debugData:this.createDebugData()}},f.prototype.createReverseFormatMap=function(){var s=new Map;return this.formatMap.forEach(function(o,d,m){s.set(o,d)}),s},f.prototype.toHtml5QrcodeSupportedFormats=function(s){if(!this.reverseFormatMap.has(s))throw"reverseFormatMap doesn't have ".concat(s);return this.reverseFormatMap.get(s)},f.prototype.createZXingFormats=function(s){for(var o=[],d=0,m=s;d<m.length;d++){var x=m[d];this.formatMap.has(x)?o.push(this.formatMap.get(x)):this.logger.logError("".concat(x," is not supported by")+"ZXingHtml5QrcodeShim")}return o},f.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},f}(),Vy=function(f,s,o,d){function m(x){return x instanceof o?x:new o(function(A){A(x)})}return new(o||(o=Promise))(function(x,A){function _(C){try{y(d.next(C))}catch(T){A(T)}}function b(C){try{y(d.throw(C))}catch(T){A(T)}}function y(C){C.done?x(C.value):m(C.value).then(_,b)}y((d=d.apply(f,s||[])).next())})},Xy=function(f,s){var o={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},d,m,x,A;return A={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function _(y){return function(C){return b([y,C])}}function b(y){if(d)throw new TypeError("Generator is already executing.");for(;A&&(A=0,y[0]&&(o=0)),o;)try{if(d=1,m&&(x=y[0]&2?m.return:y[0]?m.throw||((x=m.return)&&x.call(m),0):m.next)&&!(x=x.call(m,y[1])).done)return x;switch(m=0,x&&(y=[y[0]&2,x.value]),y[0]){case 0:case 1:x=y;break;case 4:return o.label++,{value:y[1],done:!1};case 5:o.label++,m=y[1],y=[0];continue;case 7:y=o.ops.pop(),o.trys.pop();continue;default:if(x=o.trys,!(x=x.length>0&&x[x.length-1])&&(y[0]===6||y[0]===2)){o=0;continue}if(y[0]===3&&(!x||y[1]>x[0]&&y[1]<x[3])){o.label=y[1];break}if(y[0]===6&&o.label<x[1]){o.label=x[1],x=y;break}if(x&&o.label<x[2]){o.label=x[2],o.ops.push(y);break}x[2]&&o.ops.pop(),o.trys.pop();continue}y=s.call(f,o)}catch(C){y=[6,C],m=0}finally{d=x=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},L2=function(){function f(s,o,d){if(this.formatMap=new Map([[Te.QR_CODE,"qr_code"],[Te.AZTEC,"aztec"],[Te.CODABAR,"codabar"],[Te.CODE_39,"code_39"],[Te.CODE_93,"code_93"],[Te.CODE_128,"code_128"],[Te.DATA_MATRIX,"data_matrix"],[Te.ITF,"itf"],[Te.EAN_13,"ean_13"],[Te.EAN_8,"ean_8"],[Te.PDF_417,"pdf417"],[Te.UPC_A,"upc_a"],[Te.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!f.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=o,this.logger=d;var m=this.createBarcodeDetectorFormats(s);if(this.detector=new BarcodeDetector(m),!this.detector)throw"BarcodeDetector detector not supported"}return f.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var s=new BarcodeDetector({formats:["qr_code"]});return typeof s<"u"},f.prototype.decodeAsync=function(s){return Vy(this,void 0,void 0,function(){var o,d;return Xy(this,function(m){switch(m.label){case 0:return[4,this.detector.detect(s)];case 1:if(o=m.sent(),!o||o.length===0)throw"No barcode or QR code detected.";return d=this.selectLargestBarcode(o),[2,{text:d.rawValue,format:Ng.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}]}})})},f.prototype.selectLargestBarcode=function(s){for(var o=null,d=0,m=0,x=s;m<x.length;m++){var A=x[m],_=A.boundingBox.width*A.boundingBox.height;_>d&&(d=_,o=A)}if(!o)throw"No largest barcode found";return o},f.prototype.createBarcodeDetectorFormats=function(s){for(var o=[],d=0,m=s;d<m.length;d++){var x=m[d];this.formatMap.has(x)?o.push(this.formatMap.get(x)):this.logger.warn("".concat(x," is not supported by")+"BarcodeDetectorDelegate")}return{formats:o}},f.prototype.toHtml5QrcodeSupportedFormats=function(s){if(!this.reverseFormatMap.has(s))throw"reverseFormatMap doesn't have ".concat(s);return this.reverseFormatMap.get(s)},f.prototype.createReverseFormatMap=function(){var s=new Map;return this.formatMap.forEach(function(o,d,m){s.set(o,d)}),s},f.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},f}(),k2=function(f,s,o,d){function m(x){return x instanceof o?x:new o(function(A){A(x)})}return new(o||(o=Promise))(function(x,A){function _(C){try{y(d.next(C))}catch(T){A(T)}}function b(C){try{y(d.throw(C))}catch(T){A(T)}}function y(C){C.done?x(C.value):m(C.value).then(_,b)}y((d=d.apply(f,s||[])).next())})},P2=function(f,s){var o={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},d,m,x,A;return A={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function _(y){return function(C){return b([y,C])}}function b(y){if(d)throw new TypeError("Generator is already executing.");for(;A&&(A=0,y[0]&&(o=0)),o;)try{if(d=1,m&&(x=y[0]&2?m.return:y[0]?m.throw||((x=m.return)&&x.call(m),0):m.next)&&!(x=x.call(m,y[1])).done)return x;switch(m=0,x&&(y=[y[0]&2,x.value]),y[0]){case 0:case 1:x=y;break;case 4:return o.label++,{value:y[1],done:!1};case 5:o.label++,m=y[1],y=[0];continue;case 7:y=o.ops.pop(),o.trys.pop();continue;default:if(x=o.trys,!(x=x.length>0&&x[x.length-1])&&(y[0]===6||y[0]===2)){o=0;continue}if(y[0]===3&&(!x||y[1]>x[0]&&y[1]<x[3])){o.label=y[1];break}if(y[0]===6&&o.label<x[1]){o.label=x[1],x=y;break}if(x&&o.label<x[2]){o.label=x[2],o.ops.push(y);break}x[2]&&o.ops.pop(),o.trys.pop();continue}y=s.call(f,o)}catch(C){y=[6,C],m=0}finally{d=x=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},qy=function(){function f(s,o,d,m){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=d,o&&L2.isSupported()?(this.primaryDecoder=new L2(s,d,m),this.secondaryDecoder=new B2(s,d,m)):this.primaryDecoder=new B2(s,d,m)}return f.prototype.decodeAsync=function(s){return k2(this,void 0,void 0,function(){var o;return P2(this,function(d){switch(d.label){case 0:o=performance.now(),d.label=1;case 1:return d.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(s)];case 2:return[2,d.sent()];case 3:return this.possiblyLogPerformance(o),[7];case 4:return[2]}})})},f.prototype.decodeRobustlyAsync=function(s){return k2(this,void 0,void 0,function(){var o,d;return P2(this,function(m){switch(m.label){case 0:o=performance.now(),m.label=1;case 1:return m.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(s)];case 2:return[2,m.sent()];case 3:if(d=m.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(s)];throw d;case 4:return this.possiblyLogPerformance(o),[7];case 5:return[2]}})})},f.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},f.prototype.possiblyLogPerformance=function(s){if(this.verbose){var o=performance.now()-s;this.executionResults.push(o),this.executions++,this.possiblyFlushPerformanceReport()}},f.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var s=0,o=0,d=this.executionResults;o<d.length;o++){var m=d[o];s+=m}var x=s/this.executionResults.length;console.log("".concat(x," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},f}(),X0=function(){var f=function(s,o){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var x in m)Object.prototype.hasOwnProperty.call(m,x)&&(d[x]=m[x])},f(s,o)};return function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");f(s,o);function d(){this.constructor=s}s.prototype=o===null?Object.create(o):(d.prototype=o.prototype,new d)}}(),Zu=function(f,s,o,d){function m(x){return x instanceof o?x:new o(function(A){A(x)})}return new(o||(o=Promise))(function(x,A){function _(C){try{y(d.next(C))}catch(T){A(T)}}function b(C){try{y(d.throw(C))}catch(T){A(T)}}function y(C){C.done?x(C.value):m(C.value).then(_,b)}y((d=d.apply(f,s||[])).next())})},Ku=function(f,s){var o={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},d,m,x,A;return A={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function _(y){return function(C){return b([y,C])}}function b(y){if(d)throw new TypeError("Generator is already executing.");for(;A&&(A=0,y[0]&&(o=0)),o;)try{if(d=1,m&&(x=y[0]&2?m.return:y[0]?m.throw||((x=m.return)&&x.call(m),0):m.next)&&!(x=x.call(m,y[1])).done)return x;switch(m=0,x&&(y=[y[0]&2,x.value]),y[0]){case 0:case 1:x=y;break;case 4:return o.label++,{value:y[1],done:!1};case 5:o.label++,m=y[1],y=[0];continue;case 7:y=o.ops.pop(),o.trys.pop();continue;default:if(x=o.trys,!(x=x.length>0&&x[x.length-1])&&(y[0]===6||y[0]===2)){o=0;continue}if(y[0]===3&&(!x||y[1]>x[0]&&y[1]<x[3])){o.label=y[1];break}if(y[0]===6&&o.label<x[1]){o.label=x[1],x=y;break}if(x&&o.label<x[2]){o.label=x[2],o.ops.push(y);break}x[2]&&o.ops.pop(),o.trys.pop();continue}y=s.call(f,o)}catch(C){y=[6,C],m=0}finally{d=x=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Dg=function(){function f(s,o){this.name=s,this.track=o}return f.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},f.prototype.apply=function(s){var o={};o[this.name]=s;var d={advanced:[o]};return this.track.applyConstraints(d)},f.prototype.value=function(){var s=this.track.getSettings();if(this.name in s){var o=s[this.name];return o}return null},f}(),Yy=function(f){X0(s,f);function s(o,d){return f.call(this,o,d)||this}return s.prototype.min=function(){return this.getCapabilities().min},s.prototype.max=function(){return this.getCapabilities().max},s.prototype.step=function(){return this.getCapabilities().step},s.prototype.apply=function(o){var d={};d[this.name]=o;var m={advanced:[d]};return this.track.applyConstraints(m)},s.prototype.getCapabilities=function(){this.failIfNotSupported();var o=this.track.getCapabilities(),d=o[this.name];return{min:d.min,max:d.max,step:d.step}},s.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},s}(Dg),Wy=function(f){X0(s,f);function s(o){return f.call(this,"zoom",o)||this}return s}(Yy),Zy=function(f){X0(s,f);function s(o){return f.call(this,"torch",o)||this}return s}(Dg),Ky=function(){function f(s){this.track=s}return f.prototype.zoomFeature=function(){return new Wy(this.track)},f.prototype.torchFeature=function(){return new Zy(this.track)},f}(),Qy=function(){function f(s,o,d){this.isClosed=!1,this.parentElement=s,this.mediaStream=o,this.callbacks=d,this.surface=this.createVideoElement(this.parentElement.clientWidth),s.append(this.surface)}return f.prototype.createVideoElement=function(s){var o=document.createElement("video");return o.style.width="".concat(s,"px"),o.style.display="block",o.muted=!0,o.setAttribute("muted","true"),o.playsInline=!0,o},f.prototype.setupSurface=function(){var s=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var o=function(){var d=s.surface.clientWidth,m=s.surface.clientHeight;s.callbacks.onRenderSurfaceReady(d,m),s.surface.removeEventListener("playing",o)};this.surface.addEventListener("playing",o),this.surface.srcObject=this.mediaStream,this.surface.play()},f.create=function(s,o,d,m){return Zu(this,void 0,void 0,function(){var x,A;return Ku(this,function(_){switch(_.label){case 0:return x=new f(s,o,m),d.aspectRatio?(A={aspectRatio:d.aspectRatio},[4,x.getFirstTrackOrFail().applyConstraints(A)]):[3,2];case 1:_.sent(),_.label=2;case 2:return x.setupSurface(),[2,x]}})})},f.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},f.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},f.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},f.prototype.resume=function(s){this.failIfClosed();var o=this,d=function(){setTimeout(s,200),o.surface.removeEventListener("playing",d)};this.surface.addEventListener("playing",d),this.surface.play()},f.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},f.prototype.getSurface=function(){return this.failIfClosed(),this.surface},f.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},f.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},f.prototype.applyVideoConstraints=function(s){return Zu(this,void 0,void 0,function(){return Ku(this,function(o){if("aspectRatio"in s)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(s)]})})},f.prototype.close=function(){if(this.isClosed)return Promise.resolve();var s=this;return new Promise(function(o,d){var m=s.mediaStream.getVideoTracks(),x=m.length,A=0;s.mediaStream.getVideoTracks().forEach(function(_){s.mediaStream.removeTrack(_),_.stop(),++A,A>=x&&(s.isClosed=!0,s.parentElement.removeChild(s.surface),o())})})},f.prototype.getCapabilities=function(){return new Ky(this.getFirstTrackOrFail())},f}(),Jy=function(){function f(s){this.mediaStream=s}return f.prototype.render=function(s,o,d){return Zu(this,void 0,void 0,function(){return Ku(this,function(m){return[2,Qy.create(s,this.mediaStream,o,d)]})})},f.create=function(s){return Zu(this,void 0,void 0,function(){var o,d;return Ku(this,function(m){switch(m.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return o={audio:!1,video:s},[4,navigator.mediaDevices.getUserMedia(o)];case 1:return d=m.sent(),[2,new f(d)]}})})},f}(),U2=function(f,s,o,d){function m(x){return x instanceof o?x:new o(function(A){A(x)})}return new(o||(o=Promise))(function(x,A){function _(C){try{y(d.next(C))}catch(T){A(T)}}function b(C){try{y(d.throw(C))}catch(T){A(T)}}function y(C){C.done?x(C.value):m(C.value).then(_,b)}y((d=d.apply(f,s||[])).next())})},j2=function(f,s){var o={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},d,m,x,A;return A={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function _(y){return function(C){return b([y,C])}}function b(y){if(d)throw new TypeError("Generator is already executing.");for(;A&&(A=0,y[0]&&(o=0)),o;)try{if(d=1,m&&(x=y[0]&2?m.return:y[0]?m.throw||((x=m.return)&&x.call(m),0):m.next)&&!(x=x.call(m,y[1])).done)return x;switch(m=0,x&&(y=[y[0]&2,x.value]),y[0]){case 0:case 1:x=y;break;case 4:return o.label++,{value:y[1],done:!1};case 5:o.label++,m=y[1],y=[0];continue;case 7:y=o.ops.pop(),o.trys.pop();continue;default:if(x=o.trys,!(x=x.length>0&&x[x.length-1])&&(y[0]===6||y[0]===2)){o=0;continue}if(y[0]===3&&(!x||y[1]>x[0]&&y[1]<x[3])){o.label=y[1];break}if(y[0]===6&&o.label<x[1]){o.label=x[1],x=y;break}if(x&&o.label<x[2]){o.label=x[2],o.ops.push(y);break}x[2]&&o.ops.pop(),o.trys.pop();continue}y=s.call(f,o)}catch(C){y=[6,C],m=0}finally{d=x=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},$y=function(){function f(){}return f.failIfNotSupported=function(){return U2(this,void 0,void 0,function(){return j2(this,function(s){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new f]})})},f.prototype.create=function(s){return U2(this,void 0,void 0,function(){return j2(this,function(o){return[2,Jy.create(s)]})})},f}(),e4=function(f,s,o,d){function m(x){return x instanceof o?x:new o(function(A){A(x)})}return new(o||(o=Promise))(function(x,A){function _(C){try{y(d.next(C))}catch(T){A(T)}}function b(C){try{y(d.throw(C))}catch(T){A(T)}}function y(C){C.done?x(C.value):m(C.value).then(_,b)}y((d=d.apply(f,s||[])).next())})},t4=function(f,s){var o={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},d,m,x,A;return A={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function _(y){return function(C){return b([y,C])}}function b(y){if(d)throw new TypeError("Generator is already executing.");for(;A&&(A=0,y[0]&&(o=0)),o;)try{if(d=1,m&&(x=y[0]&2?m.return:y[0]?m.throw||((x=m.return)&&x.call(m),0):m.next)&&!(x=x.call(m,y[1])).done)return x;switch(m=0,x&&(y=[y[0]&2,x.value]),y[0]){case 0:case 1:x=y;break;case 4:return o.label++,{value:y[1],done:!1};case 5:o.label++,m=y[1],y=[0];continue;case 7:y=o.ops.pop(),o.trys.pop();continue;default:if(x=o.trys,!(x=x.length>0&&x[x.length-1])&&(y[0]===6||y[0]===2)){o=0;continue}if(y[0]===3&&(!x||y[1]>x[0]&&y[1]<x[3])){o.label=y[1];break}if(y[0]===6&&o.label<x[1]){o.label=x[1],x=y;break}if(x&&o.label<x[2]){o.label=x[2],o.ops.push(y);break}x[2]&&o.ops.pop(),o.trys.pop();continue}y=s.call(f,o)}catch(C){y=[6,C],m=0}finally{d=x=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},n4=function(){function f(){}return f.retrieve=function(){if(navigator.mediaDevices)return f.getCamerasFromMediaDevices();var s=MediaStreamTrack;return MediaStreamTrack&&s.getSources?f.getCamerasFromMediaStreamTrack():f.rejectWithError()},f.rejectWithError=function(){var s=el.unableToQuerySupportedDevices();return f.isHttpsOrLocalhost()||(s=el.insecureContextCameraQueryError()),Promise.reject(s)},f.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var s=location.host.split(":")[0];return s==="127.0.0.1"||s==="localhost"},f.getCamerasFromMediaDevices=function(){return e4(this,void 0,void 0,function(){var s,o,d,m,x,A,_;return t4(this,function(b){switch(b.label){case 0:return s=function(y){for(var C=y.getVideoTracks(),T=0,M=C;T<M.length;T++){var k=M[T];k.enabled=!1,k.stop(),y.removeTrack(k)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return o=b.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(d=b.sent(),m=[],x=0,A=d;x<A.length;x++)_=A[x],_.kind==="videoinput"&&m.push({id:_.deviceId,label:_.label});return s(o),[2,m]}})})},f.getCamerasFromMediaStreamTrack=function(){return new Promise(function(s,o){var d=function(x){for(var A=[],_=0,b=x;_<b.length;_++){var y=b[_];y.kind==="video"&&A.push({id:y.id,label:y.label})}s(A)},m=MediaStreamTrack;m.getSources(d)})},f}(),tn;(function(f){f[f.UNKNOWN=0]="UNKNOWN",f[f.NOT_STARTED=1]="NOT_STARTED",f[f.SCANNING=2]="SCANNING",f[f.PAUSED=3]="PAUSED"})(tn||(tn={}));var i4=function(){function f(){this.state=tn.NOT_STARTED,this.onGoingTransactionNewState=tn.UNKNOWN}return f.prototype.directTransition=function(s){this.failIfTransitionOngoing(),this.validateTransition(s),this.state=s},f.prototype.startTransition=function(s){return this.failIfTransitionOngoing(),this.validateTransition(s),this.onGoingTransactionNewState=s,this},f.prototype.execute=function(){if(this.onGoingTransactionNewState===tn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var s=this.onGoingTransactionNewState;this.onGoingTransactionNewState=tn.UNKNOWN,this.directTransition(s)},f.prototype.cancel=function(){if(this.onGoingTransactionNewState===tn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=tn.UNKNOWN},f.prototype.getState=function(){return this.state},f.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==tn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},f.prototype.validateTransition=function(s){switch(this.state){case tn.UNKNOWN:throw"Transition from unknown is not allowed";case tn.NOT_STARTED:this.failIfNewStateIs(s,[tn.PAUSED]);break;case tn.SCANNING:break;case tn.PAUSED:break}},f.prototype.failIfNewStateIs=function(s,o){for(var d=0,m=o;d<m.length;d++){var x=m[d];if(s===x)throw"Cannot transition from ".concat(this.state," to ").concat(s)}},f}(),r4=function(){function f(s){this.stateManager=s}return f.prototype.startTransition=function(s){return this.stateManager.startTransition(s)},f.prototype.directTransition=function(s){this.stateManager.directTransition(s)},f.prototype.getState=function(){return this.stateManager.getState()},f.prototype.canScanFile=function(){return this.stateManager.getState()===tn.NOT_STARTED},f.prototype.isScanning=function(){return this.stateManager.getState()!==tn.NOT_STARTED},f.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===tn.SCANNING},f.prototype.isPaused=function(){return this.stateManager.getState()===tn.PAUSED},f}(),a4=function(){function f(){}return f.create=function(){return new r4(new i4)},f}(),s4=function(){var f=function(s,o){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var x in m)Object.prototype.hasOwnProperty.call(m,x)&&(d[x]=m[x])},f(s,o)};return function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");f(s,o);function d(){this.constructor=s}s.prototype=o===null?Object.create(o):(d.prototype=o.prototype,new d)}}(),gi=function(f){s4(s,f);function s(){return f!==null&&f.apply(this,arguments)||this}return s.DEFAULT_WIDTH=300,s.DEFAULT_WIDTH_OFFSET=2,s.FILE_SCAN_MIN_HEIGHT=300,s.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,s.MIN_QR_BOX_SIZE=50,s.SHADED_LEFT=1,s.SHADED_RIGHT=2,s.SHADED_TOP=3,s.SHADED_BOTTOM=4,s.SHADED_REGION_ELEMENT_ID="qr-shaded-region",s.VERBOSE=!1,s.BORDER_SHADER_DEFAULT_COLOR="#ffffff",s.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",s}(Py),l4=function(){function f(s,o){this.logger=o,this.fps=gi.SCAN_DEFAULT_FPS,s?(s.fps&&(this.fps=s.fps),this.disableFlip=s.disableFlip===!0,this.qrbox=s.qrbox,this.aspectRatio=s.aspectRatio,this.videoConstraints=s.videoConstraints):this.disableFlip=gi.DEFAULT_DISABLE_FLIP}return f.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Ig.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},f.prototype.isShadedBoxEnabled=function(){return!Or(this.qrbox)},f.create=function(s,o){return new f(s,o)},f}(),o4=function(){function f(s,o){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(s))throw"HTML Element with id=".concat(s," not found");this.elementId=s,this.verbose=!1;var d;typeof o=="boolean"?this.verbose=o===!0:o&&(d=o,this.verbose=d.verbose===!0,d.experimentalFeatures),this.logger=new jy(this.verbose),this.qrcode=new qy(this.getSupportedFormats(o),this.getUseBarCodeDetectorIfSupported(d),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=a4.create()}return f.prototype.start=function(s,o,d,m){var x=this;if(!s)throw"cameraIdOrConfig is required";if(!d||typeof d!="function")throw"qrCodeSuccessCallback is required and should be a function.";var A;m?A=m:A=this.verbose?this.logger.log:function(){};var _=l4.create(o,this.logger);this.clearElement();var b=!1;_.videoConstraints&&(_.isMediaStreamConstraintsValid()?b=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var y=b,C=document.getElementById(this.elementId);C.clientWidth?C.clientWidth:gi.DEFAULT_WIDTH,C.style.position="relative",this.shouldScan=!0,this.element=C;var T=this,M=this.stateManagerProxy.startTransition(tn.SCANNING);return new Promise(function(k,H){var q=y?_.videoConstraints:T.createVideoConstraints(s);if(!q){M.cancel(),H("videoConstraints should be defined");return}var Y={};(!y||_.aspectRatio)&&(Y.aspectRatio=_.aspectRatio);var se={onRenderSurfaceReady:function(xe,V){T.setupUi(xe,V,_),T.isScanning=!0,T.foreverScan(_,d,A)}};$y.failIfNotSupported().then(function(xe){xe.create(q).then(function(V){return V.render(x.element,Y,se).then(function(le){T.renderedCamera=le,M.execute(),k(null)}).catch(function(le){M.cancel(),H(le)})}).catch(function(V){M.cancel(),H(el.errorGettingUserMedia(V))})}).catch(function(xe){M.cancel(),H(el.cameraStreamingNotSupported())})})},f.prototype.pause=function(s){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(tn.PAUSED),this.showPausedState(),(Or(s)||s!==!0)&&(s=!1),s&&this.renderedCamera&&this.renderedCamera.pause()},f.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var s=this,o=function(){s.stateManagerProxy.directTransition(tn.SCANNING),s.hidePausedState()};if(!this.renderedCamera.isPaused()){o();return}this.renderedCamera.resume(function(){o()})},f.prototype.getState=function(){return this.stateManagerProxy.getState()},f.prototype.stop=function(){var s=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var o=this.stateManagerProxy.startTransition(tn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var d=function(){if(s.element){var x=document.getElementById(gi.SHADED_REGION_ELEMENT_ID);x&&s.element.removeChild(x)}},m=this;return this.renderedCamera.close().then(function(){return m.renderedCamera=null,m.element&&(m.element.removeChild(m.canvasElement),m.canvasElement=null),d(),m.qrRegion&&(m.qrRegion=null),m.context&&(m.context=null),o.execute(),m.hidePausedState(),m.isScanning=!1,Promise.resolve()})},f.prototype.scanFile=function(s,o){return this.scanFileV2(s,o).then(function(d){return d.decodedText})},f.prototype.scanFileV2=function(s,o){var d=this;if(!s||!(s instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Or(o)&&(o=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(m,x){d.possiblyCloseLastScanImageFile(),d.clearElement(),d.lastScanImageFile=URL.createObjectURL(s);var A=new Image;A.onload=function(){var _=A.width,b=A.height,y=document.getElementById(d.elementId),C=y.clientWidth?y.clientWidth:gi.DEFAULT_WIDTH,T=Math.max(y.clientHeight?y.clientHeight:b,gi.FILE_SCAN_MIN_HEIGHT),M=d.computeCanvasDrawConfig(_,b,C,T);if(o){var k=d.createCanvasElement(C,T,"qr-canvas-visible");k.style.display="inline-block",y.appendChild(k);var H=k.getContext("2d");if(!H)throw"Unable to get 2d context from canvas";H.canvas.width=C,H.canvas.height=T,H.drawImage(A,0,0,_,b,M.x,M.y,M.width,M.height)}var q=gi.FILE_SCAN_HIDDEN_CANVAS_PADDING,Y=Math.max(A.width,M.width),se=Math.max(A.height,M.height),xe=Y+2*q,V=se+2*q,le=d.createCanvasElement(xe,V);y.appendChild(le);var we=le.getContext("2d");if(!we)throw"Unable to get 2d context from canvas";we.canvas.width=xe,we.canvas.height=V,we.drawImage(A,0,0,_,b,q,q,Y,se);try{d.qrcode.decodeRobustlyAsync(le).then(function(Ce){m(D2.createFromQrcodeResult(Ce))}).catch(x)}catch(Ce){x("QR code parse error, error = ".concat(Ce))}},A.onerror=x,A.onabort=x,A.onstalled=x,A.onsuspend=x,A.src=URL.createObjectURL(s)})},f.prototype.clear=function(){this.clearElement()},f.getCameras=function(){return n4.retrieve()},f.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},f.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},f.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},f.prototype.applyVideoConstraints=function(s){if(s){if(!Ig.isMediaStreamConstraintsValid(s,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(s)},f.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},f.prototype.getSupportedFormats=function(s){var o=[Te.QR_CODE,Te.AZTEC,Te.CODABAR,Te.CODE_39,Te.CODE_93,Te.CODE_128,Te.DATA_MATRIX,Te.MAXICODE,Te.ITF,Te.EAN_13,Te.EAN_8,Te.PDF_417,Te.RSS_14,Te.RSS_EXPANDED,Te.UPC_A,Te.UPC_E,Te.UPC_EAN_EXTENSION];if(!s||typeof s=="boolean"||!s.formatsToSupport)return o;if(!Array.isArray(s.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(s.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var d=[],m=0,x=s.formatsToSupport;m<x.length;m++){var A=x[m];ky(A)?d.push(A):this.logger.warn("Invalid format: ".concat(A," passed in config, ignoring."))}if(d.length===0)throw"None of formatsToSupport match supported values.";return d},f.prototype.getUseBarCodeDetectorIfSupported=function(s){if(Or(s))return!0;if(!Or(s.useBarCodeDetectorIfSupported))return s.useBarCodeDetectorIfSupported!==!1;if(Or(s.experimentalFeatures))return!0;var o=s.experimentalFeatures;return Or(o.useBarCodeDetectorIfSupported)?!0:o.useBarCodeDetectorIfSupported!==!1},f.prototype.validateQrboxSize=function(s,o,d){var m=this,x=d.qrbox;this.validateQrboxConfig(x);var A=this.toQrdimensions(s,o,x),_=function(y){if(y<gi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(gi.MIN_QR_BOX_SIZE,"px.")},b=function(y){return y>s&&(m.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),y=s),y};_(A.width),_(A.height),A.width=b(A.width)},f.prototype.validateQrboxConfig=function(s){if(typeof s!="number"&&typeof s!="function"&&(s.width===void 0||s.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},f.prototype.toQrdimensions=function(s,o,d){if(typeof d=="number")return{width:d,height:d};if(typeof d=="function")try{return d(s,o)}catch(m){throw new Error("qrbox config was passed as a function but it failed with unknown error"+m)}return d},f.prototype.setupUi=function(s,o,d){d.isShadedBoxEnabled()&&this.validateQrboxSize(s,o,d);var m=Or(d.qrbox)?{width:s,height:o}:d.qrbox;this.validateQrboxConfig(m);var x=this.toQrdimensions(s,o,m);x.height>o&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var A=d.isShadedBoxEnabled()&&x.height<=o,_={x:0,y:0,width:s,height:o},b=A?this.getShadedRegionBounds(s,o,x):_,y=this.createCanvasElement(b.width,b.height),C={willReadFrequently:!0},T=y.getContext("2d",C);T.canvas.width=b.width,T.canvas.height=b.height,this.element.append(y),A&&this.possiblyInsertShadingElement(this.element,s,o,x),this.createScannerPausedUiElement(this.element),this.qrRegion=b,this.context=T,this.canvasElement=y},f.prototype.createScannerPausedUiElement=function(s){var o=document.createElement("div");o.innerText=el.scannerPaused(),o.style.display="none",o.style.position="absolute",o.style.top="0px",o.style.zIndex="1",o.style.background="rgba(9, 9, 9, 0.46)",o.style.color="#FFECEC",o.style.textAlign="center",o.style.width="100%",s.appendChild(o),this.scannerPausedUiElement=o},f.prototype.scanContext=function(s,o){var d=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(m){return s(m.text,D2.createFromQrcodeResult(m)),d.possiblyUpdateShaders(!0),!0}).catch(function(m){d.possiblyUpdateShaders(!1);var x=el.codeParseError(m);return o(x,Uy.createFrom(x)),!1})},f.prototype.foreverScan=function(s,o,d){var m=this;if(this.shouldScan&&this.renderedCamera){var x=this.renderedCamera.getSurface(),A=x.videoWidth/x.clientWidth,_=x.videoHeight/x.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var b=this.qrRegion.width*A,y=this.qrRegion.height*_,C=this.qrRegion.x*A,T=this.qrRegion.y*_;this.context.drawImage(x,C,T,b,y,0,0,this.qrRegion.width,this.qrRegion.height);var M=function(){m.foreverScanTimeout=setTimeout(function(){m.foreverScan(s,o,d)},m.getTimeoutFps(s.fps))};this.scanContext(o,d).then(function(k){!k&&s.disableFlip!==!0?(m.context.translate(m.context.canvas.width,0),m.context.scale(-1,1),m.scanContext(o,d).finally(function(){M()})):M()}).catch(function(k){m.logger.logError("Error happend while scanning context",k),M()})}},f.prototype.createVideoConstraints=function(s){if(typeof s=="string")return{deviceId:{exact:s}};if(typeof s=="object"){var o="facingMode",d="deviceId",m={user:!0,environment:!0},x="exact",A=function(H){if(H in m)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(H,"'")},_=Object.keys(s);if(_.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(_.length," keys");var b=Object.keys(s)[0];if(b!==o&&b!==d)throw"Only '".concat(o,"' and '").concat(d,"' ")+" are supported for 'cameraIdOrConfig'";if(b===o){var y=s.facingMode;if(typeof y=="string"){if(A(y))return{facingMode:y}}else if(typeof y=="object")if(x in y){if(A(y["".concat(x)]))return{facingMode:{exact:y["".concat(x)]}}}else throw"'facingMode' should be string or object with"+" ".concat(x," as key.");else{var C=typeof y;throw"Invalid type of 'facingMode' = ".concat(C)}}else{var T=s.deviceId;if(typeof T=="string")return{deviceId:T};if(typeof T=="object"){if(x in T)return{deviceId:{exact:T["".concat(x)]}};throw"'deviceId' should be string or object with"+" ".concat(x," as key.")}else{var M=typeof T;throw"Invalid type of 'deviceId' = ".concat(M)}}}var k=typeof s;throw"Invalid type of 'cameraIdOrConfig' = ".concat(k)},f.prototype.computeCanvasDrawConfig=function(s,o,d,m){if(s<=d&&o<=m){var x=(d-s)/2,A=(m-o)/2;return{x,y:A,width:s,height:o}}else{var _=s,b=o;return s>d&&(o=d/s*o,s=d),o>m&&(s=m/o*s,o=m),this.logger.log("Image downsampled from "+"".concat(_,"X").concat(b)+" to ".concat(s,"X").concat(o,".")),this.computeCanvasDrawConfig(s,o,d,m)}},f.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var s=document.getElementById(this.elementId);s&&(s.innerHTML="")},f.prototype.possiblyUpdateShaders=function(s){this.qrMatch!==s&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(o){o.style.backgroundColor=s?gi.BORDER_SHADER_MATCH_COLOR:gi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=s)},f.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},f.prototype.createCanvasElement=function(s,o,d){var m=s,x=o,A=document.createElement("canvas");return A.style.width="".concat(m,"px"),A.style.height="".concat(x,"px"),A.style.display="none",A.id=Or(d)?"qr-canvas":d,A},f.prototype.getShadedRegionBounds=function(s,o,d){if(d.width>s||d.height>o)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(s-d.width)/2,y:(o-d.height)/2,width:d.width,height:d.height}},f.prototype.possiblyInsertShadingElement=function(s,o,d,m){if(!(o-m.width<1||d-m.height<1)){var x=document.createElement("div");x.style.position="absolute";var A=(o-m.width)/2,_=(d-m.height)/2;if(x.style.borderLeft="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),x.style.borderRight="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),x.style.borderTop="".concat(_,"px solid rgba(0, 0, 0, 0.48)"),x.style.borderBottom="".concat(_,"px solid rgba(0, 0, 0, 0.48)"),x.style.boxSizing="border-box",x.style.top="0px",x.style.bottom="0px",x.style.left="0px",x.style.right="0px",x.id="".concat(gi.SHADED_REGION_ELEMENT_ID),o-m.width<11||d-m.height<11)this.hasBorderShaders=!1;else{var b=5,y=40;this.insertShaderBorders(x,y,b,-b,null,0,!0),this.insertShaderBorders(x,y,b,-b,null,0,!1),this.insertShaderBorders(x,y,b,null,-b,0,!0),this.insertShaderBorders(x,y,b,null,-b,0,!1),this.insertShaderBorders(x,b,y+b,-b,null,-b,!0),this.insertShaderBorders(x,b,y+b,null,-b,-b,!0),this.insertShaderBorders(x,b,y+b,-b,null,-b,!1),this.insertShaderBorders(x,b,y+b,null,-b,-b,!1),this.hasBorderShaders=!0}s.append(x)}},f.prototype.insertShaderBorders=function(s,o,d,m,x,A,_){var b=document.createElement("div");b.style.position="absolute",b.style.backgroundColor=gi.BORDER_SHADER_DEFAULT_COLOR,b.style.width="".concat(o,"px"),b.style.height="".concat(d,"px"),m!==null&&(b.style.top="".concat(m,"px")),x!==null&&(b.style.bottom="".concat(x,"px")),_?b.style.left="".concat(A,"px"):b.style.right="".concat(A,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(b),s.appendChild(b)},f.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},f.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},f.prototype.getTimeoutFps=function(s){return 1e3/s},f}(),F2;(function(f){f[f.STATUS_DEFAULT=0]="STATUS_DEFAULT",f[f.STATUS_SUCCESS=1]="STATUS_SUCCESS",f[f.STATUS_WARNING=2]="STATUS_WARNING",f[f.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(F2||(F2={}));function u4(){const f=Z.useRef(null),[s,o]=Z.useState(null);return Z.useEffect(()=>{const d="reader",m=new o4(d,!1);return f.current=m,m.start({facingMode:"environment"},{fps:10,qrbox:250},async x=>{try{const A=JSON.parse(x);if(A.id){const _=await bg(A.id);_&&o(_)}}catch(A){console.error("QR non valide",A)}},()=>{}).catch(x=>console.error("Impossible de démarrer le scanner :",x)),()=>{f.current?.getState().toString()==="SCANNING"&&f.current.stop().then(()=>f.current?.clear()).catch(x=>console.error("Erreur lors de l'arrêt :",x))}},[]),z.jsxs("div",{className:"camera-container",children:[z.jsx("div",{id:"reader"}),s&&z.jsx("div",{className:"equipment-card-container",children:z.jsx(Og,{equipment:s})})]})}function c4(){return z.jsx("div",{children:z.jsx(u4,{})})}var f4=Object.defineProperty,Qu=Object.getOwnPropertySymbols,Mg=Object.prototype.hasOwnProperty,Bg=Object.prototype.propertyIsEnumerable,z2=(f,s,o)=>s in f?f4(f,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):f[s]=o,S0=(f,s)=>{for(var o in s||(s={}))Mg.call(s,o)&&z2(f,o,s[o]);if(Qu)for(var o of Qu(s))Bg.call(s,o)&&z2(f,o,s[o]);return f},T0=(f,s)=>{var o={};for(var d in f)Mg.call(f,d)&&s.indexOf(d)<0&&(o[d]=f[d]);if(f!=null&&Qu)for(var d of Qu(f))s.indexOf(d)<0&&Bg.call(f,d)&&(o[d]=f[d]);return o};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Qa;(f=>{const s=class it{constructor(b,y,C,T){if(this.version=b,this.errorCorrectionLevel=y,this.modules=[],this.isFunction=[],b<it.MIN_VERSION||b>it.MAX_VERSION)throw new RangeError("Version value out of range");if(T<-1||T>7)throw new RangeError("Mask value out of range");this.size=b*4+17;let M=[];for(let H=0;H<this.size;H++)M.push(!1);for(let H=0;H<this.size;H++)this.modules.push(M.slice()),this.isFunction.push(M.slice());this.drawFunctionPatterns();const k=this.addEccAndInterleave(C);if(this.drawCodewords(k),T==-1){let H=1e9;for(let q=0;q<8;q++){this.applyMask(q),this.drawFormatBits(q);const Y=this.getPenaltyScore();Y<H&&(T=q,H=Y),this.applyMask(q)}}m(0<=T&&T<=7),this.mask=T,this.applyMask(T),this.drawFormatBits(T),this.isFunction=[]}static encodeText(b,y){const C=f.QrSegment.makeSegments(b);return it.encodeSegments(C,y)}static encodeBinary(b,y){const C=f.QrSegment.makeBytes(b);return it.encodeSegments([C],y)}static encodeSegments(b,y,C=1,T=40,M=-1,k=!0){if(!(it.MIN_VERSION<=C&&C<=T&&T<=it.MAX_VERSION)||M<-1||M>7)throw new RangeError("Invalid value");let H,q;for(H=C;;H++){const V=it.getNumDataCodewords(H,y)*8,le=A.getTotalBits(b,H);if(le<=V){q=le;break}if(H>=T)throw new RangeError("Data too long")}for(const V of[it.Ecc.MEDIUM,it.Ecc.QUARTILE,it.Ecc.HIGH])k&&q<=it.getNumDataCodewords(H,V)*8&&(y=V);let Y=[];for(const V of b){o(V.mode.modeBits,4,Y),o(V.numChars,V.mode.numCharCountBits(H),Y);for(const le of V.getData())Y.push(le)}m(Y.length==q);const se=it.getNumDataCodewords(H,y)*8;m(Y.length<=se),o(0,Math.min(4,se-Y.length),Y),o(0,(8-Y.length%8)%8,Y),m(Y.length%8==0);for(let V=236;Y.length<se;V^=253)o(V,8,Y);let xe=[];for(;xe.length*8<Y.length;)xe.push(0);return Y.forEach((V,le)=>xe[le>>>3]|=V<<7-(le&7)),new it(H,y,xe,M)}getModule(b,y){return 0<=b&&b<this.size&&0<=y&&y<this.size&&this.modules[y][b]}getModules(){return this.modules}drawFunctionPatterns(){for(let C=0;C<this.size;C++)this.setFunctionModule(6,C,C%2==0),this.setFunctionModule(C,6,C%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const b=this.getAlignmentPatternPositions(),y=b.length;for(let C=0;C<y;C++)for(let T=0;T<y;T++)C==0&&T==0||C==0&&T==y-1||C==y-1&&T==0||this.drawAlignmentPattern(b[C],b[T]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(b){const y=this.errorCorrectionLevel.formatBits<<3|b;let C=y;for(let M=0;M<10;M++)C=C<<1^(C>>>9)*1335;const T=(y<<10|C)^21522;m(T>>>15==0);for(let M=0;M<=5;M++)this.setFunctionModule(8,M,d(T,M));this.setFunctionModule(8,7,d(T,6)),this.setFunctionModule(8,8,d(T,7)),this.setFunctionModule(7,8,d(T,8));for(let M=9;M<15;M++)this.setFunctionModule(14-M,8,d(T,M));for(let M=0;M<8;M++)this.setFunctionModule(this.size-1-M,8,d(T,M));for(let M=8;M<15;M++)this.setFunctionModule(8,this.size-15+M,d(T,M));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let b=this.version;for(let C=0;C<12;C++)b=b<<1^(b>>>11)*7973;const y=this.version<<12|b;m(y>>>18==0);for(let C=0;C<18;C++){const T=d(y,C),M=this.size-11+C%3,k=Math.floor(C/3);this.setFunctionModule(M,k,T),this.setFunctionModule(k,M,T)}}drawFinderPattern(b,y){for(let C=-4;C<=4;C++)for(let T=-4;T<=4;T++){const M=Math.max(Math.abs(T),Math.abs(C)),k=b+T,H=y+C;0<=k&&k<this.size&&0<=H&&H<this.size&&this.setFunctionModule(k,H,M!=2&&M!=4)}}drawAlignmentPattern(b,y){for(let C=-2;C<=2;C++)for(let T=-2;T<=2;T++)this.setFunctionModule(b+T,y+C,Math.max(Math.abs(T),Math.abs(C))!=1)}setFunctionModule(b,y,C){this.modules[y][b]=C,this.isFunction[y][b]=!0}addEccAndInterleave(b){const y=this.version,C=this.errorCorrectionLevel;if(b.length!=it.getNumDataCodewords(y,C))throw new RangeError("Invalid argument");const T=it.NUM_ERROR_CORRECTION_BLOCKS[C.ordinal][y],M=it.ECC_CODEWORDS_PER_BLOCK[C.ordinal][y],k=Math.floor(it.getNumRawDataModules(y)/8),H=T-k%T,q=Math.floor(k/T);let Y=[];const se=it.reedSolomonComputeDivisor(M);for(let V=0,le=0;V<T;V++){let we=b.slice(le,le+q-M+(V<H?0:1));le+=we.length;const Ce=it.reedSolomonComputeRemainder(we,se);V<H&&we.push(0),Y.push(we.concat(Ce))}let xe=[];for(let V=0;V<Y[0].length;V++)Y.forEach((le,we)=>{(V!=q-M||we>=H)&&xe.push(le[V])});return m(xe.length==k),xe}drawCodewords(b){if(b.length!=Math.floor(it.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let y=0;for(let C=this.size-1;C>=1;C-=2){C==6&&(C=5);for(let T=0;T<this.size;T++)for(let M=0;M<2;M++){const k=C-M,q=(C+1&2)==0?this.size-1-T:T;!this.isFunction[q][k]&&y<b.length*8&&(this.modules[q][k]=d(b[y>>>3],7-(y&7)),y++)}}m(y==b.length*8)}applyMask(b){if(b<0||b>7)throw new RangeError("Mask value out of range");for(let y=0;y<this.size;y++)for(let C=0;C<this.size;C++){let T;switch(b){case 0:T=(C+y)%2==0;break;case 1:T=y%2==0;break;case 2:T=C%3==0;break;case 3:T=(C+y)%3==0;break;case 4:T=(Math.floor(C/3)+Math.floor(y/2))%2==0;break;case 5:T=C*y%2+C*y%3==0;break;case 6:T=(C*y%2+C*y%3)%2==0;break;case 7:T=((C+y)%2+C*y%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[y][C]&&T&&(this.modules[y][C]=!this.modules[y][C])}}getPenaltyScore(){let b=0;for(let M=0;M<this.size;M++){let k=!1,H=0,q=[0,0,0,0,0,0,0];for(let Y=0;Y<this.size;Y++)this.modules[M][Y]==k?(H++,H==5?b+=it.PENALTY_N1:H>5&&b++):(this.finderPenaltyAddHistory(H,q),k||(b+=this.finderPenaltyCountPatterns(q)*it.PENALTY_N3),k=this.modules[M][Y],H=1);b+=this.finderPenaltyTerminateAndCount(k,H,q)*it.PENALTY_N3}for(let M=0;M<this.size;M++){let k=!1,H=0,q=[0,0,0,0,0,0,0];for(let Y=0;Y<this.size;Y++)this.modules[Y][M]==k?(H++,H==5?b+=it.PENALTY_N1:H>5&&b++):(this.finderPenaltyAddHistory(H,q),k||(b+=this.finderPenaltyCountPatterns(q)*it.PENALTY_N3),k=this.modules[Y][M],H=1);b+=this.finderPenaltyTerminateAndCount(k,H,q)*it.PENALTY_N3}for(let M=0;M<this.size-1;M++)for(let k=0;k<this.size-1;k++){const H=this.modules[M][k];H==this.modules[M][k+1]&&H==this.modules[M+1][k]&&H==this.modules[M+1][k+1]&&(b+=it.PENALTY_N2)}let y=0;for(const M of this.modules)y=M.reduce((k,H)=>k+(H?1:0),y);const C=this.size*this.size,T=Math.ceil(Math.abs(y*20-C*10)/C)-1;return m(0<=T&&T<=9),b+=T*it.PENALTY_N4,m(0<=b&&b<=2568888),b}getAlignmentPatternPositions(){if(this.version==1)return[];{const b=Math.floor(this.version/7)+2,y=this.version==32?26:Math.ceil((this.version*4+4)/(b*2-2))*2;let C=[6];for(let T=this.size-7;C.length<b;T-=y)C.splice(1,0,T);return C}}static getNumRawDataModules(b){if(b<it.MIN_VERSION||b>it.MAX_VERSION)throw new RangeError("Version number out of range");let y=(16*b+128)*b+64;if(b>=2){const C=Math.floor(b/7)+2;y-=(25*C-10)*C-55,b>=7&&(y-=36)}return m(208<=y&&y<=29648),y}static getNumDataCodewords(b,y){return Math.floor(it.getNumRawDataModules(b)/8)-it.ECC_CODEWORDS_PER_BLOCK[y.ordinal][b]*it.NUM_ERROR_CORRECTION_BLOCKS[y.ordinal][b]}static reedSolomonComputeDivisor(b){if(b<1||b>255)throw new RangeError("Degree out of range");let y=[];for(let T=0;T<b-1;T++)y.push(0);y.push(1);let C=1;for(let T=0;T<b;T++){for(let M=0;M<y.length;M++)y[M]=it.reedSolomonMultiply(y[M],C),M+1<y.length&&(y[M]^=y[M+1]);C=it.reedSolomonMultiply(C,2)}return y}static reedSolomonComputeRemainder(b,y){let C=y.map(T=>0);for(const T of b){const M=T^C.shift();C.push(0),y.forEach((k,H)=>C[H]^=it.reedSolomonMultiply(k,M))}return C}static reedSolomonMultiply(b,y){if(b>>>8||y>>>8)throw new RangeError("Byte out of range");let C=0;for(let T=7;T>=0;T--)C=C<<1^(C>>>7)*285,C^=(y>>>T&1)*b;return m(C>>>8==0),C}finderPenaltyCountPatterns(b){const y=b[1];m(y<=this.size*3);const C=y>0&&b[2]==y&&b[3]==y*3&&b[4]==y&&b[5]==y;return(C&&b[0]>=y*4&&b[6]>=y?1:0)+(C&&b[6]>=y*4&&b[0]>=y?1:0)}finderPenaltyTerminateAndCount(b,y,C){return b&&(this.finderPenaltyAddHistory(y,C),y=0),y+=this.size,this.finderPenaltyAddHistory(y,C),this.finderPenaltyCountPatterns(C)}finderPenaltyAddHistory(b,y){y[0]==0&&(b+=this.size),y.pop(),y.unshift(b)}};s.MIN_VERSION=1,s.MAX_VERSION=40,s.PENALTY_N1=3,s.PENALTY_N2=3,s.PENALTY_N3=40,s.PENALTY_N4=10,s.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],s.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],f.QrCode=s;function o(_,b,y){if(b<0||b>31||_>>>b)throw new RangeError("Value out of range");for(let C=b-1;C>=0;C--)y.push(_>>>C&1)}function d(_,b){return(_>>>b&1)!=0}function m(_){if(!_)throw new Error("Assertion error")}const x=class en{constructor(b,y,C){if(this.mode=b,this.numChars=y,this.bitData=C,y<0)throw new RangeError("Invalid argument");this.bitData=C.slice()}static makeBytes(b){let y=[];for(const C of b)o(C,8,y);return new en(en.Mode.BYTE,b.length,y)}static makeNumeric(b){if(!en.isNumeric(b))throw new RangeError("String contains non-numeric characters");let y=[];for(let C=0;C<b.length;){const T=Math.min(b.length-C,3);o(parseInt(b.substring(C,C+T),10),T*3+1,y),C+=T}return new en(en.Mode.NUMERIC,b.length,y)}static makeAlphanumeric(b){if(!en.isAlphanumeric(b))throw new RangeError("String contains unencodable characters in alphanumeric mode");let y=[],C;for(C=0;C+2<=b.length;C+=2){let T=en.ALPHANUMERIC_CHARSET.indexOf(b.charAt(C))*45;T+=en.ALPHANUMERIC_CHARSET.indexOf(b.charAt(C+1)),o(T,11,y)}return C<b.length&&o(en.ALPHANUMERIC_CHARSET.indexOf(b.charAt(C)),6,y),new en(en.Mode.ALPHANUMERIC,b.length,y)}static makeSegments(b){return b==""?[]:en.isNumeric(b)?[en.makeNumeric(b)]:en.isAlphanumeric(b)?[en.makeAlphanumeric(b)]:[en.makeBytes(en.toUtf8ByteArray(b))]}static makeEci(b){let y=[];if(b<0)throw new RangeError("ECI assignment value out of range");if(b<128)o(b,8,y);else if(b<16384)o(2,2,y),o(b,14,y);else if(b<1e6)o(6,3,y),o(b,21,y);else throw new RangeError("ECI assignment value out of range");return new en(en.Mode.ECI,0,y)}static isNumeric(b){return en.NUMERIC_REGEX.test(b)}static isAlphanumeric(b){return en.ALPHANUMERIC_REGEX.test(b)}getData(){return this.bitData.slice()}static getTotalBits(b,y){let C=0;for(const T of b){const M=T.mode.numCharCountBits(y);if(T.numChars>=1<<M)return 1/0;C+=4+M+T.bitData.length}return C}static toUtf8ByteArray(b){b=encodeURI(b);let y=[];for(let C=0;C<b.length;C++)b.charAt(C)!="%"?y.push(b.charCodeAt(C)):(y.push(parseInt(b.substring(C+1,C+3),16)),C+=2);return y}};x.NUMERIC_REGEX=/^[0-9]*$/,x.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,x.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let A=x;f.QrSegment=x})(Qa||(Qa={}));(f=>{(s=>{const o=class{constructor(m,x){this.ordinal=m,this.formatBits=x}};o.LOW=new o(0,1),o.MEDIUM=new o(1,0),o.QUARTILE=new o(2,3),o.HIGH=new o(3,2),s.Ecc=o})(f.QrCode||(f.QrCode={}))})(Qa||(Qa={}));(f=>{(s=>{const o=class{constructor(m,x){this.modeBits=m,this.numBitsCharCount=x}numCharCountBits(m){return this.numBitsCharCount[Math.floor((m+7)/17)]}};o.NUMERIC=new o(1,[10,12,14]),o.ALPHANUMERIC=new o(2,[9,11,13]),o.BYTE=new o(4,[8,16,16]),o.KANJI=new o(8,[8,10,12]),o.ECI=new o(7,[0,0,0]),s.Mode=o})(f.QrSegment||(f.QrSegment={}))})(Qa||(Qa={}));var tl=Qa;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var h4={L:tl.QrCode.Ecc.LOW,M:tl.QrCode.Ecc.MEDIUM,Q:tl.QrCode.Ecc.QUARTILE,H:tl.QrCode.Ecc.HIGH},Lg=128,kg="L",Pg="#FFFFFF",Ug="#000000",jg=!1,Fg=1,d4=4,g4=0,m4=.1;function zg(f,s=0){const o=[];return f.forEach(function(d,m){let x=null;d.forEach(function(A,_){if(!A&&x!==null){o.push(`M${x+s} ${m+s}h${_-x}v1H${x+s}z`),x=null;return}if(_===d.length-1){if(!A)return;x===null?o.push(`M${_+s},${m+s} h1v1H${_+s}z`):o.push(`M${x+s},${m+s} h${_+1-x}v1H${x+s}z`);return}A&&x===null&&(x=_)})}),o.join("")}function Hg(f,s){return f.slice().map((o,d)=>d<s.y||d>=s.y+s.h?o:o.map((m,x)=>x<s.x||x>=s.x+s.w?m:!1))}function x4(f,s,o,d){if(d==null)return null;const m=f.length+o*2,x=Math.floor(s*m4),A=m/s,_=(d.width||x)*A,b=(d.height||x)*A,y=d.x==null?f.length/2-_/2:d.x*A,C=d.y==null?f.length/2-b/2:d.y*A,T=d.opacity==null?1:d.opacity;let M=null;if(d.excavate){let H=Math.floor(y),q=Math.floor(C),Y=Math.ceil(_+y-H),se=Math.ceil(b+C-q);M={x:H,y:q,w:Y,h:se}}const k=d.crossOrigin;return{x:y,y:C,h:b,w:_,excavation:M,opacity:T,crossOrigin:k}}function p4(f,s){return s!=null?Math.max(Math.floor(s),0):f?d4:g4}function Gg({value:f,level:s,minVersion:o,includeMargin:d,marginSize:m,imageSettings:x,size:A,boostLevel:_}){let b=Pt.useMemo(()=>{const H=(Array.isArray(f)?f:[f]).reduce((q,Y)=>(q.push(...tl.QrSegment.makeSegments(Y)),q),[]);return tl.QrCode.encodeSegments(H,h4[s],o,void 0,void 0,_)},[f,s,o,_]);const{cells:y,margin:C,numCells:T,calculatedImageSettings:M}=Pt.useMemo(()=>{let k=b.getModules();const H=p4(d,m),q=k.length+H*2,Y=x4(k,A,H,x);return{cells:k,margin:H,numCells:q,calculatedImageSettings:Y}},[b,A,x,d,m]);return{qrcode:b,margin:C,cells:y,numCells:T,calculatedImageSettings:M}}var w4=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),y4=Pt.forwardRef(function(s,o){const d=s,{value:m,size:x=Lg,level:A=kg,bgColor:_=Pg,fgColor:b=Ug,includeMargin:y=jg,minVersion:C=Fg,boostLevel:T,marginSize:M,imageSettings:k}=d,q=T0(d,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:Y}=q,se=T0(q,["style"]),xe=k?.src,V=Pt.useRef(null),le=Pt.useRef(null),we=Pt.useCallback(ft=>{V.current=ft,typeof o=="function"?o(ft):o&&(o.current=ft)},[o]),[Ce,ae]=Pt.useState(!1),{margin:Le,cells:ce,numCells:Ut,calculatedImageSettings:Ve}=Gg({value:m,level:A,minVersion:C,boostLevel:T,includeMargin:y,marginSize:M,imageSettings:k,size:x});Pt.useEffect(()=>{if(V.current!=null){const ft=V.current,ee=ft.getContext("2d");if(!ee)return;let re=ce;const ue=le.current,De=Ve!=null&&ue!==null&&ue.complete&&ue.naturalHeight!==0&&ue.naturalWidth!==0;De&&Ve.excavation!=null&&(re=Hg(ce,Ve.excavation));const Ke=window.devicePixelRatio||1;ft.height=ft.width=x*Ke;const j=x/Ut*Ke;ee.scale(j,j),ee.fillStyle=_,ee.fillRect(0,0,Ut,Ut),ee.fillStyle=b,w4?ee.fill(new Path2D(zg(re,Le))):ce.forEach(function(ge,ve){ge.forEach(function(Ae,Se){Ae&&ee.fillRect(Se+Le,ve+Le,1,1)})}),Ve&&(ee.globalAlpha=Ve.opacity),De&&ee.drawImage(ue,Ve.x+Le,Ve.y+Le,Ve.w,Ve.h)}}),Pt.useEffect(()=>{ae(!1)},[xe]);const Re=S0({height:x,width:x},Y);let Ze=null;return xe!=null&&(Ze=Pt.createElement("img",{src:xe,key:xe,style:{display:"none"},onLoad:()=>{ae(!0)},ref:le,crossOrigin:Ve?.crossOrigin})),Pt.createElement(Pt.Fragment,null,Pt.createElement("canvas",S0({style:Re,height:x,width:x,ref:we,role:"img"},se)),Ze)});y4.displayName="QRCodeCanvas";var Vg=Pt.forwardRef(function(s,o){const d=s,{value:m,size:x=Lg,level:A=kg,bgColor:_=Pg,fgColor:b=Ug,includeMargin:y=jg,minVersion:C=Fg,boostLevel:T,title:M,marginSize:k,imageSettings:H}=d,q=T0(d,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:Y,cells:se,numCells:xe,calculatedImageSettings:V}=Gg({value:m,level:A,minVersion:C,boostLevel:T,includeMargin:y,marginSize:k,imageSettings:H,size:x});let le=se,we=null;H!=null&&V!=null&&(V.excavation!=null&&(le=Hg(se,V.excavation)),we=Pt.createElement("image",{href:H.src,height:V.h,width:V.w,x:V.x+Y,y:V.y+Y,preserveAspectRatio:"none",opacity:V.opacity,crossOrigin:V.crossOrigin}));const Ce=zg(le,Y);return Pt.createElement("svg",S0({height:x,width:x,viewBox:`0 0 ${xe} ${xe}`,ref:o,role:"img"},q),!!M&&Pt.createElement("title",null,M),Pt.createElement("path",{fill:_,d:`M0,0 h${xe}v${xe}H0z`,shapeRendering:"crispEdges"}),Pt.createElement("path",{fill:b,d:Ce,shapeRendering:"crispEdges"}),we)});Vg.displayName="QRCodeSVG";const Xg=({equipment:f})=>{const s=Z.useRef(null),o=m=>{if(!s.current)return;const x=new XMLSerializer().serializeToString(s.current),A=new Image,_=new Blob([x],{type:"image/svg+xml;charset=utf-8"}),b=URL.createObjectURL(_);A.onload=()=>{const y=document.createElement("canvas"),C=200,T=20,M=30;y.width=C+T*2,y.height=C+T*2+M;const k=y.getContext("2d");if(!k)return;k.fillStyle="white",k.fillRect(0,0,y.width,y.height),k.drawImage(A,T,T,C,C),k.fillStyle="black",k.font="16px Arial",k.textAlign="center",k.fillText(f.name,y.width/2,C+T*2+15);const H=document.createElement("a");H.download=`${f.name}.${m}`,H.href=y.toDataURL(`image/${m}`),H.click(),URL.revokeObjectURL(b)},A.src=b},d=JSON.stringify({id:f.id,name:f.name});return z.jsxs("div",{className:"equipmentQR-container",children:[z.jsx(Vg,{ref:s,value:d,size:200}),z.jsx("div",{children:z.jsx("button",{onClick:()=>o("png"),className:"download-button",children:z.jsx(py,{size:24})})})]})};function E4(){const{user:f,signOut:s}=bo(),{cart:o}=$a();return z.jsxs("div",{className:"profile-container",children:[z.jsx(Ka,{title:"Paramètres"}),z.jsx("div",{className:"profile-card",children:f&&z.jsxs(z.Fragment,{children:[z.jsx("h2",{className:"profile-title",children:"Profil"}),z.jsx("p",{className:"profile-email",children:f.email}),z.jsx("button",{className:"logout-btn",onClick:s,children:"Se déconnecter"})]})}),z.jsx("div",{className:"profile-card",children:f&&z.jsx(z.Fragment,{children:z.jsx("h2",{className:"profile-title",children:"QR Codes"})})}),o.length>0&&z.jsx(Xg,{equipment:o[0]})]})}function v4(){return z.jsxs("nav",{className:"navbar",children:[z.jsx(co,{to:"/ShelfTracker",className:({isActive:f})=>f?"nav-item active":"nav-item",end:!0,children:z.jsx(by,{size:24})}),z.jsx(co,{to:"/ShelfTracker/scan",className:({isActive:f})=>f?"nav-item active":"nav-item",children:z.jsx(Cy,{size:24})}),z.jsx(co,{to:"/ShelfTracker/profile",className:({isActive:f})=>f?"nav-item active":"nav-item",children:z.jsx(_y,{size:24})})]})}function Ya({children:f}){return z.jsxs("div",{className:"protected-layout",children:[z.jsx("div",{className:"content",children:f}),z.jsx(v4,{})]})}const b4=()=>{const[f,s]=Z.useState([]),[o,d]=Z.useState(!0),[m,x]=Z.useState(null),[A,_]=Z.useState(""),{cart:b}=$a();return Z.useEffect(()=>{try{s(b)}catch(y){x(y instanceof Error?y.message:"Erreur inconnue")}finally{d(!1)}},[b]),z.jsx(Rg,{equipments:f,error:m,search:A,setSearch:_,loading:o})},A4=({onClick:f})=>z.jsx("div",{className:"fab-checkout",onClick:f,children:z.jsx(Sg,{})});function C4(){const{cart:f}=$a(),s=ji(),o=()=>{s("/ShelfTracker/checkout")};return z.jsxs("div",{children:[z.jsx(Ka,{title:"Panier"}),z.jsx(b4,{}),f.length>0&&z.jsx(A4,{onClick:o})]})}const qg="bookings",_4=async()=>{const{data:f,error:s}=await Li.from(qg).select("*").order("start_time",{ascending:!0});if(s)throw s;return f??[]},S4=async f=>{const{data:s,error:o}=await Li.from(qg).insert(f).single();if(o)throw o;return s},T4="profiles",O4=async()=>{const{data:f,error:s}=await Li.from(T4).select("*").order("name",{ascending:!0});if(s)throw s;return f??[]};function R4(){const[f,s]=Z.useState(""),[o,d]=Z.useState(""),[m,x]=Z.useState(!1),[A,_]=Z.useState([]),[b,y]=Z.useState(!1),[C,T]=Z.useState([]),[M,k]=Z.useState(""),H=ji(),{cart:q,clearCart:Y}=$a();Z.useEffect(()=>{(async()=>{try{const we=await O4();T(we),we.length>0&&k(we[0].id)}catch(we){console.error("Erreur chargement profils",we)}})()},[]);const se=async()=>{if(!f||!o){alert("Veuillez sélectionner une date de début et de fin.");return}if(!M||M.toString()===""){alert("Veuillez sélectionner un profil.");return}const le=new Date,we=new Date(f),Ce=new Date(o);if(we<le){alert("La date de début ne peut pas être dans le passé.");return}if(Ce<le){alert("La date de fin ne peut pas être dans le passé.");return}if(we>=Ce){alert("La date de début doit être avant la date de fin.");return}x(!0),_([]),y(!1);try{const ae=[],Le=await _4();for(const ce of q)Le.filter(Ve=>Ve.equipment_id===ce.id&&new Date(Ve.start_time)<=Ce&&new Date(Ve.end_time)>=we).length>0&&ae.push(ce);if(ae.length>0){_(ae);return}for(const ce of q)await S4({equipment_id:ce.id,booker_id:C[Number(M)-1].id,rent:!0,start_time:we.toISOString(),end_time:Ce.toISOString()});Y(),y(!0)}catch(ae){console.error(ae),alert("Une erreur est survenue lors de la réservation.")}finally{x(!1)}},xe=new Date().toISOString().slice(0,16),V=le=>{const we=le.target.value;we==="create"?H("/create-profile"):k(Number(we))};return z.jsxs("div",{children:[z.jsx(Ka,{title:"Réservation"}),z.jsxs("div",{className:"checkout-container",children:[z.jsx("div",{className:"profile-selector",children:z.jsxs("label",{children:["Profil",z.jsxs("select",{value:M,onChange:V,children:[C.map(le=>z.jsx("option",{value:le.id,children:le.name},le.id)),z.jsx("option",{value:"create",children:"+ Ajouter un profil"})]})]})}),z.jsxs("div",{className:"date-selectors",children:[z.jsxs("label",{children:["Début",z.jsx("input",{type:"datetime-local",value:f,min:xe,onChange:le=>s(le.target.value)})]}),z.jsxs("label",{children:["Fin",z.jsx("input",{type:"datetime-local",value:o,min:f||xe,onChange:le=>d(le.target.value)})]})]}),z.jsx("button",{className:"btn",onClick:se,disabled:m,children:m?"Réservation...":"Réserver"}),A.length>0&&z.jsxs("div",{className:"error-box",children:[z.jsx(oy,{size:24,color:"red"}),z.jsx("p",{children:"Impossible de réserver les équipements suivants :"}),z.jsx("ul",{children:A.map(le=>z.jsx("li",{children:le.name},le.id))})]}),b&&z.jsx("div",{className:"success-box",children:z.jsxs("div",{className:"success-box-text",children:[z.jsx(Sg,{size:24,color:"black"}),z.jsx("p",{children:"Réservation confirmée"}),z.jsx("button",{className:"back-home-button",onClick:()=>H("/ShelfTracker"),children:"Retour à l'accueil"})]})})]})]})}function N4(){const[f,s]=Z.useState(null),[o,d]=Z.useState(!0),[m,x]=Z.useState(!1),{id:A}=Zx(),{addToCart:_,removeFromCart:b,cart:y}=$a(),C=()=>{if(f){if(m){b(f?.id);return}_(f),x(!m)}};if(Z.useEffect(()=>{(async()=>{const q=await bg(Number(A));s(q),y.find(Y=>Y.id===q?.id)?x(!0):x(!1),d(!1)})()},[A,y]),o)return z.jsxs("div",{children:[z.jsx(Ka,{title:"Détails"}),z.jsx(H0,{})]});const T=f?.type??"Autre",{icon:M,color:k}=po[T]||po.Autre;return z.jsxs("div",{children:[z.jsx(Ka,{title:"Détails"}),z.jsxs("div",{className:"equipment-detail-container",children:[z.jsxs("div",{className:"equipment-card-header",children:[z.jsx("div",{className:"equipment-detail-icon",style:{background:k},children:z.jsx(M,{size:28,color:"white"})}),z.jsx("h2",{className:"equipment-detail-name",children:f?.name}),z.jsx("button",{className:"equipment-detail-add-btn",onClick:C,children:m?z.jsx(Tg,{size:28,color:"lightcoral"}):z.jsx(V0,{size:28,color:"lightgreen"})})]}),z.jsx("p",{className:"equipment-detail-type",children:f?.type}),z.jsx("p",{className:"equipment-detail-location",children:f?.location==null?"Emplacement inconnu":f?.location})]}),z.jsx("div",{className:"equipment-detail-note-container",children:z.jsx("p",{className:"equipment-detail-note",children:f?.note==null?"Cet equipement n'a pas de description.":f?.note})}),f&&z.jsx(Xg,{equipment:f})]})}function I4(){const f=ji(),[s,o]=Z.useState({name:"",note:"",rent_price:0,location:"",type:"Autre"}),[d,m]=Z.useState(!1),[x,A]=Z.useState(null),_=y=>{const{name:C,value:T}=y.target;o(M=>({...M,[C]:C==="rent_price"?Number(T):T}))},b=async y=>{y.preventDefault(),m(!0),A(null);try{await $w(s),f("/ShelfTracker/")}catch(C){A(C.message)}finally{m(!1)}};return z.jsxs("div",{children:[z.jsx(Ka,{title:"Création"}),z.jsx("div",{className:"equipment-detail-container",children:z.jsxs("form",{className:"equipment-form",onSubmit:b,children:[x&&z.jsx("p",{style:{color:"red"},children:x}),z.jsxs("label",{children:["Nom",z.jsx("input",{type:"text",name:"name",value:s.name,onChange:_,required:!0})]}),z.jsxs("label",{children:["Type",z.jsx("select",{name:"type",value:s.type??"Autre",onChange:_,children:Object.keys(po).map(y=>z.jsx("option",{value:y,children:y},y))})]}),z.jsxs("label",{children:["Emplacement",z.jsx("input",{type:"text",name:"location",value:s.location??"",onChange:_})]}),z.jsxs("label",{children:["Prix de location (€)",z.jsx("input",{type:"number",step:"0.01",name:"rent_price",value:s.rent_price,onChange:_})]}),z.jsxs("label",{children:["Note",z.jsx("textarea",{name:"note",value:s.note??"",onChange:_})]}),z.jsx("button",{type:"submit",disabled:d,children:d?"Création...":"Créer"})]})})]})}function D4(){return z.jsx(Zw,{children:z.jsx(ey,{children:z.jsx(B3,{children:z.jsxs(f3,{children:[z.jsx(ar,{path:"/ShelfTracker/login",element:z.jsx(Qw,{})}),z.jsx(ar,{path:"/ShelfTracker/signup",element:z.jsx(Ly,{})}),z.jsx(ar,{path:"/ShelfTracker",element:z.jsx(qa,{children:z.jsx(Ya,{children:z.jsx(My,{})})})}),z.jsx(ar,{path:"/ShelfTracker/scan",element:z.jsx(qa,{children:z.jsx(Ya,{children:z.jsx(c4,{})})})}),z.jsx(ar,{path:"/ShelfTracker/profile",element:z.jsx(qa,{children:z.jsx(Ya,{children:z.jsx(E4,{})})})}),z.jsx(ar,{path:"/ShelfTracker/cart",element:z.jsx(qa,{children:z.jsx(Ya,{children:z.jsx(C4,{})})})}),z.jsx(ar,{path:"/ShelfTracker/checkout",element:z.jsx(qa,{children:z.jsx(Ya,{children:z.jsx(R4,{})})})}),z.jsx(ar,{path:"/ShelfTracker/equipment/:id",element:z.jsx(qa,{children:z.jsx(Ya,{children:z.jsx(N4,{})})})}),z.jsx(ar,{path:"/ShelfTracker/equipment/new",element:z.jsx(qa,{children:z.jsx(Ya,{children:z.jsx(I4,{})})})})]})})})})}yx.createRoot(document.getElementById("root")).render(z.jsx(D4,{}));
