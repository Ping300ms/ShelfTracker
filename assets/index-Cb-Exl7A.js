function rx(h,l){for(var o=0;o<l.length;o++){const d=l[o];if(typeof d!="string"&&!Array.isArray(d)){for(const m in d)if(m!=="default"&&!(m in h)){const x=Object.getOwnPropertyDescriptor(d,m);x&&Object.defineProperty(h,m,x.get?x:{enumerable:!0,get:()=>d[m]})}}}return Object.freeze(Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}))}(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))d(m);new MutationObserver(m=>{for(const x of m)if(x.type==="childList")for(const b of x.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&d(b)}).observe(document,{childList:!0,subtree:!0});function o(m){const x={};return m.integrity&&(x.integrity=m.integrity),m.referrerPolicy&&(x.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?x.credentials="include":m.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function d(m){if(m.ep)return;m.ep=!0;const x=o(m);fetch(m.href,x)}})();var Du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function T0(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}function ax(h){if(Object.prototype.hasOwnProperty.call(h,"__esModule"))return h;var l=h.default;if(typeof l=="function"){var o=function d(){var m=!1;try{m=this instanceof d}catch{}return m?Reflect.construct(l,arguments,this.constructor):l.apply(this,arguments)};o.prototype=l.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(h).forEach(function(d){var m=Object.getOwnPropertyDescriptor(h,d);Object.defineProperty(o,d,m.get?m:{enumerable:!0,get:function(){return h[d]}})}),o}var Kf={exports:{}},to={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ld;function sx(){if(Ld)return to;Ld=1;var h=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function o(d,m,x){var b=null;if(x!==void 0&&(b=""+x),m.key!==void 0&&(b=""+m.key),"key"in m){x={};for(var _ in m)_!=="key"&&(x[_]=m[_])}else x=m;return m=x.ref,{$$typeof:h,type:d,key:b,ref:m!==void 0?m:null,props:x}}return to.Fragment=l,to.jsx=o,to.jsxs=o,to}var kd;function lx(){return kd||(kd=1,Kf.exports=sx()),Kf.exports}var Q=lx(),Qf={exports:{}},no={},Jf={exports:{}},$f={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pd;function ox(){return Pd||(Pd=1,function(h){function l(re,ue){var De=re.length;re.push(ue);e:for(;0<De;){var Ke=De-1>>>1,F=re[Ke];if(0<m(F,ue))re[Ke]=ue,re[De]=F,De=Ke;else break e}}function o(re){return re.length===0?null:re[0]}function d(re){if(re.length===0)return null;var ue=re[0],De=re.pop();if(De!==ue){re[0]=De;e:for(var Ke=0,F=re.length,ge=F>>>1;Ke<ge;){var ve=2*(Ke+1)-1,Ae=re[ve],Se=ve+1,at=re[Se];if(0>m(Ae,De))Se<F&&0>m(at,Ae)?(re[Ke]=at,re[Se]=De,Ke=Se):(re[Ke]=Ae,re[ve]=De,Ke=ve);else if(Se<F&&0>m(at,De))re[Ke]=at,re[Se]=De,Ke=Se;else break e}}return ue}function m(re,ue){var De=re.sortIndex-ue.sortIndex;return De!==0?De:re.id-ue.id}if(h.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var x=performance;h.unstable_now=function(){return x.now()}}else{var b=Date,_=b.now();h.unstable_now=function(){return b.now()-_}}var A=[],y=[],C=1,O=null,B=3,P=!1,z=!1,X=!1,Y=!1,se=typeof setTimeout=="function"?setTimeout:null,xe=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function le(re){for(var ue=o(y);ue!==null;){if(ue.callback===null)d(y);else if(ue.startTime<=re)d(y),ue.sortIndex=ue.expirationTime,l(A,ue);else break;ue=o(y)}}function we(re){if(X=!1,le(re),!z)if(o(A)!==null)z=!0,Ce||(Ce=!0,Re());else{var ue=o(y);ue!==null&&ee(we,ue.startTime-re)}}var Ce=!1,ae=-1,Le=5,ce=-1;function Ut(){return Y?!0:!(h.unstable_now()-ce<Le)}function Ve(){if(Y=!1,Ce){var re=h.unstable_now();ce=re;var ue=!0;try{e:{z=!1,X&&(X=!1,xe(ae),ae=-1),P=!0;var De=B;try{t:{for(le(re),O=o(A);O!==null&&!(O.expirationTime>re&&Ut());){var Ke=O.callback;if(typeof Ke=="function"){O.callback=null,B=O.priorityLevel;var F=Ke(O.expirationTime<=re);if(re=h.unstable_now(),typeof F=="function"){O.callback=F,le(re),ue=!0;break t}O===o(A)&&d(A),le(re)}else d(A);O=o(A)}if(O!==null)ue=!0;else{var ge=o(y);ge!==null&&ee(we,ge.startTime-re),ue=!1}}break e}finally{O=null,B=De,P=!1}ue=void 0}}finally{ue?Re():Ce=!1}}}var Re;if(typeof G=="function")Re=function(){G(Ve)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,ft=Ze.port2;Ze.port1.onmessage=Ve,Re=function(){ft.postMessage(null)}}else Re=function(){se(Ve,0)};function ee(re,ue){ae=se(function(){re(h.unstable_now())},ue)}h.unstable_IdlePriority=5,h.unstable_ImmediatePriority=1,h.unstable_LowPriority=4,h.unstable_NormalPriority=3,h.unstable_Profiling=null,h.unstable_UserBlockingPriority=2,h.unstable_cancelCallback=function(re){re.callback=null},h.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Le=0<re?Math.floor(1e3/re):5},h.unstable_getCurrentPriorityLevel=function(){return B},h.unstable_next=function(re){switch(B){case 1:case 2:case 3:var ue=3;break;default:ue=B}var De=B;B=ue;try{return re()}finally{B=De}},h.unstable_requestPaint=function(){Y=!0},h.unstable_runWithPriority=function(re,ue){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var De=B;B=re;try{return ue()}finally{B=De}},h.unstable_scheduleCallback=function(re,ue,De){var Ke=h.unstable_now();switch(typeof De=="object"&&De!==null?(De=De.delay,De=typeof De=="number"&&0<De?Ke+De:Ke):De=Ke,re){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=De+F,re={id:C++,callback:ue,priorityLevel:re,startTime:De,expirationTime:F,sortIndex:-1},De>Ke?(re.sortIndex=De,l(y,re),o(A)===null&&re===o(y)&&(X?(xe(ae),ae=-1):X=!0,ee(we,De-Ke))):(re.sortIndex=F,l(A,re),z||P||(z=!0,Ce||(Ce=!0,Re()))),re},h.unstable_shouldYield=Ut,h.unstable_wrapCallback=function(re){var ue=B;return function(){var De=B;B=ue;try{return re.apply(this,arguments)}finally{B=De}}}}($f)),$f}var Ud;function ux(){return Ud||(Ud=1,Jf.exports=ox()),Jf.exports}var e0={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd;function cx(){if(Fd)return We;Fd=1;var h=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),b=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),O=Symbol.iterator;function B(F){return F===null||typeof F!="object"?null:(F=O&&F[O]||F["@@iterator"],typeof F=="function"?F:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,X={};function Y(F,ge,ve){this.props=F,this.context=ge,this.refs=X,this.updater=ve||P}Y.prototype.isReactComponent={},Y.prototype.setState=function(F,ge){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ge,"setState")},Y.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function se(){}se.prototype=Y.prototype;function xe(F,ge,ve){this.props=F,this.context=ge,this.refs=X,this.updater=ve||P}var G=xe.prototype=new se;G.constructor=xe,z(G,Y.prototype),G.isPureReactComponent=!0;var le=Array.isArray,we={H:null,A:null,T:null,S:null,V:null},Ce=Object.prototype.hasOwnProperty;function ae(F,ge,ve,Ae,Se,at){return ve=at.ref,{$$typeof:h,type:F,key:ge,ref:ve!==void 0?ve:null,props:at}}function Le(F,ge){return ae(F.type,ge,void 0,void 0,void 0,F.props)}function ce(F){return typeof F=="object"&&F!==null&&F.$$typeof===h}function Ut(F){var ge={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ve){return ge[ve]})}var Ve=/\/+/g;function Re(F,ge){return typeof F=="object"&&F!==null&&F.key!=null?Ut(""+F.key):ge.toString(36)}function Ze(){}function ft(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(Ze,Ze):(F.status="pending",F.then(function(ge){F.status==="pending"&&(F.status="fulfilled",F.value=ge)},function(ge){F.status==="pending"&&(F.status="rejected",F.reason=ge)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function ee(F,ge,ve,Ae,Se){var at=typeof F;(at==="undefined"||at==="boolean")&&(F=null);var ye=!1;if(F===null)ye=!0;else switch(at){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(F.$$typeof){case h:case l:ye=!0;break;case C:return ye=F._init,ee(ye(F._payload),ge,ve,Ae,Se)}}if(ye)return Se=Se(F),ye=Ae===""?"."+Re(F,0):Ae,le(Se)?(ve="",ye!=null&&(ve=ye.replace(Ve,"$&/")+"/"),ee(Se,ge,ve,"",function(Zn){return Zn})):Se!=null&&(ce(Se)&&(Se=Le(Se,ve+(Se.key==null||F&&F.key===Se.key?"":(""+Se.key).replace(Ve,"$&/")+"/")+ye)),ge.push(Se)),1;ye=0;var In=Ae===""?".":Ae+":";if(le(F))for(var Xe=0;Xe<F.length;Xe++)Ae=F[Xe],at=In+Re(Ae,Xe),ye+=ee(Ae,ge,ve,at,Se);else if(Xe=B(F),typeof Xe=="function")for(F=Xe.call(F),Xe=0;!(Ae=F.next()).done;)Ae=Ae.value,at=In+Re(Ae,Xe++),ye+=ee(Ae,ge,ve,at,Se);else if(at==="object"){if(typeof F.then=="function")return ee(ft(F),ge,ve,Ae,Se);throw ge=String(F),Error("Objects are not valid as a React child (found: "+(ge==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ge)+"). If you meant to render a collection of children, use an array instead.")}return ye}function re(F,ge,ve){if(F==null)return F;var Ae=[],Se=0;return ee(F,Ae,"","",function(at){return ge.call(ve,at,Se++)}),Ae}function ue(F){if(F._status===-1){var ge=F._result;ge=ge(),ge.then(function(ve){(F._status===0||F._status===-1)&&(F._status=1,F._result=ve)},function(ve){(F._status===0||F._status===-1)&&(F._status=2,F._result=ve)}),F._status===-1&&(F._status=0,F._result=ge)}if(F._status===1)return F._result.default;throw F._result}var De=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ge=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ge))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function Ke(){}return We.Children={map:re,forEach:function(F,ge,ve){re(F,function(){ge.apply(this,arguments)},ve)},count:function(F){var ge=0;return re(F,function(){ge++}),ge},toArray:function(F){return re(F,function(ge){return ge})||[]},only:function(F){if(!ce(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},We.Component=Y,We.Fragment=o,We.Profiler=m,We.PureComponent=xe,We.StrictMode=d,We.Suspense=A,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=we,We.__COMPILER_RUNTIME={__proto__:null,c:function(F){return we.H.useMemoCache(F)}},We.cache=function(F){return function(){return F.apply(null,arguments)}},We.cloneElement=function(F,ge,ve){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var Ae=z({},F.props),Se=F.key,at=void 0;if(ge!=null)for(ye in ge.ref!==void 0&&(at=void 0),ge.key!==void 0&&(Se=""+ge.key),ge)!Ce.call(ge,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&ge.ref===void 0||(Ae[ye]=ge[ye]);var ye=arguments.length-2;if(ye===1)Ae.children=ve;else if(1<ye){for(var In=Array(ye),Xe=0;Xe<ye;Xe++)In[Xe]=arguments[Xe+2];Ae.children=In}return ae(F.type,Se,void 0,void 0,at,Ae)},We.createContext=function(F){return F={$$typeof:b,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:x,_context:F},F},We.createElement=function(F,ge,ve){var Ae,Se={},at=null;if(ge!=null)for(Ae in ge.key!==void 0&&(at=""+ge.key),ge)Ce.call(ge,Ae)&&Ae!=="key"&&Ae!=="__self"&&Ae!=="__source"&&(Se[Ae]=ge[Ae]);var ye=arguments.length-2;if(ye===1)Se.children=ve;else if(1<ye){for(var In=Array(ye),Xe=0;Xe<ye;Xe++)In[Xe]=arguments[Xe+2];Se.children=In}if(F&&F.defaultProps)for(Ae in ye=F.defaultProps,ye)Se[Ae]===void 0&&(Se[Ae]=ye[Ae]);return ae(F,at,void 0,void 0,null,Se)},We.createRef=function(){return{current:null}},We.forwardRef=function(F){return{$$typeof:_,render:F}},We.isValidElement=ce,We.lazy=function(F){return{$$typeof:C,_payload:{_status:-1,_result:F},_init:ue}},We.memo=function(F,ge){return{$$typeof:y,type:F,compare:ge===void 0?null:ge}},We.startTransition=function(F){var ge=we.T,ve={};we.T=ve;try{var Ae=F(),Se=we.S;Se!==null&&Se(ve,Ae),typeof Ae=="object"&&Ae!==null&&typeof Ae.then=="function"&&Ae.then(Ke,De)}catch(at){De(at)}finally{we.T=ge}},We.unstable_useCacheRefresh=function(){return we.H.useCacheRefresh()},We.use=function(F){return we.H.use(F)},We.useActionState=function(F,ge,ve){return we.H.useActionState(F,ge,ve)},We.useCallback=function(F,ge){return we.H.useCallback(F,ge)},We.useContext=function(F){return we.H.useContext(F)},We.useDebugValue=function(){},We.useDeferredValue=function(F,ge){return we.H.useDeferredValue(F,ge)},We.useEffect=function(F,ge,ve){var Ae=we.H;if(typeof ve=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Ae.useEffect(F,ge)},We.useId=function(){return we.H.useId()},We.useImperativeHandle=function(F,ge,ve){return we.H.useImperativeHandle(F,ge,ve)},We.useInsertionEffect=function(F,ge){return we.H.useInsertionEffect(F,ge)},We.useLayoutEffect=function(F,ge){return we.H.useLayoutEffect(F,ge)},We.useMemo=function(F,ge){return we.H.useMemo(F,ge)},We.useOptimistic=function(F,ge){return we.H.useOptimistic(F,ge)},We.useReducer=function(F,ge,ve){return we.H.useReducer(F,ge,ve)},We.useRef=function(F){return we.H.useRef(F)},We.useState=function(F){return we.H.useState(F)},We.useSyncExternalStore=function(F,ge,ve){return we.H.useSyncExternalStore(F,ge,ve)},We.useTransition=function(){return we.H.useTransition()},We.version="19.1.1",We}var jd;function O0(){return jd||(jd=1,e0.exports=cx()),e0.exports}var t0={exports:{}},Xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd;function fx(){if(zd)return Xn;zd=1;var h=O0();function l(A){var y="https://react.dev/errors/"+A;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)y+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+A+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var d={d:{f:o,r:function(){throw Error(l(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},m=Symbol.for("react.portal");function x(A,y,C){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:O==null?null:""+O,children:A,containerInfo:y,implementation:C}}var b=h.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(A,y){if(A==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,Xn.createPortal=function(A,y){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(l(299));return x(A,y,null,C)},Xn.flushSync=function(A){var y=b.T,C=d.p;try{if(b.T=null,d.p=2,A)return A()}finally{b.T=y,d.p=C,d.d.f()}},Xn.preconnect=function(A,y){typeof A=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,d.d.C(A,y))},Xn.prefetchDNS=function(A){typeof A=="string"&&d.d.D(A)},Xn.preinit=function(A,y){if(typeof A=="string"&&y&&typeof y.as=="string"){var C=y.as,O=_(C,y.crossOrigin),B=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;C==="style"?d.d.S(A,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:O,integrity:B,fetchPriority:P}):C==="script"&&d.d.X(A,{crossOrigin:O,integrity:B,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xn.preinitModule=function(A,y){if(typeof A=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var C=_(y.as,y.crossOrigin);d.d.M(A,{crossOrigin:C,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&d.d.M(A)},Xn.preload=function(A,y){if(typeof A=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var C=y.as,O=_(C,y.crossOrigin);d.d.L(A,C,{crossOrigin:O,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xn.preloadModule=function(A,y){if(typeof A=="string")if(y){var C=_(y.as,y.crossOrigin);d.d.m(A,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:C,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else d.d.m(A)},Xn.requestFormReset=function(A){d.d.r(A)},Xn.unstable_batchedUpdates=function(A,y){return A(y)},Xn.useFormState=function(A,y,C){return b.H.useFormState(A,y,C)},Xn.useFormStatus=function(){return b.H.useHostTransitionStatus()},Xn.version="19.1.1",Xn}var Hd;function hx(){if(Hd)return t0.exports;Hd=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(l){console.error(l)}}return h(),t0.exports=fx(),t0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gd;function dx(){if(Gd)return no;Gd=1;var h=ux(),l=O0(),o=hx();function d(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function x(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function b(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(x(e)!==e)throw Error(d(188))}function A(e){var n=e.alternate;if(!n){if(n=x(e),n===null)throw Error(d(188));return n!==e?null:e}for(var a=e,c=n;;){var p=a.return;if(p===null)break;var E=p.alternate;if(E===null){if(c=p.return,c!==null){a=c;continue}break}if(p.child===E.child){for(E=p.child;E;){if(E===a)return _(p),e;if(E===c)return _(p),n;E=E.sibling}throw Error(d(188))}if(a.return!==c.return)a=p,c=E;else{for(var T=!1,D=p.child;D;){if(D===a){T=!0,a=p,c=E;break}if(D===c){T=!0,c=p,a=E;break}D=D.sibling}if(!T){for(D=E.child;D;){if(D===a){T=!0,a=E,c=p;break}if(D===c){T=!0,c=E,a=p;break}D=D.sibling}if(!T)throw Error(d(189))}}if(a.alternate!==c)throw Error(d(190))}if(a.tag!==3)throw Error(d(188));return a.stateNode.current===a?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var C=Object.assign,O=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),xe=Symbol.for("react.consumer"),G=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),Le=Symbol.for("react.lazy"),ce=Symbol.for("react.activity"),Ut=Symbol.for("react.memo_cache_sentinel"),Ve=Symbol.iterator;function Re(e){return e===null||typeof e!="object"?null:(e=Ve&&e[Ve]||e["@@iterator"],typeof e=="function"?e:null)}var Ze=Symbol.for("react.client.reference");function ft(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ze?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case Y:return"Profiler";case X:return"StrictMode";case we:return"Suspense";case Ce:return"SuspenseList";case ce:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case P:return"Portal";case G:return(e.displayName||"Context")+".Provider";case xe:return(e._context.displayName||"Context")+".Consumer";case le:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ae:return n=e.displayName||null,n!==null?n:ft(e.type)||"Memo";case Le:n=e._payload,e=e._init;try{return ft(e(n))}catch{}}return null}var ee=Array.isArray,re=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,De={pending:!1,data:null,method:null,action:null},Ke=[],F=-1;function ge(e){return{current:e}}function ve(e){0>F||(e.current=Ke[F],Ke[F]=null,F--)}function Ae(e,n){F++,Ke[F]=e.current,e.current=n}var Se=ge(null),at=ge(null),ye=ge(null),In=ge(null);function Xe(e,n){switch(Ae(ye,n),Ae(at,e),Ae(Se,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?ud(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=ud(n),e=cd(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ve(Se),Ae(Se,e)}function Zn(){ve(Se),ve(at),ve(ye)}function rr(e){e.memoizedState!==null&&Ae(In,e);var n=Se.current,a=cd(n,e.type);n!==a&&(Ae(at,e),Ae(Se,a))}function dn(e){at.current===e&&(ve(Se),ve(at)),In.current===e&&(ve(In),Kl._currentValue=De)}var Ir=Object.prototype.hasOwnProperty,ot=h.unstable_scheduleCallback,Pi=h.unstable_cancelCallback,mi=h.unstable_shouldYield,pa=h.unstable_requestPaint,_t=h.unstable_now,St=h.unstable_getCurrentPriorityLevel,st=h.unstable_ImmediatePriority,wa=h.unstable_UserBlockingPriority,Oe=h.unstable_NormalPriority,Ka=h.unstable_LowPriority,al=h.unstable_IdlePriority,_i=h.log,sl=h.unstable_setDisableYieldValue,Dn=null,Un=null;function Mn(e){if(typeof _i=="function"&&sl(e),Un&&typeof Un.setStrictMode=="function")try{Un.setStrictMode(Dn,e)}catch{}}var yt=Math.clz32?Math.clz32:ec,vo=Math.log,Qa=Math.LN2;function ec(e){return e>>>=0,e===0?32:31-(vo(e)/Qa|0)|0}var Ft=256,be=4194304;function It(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function dt(e,n,a){var c=e.pendingLanes;if(c===0)return 0;var p=0,E=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var D=c&134217727;return D!==0?(c=D&~E,c!==0?p=It(c):(T&=D,T!==0?p=It(T):a||(a=D&~e,a!==0&&(p=It(a))))):(D=c&~E,D!==0?p=It(D):T!==0?p=It(T):a||(a=c&~e,a!==0&&(p=It(a)))),p===0?0:n!==0&&n!==p&&(n&E)===0&&(E=p&-p,a=n&-n,E>=a||E===32&&(a&4194048)!==0)?n:p}function Tt(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ya(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ja(){var e=Ft;return Ft<<=1,(Ft&4194048)===0&&(Ft=256),e}function ll(){var e=be;return be<<=1,(be&62914560)===0&&(be=4194304),e}function ut(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function ri(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bo(e,n,a,c,p,E){var T=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var D=e.entanglements,k=e.expirationTimes,K=e.hiddenUpdates;for(a=T&~a;0<a;){var oe=31-yt(a),he=1<<oe;D[oe]=0,k[oe]=-1;var $=K[oe];if($!==null)for(K[oe]=null,oe=0;oe<$.length;oe++){var ne=$[oe];ne!==null&&(ne.lane&=-536870913)}a&=~he}c!==0&&ol(e,c,0),E!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=E&~(T&~n))}function ol(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-yt(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|a&4194090}function Kn(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var c=31-yt(a),p=1<<c;p&n|e[c]&n&&(e[c]|=n),a&=~p}}function Ea(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function un(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ar(){var e=ue.p;return e!==0?e:(e=window.event,e===void 0?32:Rd(e.type))}function $a(e,n){var a=ue.p;try{return ue.p=e,n()}finally{ue.p=a}}var gn=Math.random().toString(36).slice(2),An="__reactFiber$"+gn,Zt="__reactProps$"+gn,Ui="__reactContainer$"+gn,Cn="__reactEvents$"+gn,sr="__reactListeners$"+gn,Qn="__reactHandles$"+gn,_e="__reactResources$"+gn,xi="__reactMarker$"+gn;function va(e){delete e[An],delete e[Zt],delete e[Cn],delete e[sr],delete e[Qn]}function nn(e){var n=e[An];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Ui]||a[An]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=gd(e);e!==null;){if(a=e[An])return a;e=gd(e)}return n}e=a,a=e.parentNode}return null}function ai(e){if(e=e[An]||e[Ui]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Fi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(d(33))}function Si(e){var n=e[_e];return n||(n=e[_e]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Et(e){e[xi]=!0}var Ao=new Set,Co={};function _n(e,n){Kt(e,n),Kt(e+"Capture",n)}function Kt(e,n){for(Co[e]=n,e=0;e<n.length;e++)Ao.add(n[e])}var Bt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ul={},Ti={};function cl(e){return Ir.call(Ti,e)?!0:Ir.call(ul,e)?!1:Bt.test(e)?Ti[e]=!0:(ul[e]=!0,!1)}function de(e,n,a){if(cl(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function es(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function gt(e,n,a,c){if(c===null)e.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+c)}}var ji,_o;function et(e){if(ji===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ji=n&&n[1]||"",_o=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ji+e+_o}var ct=!1;function Qe(e,n){if(!e||ct)return"";ct=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ne){var $=ne}Reflect.construct(e,[],he)}else{try{he.call()}catch(ne){$=ne}e.call(he.prototype)}}else{try{throw Error()}catch(ne){$=ne}(he=e())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ne){if(ne&&$&&typeof ne.stack=="string")return[ne.stack,$.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=c.DetermineComponentFrameRoot(),T=E[0],D=E[1];if(T&&D){var k=T.split(`
`),K=D.split(`
`);for(p=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;p<K.length&&!K[p].includes("DetermineComponentFrameRoot");)p++;if(c===k.length||p===K.length)for(c=k.length-1,p=K.length-1;1<=c&&0<=p&&k[c]!==K[p];)p--;for(;1<=c&&0<=p;c--,p--)if(k[c]!==K[p]){if(c!==1||p!==1)do if(c--,p--,0>p||k[c]!==K[p]){var oe=`
`+k[c].replace(" at new "," at ");return e.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",e.displayName)),oe}while(1<=c&&0<=p);break}}}finally{ct=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?et(a):""}function fl(e){switch(e.tag){case 26:case 27:case 5:return et(e.type);case 16:return et("Lazy");case 13:return et("Suspense");case 19:return et("SuspenseList");case 0:case 15:return Qe(e.type,!1);case 11:return Qe(e.type.render,!1);case 1:return Qe(e.type,!0);case 31:return et("Activity");default:return""}}function ts(e){try{var n="";do n+=fl(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Fn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qt(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function zi(e){var n=Qt(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),c=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,E=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return p.call(this)},set:function(T){c=""+T,E.call(this,T)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ns(e){e._valueTracker||(e._valueTracker=zi(e))}function Ht(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),c="";return e&&(c=Qt(e)?e.checked?"true":"false":e.value),e=c,e!==a?(n.setValue(e),!0):!1}function si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var tc=/[\n"\\]/g;function mn(e){return e.replace(tc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function pt(e,n,a,c,p,E,T,D){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),n!=null?T==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Fn(n)):e.value!==""+Fn(n)&&(e.value=""+Fn(n)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),n!=null?W(e,T,Fn(n)):a!=null?W(e,T,Fn(a)):c!=null&&e.removeAttribute("value"),p==null&&E!=null&&(e.defaultChecked=!!E),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?e.name=""+Fn(D):e.removeAttribute("name")}function xn(e,n,a,c,p,E,T,D){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.type=E),n!=null||a!=null){if(!(E!=="submit"&&E!=="reset"||n!=null))return;a=a!=null?""+Fn(a):"",n=n!=null?""+Fn(n):a,D||n===e.value||(e.value=n),e.defaultValue=n}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=D?e.checked:!!c,e.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T)}function W(e,n,a){n==="number"&&si(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function M(e,n,a,c){if(e=e.options,n){n={};for(var p=0;p<a.length;p++)n["$"+a[p]]=!0;for(a=0;a<e.length;a++)p=n.hasOwnProperty("$"+e[a].value),e[a].selected!==p&&(e[a].selected=p),p&&c&&(e[a].defaultSelected=!0)}else{for(a=""+Fn(a),n=null,p=0;p<e.length;p++){if(e[p].value===a){e[p].selected=!0,c&&(e[p].defaultSelected=!0);return}n!==null||e[p].disabled||(n=e[p])}n!==null&&(n.selected=!0)}}function Ie(e,n,a){if(n!=null&&(n=""+Fn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Fn(a):""}function rn(e,n,a,c){if(n==null){if(c!=null){if(a!=null)throw Error(d(92));if(ee(c)){if(1<c.length)throw Error(d(93));c=c[0]}a=c}a==null&&(a=""),n=a}a=Fn(n),e.defaultValue=a,c=e.textContent,c===a&&c!==""&&c!==null&&(e.value=c)}function pn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var nc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function is(e,n,a){var c=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,a):typeof a!="number"||a===0||nc.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function qn(e,n,a){if(n!=null&&typeof n!="object")throw Error(d(62));if(e=e.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var p in n)c=n[p],n.hasOwnProperty(p)&&a[p]!==c&&is(e,p,c)}else for(var E in n)n.hasOwnProperty(E)&&is(e,E,n[E])}function Me(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),So=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rs(e){return So.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ba=null;function Dr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hi=null,Mr=null;function an(e){var n=ai(e);if(n&&(e=n.stateNode)){var a=e[Zt]||null;e:switch(e=n.stateNode,n.type){case"input":if(pt(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+mn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var c=a[n];if(c!==e&&c.form===e.form){var p=c[Zt]||null;if(!p)throw Error(d(90));pt(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(n=0;n<a.length;n++)c=a[n],c.form===e.form&&Ht(c)}break e;case"textarea":Ie(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&M(e,!!a.multiple,n,!1)}}}var lr=!1;function Oi(e,n,a){if(lr)return e(n,a);lr=!0;try{var c=e(n);return c}finally{if(lr=!1,(Hi!==null||Mr!==null)&&(fu(),Hi&&(n=Hi,e=Mr,Mr=Hi=null,an(n),e)))for(n=0;n<e.length;n++)an(e[n])}}function ke(e,n){var a=e.stateNode;if(a===null)return null;var c=a[Zt]||null;if(c===null)return null;a=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(d(231,n,typeof a));return a}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),He=!1;if(Ri)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){He=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{He=!1}var Gi=null,Aa=null,Ca=null;function Vi(){if(Ca)return Ca;var e,n=Aa,a=n.length,c,p="value"in Gi?Gi.value:Gi.textContent,E=p.length;for(e=0;e<a&&n[e]===p[e];e++);var T=a-e;for(c=1;c<=T&&n[a-c]===p[E-c];c++);return Ca=p.slice(e,1<c?1-c:void 0)}function as(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Xi(){return!0}function Br(){return!1}function cn(e){function n(a,c,p,E,T){this._reactName=a,this._targetInst=p,this.type=c,this.nativeEvent=E,this.target=T,this.currentTarget=null;for(var D in e)e.hasOwnProperty(D)&&(a=e[D],this[D]=a?a(E):E[D]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Xi:Br,this.isPropagationStopped=Br,this}return C(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),n}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yi=cn(qi),Ni=C({},qi,{view:0,detail:0}),jn=cn(Ni),ss,ls,Lr,os=C({},Ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Lr&&(Lr&&e.type==="mousemove"?(ss=e.screenX-Lr.screenX,ls=e.screenY-Lr.screenY):ls=ss=0,Lr=e),ss)},movementY:function(e){return"movementY"in e?e.movementY:ls}}),To=cn(os),ic=C({},os,{dataTransfer:0}),wt=cn(ic),Oo=C({},Ni,{relatedTarget:0}),kr=cn(Oo),Wi=C({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),rc=cn(Wi),ie=C({},qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ye=cn(ie),wn=C({},qi,{data:0}),_a=cn(wn),Ro={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ac={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lc(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=sc[e])?!!n[e]:!1}function Sa(){return lc}var sn=C({},Ni,{key:function(e){if(e.key){var n=Ro[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=as(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ac[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sa,charCode:function(e){return e.type==="keypress"?as(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?as(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hl=cn(sn),Gt=C({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ta=cn(Gt),or=C({},Ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sa}),vt=cn(or),Pe=C({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),oc=cn(Pe),Dt=C({},os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ur=cn(Dt),Pr=C({},qi,{newState:0,oldState:0}),uc=cn(Pr),pi=[9,13,27,32],Oa=Ri&&"CompositionEvent"in window,Ur=null;Ri&&"documentMode"in document&&(Ur=document.documentMode);var dl=Ri&&"TextEvent"in window&&!Ur,gl=Ri&&(!Oa||Ur&&8<Ur&&11>=Ur),ml=" ",No=!1;function cr(e,n){switch(e){case"keyup":return pi.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function us(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fr=!1;function Ra(e,n){switch(e){case"compositionend":return us(n);case"keypress":return n.which!==32?null:(No=!0,ml);case"textInput":return e=n.data,e===ml&&No?null:e;default:return null}}function cc(e,n){if(Fr)return e==="compositionend"||!Oa&&cr(e,n)?(e=Vi(),Ca=Aa=Gi=null,Fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gl&&n.locale!=="ko"?null:n.data;default:return null}}var Zi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Na(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Zi[e.type]:n==="textarea"}function Yn(e,n,a,c){Hi?Mr?Mr.push(c):Mr=[c]:Hi=c,n=pu(n,"onChange"),0<n.length&&(a=new Yi("onChange","change",null,a,c),e.push({event:a,listeners:n}))}var jr=null,zn=null;function fc(e){rd(e,0)}function zr(e){var n=Fi(e);if(Ht(n))return e}function Io(e,n){if(e==="change")return n}var xl=!1;if(Ri){var Jn;if(Ri){var pl="oninput"in document;if(!pl){var cs=document.createElement("div");cs.setAttribute("oninput","return;"),pl=typeof cs.oninput=="function"}Jn=pl}else Jn=!1;xl=Jn&&(!document.documentMode||9<document.documentMode)}function Hr(){jr&&(jr.detachEvent("onpropertychange",lt),zn=jr=null)}function lt(e){if(e.propertyName==="value"&&zr(zn)){var n=[];Yn(n,zn,e,Dr(e)),Oi(fc,n)}}function fs(e,n,a){e==="focusin"?(Hr(),jr=n,zn=a,jr.attachEvent("onpropertychange",lt)):e==="focusout"&&Hr()}function R(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zr(zn)}function t(e,n){if(e==="click")return zr(n)}function i(e,n){if(e==="input"||e==="change")return zr(n)}function r(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var s=typeof Object.is=="function"?Object.is:r;function u(e,n){if(s(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),c=Object.keys(n);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var p=a[c];if(!Ir.call(n,p)||!s(e[p],n[p]))return!1}return!0}function f(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function g(e,n){var a=f(e);e=0;for(var c;a;){if(a.nodeType===3){if(c=e+a.textContent.length,e<=n&&c>=n)return{node:a,offset:n-e};e=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=f(a)}}function w(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?w(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function v(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=si(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=si(e.document)}return n}function S(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var N=Ri&&"documentMode"in document&&11>=document.documentMode,I=null,L=null,U=null,j=!1;function q(e,n,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;j||I==null||I!==si(c)||(c=I,"selectionStart"in c&&S(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),U&&u(U,c)||(U=c,c=pu(L,"onSelect"),0<c.length&&(n=new Yi("onSelect","select",null,n,a),e.push({event:n,listeners:c}),n.target=I)))}function te(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var pe={animationend:te("Animation","AnimationEnd"),animationiteration:te("Animation","AnimationIteration"),animationstart:te("Animation","AnimationStart"),transitionrun:te("Transition","TransitionRun"),transitionstart:te("Transition","TransitionStart"),transitioncancel:te("Transition","TransitionCancel"),transitionend:te("Transition","TransitionEnd")},Ee={},me={};Ri&&(me=document.createElement("div").style,"AnimationEvent"in window||(delete pe.animationend.animation,delete pe.animationiteration.animation,delete pe.animationstart.animation),"TransitionEvent"in window||delete pe.transitionend.transition);function Ge(e){if(Ee[e])return Ee[e];if(!pe[e])return e;var n=pe[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in me)return Ee[e]=n[a];return e}var ze=Ge("animationend"),Bn=Ge("animationiteration"),$n=Ge("animationstart"),Hn=Ge("transitionrun"),bt=Ge("transitionstart"),yn=Ge("transitioncancel"),Gn=Ge("transitionend"),fr=new Map,Ki="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ki.push("scrollEnd");function li(e,n){fr.set(e,n),_n(n,[e])}var Do=new WeakMap;function wi(e,n){if(typeof e=="object"&&e!==null){var a=Do.get(e);return a!==void 0?a:(n={value:e,source:n,stack:ts(n)},Do.set(e,n),n)}return{value:e,source:n,stack:ts(n)}}var yi=[],hs=0,hc=0;function Mo(){for(var e=hs,n=hc=hs=0;n<e;){var a=yi[n];yi[n++]=null;var c=yi[n];yi[n++]=null;var p=yi[n];yi[n++]=null;var E=yi[n];if(yi[n++]=null,c!==null&&p!==null){var T=c.pending;T===null?p.next=p:(p.next=T.next,T.next=p),c.pending=p}E!==0&&H0(a,p,E)}}function Bo(e,n,a,c){yi[hs++]=e,yi[hs++]=n,yi[hs++]=a,yi[hs++]=c,hc|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function dc(e,n,a,c){return Bo(e,n,a,c),Lo(e)}function ds(e,n){return Bo(e,null,null,n),Lo(e)}function H0(e,n,a){e.lanes|=a;var c=e.alternate;c!==null&&(c.lanes|=a);for(var p=!1,E=e.return;E!==null;)E.childLanes|=a,c=E.alternate,c!==null&&(c.childLanes|=a),E.tag===22&&(e=E.stateNode,e===null||e._visibility&1||(p=!0)),e=E,E=E.return;return e.tag===3?(E=e.stateNode,p&&n!==null&&(p=31-yt(a),e=E.hiddenUpdates,c=e[p],c===null?e[p]=[n]:c.push(n),n.lane=a|536870912),E):null}function Lo(e){if(50<Hl)throw Hl=0,Ef=null,Error(d(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var gs={};function Gg(e,n,a,c){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(e,n,a,c){return new Gg(e,n,a,c)}function gc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hr(e,n){var a=e.alternate;return a===null?(a=oi(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function G0(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ko(e,n,a,c,p,E){var T=0;if(c=e,typeof e=="function")gc(e)&&(T=1);else if(typeof e=="string")T=Xm(e,a,Se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ce:return e=oi(31,a,n,p),e.elementType=ce,e.lanes=E,e;case z:return Ia(a.children,p,E,n);case X:T=8,p|=24;break;case Y:return e=oi(12,a,n,p|2),e.elementType=Y,e.lanes=E,e;case we:return e=oi(13,a,n,p),e.elementType=we,e.lanes=E,e;case Ce:return e=oi(19,a,n,p),e.elementType=Ce,e.lanes=E,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case se:case G:T=10;break e;case xe:T=9;break e;case le:T=11;break e;case ae:T=14;break e;case Le:T=16,c=null;break e}T=29,a=Error(d(130,e===null?"null":typeof e,"")),c=null}return n=oi(T,a,n,p),n.elementType=e,n.type=c,n.lanes=E,n}function Ia(e,n,a,c){return e=oi(7,e,c,n),e.lanes=a,e}function mc(e,n,a){return e=oi(6,e,null,n),e.lanes=a,e}function xc(e,n,a){return n=oi(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ms=[],xs=0,Po=null,Uo=0,Ei=[],vi=0,Da=null,dr=1,gr="";function Ma(e,n){ms[xs++]=Uo,ms[xs++]=Po,Po=e,Uo=n}function V0(e,n,a){Ei[vi++]=dr,Ei[vi++]=gr,Ei[vi++]=Da,Da=e;var c=dr;e=gr;var p=32-yt(c)-1;c&=~(1<<p),a+=1;var E=32-yt(n)+p;if(30<E){var T=p-p%5;E=(c&(1<<T)-1).toString(32),c>>=T,p-=T,dr=1<<32-yt(n)+p|a<<p|c,gr=E+e}else dr=1<<E|a<<p|c,gr=e}function pc(e){e.return!==null&&(Ma(e,1),V0(e,1,0))}function wc(e){for(;e===Po;)Po=ms[--xs],ms[xs]=null,Uo=ms[--xs],ms[xs]=null;for(;e===Da;)Da=Ei[--vi],Ei[vi]=null,gr=Ei[--vi],Ei[vi]=null,dr=Ei[--vi],Ei[vi]=null}var Wn=null,Jt=null,xt=!1,Ba=null,Qi=!1,yc=Error(d(519));function La(e){var n=Error(d(418,""));throw El(wi(n,e)),yc}function X0(e){var n=e.stateNode,a=e.type,c=e.memoizedProps;switch(n[An]=e,n[Zt]=c,a){case"dialog":nt("cancel",n),nt("close",n);break;case"iframe":case"object":case"embed":nt("load",n);break;case"video":case"audio":for(a=0;a<Vl.length;a++)nt(Vl[a],n);break;case"source":nt("error",n);break;case"img":case"image":case"link":nt("error",n),nt("load",n);break;case"details":nt("toggle",n);break;case"input":nt("invalid",n),xn(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ns(n);break;case"select":nt("invalid",n);break;case"textarea":nt("invalid",n),rn(n,c.value,c.defaultValue,c.children),ns(n)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||c.suppressHydrationWarning===!0||od(n.textContent,a)?(c.popover!=null&&(nt("beforetoggle",n),nt("toggle",n)),c.onScroll!=null&&nt("scroll",n),c.onScrollEnd!=null&&nt("scrollend",n),c.onClick!=null&&(n.onclick=wu),n=!0):n=!1,n||La(e)}function q0(e){for(Wn=e.return;Wn;)switch(Wn.tag){case 5:case 13:Qi=!1;return;case 27:case 3:Qi=!0;return;default:Wn=Wn.return}}function wl(e){if(e!==Wn)return!1;if(!xt)return q0(e),xt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||kf(e.type,e.memoizedProps)),a=!a),a&&Jt&&La(e),q0(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){Jt=Di(e.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}Jt=null}}else n===27?(n=Jt,ra(e.type)?(e=jf,jf=null,Jt=e):Jt=n):Jt=Wn?Di(e.stateNode.nextSibling):null;return!0}function yl(){Jt=Wn=null,xt=!1}function Y0(){var e=Ba;return e!==null&&(ni===null?ni=e:ni.push.apply(ni,e),Ba=null),e}function El(e){Ba===null?Ba=[e]:Ba.push(e)}var Ec=ge(null),ka=null,mr=null;function Gr(e,n,a){Ae(Ec,n._currentValue),n._currentValue=a}function xr(e){e._currentValue=Ec.current,ve(Ec)}function vc(e,n,a){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===a)break;e=e.return}}function bc(e,n,a,c){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var E=p.dependencies;if(E!==null){var T=p.child;E=E.firstContext;e:for(;E!==null;){var D=E;E=p;for(var k=0;k<n.length;k++)if(D.context===n[k]){E.lanes|=a,D=E.alternate,D!==null&&(D.lanes|=a),vc(E.return,a,e),c||(T=null);break e}E=D.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(d(341));T.lanes|=a,E=T.alternate,E!==null&&(E.lanes|=a),vc(T,a,e),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===e){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function vl(e,n,a,c){e=null;for(var p=n,E=!1;p!==null;){if(!E){if((p.flags&524288)!==0)E=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(d(387));if(T=T.memoizedProps,T!==null){var D=p.type;s(p.pendingProps.value,T.value)||(e!==null?e.push(D):e=[D])}}else if(p===In.current){if(T=p.alternate,T===null)throw Error(d(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(Kl):e=[Kl])}p=p.return}e!==null&&bc(n,e,a,c),n.flags|=262144}function Fo(e){for(e=e.firstContext;e!==null;){if(!s(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pa(e){ka=e,mr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Vn(e){return W0(ka,e)}function jo(e,n){return ka===null&&Pa(e),W0(e,n)}function W0(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},mr===null){if(e===null)throw Error(d(308));mr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else mr=mr.next=n;return a}var Vg=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},Xg=h.unstable_scheduleCallback,qg=h.unstable_NormalPriority,En={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ac(){return{controller:new Vg,data:new Map,refCount:0}}function bl(e){e.refCount--,e.refCount===0&&Xg(qg,function(){e.controller.abort()})}var Al=null,Cc=0,ps=0,ws=null;function Yg(e,n){if(Al===null){var a=Al=[];Cc=0,ps=Tf(),ws={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Cc++,n.then(Z0,Z0),n}function Z0(){if(--Cc===0&&Al!==null){ws!==null&&(ws.status="fulfilled");var e=Al;Al=null,ps=0,ws=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Wg(e,n){var a=[],c={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var p=0;p<a.length;p++)(0,a[p])(n)},function(p){for(c.status="rejected",c.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),c}var K0=re.S;re.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Yg(e,n),K0!==null&&K0(e,n)};var Ua=ge(null);function _c(){var e=Ua.current;return e!==null?e:Lt.pooledCache}function zo(e,n){n===null?Ae(Ua,Ua.current):Ae(Ua,n.pool)}function Q0(){var e=_c();return e===null?null:{parent:En._currentValue,pool:e}}var Cl=Error(d(460)),J0=Error(d(474)),Ho=Error(d(542)),Sc={then:function(){}};function $0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Go(){}function e1(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Go,Go),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,n1(e),e;default:if(typeof n.status=="string")n.then(Go,Go);else{if(e=Lt,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var p=n;p.status="fulfilled",p.value=c}},function(c){if(n.status==="pending"){var p=n;p.status="rejected",p.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,n1(e),e}throw _l=n,Cl}}var _l=null;function t1(){if(_l===null)throw Error(d(459));var e=_l;return _l=null,e}function n1(e){if(e===Cl||e===Ho)throw Error(d(483))}var Vr=!1;function Tc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Xr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qr(e,n,a){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(At&2)!==0){var p=c.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),c.pending=n,n=Lo(e),H0(e,null,a),n}return Bo(e,c,n,a),Lo(e)}function Sl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,a|=c,n.lanes=a,Kn(e,a)}}function Rc(e,n){var a=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var p=null,E=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};E===null?p=E=T:E=E.next=T,a=a.next}while(a!==null);E===null?p=E=n:E=E.next=n}else p=E=n;a={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:E,shared:c.shared,callbacks:c.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Nc=!1;function Tl(){if(Nc){var e=ws;if(e!==null)throw e}}function Ol(e,n,a,c){Nc=!1;var p=e.updateQueue;Vr=!1;var E=p.firstBaseUpdate,T=p.lastBaseUpdate,D=p.shared.pending;if(D!==null){p.shared.pending=null;var k=D,K=k.next;k.next=null,T===null?E=K:T.next=K,T=k;var oe=e.alternate;oe!==null&&(oe=oe.updateQueue,D=oe.lastBaseUpdate,D!==T&&(D===null?oe.firstBaseUpdate=K:D.next=K,oe.lastBaseUpdate=k))}if(E!==null){var he=p.baseState;T=0,oe=K=k=null,D=E;do{var $=D.lane&-536870913,ne=$!==D.lane;if(ne?(ht&$)===$:(c&$)===$){$!==0&&$===ps&&(Nc=!0),oe!==null&&(oe=oe.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var je=e,Ue=D;$=n;var Nt=a;switch(Ue.tag){case 1:if(je=Ue.payload,typeof je=="function"){he=je.call(Nt,he,$);break e}he=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Ue.payload,$=typeof je=="function"?je.call(Nt,he,$):je,$==null)break e;he=C({},he,$);break e;case 2:Vr=!0}}$=D.callback,$!==null&&(e.flags|=64,ne&&(e.flags|=8192),ne=p.callbacks,ne===null?p.callbacks=[$]:ne.push($))}else ne={lane:$,tag:D.tag,payload:D.payload,callback:D.callback,next:null},oe===null?(K=oe=ne,k=he):oe=oe.next=ne,T|=$;if(D=D.next,D===null){if(D=p.shared.pending,D===null)break;ne=D,D=ne.next,ne.next=null,p.lastBaseUpdate=ne,p.shared.pending=null}}while(!0);oe===null&&(k=he),p.baseState=k,p.firstBaseUpdate=K,p.lastBaseUpdate=oe,E===null&&(p.shared.lanes=0),ea|=T,e.lanes=T,e.memoizedState=he}}function i1(e,n){if(typeof e!="function")throw Error(d(191,e));e.call(n)}function r1(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)i1(a[e],n)}var ys=ge(null),Vo=ge(0);function a1(e,n){e=Ar,Ae(Vo,e),Ae(ys,n),Ar=e|n.baseLanes}function Ic(){Ae(Vo,Ar),Ae(ys,ys.current)}function Dc(){Ar=Vo.current,ve(ys),ve(Vo)}var Yr=0,Je=null,Ot=null,fn=null,Xo=!1,Es=!1,Fa=!1,qo=0,Rl=0,vs=null,Zg=0;function ln(){throw Error(d(321))}function Mc(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!s(e[a],n[a]))return!1;return!0}function Bc(e,n,a,c,p,E){return Yr=E,Je=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,re.H=e===null||e.memoizedState===null?H1:G1,Fa=!1,E=a(c,p),Fa=!1,Es&&(E=l1(n,a,c,p)),s1(e),E}function s1(e){re.H=Jo;var n=Ot!==null&&Ot.next!==null;if(Yr=0,fn=Ot=Je=null,Xo=!1,Rl=0,vs=null,n)throw Error(d(300));e===null||Sn||(e=e.dependencies,e!==null&&Fo(e)&&(Sn=!0))}function l1(e,n,a,c){Je=e;var p=0;do{if(Es&&(vs=null),Rl=0,Es=!1,25<=p)throw Error(d(301));if(p+=1,fn=Ot=null,e.updateQueue!=null){var E=e.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}re.H=nm,E=n(a,c)}while(Es);return E}function Kg(){var e=re.H,n=e.useState()[0];return n=typeof n.then=="function"?Nl(n):n,e=e.useState()[0],(Ot!==null?Ot.memoizedState:null)!==e&&(Je.flags|=1024),n}function Lc(){var e=qo!==0;return qo=0,e}function kc(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Pc(e){if(Xo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Xo=!1}Yr=0,fn=Ot=Je=null,Es=!1,Rl=qo=0,vs=null}function ei(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Je.memoizedState=fn=e:fn=fn.next=e,fn}function hn(){if(Ot===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=Ot.next;var n=fn===null?Je.memoizedState:fn.next;if(n!==null)fn=n,Ot=e;else{if(e===null)throw Je.alternate===null?Error(d(467)):Error(d(310));Ot=e,e={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},fn===null?Je.memoizedState=fn=e:fn=fn.next=e}return fn}function Uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(e){var n=Rl;return Rl+=1,vs===null&&(vs=[]),e=e1(vs,e,n),n=Je,(fn===null?n.memoizedState:fn.next)===null&&(n=n.alternate,re.H=n===null||n.memoizedState===null?H1:G1),e}function Yo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Nl(e);if(e.$$typeof===G)return Vn(e)}throw Error(d(438,String(e)))}function Fc(e){var n=null,a=Je.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var c=Je.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(p){return p.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Uc(),Je.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),c=0;c<e;c++)a[c]=Ut;return n.index++,a}function pr(e,n){return typeof n=="function"?n(e):n}function Wo(e){var n=hn();return jc(n,Ot,e)}function jc(e,n,a){var c=e.queue;if(c===null)throw Error(d(311));c.lastRenderedReducer=a;var p=e.baseQueue,E=c.pending;if(E!==null){if(p!==null){var T=p.next;p.next=E.next,E.next=T}n.baseQueue=p=E,c.pending=null}if(E=e.baseState,p===null)e.memoizedState=E;else{n=p.next;var D=T=null,k=null,K=n,oe=!1;do{var he=K.lane&-536870913;if(he!==K.lane?(ht&he)===he:(Yr&he)===he){var $=K.revertLane;if($===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),he===ps&&(oe=!0);else if((Yr&$)===$){K=K.next,$===ps&&(oe=!0);continue}else he={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},k===null?(D=k=he,T=E):k=k.next=he,Je.lanes|=$,ea|=$;he=K.action,Fa&&a(E,he),E=K.hasEagerState?K.eagerState:a(E,he)}else $={lane:he,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},k===null?(D=k=$,T=E):k=k.next=$,Je.lanes|=he,ea|=he;K=K.next}while(K!==null&&K!==n);if(k===null?T=E:k.next=D,!s(E,e.memoizedState)&&(Sn=!0,oe&&(a=ws,a!==null)))throw a;e.memoizedState=E,e.baseState=T,e.baseQueue=k,c.lastRenderedState=E}return p===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function zc(e){var n=hn(),a=n.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=e;var c=a.dispatch,p=a.pending,E=n.memoizedState;if(p!==null){a.pending=null;var T=p=p.next;do E=e(E,T.action),T=T.next;while(T!==p);s(E,n.memoizedState)||(Sn=!0),n.memoizedState=E,n.baseQueue===null&&(n.baseState=E),a.lastRenderedState=E}return[E,c]}function o1(e,n,a){var c=Je,p=hn(),E=xt;if(E){if(a===void 0)throw Error(d(407));a=a()}else a=n();var T=!s((Ot||p).memoizedState,a);T&&(p.memoizedState=a,Sn=!0),p=p.queue;var D=f1.bind(null,c,p,e);if(Il(2048,8,D,[e]),p.getSnapshot!==n||T||fn!==null&&fn.memoizedState.tag&1){if(c.flags|=2048,bs(9,Zo(),c1.bind(null,c,p,a,n),null),Lt===null)throw Error(d(349));E||(Yr&124)!==0||u1(c,n,a)}return a}function u1(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Je.updateQueue,n===null?(n=Uc(),Je.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function c1(e,n,a,c){n.value=a,n.getSnapshot=c,h1(n)&&d1(e)}function f1(e,n,a){return a(function(){h1(n)&&d1(e)})}function h1(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!s(e,a)}catch{return!0}}function d1(e){var n=ds(e,2);n!==null&&di(n,e,2)}function Hc(e){var n=ei();if(typeof e=="function"){var a=e;if(e=a(),Fa){Mn(!0);try{a()}finally{Mn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:e},n}function g1(e,n,a,c){return e.baseState=a,jc(e,Ot,typeof c=="function"?c:pr)}function Qg(e,n,a,c,p){if(Qo(e))throw Error(d(485));if(e=n.action,e!==null){var E={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){E.listeners.push(T)}};re.T!==null?a(!0):E.isTransition=!1,c(E),a=n.pending,a===null?(E.next=n.pending=E,m1(n,E)):(E.next=a.next,n.pending=a.next=E)}}function m1(e,n){var a=n.action,c=n.payload,p=e.state;if(n.isTransition){var E=re.T,T={};re.T=T;try{var D=a(p,c),k=re.S;k!==null&&k(T,D),x1(e,n,D)}catch(K){Gc(e,n,K)}finally{re.T=E}}else try{E=a(p,c),x1(e,n,E)}catch(K){Gc(e,n,K)}}function x1(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){p1(e,n,c)},function(c){return Gc(e,n,c)}):p1(e,n,a)}function p1(e,n,a){n.status="fulfilled",n.value=a,w1(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,m1(e,a)))}function Gc(e,n,a){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=a,w1(n),n=n.next;while(n!==c)}e.action=null}function w1(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function y1(e,n){return n}function E1(e,n){if(xt){var a=Lt.formState;if(a!==null){e:{var c=Je;if(xt){if(Jt){t:{for(var p=Jt,E=Qi;p.nodeType!==8;){if(!E){p=null;break t}if(p=Di(p.nextSibling),p===null){p=null;break t}}E=p.data,p=E==="F!"||E==="F"?p:null}if(p){Jt=Di(p.nextSibling),c=p.data==="F!";break e}}La(c)}c=!1}c&&(n=a[0])}}return a=ei(),a.memoizedState=a.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:y1,lastRenderedState:n},a.queue=c,a=F1.bind(null,Je,c),c.dispatch=a,c=Hc(!1),E=Wc.bind(null,Je,!1,c.queue),c=ei(),p={state:n,dispatch:null,action:e,pending:null},c.queue=p,a=Qg.bind(null,Je,p,E,a),p.dispatch=a,c.memoizedState=e,[n,a,!1]}function v1(e){var n=hn();return b1(n,Ot,e)}function b1(e,n,a){if(n=jc(e,n,y1)[0],e=Wo(pr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=Nl(n)}catch(T){throw T===Cl?Ho:T}else c=n;n=hn();var p=n.queue,E=p.dispatch;return a!==n.memoizedState&&(Je.flags|=2048,bs(9,Zo(),Jg.bind(null,p,a),null)),[c,E,e]}function Jg(e,n){e.action=n}function A1(e){var n=hn(),a=Ot;if(a!==null)return b1(n,a,e);hn(),n=n.memoizedState,a=hn();var c=a.queue.dispatch;return a.memoizedState=e,[n,c,!1]}function bs(e,n,a,c){return e={tag:e,create:a,deps:c,inst:n,next:null},n=Je.updateQueue,n===null&&(n=Uc(),Je.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(c=a.next,a.next=e,e.next=c,n.lastEffect=e),e}function Zo(){return{destroy:void 0,resource:void 0}}function C1(){return hn().memoizedState}function Ko(e,n,a,c){var p=ei();c=c===void 0?null:c,Je.flags|=e,p.memoizedState=bs(1|n,Zo(),a,c)}function Il(e,n,a,c){var p=hn();c=c===void 0?null:c;var E=p.memoizedState.inst;Ot!==null&&c!==null&&Mc(c,Ot.memoizedState.deps)?p.memoizedState=bs(n,E,a,c):(Je.flags|=e,p.memoizedState=bs(1|n,E,a,c))}function _1(e,n){Ko(8390656,8,e,n)}function S1(e,n){Il(2048,8,e,n)}function T1(e,n){return Il(4,2,e,n)}function O1(e,n){return Il(4,4,e,n)}function R1(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function N1(e,n,a){a=a!=null?a.concat([e]):null,Il(4,4,R1.bind(null,n,e),a)}function Vc(){}function I1(e,n){var a=hn();n=n===void 0?null:n;var c=a.memoizedState;return n!==null&&Mc(n,c[1])?c[0]:(a.memoizedState=[e,n],e)}function D1(e,n){var a=hn();n=n===void 0?null:n;var c=a.memoizedState;if(n!==null&&Mc(n,c[1]))return c[0];if(c=e(),Fa){Mn(!0);try{e()}finally{Mn(!1)}}return a.memoizedState=[c,n],c}function Xc(e,n,a){return a===void 0||(Yr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=Lh(),Je.lanes|=e,ea|=e,a)}function M1(e,n,a,c){return s(a,n)?a:ys.current!==null?(e=Xc(e,a,c),s(e,n)||(Sn=!0),e):(Yr&42)===0?(Sn=!0,e.memoizedState=a):(e=Lh(),Je.lanes|=e,ea|=e,n)}function B1(e,n,a,c,p){var E=ue.p;ue.p=E!==0&&8>E?E:8;var T=re.T,D={};re.T=D,Wc(e,!1,n,a);try{var k=p(),K=re.S;if(K!==null&&K(D,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var oe=Wg(k,c);Dl(e,n,oe,hi(e))}else Dl(e,n,c,hi(e))}catch(he){Dl(e,n,{then:function(){},status:"rejected",reason:he},hi())}finally{ue.p=E,re.T=T}}function $g(){}function qc(e,n,a,c){if(e.tag!==5)throw Error(d(476));var p=L1(e).queue;B1(e,p,n,De,a===null?$g:function(){return k1(e),a(c)})}function L1(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:De,baseState:De,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:De},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function k1(e){var n=L1(e).next.queue;Dl(e,n,{},hi())}function Yc(){return Vn(Kl)}function P1(){return hn().memoizedState}function U1(){return hn().memoizedState}function em(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=hi();e=Xr(a);var c=qr(n,e,a);c!==null&&(di(c,n,a),Sl(c,n,a)),n={cache:Ac()},e.payload=n;return}n=n.return}}function tm(e,n,a){var c=hi();a={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Qo(e)?j1(n,a):(a=dc(e,n,a,c),a!==null&&(di(a,e,c),z1(a,n,c)))}function F1(e,n,a){var c=hi();Dl(e,n,a,c)}function Dl(e,n,a,c){var p={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))j1(n,p);else{var E=e.alternate;if(e.lanes===0&&(E===null||E.lanes===0)&&(E=n.lastRenderedReducer,E!==null))try{var T=n.lastRenderedState,D=E(T,a);if(p.hasEagerState=!0,p.eagerState=D,s(D,T))return Bo(e,n,p,0),Lt===null&&Mo(),!1}catch{}finally{}if(a=dc(e,n,p,c),a!==null)return di(a,e,c),z1(a,n,c),!0}return!1}function Wc(e,n,a,c){if(c={lane:2,revertLane:Tf(),action:c,hasEagerState:!1,eagerState:null,next:null},Qo(e)){if(n)throw Error(d(479))}else n=dc(e,a,c,2),n!==null&&di(n,e,2)}function Qo(e){var n=e.alternate;return e===Je||n!==null&&n===Je}function j1(e,n){Es=Xo=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function z1(e,n,a){if((a&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,a|=c,n.lanes=a,Kn(e,a)}}var Jo={readContext:Vn,use:Yo,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useLayoutEffect:ln,useInsertionEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useSyncExternalStore:ln,useId:ln,useHostTransitionStatus:ln,useFormState:ln,useActionState:ln,useOptimistic:ln,useMemoCache:ln,useCacheRefresh:ln},H1={readContext:Vn,use:Yo,useCallback:function(e,n){return ei().memoizedState=[e,n===void 0?null:n],e},useContext:Vn,useEffect:_1,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Ko(4194308,4,R1.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Ko(4194308,4,e,n)},useInsertionEffect:function(e,n){Ko(4,2,e,n)},useMemo:function(e,n){var a=ei();n=n===void 0?null:n;var c=e();if(Fa){Mn(!0);try{e()}finally{Mn(!1)}}return a.memoizedState=[c,n],c},useReducer:function(e,n,a){var c=ei();if(a!==void 0){var p=a(n);if(Fa){Mn(!0);try{a(n)}finally{Mn(!1)}}}else p=n;return c.memoizedState=c.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},c.queue=e,e=e.dispatch=tm.bind(null,Je,e),[c.memoizedState,e]},useRef:function(e){var n=ei();return e={current:e},n.memoizedState=e},useState:function(e){e=Hc(e);var n=e.queue,a=F1.bind(null,Je,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Vc,useDeferredValue:function(e,n){var a=ei();return Xc(a,e,n)},useTransition:function(){var e=Hc(!1);return e=B1.bind(null,Je,e.queue,!0,!1),ei().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var c=Je,p=ei();if(xt){if(a===void 0)throw Error(d(407));a=a()}else{if(a=n(),Lt===null)throw Error(d(349));(ht&124)!==0||u1(c,n,a)}p.memoizedState=a;var E={value:a,getSnapshot:n};return p.queue=E,_1(f1.bind(null,c,E,e),[e]),c.flags|=2048,bs(9,Zo(),c1.bind(null,c,E,a,n),null),a},useId:function(){var e=ei(),n=Lt.identifierPrefix;if(xt){var a=gr,c=dr;a=(c&~(1<<32-yt(c)-1)).toString(32)+a,n="«"+n+"R"+a,a=qo++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=Zg++,n="«"+n+"r"+a.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Yc,useFormState:E1,useActionState:E1,useOptimistic:function(e){var n=ei();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Wc.bind(null,Je,!0,a),a.dispatch=n,[e,n]},useMemoCache:Fc,useCacheRefresh:function(){return ei().memoizedState=em.bind(null,Je)}},G1={readContext:Vn,use:Yo,useCallback:I1,useContext:Vn,useEffect:S1,useImperativeHandle:N1,useInsertionEffect:T1,useLayoutEffect:O1,useMemo:D1,useReducer:Wo,useRef:C1,useState:function(){return Wo(pr)},useDebugValue:Vc,useDeferredValue:function(e,n){var a=hn();return M1(a,Ot.memoizedState,e,n)},useTransition:function(){var e=Wo(pr)[0],n=hn().memoizedState;return[typeof e=="boolean"?e:Nl(e),n]},useSyncExternalStore:o1,useId:P1,useHostTransitionStatus:Yc,useFormState:v1,useActionState:v1,useOptimistic:function(e,n){var a=hn();return g1(a,Ot,e,n)},useMemoCache:Fc,useCacheRefresh:U1},nm={readContext:Vn,use:Yo,useCallback:I1,useContext:Vn,useEffect:S1,useImperativeHandle:N1,useInsertionEffect:T1,useLayoutEffect:O1,useMemo:D1,useReducer:zc,useRef:C1,useState:function(){return zc(pr)},useDebugValue:Vc,useDeferredValue:function(e,n){var a=hn();return Ot===null?Xc(a,e,n):M1(a,Ot.memoizedState,e,n)},useTransition:function(){var e=zc(pr)[0],n=hn().memoizedState;return[typeof e=="boolean"?e:Nl(e),n]},useSyncExternalStore:o1,useId:P1,useHostTransitionStatus:Yc,useFormState:A1,useActionState:A1,useOptimistic:function(e,n){var a=hn();return Ot!==null?g1(a,Ot,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Fc,useCacheRefresh:U1},As=null,Ml=0;function $o(e){var n=Ml;return Ml+=1,As===null&&(As=[]),e1(As,e,n)}function Bl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function eu(e,n){throw n.$$typeof===O?Error(d(525)):(e=Object.prototype.toString.call(n),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function V1(e){var n=e._init;return n(e._payload)}function X1(e){function n(V,H){if(e){var Z=V.deletions;Z===null?(V.deletions=[H],V.flags|=16):Z.push(H)}}function a(V,H){if(!e)return null;for(;H!==null;)n(V,H),H=H.sibling;return null}function c(V){for(var H=new Map;V!==null;)V.key!==null?H.set(V.key,V):H.set(V.index,V),V=V.sibling;return H}function p(V,H){return V=hr(V,H),V.index=0,V.sibling=null,V}function E(V,H,Z){return V.index=Z,e?(Z=V.alternate,Z!==null?(Z=Z.index,Z<H?(V.flags|=67108866,H):Z):(V.flags|=67108866,H)):(V.flags|=1048576,H)}function T(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function D(V,H,Z,fe){return H===null||H.tag!==6?(H=mc(Z,V.mode,fe),H.return=V,H):(H=p(H,Z),H.return=V,H)}function k(V,H,Z,fe){var Ne=Z.type;return Ne===z?oe(V,H,Z.props.children,fe,Z.key):H!==null&&(H.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===Le&&V1(Ne)===H.type)?(H=p(H,Z.props),Bl(H,Z),H.return=V,H):(H=ko(Z.type,Z.key,Z.props,null,V.mode,fe),Bl(H,Z),H.return=V,H)}function K(V,H,Z,fe){return H===null||H.tag!==4||H.stateNode.containerInfo!==Z.containerInfo||H.stateNode.implementation!==Z.implementation?(H=xc(Z,V.mode,fe),H.return=V,H):(H=p(H,Z.children||[]),H.return=V,H)}function oe(V,H,Z,fe,Ne){return H===null||H.tag!==7?(H=Ia(Z,V.mode,fe,Ne),H.return=V,H):(H=p(H,Z),H.return=V,H)}function he(V,H,Z){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=mc(""+H,V.mode,Z),H.return=V,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case B:return Z=ko(H.type,H.key,H.props,null,V.mode,Z),Bl(Z,H),Z.return=V,Z;case P:return H=xc(H,V.mode,Z),H.return=V,H;case Le:var fe=H._init;return H=fe(H._payload),he(V,H,Z)}if(ee(H)||Re(H))return H=Ia(H,V.mode,Z,null),H.return=V,H;if(typeof H.then=="function")return he(V,$o(H),Z);if(H.$$typeof===G)return he(V,jo(V,H),Z);eu(V,H)}return null}function $(V,H,Z,fe){var Ne=H!==null?H.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ne!==null?null:D(V,H,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case B:return Z.key===Ne?k(V,H,Z,fe):null;case P:return Z.key===Ne?K(V,H,Z,fe):null;case Le:return Ne=Z._init,Z=Ne(Z._payload),$(V,H,Z,fe)}if(ee(Z)||Re(Z))return Ne!==null?null:oe(V,H,Z,fe,null);if(typeof Z.then=="function")return $(V,H,$o(Z),fe);if(Z.$$typeof===G)return $(V,H,jo(V,Z),fe);eu(V,Z)}return null}function ne(V,H,Z,fe,Ne){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return V=V.get(Z)||null,D(H,V,""+fe,Ne);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case B:return V=V.get(fe.key===null?Z:fe.key)||null,k(H,V,fe,Ne);case P:return V=V.get(fe.key===null?Z:fe.key)||null,K(H,V,fe,Ne);case Le:var $e=fe._init;return fe=$e(fe._payload),ne(V,H,Z,fe,Ne)}if(ee(fe)||Re(fe))return V=V.get(Z)||null,oe(H,V,fe,Ne,null);if(typeof fe.then=="function")return ne(V,H,Z,$o(fe),Ne);if(fe.$$typeof===G)return ne(V,H,Z,jo(H,fe),Ne);eu(H,fe)}return null}function je(V,H,Z,fe){for(var Ne=null,$e=null,Be=H,Fe=H=0,On=null;Be!==null&&Fe<Z.length;Fe++){Be.index>Fe?(On=Be,Be=null):On=Be.sibling;var mt=$(V,Be,Z[Fe],fe);if(mt===null){Be===null&&(Be=On);break}e&&Be&&mt.alternate===null&&n(V,Be),H=E(mt,H,Fe),$e===null?Ne=mt:$e.sibling=mt,$e=mt,Be=On}if(Fe===Z.length)return a(V,Be),xt&&Ma(V,Fe),Ne;if(Be===null){for(;Fe<Z.length;Fe++)Be=he(V,Z[Fe],fe),Be!==null&&(H=E(Be,H,Fe),$e===null?Ne=Be:$e.sibling=Be,$e=Be);return xt&&Ma(V,Fe),Ne}for(Be=c(Be);Fe<Z.length;Fe++)On=ne(Be,V,Fe,Z[Fe],fe),On!==null&&(e&&On.alternate!==null&&Be.delete(On.key===null?Fe:On.key),H=E(On,H,Fe),$e===null?Ne=On:$e.sibling=On,$e=On);return e&&Be.forEach(function(ua){return n(V,ua)}),xt&&Ma(V,Fe),Ne}function Ue(V,H,Z,fe){if(Z==null)throw Error(d(151));for(var Ne=null,$e=null,Be=H,Fe=H=0,On=null,mt=Z.next();Be!==null&&!mt.done;Fe++,mt=Z.next()){Be.index>Fe?(On=Be,Be=null):On=Be.sibling;var ua=$(V,Be,mt.value,fe);if(ua===null){Be===null&&(Be=On);break}e&&Be&&ua.alternate===null&&n(V,Be),H=E(ua,H,Fe),$e===null?Ne=ua:$e.sibling=ua,$e=ua,Be=On}if(mt.done)return a(V,Be),xt&&Ma(V,Fe),Ne;if(Be===null){for(;!mt.done;Fe++,mt=Z.next())mt=he(V,mt.value,fe),mt!==null&&(H=E(mt,H,Fe),$e===null?Ne=mt:$e.sibling=mt,$e=mt);return xt&&Ma(V,Fe),Ne}for(Be=c(Be);!mt.done;Fe++,mt=Z.next())mt=ne(Be,V,Fe,mt.value,fe),mt!==null&&(e&&mt.alternate!==null&&Be.delete(mt.key===null?Fe:mt.key),H=E(mt,H,Fe),$e===null?Ne=mt:$e.sibling=mt,$e=mt);return e&&Be.forEach(function(ix){return n(V,ix)}),xt&&Ma(V,Fe),Ne}function Nt(V,H,Z,fe){if(typeof Z=="object"&&Z!==null&&Z.type===z&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case B:e:{for(var Ne=Z.key;H!==null;){if(H.key===Ne){if(Ne=Z.type,Ne===z){if(H.tag===7){a(V,H.sibling),fe=p(H,Z.props.children),fe.return=V,V=fe;break e}}else if(H.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===Le&&V1(Ne)===H.type){a(V,H.sibling),fe=p(H,Z.props),Bl(fe,Z),fe.return=V,V=fe;break e}a(V,H);break}else n(V,H);H=H.sibling}Z.type===z?(fe=Ia(Z.props.children,V.mode,fe,Z.key),fe.return=V,V=fe):(fe=ko(Z.type,Z.key,Z.props,null,V.mode,fe),Bl(fe,Z),fe.return=V,V=fe)}return T(V);case P:e:{for(Ne=Z.key;H!==null;){if(H.key===Ne)if(H.tag===4&&H.stateNode.containerInfo===Z.containerInfo&&H.stateNode.implementation===Z.implementation){a(V,H.sibling),fe=p(H,Z.children||[]),fe.return=V,V=fe;break e}else{a(V,H);break}else n(V,H);H=H.sibling}fe=xc(Z,V.mode,fe),fe.return=V,V=fe}return T(V);case Le:return Ne=Z._init,Z=Ne(Z._payload),Nt(V,H,Z,fe)}if(ee(Z))return je(V,H,Z,fe);if(Re(Z)){if(Ne=Re(Z),typeof Ne!="function")throw Error(d(150));return Z=Ne.call(Z),Ue(V,H,Z,fe)}if(typeof Z.then=="function")return Nt(V,H,$o(Z),fe);if(Z.$$typeof===G)return Nt(V,H,jo(V,Z),fe);eu(V,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,H!==null&&H.tag===6?(a(V,H.sibling),fe=p(H,Z),fe.return=V,V=fe):(a(V,H),fe=mc(Z,V.mode,fe),fe.return=V,V=fe),T(V)):a(V,H)}return function(V,H,Z,fe){try{Ml=0;var Ne=Nt(V,H,Z,fe);return As=null,Ne}catch(Be){if(Be===Cl||Be===Ho)throw Be;var $e=oi(29,Be,null,V.mode);return $e.lanes=fe,$e.return=V,$e}finally{}}}var Cs=X1(!0),q1=X1(!1),bi=ge(null),Ji=null;function Wr(e){var n=e.alternate;Ae(vn,vn.current&1),Ae(bi,e),Ji===null&&(n===null||ys.current!==null||n.memoizedState!==null)&&(Ji=e)}function Y1(e){if(e.tag===22){if(Ae(vn,vn.current),Ae(bi,e),Ji===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Ji=e)}}else Zr()}function Zr(){Ae(vn,vn.current),Ae(bi,bi.current)}function wr(e){ve(bi),Ji===e&&(Ji=null),ve(vn)}var vn=ge(0);function tu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ff(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Zc(e,n,a,c){n=e.memoizedState,a=a(c,n),a=a==null?n:C({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Kc={enqueueSetState:function(e,n,a){e=e._reactInternals;var c=hi(),p=Xr(c);p.payload=n,a!=null&&(p.callback=a),n=qr(e,p,c),n!==null&&(di(n,e,c),Sl(n,e,c))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var c=hi(),p=Xr(c);p.tag=1,p.payload=n,a!=null&&(p.callback=a),n=qr(e,p,c),n!==null&&(di(n,e,c),Sl(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=hi(),c=Xr(a);c.tag=2,n!=null&&(c.callback=n),n=qr(e,c,a),n!==null&&(di(n,e,a),Sl(n,e,a))}};function W1(e,n,a,c,p,E,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,E,T):n.prototype&&n.prototype.isPureReactComponent?!u(a,c)||!u(p,E):!0}function Z1(e,n,a,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,c),n.state!==e&&Kc.enqueueReplaceState(n,n.state,null)}function ja(e,n){var a=n;if("ref"in n){a={};for(var c in n)c!=="ref"&&(a[c]=n[c])}if(e=e.defaultProps){a===n&&(a=C({},a));for(var p in e)a[p]===void 0&&(a[p]=e[p])}return a}var nu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function K1(e){nu(e)}function Q1(e){console.error(e)}function J1(e){nu(e)}function iu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function $1(e,n,a){try{var c=e.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Qc(e,n,a){return a=Xr(a),a.tag=3,a.payload={element:null},a.callback=function(){iu(e,n)},a}function eh(e){return e=Xr(e),e.tag=3,e}function th(e,n,a,c){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var E=c.value;e.payload=function(){return p(E)},e.callback=function(){$1(n,a,c)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){$1(n,a,c),typeof p!="function"&&(ta===null?ta=new Set([this]):ta.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})})}function im(e,n,a,c,p){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=a.alternate,n!==null&&vl(n,a,p,!0),a=bi.current,a!==null){switch(a.tag){case 13:return Ji===null?bf():a.alternate===null&&$t===0&&($t=3),a.flags&=-257,a.flags|=65536,a.lanes=p,c===Sc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([c]):n.add(c),Cf(e,c,p)),!1;case 22:return a.flags|=65536,c===Sc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([c]):a.add(c)),Cf(e,c,p)),!1}throw Error(d(435,a.tag))}return Cf(e,c,p),bf(),!1}if(xt)return n=bi.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=p,c!==yc&&(e=Error(d(422),{cause:c}),El(wi(e,a)))):(c!==yc&&(n=Error(d(423),{cause:c}),El(wi(n,a))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,c=wi(c,a),p=Qc(e.stateNode,c,p),Rc(e,p),$t!==4&&($t=2)),!1;var E=Error(d(520),{cause:c});if(E=wi(E,a),zl===null?zl=[E]:zl.push(E),$t!==4&&($t=2),n===null)return!0;c=wi(c,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=p&-p,a.lanes|=e,e=Qc(a.stateNode,c,e),Rc(a,e),!1;case 1:if(n=a.type,E=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ta===null||!ta.has(E))))return a.flags|=65536,p&=-p,a.lanes|=p,p=eh(p),th(p,e,a,c),Rc(a,p),!1}a=a.return}while(a!==null);return!1}var nh=Error(d(461)),Sn=!1;function Ln(e,n,a,c){n.child=e===null?q1(n,null,a,c):Cs(n,e.child,a,c)}function ih(e,n,a,c,p){a=a.render;var E=n.ref;if("ref"in c){var T={};for(var D in c)D!=="ref"&&(T[D]=c[D])}else T=c;return Pa(n),c=Bc(e,n,a,T,E,p),D=Lc(),e!==null&&!Sn?(kc(e,n,p),yr(e,n,p)):(xt&&D&&pc(n),n.flags|=1,Ln(e,n,c,p),n.child)}function rh(e,n,a,c,p){if(e===null){var E=a.type;return typeof E=="function"&&!gc(E)&&E.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=E,ah(e,n,E,c,p)):(e=ko(a.type,null,c,n,n.mode,p),e.ref=n.ref,e.return=n,n.child=e)}if(E=e.child,!sf(e,p)){var T=E.memoizedProps;if(a=a.compare,a=a!==null?a:u,a(T,c)&&e.ref===n.ref)return yr(e,n,p)}return n.flags|=1,e=hr(E,c),e.ref=n.ref,e.return=n,n.child=e}function ah(e,n,a,c,p){if(e!==null){var E=e.memoizedProps;if(u(E,c)&&e.ref===n.ref)if(Sn=!1,n.pendingProps=c=E,sf(e,p))(e.flags&131072)!==0&&(Sn=!0);else return n.lanes=e.lanes,yr(e,n,p)}return Jc(e,n,a,c,p)}function sh(e,n,a){var c=n.pendingProps,p=c.children,E=e!==null?e.memoizedState:null;if(c.mode==="hidden"){if((n.flags&128)!==0){if(c=E!==null?E.baseLanes|a:a,e!==null){for(p=n.child=e.child,E=0;p!==null;)E=E|p.lanes|p.childLanes,p=p.sibling;n.childLanes=E&~c}else n.childLanes=0,n.child=null;return lh(e,n,c,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&zo(n,E!==null?E.cachePool:null),E!==null?a1(n,E):Ic(),Y1(n);else return n.lanes=n.childLanes=536870912,lh(e,n,E!==null?E.baseLanes|a:a,a)}else E!==null?(zo(n,E.cachePool),a1(n,E),Zr(),n.memoizedState=null):(e!==null&&zo(n,null),Ic(),Zr());return Ln(e,n,p,a),n.child}function lh(e,n,a,c){var p=_c();return p=p===null?null:{parent:En._currentValue,pool:p},n.memoizedState={baseLanes:a,cachePool:p},e!==null&&zo(n,null),Ic(),Y1(n),e!==null&&vl(e,n,c,!0),null}function ru(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(d(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Jc(e,n,a,c,p){return Pa(n),a=Bc(e,n,a,c,void 0,p),c=Lc(),e!==null&&!Sn?(kc(e,n,p),yr(e,n,p)):(xt&&c&&pc(n),n.flags|=1,Ln(e,n,a,p),n.child)}function oh(e,n,a,c,p,E){return Pa(n),n.updateQueue=null,a=l1(n,c,a,p),s1(e),c=Lc(),e!==null&&!Sn?(kc(e,n,E),yr(e,n,E)):(xt&&c&&pc(n),n.flags|=1,Ln(e,n,a,E),n.child)}function uh(e,n,a,c,p){if(Pa(n),n.stateNode===null){var E=gs,T=a.contextType;typeof T=="object"&&T!==null&&(E=Vn(T)),E=new a(c,E),n.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Kc,n.stateNode=E,E._reactInternals=n,E=n.stateNode,E.props=c,E.state=n.memoizedState,E.refs={},Tc(n),T=a.contextType,E.context=typeof T=="object"&&T!==null?Vn(T):gs,E.state=n.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Zc(n,a,T,c),E.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(T=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),T!==E.state&&Kc.enqueueReplaceState(E,E.state,null),Ol(n,c,E,p),Tl(),E.state=n.memoizedState),typeof E.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){E=n.stateNode;var D=n.memoizedProps,k=ja(a,D);E.props=k;var K=E.context,oe=a.contextType;T=gs,typeof oe=="object"&&oe!==null&&(T=Vn(oe));var he=a.getDerivedStateFromProps;oe=typeof he=="function"||typeof E.getSnapshotBeforeUpdate=="function",D=n.pendingProps!==D,oe||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(D||K!==T)&&Z1(n,E,c,T),Vr=!1;var $=n.memoizedState;E.state=$,Ol(n,c,E,p),Tl(),K=n.memoizedState,D||$!==K||Vr?(typeof he=="function"&&(Zc(n,a,he,c),K=n.memoizedState),(k=Vr||W1(n,a,k,c,$,K,T))?(oe||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(n.flags|=4194308)):(typeof E.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=K),E.props=c,E.state=K,E.context=T,c=k):(typeof E.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{E=n.stateNode,Oc(e,n),T=n.memoizedProps,oe=ja(a,T),E.props=oe,he=n.pendingProps,$=E.context,K=a.contextType,k=gs,typeof K=="object"&&K!==null&&(k=Vn(K)),D=a.getDerivedStateFromProps,(K=typeof D=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(T!==he||$!==k)&&Z1(n,E,c,k),Vr=!1,$=n.memoizedState,E.state=$,Ol(n,c,E,p),Tl();var ne=n.memoizedState;T!==he||$!==ne||Vr||e!==null&&e.dependencies!==null&&Fo(e.dependencies)?(typeof D=="function"&&(Zc(n,a,D,c),ne=n.memoizedState),(oe=Vr||W1(n,a,oe,c,$,ne,k)||e!==null&&e.dependencies!==null&&Fo(e.dependencies))?(K||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(c,ne,k),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(c,ne,k)),typeof E.componentDidUpdate=="function"&&(n.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof E.componentDidUpdate!="function"||T===e.memoizedProps&&$===e.memoizedState||(n.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&$===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=ne),E.props=c,E.state=ne,E.context=k,c=oe):(typeof E.componentDidUpdate!="function"||T===e.memoizedProps&&$===e.memoizedState||(n.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&$===e.memoizedState||(n.flags|=1024),c=!1)}return E=c,ru(e,n),c=(n.flags&128)!==0,E||c?(E=n.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:E.render(),n.flags|=1,e!==null&&c?(n.child=Cs(n,e.child,null,p),n.child=Cs(n,null,a,p)):Ln(e,n,a,p),n.memoizedState=E.state,e=n.child):e=yr(e,n,p),e}function ch(e,n,a,c){return yl(),n.flags|=256,Ln(e,n,a,c),n.child}var $c={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ef(e){return{baseLanes:e,cachePool:Q0()}}function tf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Ai),e}function fh(e,n,a){var c=n.pendingProps,p=!1,E=(n.flags&128)!==0,T;if((T=E)||(T=e!==null&&e.memoizedState===null?!1:(vn.current&2)!==0),T&&(p=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,e===null){if(xt){if(p?Wr(n):Zr(),xt){var D=Jt,k;if(k=D){e:{for(k=D,D=Qi;k.nodeType!==8;){if(!D){D=null;break e}if(k=Di(k.nextSibling),k===null){D=null;break e}}D=k}D!==null?(n.memoizedState={dehydrated:D,treeContext:Da!==null?{id:dr,overflow:gr}:null,retryLane:536870912,hydrationErrors:null},k=oi(18,null,null,0),k.stateNode=D,k.return=n,n.child=k,Wn=n,Jt=null,k=!0):k=!1}k||La(n)}if(D=n.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return Ff(D)?n.lanes=32:n.lanes=536870912,null;wr(n)}return D=c.children,c=c.fallback,p?(Zr(),p=n.mode,D=au({mode:"hidden",children:D},p),c=Ia(c,p,a,null),D.return=n,c.return=n,D.sibling=c,n.child=D,p=n.child,p.memoizedState=ef(a),p.childLanes=tf(e,T,a),n.memoizedState=$c,c):(Wr(n),nf(n,D))}if(k=e.memoizedState,k!==null&&(D=k.dehydrated,D!==null)){if(E)n.flags&256?(Wr(n),n.flags&=-257,n=rf(e,n,a)):n.memoizedState!==null?(Zr(),n.child=e.child,n.flags|=128,n=null):(Zr(),p=c.fallback,D=n.mode,c=au({mode:"visible",children:c.children},D),p=Ia(p,D,a,null),p.flags|=2,c.return=n,p.return=n,c.sibling=p,n.child=c,Cs(n,e.child,null,a),c=n.child,c.memoizedState=ef(a),c.childLanes=tf(e,T,a),n.memoizedState=$c,n=p);else if(Wr(n),Ff(D)){if(T=D.nextSibling&&D.nextSibling.dataset,T)var K=T.dgst;T=K,c=Error(d(419)),c.stack="",c.digest=T,El({value:c,source:null,stack:null}),n=rf(e,n,a)}else if(Sn||vl(e,n,a,!1),T=(a&e.childLanes)!==0,Sn||T){if(T=Lt,T!==null&&(c=a&-a,c=(c&42)!==0?1:Ea(c),c=(c&(T.suspendedLanes|a))!==0?0:c,c!==0&&c!==k.retryLane))throw k.retryLane=c,ds(e,c),di(T,e,c),nh;D.data==="$?"||bf(),n=rf(e,n,a)}else D.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=k.treeContext,Jt=Di(D.nextSibling),Wn=n,xt=!0,Ba=null,Qi=!1,e!==null&&(Ei[vi++]=dr,Ei[vi++]=gr,Ei[vi++]=Da,dr=e.id,gr=e.overflow,Da=n),n=nf(n,c.children),n.flags|=4096);return n}return p?(Zr(),p=c.fallback,D=n.mode,k=e.child,K=k.sibling,c=hr(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,K!==null?p=hr(K,p):(p=Ia(p,D,a,null),p.flags|=2),p.return=n,c.return=n,c.sibling=p,n.child=c,c=p,p=n.child,D=e.child.memoizedState,D===null?D=ef(a):(k=D.cachePool,k!==null?(K=En._currentValue,k=k.parent!==K?{parent:K,pool:K}:k):k=Q0(),D={baseLanes:D.baseLanes|a,cachePool:k}),p.memoizedState=D,p.childLanes=tf(e,T,a),n.memoizedState=$c,c):(Wr(n),a=e.child,e=a.sibling,a=hr(a,{mode:"visible",children:c.children}),a.return=n,a.sibling=null,e!==null&&(T=n.deletions,T===null?(n.deletions=[e],n.flags|=16):T.push(e)),n.child=a,n.memoizedState=null,a)}function nf(e,n){return n=au({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function au(e,n){return e=oi(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function rf(e,n,a){return Cs(n,e.child,null,a),e=nf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function hh(e,n,a){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),vc(e.return,n,a)}function af(e,n,a,c,p){var E=e.memoizedState;E===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:p}:(E.isBackwards=n,E.rendering=null,E.renderingStartTime=0,E.last=c,E.tail=a,E.tailMode=p)}function dh(e,n,a){var c=n.pendingProps,p=c.revealOrder,E=c.tail;if(Ln(e,n,c.children,a),c=vn.current,(c&2)!==0)c=c&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hh(e,a,n);else if(e.tag===19)hh(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}switch(Ae(vn,c),p){case"forwards":for(a=n.child,p=null;a!==null;)e=a.alternate,e!==null&&tu(e)===null&&(p=a),a=a.sibling;a=p,a===null?(p=n.child,n.child=null):(p=a.sibling,a.sibling=null),af(n,!1,p,a,E);break;case"backwards":for(a=null,p=n.child,n.child=null;p!==null;){if(e=p.alternate,e!==null&&tu(e)===null){n.child=p;break}e=p.sibling,p.sibling=a,a=p,p=e}af(n,!0,a,null,E);break;case"together":af(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function yr(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),ea|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(vl(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(d(153));if(n.child!==null){for(e=n.child,a=hr(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=hr(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function sf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Fo(e)))}function rm(e,n,a){switch(n.tag){case 3:Xe(n,n.stateNode.containerInfo),Gr(n,En,e.memoizedState.cache),yl();break;case 27:case 5:rr(n);break;case 4:Xe(n,n.stateNode.containerInfo);break;case 10:Gr(n,n.type,n.memoizedProps.value);break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(Wr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?fh(e,n,a):(Wr(n),e=yr(e,n,a),e!==null?e.sibling:null);Wr(n);break;case 19:var p=(e.flags&128)!==0;if(c=(a&n.childLanes)!==0,c||(vl(e,n,a,!1),c=(a&n.childLanes)!==0),p){if(c)return dh(e,n,a);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ae(vn,vn.current),c)break;return null;case 22:case 23:return n.lanes=0,sh(e,n,a);case 24:Gr(n,En,e.memoizedState.cache)}return yr(e,n,a)}function gh(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Sn=!0;else{if(!sf(e,a)&&(n.flags&128)===0)return Sn=!1,rm(e,n,a);Sn=(e.flags&131072)!==0}else Sn=!1,xt&&(n.flags&1048576)!==0&&V0(n,Uo,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var c=n.elementType,p=c._init;if(c=p(c._payload),n.type=c,typeof c=="function")gc(c)?(e=ja(c,e),n.tag=1,n=uh(null,n,c,e,a)):(n.tag=0,n=Jc(null,n,c,e,a));else{if(c!=null){if(p=c.$$typeof,p===le){n.tag=11,n=ih(null,n,c,e,a);break e}else if(p===ae){n.tag=14,n=rh(null,n,c,e,a);break e}}throw n=ft(c)||c,Error(d(306,n,""))}}return n;case 0:return Jc(e,n,n.type,n.pendingProps,a);case 1:return c=n.type,p=ja(c,n.pendingProps),uh(e,n,c,p,a);case 3:e:{if(Xe(n,n.stateNode.containerInfo),e===null)throw Error(d(387));c=n.pendingProps;var E=n.memoizedState;p=E.element,Oc(e,n),Ol(n,c,null,a);var T=n.memoizedState;if(c=T.cache,Gr(n,En,c),c!==E.cache&&bc(n,[En],a,!0),Tl(),c=T.element,E.isDehydrated)if(E={element:c,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=E,n.memoizedState=E,n.flags&256){n=ch(e,n,c,a);break e}else if(c!==p){p=wi(Error(d(424)),n),El(p),n=ch(e,n,c,a);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Jt=Di(e.firstChild),Wn=n,xt=!0,Ba=null,Qi=!0,a=q1(n,null,c,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(yl(),c===p){n=yr(e,n,a);break e}Ln(e,n,c,a)}n=n.child}return n;case 26:return ru(e,n),e===null?(a=wd(n.type,null,n.pendingProps,null))?n.memoizedState=a:xt||(a=n.type,e=n.pendingProps,c=yu(ye.current).createElement(a),c[An]=n,c[Zt]=e,Pn(c,a,e),Et(c),n.stateNode=c):n.memoizedState=wd(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return rr(n),e===null&&xt&&(c=n.stateNode=md(n.type,n.pendingProps,ye.current),Wn=n,Qi=!0,p=Jt,ra(n.type)?(jf=p,Jt=Di(c.firstChild)):Jt=p),Ln(e,n,n.pendingProps.children,a),ru(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&xt&&((p=c=Jt)&&(c=Dm(c,n.type,n.pendingProps,Qi),c!==null?(n.stateNode=c,Wn=n,Jt=Di(c.firstChild),Qi=!1,p=!0):p=!1),p||La(n)),rr(n),p=n.type,E=n.pendingProps,T=e!==null?e.memoizedProps:null,c=E.children,kf(p,E)?c=null:T!==null&&kf(p,T)&&(n.flags|=32),n.memoizedState!==null&&(p=Bc(e,n,Kg,null,null,a),Kl._currentValue=p),ru(e,n),Ln(e,n,c,a),n.child;case 6:return e===null&&xt&&((e=a=Jt)&&(a=Mm(a,n.pendingProps,Qi),a!==null?(n.stateNode=a,Wn=n,Jt=null,e=!0):e=!1),e||La(n)),null;case 13:return fh(e,n,a);case 4:return Xe(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=Cs(n,null,c,a):Ln(e,n,c,a),n.child;case 11:return ih(e,n,n.type,n.pendingProps,a);case 7:return Ln(e,n,n.pendingProps,a),n.child;case 8:return Ln(e,n,n.pendingProps.children,a),n.child;case 12:return Ln(e,n,n.pendingProps.children,a),n.child;case 10:return c=n.pendingProps,Gr(n,n.type,c.value),Ln(e,n,c.children,a),n.child;case 9:return p=n.type._context,c=n.pendingProps.children,Pa(n),p=Vn(p),c=c(p),n.flags|=1,Ln(e,n,c,a),n.child;case 14:return rh(e,n,n.type,n.pendingProps,a);case 15:return ah(e,n,n.type,n.pendingProps,a);case 19:return dh(e,n,a);case 31:return c=n.pendingProps,a=n.mode,c={mode:c.mode,children:c.children},e===null?(a=au(c,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=hr(e.child,c),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return sh(e,n,a);case 24:return Pa(n),c=Vn(En),e===null?(p=_c(),p===null&&(p=Lt,E=Ac(),p.pooledCache=E,E.refCount++,E!==null&&(p.pooledCacheLanes|=a),p=E),n.memoizedState={parent:c,cache:p},Tc(n),Gr(n,En,p)):((e.lanes&a)!==0&&(Oc(e,n),Ol(n,null,null,a),Tl()),p=e.memoizedState,E=n.memoizedState,p.parent!==c?(p={parent:c,cache:c},n.memoizedState=p,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=p),Gr(n,En,c)):(c=E.cache,Gr(n,En,c),c!==p.cache&&bc(n,[En],a,!0))),Ln(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(d(156,n.tag))}function Er(e){e.flags|=4}function mh(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ad(n)){if(n=bi.current,n!==null&&((ht&4194048)===ht?Ji!==null:(ht&62914560)!==ht&&(ht&536870912)===0||n!==Ji))throw _l=Sc,J0;e.flags|=8192}}function su(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ll():536870912,e.lanes|=n,Os|=n)}function Ll(e,n){if(!xt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Wt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,c=0;if(n)for(var p=e.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=c,e.childLanes=a,n}function am(e,n,a){var c=n.pendingProps;switch(wc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(n),null;case 1:return Wt(n),null;case 3:return a=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),xr(En),Zn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(wl(n)?Er(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Y0())),Wt(n),null;case 26:return a=n.memoizedState,e===null?(Er(n),a!==null?(Wt(n),mh(n,a)):(Wt(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Er(n),Wt(n),mh(n,a)):(Wt(n),n.flags&=-16777217):(e.memoizedProps!==c&&Er(n),Wt(n),n.flags&=-16777217),null;case 27:dn(n),a=ye.current;var p=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Er(n);else{if(!c){if(n.stateNode===null)throw Error(d(166));return Wt(n),null}e=Se.current,wl(n)?X0(n):(e=md(p,c,a),n.stateNode=e,Er(n))}return Wt(n),null;case 5:if(dn(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Er(n);else{if(!c){if(n.stateNode===null)throw Error(d(166));return Wt(n),null}if(e=Se.current,wl(n))X0(n);else{switch(p=yu(ye.current),e){case 1:e=p.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=p.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?e.multiple=!0:c.size&&(e.size=c.size);break;default:e=typeof c.is=="string"?p.createElement(a,{is:c.is}):p.createElement(a)}}e[An]=n,e[Zt]=c;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)e.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=e;e:switch(Pn(e,a,c),a){case"button":case"input":case"select":case"textarea":e=!!c.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Er(n)}}return Wt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&Er(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(d(166));if(e=ye.current,wl(n)){if(e=n.stateNode,a=n.memoizedProps,c=null,p=Wn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}e[An]=n,e=!!(e.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||od(e.nodeValue,a)),e||La(n)}else e=yu(e).createTextNode(c),e[An]=n,n.stateNode=e}return Wt(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=wl(n),c!==null&&c.dehydrated!==null){if(e===null){if(!p)throw Error(d(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(d(317));p[An]=n}else yl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),p=!1}else p=Y0(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return n.flags&256?(wr(n),n):(wr(n),null)}if(wr(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=c!==null,e=e!==null&&e.memoizedState!==null,a){c=n.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var E=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(E=c.memoizedState.cachePool.pool),E!==p&&(c.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),su(n,n.updateQueue),Wt(n),null;case 4:return Zn(),e===null&&If(n.stateNode.containerInfo),Wt(n),null;case 10:return xr(n.type),Wt(n),null;case 19:if(ve(vn),p=n.memoizedState,p===null)return Wt(n),null;if(c=(n.flags&128)!==0,E=p.rendering,E===null)if(c)Ll(p,!1);else{if($t!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(E=tu(e),E!==null){for(n.flags|=128,Ll(p,!1),e=E.updateQueue,n.updateQueue=e,su(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)G0(a,e),a=a.sibling;return Ae(vn,vn.current&1|2),n.child}e=e.sibling}p.tail!==null&&_t()>uu&&(n.flags|=128,c=!0,Ll(p,!1),n.lanes=4194304)}else{if(!c)if(e=tu(E),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,su(n,e),Ll(p,!0),p.tail===null&&p.tailMode==="hidden"&&!E.alternate&&!xt)return Wt(n),null}else 2*_t()-p.renderingStartTime>uu&&a!==536870912&&(n.flags|=128,c=!0,Ll(p,!1),n.lanes=4194304);p.isBackwards?(E.sibling=n.child,n.child=E):(e=p.last,e!==null?e.sibling=E:n.child=E,p.last=E)}return p.tail!==null?(n=p.tail,p.rendering=n,p.tail=n.sibling,p.renderingStartTime=_t(),n.sibling=null,e=vn.current,Ae(vn,c?e&1|2:e&1),n):(Wt(n),null);case 22:case 23:return wr(n),Dc(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(a&536870912)!==0&&(n.flags&128)===0&&(Wt(n),n.subtreeFlags&6&&(n.flags|=8192)):Wt(n),a=n.updateQueue,a!==null&&su(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==a&&(n.flags|=2048),e!==null&&ve(Ua),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),xr(En),Wt(n),null;case 25:return null;case 30:return null}throw Error(d(156,n.tag))}function sm(e,n){switch(wc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return xr(En),Zn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return dn(n),null;case 13:if(wr(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(d(340));yl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ve(vn),null;case 4:return Zn(),null;case 10:return xr(n.type),null;case 22:case 23:return wr(n),Dc(),e!==null&&ve(Ua),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return xr(En),null;case 25:return null;default:return null}}function xh(e,n){switch(wc(n),n.tag){case 3:xr(En),Zn();break;case 26:case 27:case 5:dn(n);break;case 4:Zn();break;case 13:wr(n);break;case 19:ve(vn);break;case 10:xr(n.type);break;case 22:case 23:wr(n),Dc(),e!==null&&ve(Ua);break;case 24:xr(En)}}function kl(e,n){try{var a=n.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var p=c.next;a=p;do{if((a.tag&e)===e){c=void 0;var E=a.create,T=a.inst;c=E(),T.destroy=c}a=a.next}while(a!==p)}}catch(D){Mt(n,n.return,D)}}function Kr(e,n,a){try{var c=n.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var E=p.next;c=E;do{if((c.tag&e)===e){var T=c.inst,D=T.destroy;if(D!==void 0){T.destroy=void 0,p=n;var k=a,K=D;try{K()}catch(oe){Mt(p,k,oe)}}}c=c.next}while(c!==E)}}catch(oe){Mt(n,n.return,oe)}}function ph(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{r1(n,a)}catch(c){Mt(e,e.return,c)}}}function wh(e,n,a){a.props=ja(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(c){Mt(e,n,c)}}function Pl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof a=="function"?e.refCleanup=a(c):a.current=c}}catch(p){Mt(e,n,p)}}function $i(e,n){var a=e.ref,c=e.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(p){Mt(e,n,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){Mt(e,n,p)}else a.current=null}function yh(e){var n=e.type,a=e.memoizedProps,c=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(p){Mt(e,e.return,p)}}function lf(e,n,a){try{var c=e.stateNode;Tm(c,e.type,a,n),c[Zt]=n}catch(p){Mt(e,e.return,p)}}function Eh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ra(e.type)||e.tag===4}function of(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Eh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ra(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uf(e,n,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=wu));else if(c!==4&&(c===27&&ra(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(uf(e,n,a),e=e.sibling;e!==null;)uf(e,n,a),e=e.sibling}function lu(e,n,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(c!==4&&(c===27&&ra(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(lu(e,n,a),e=e.sibling;e!==null;)lu(e,n,a),e=e.sibling}function vh(e){var n=e.stateNode,a=e.memoizedProps;try{for(var c=e.type,p=n.attributes;p.length;)n.removeAttributeNode(p[0]);Pn(n,c,a),n[An]=e,n[Zt]=a}catch(E){Mt(e,e.return,E)}}var vr=!1,on=!1,cf=!1,bh=typeof WeakSet=="function"?WeakSet:Set,Tn=null;function lm(e,n){if(e=e.containerInfo,Bf=_u,e=v(e),S(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var p=c.anchorOffset,E=c.focusNode;c=c.focusOffset;try{a.nodeType,E.nodeType}catch{a=null;break e}var T=0,D=-1,k=-1,K=0,oe=0,he=e,$=null;t:for(;;){for(var ne;he!==a||p!==0&&he.nodeType!==3||(D=T+p),he!==E||c!==0&&he.nodeType!==3||(k=T+c),he.nodeType===3&&(T+=he.nodeValue.length),(ne=he.firstChild)!==null;)$=he,he=ne;for(;;){if(he===e)break t;if($===a&&++K===p&&(D=T),$===E&&++oe===c&&(k=T),(ne=he.nextSibling)!==null)break;he=$,$=he.parentNode}he=ne}a=D===-1||k===-1?null:{start:D,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(Lf={focusedElem:e,selectionRange:a},_u=!1,Tn=n;Tn!==null;)if(n=Tn,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Tn=e;else for(;Tn!==null;){switch(n=Tn,E=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&E!==null){e=void 0,a=n,p=E.memoizedProps,E=E.memoizedState,c=a.stateNode;try{var je=ja(a.type,p,a.elementType===a.type);e=c.getSnapshotBeforeUpdate(je,E),c.__reactInternalSnapshotBeforeUpdate=e}catch(Ue){Mt(a,a.return,Ue)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Uf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Uf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=n.sibling,e!==null){e.return=n.return,Tn=e;break}Tn=n.return}}function Ah(e,n,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Qr(e,a),c&4&&kl(5,a);break;case 1:if(Qr(e,a),c&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(T){Mt(a,a.return,T)}else{var p=ja(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(p,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Mt(a,a.return,T)}}c&64&&ph(a),c&512&&Pl(a,a.return);break;case 3:if(Qr(e,a),c&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{r1(e,n)}catch(T){Mt(a,a.return,T)}}break;case 27:n===null&&c&4&&vh(a);case 26:case 5:Qr(e,a),n===null&&c&4&&yh(a),c&512&&Pl(a,a.return);break;case 12:Qr(e,a);break;case 13:Qr(e,a),c&4&&Sh(e,a),c&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=xm.bind(null,a),Bm(e,a))));break;case 22:if(c=a.memoizedState!==null||vr,!c){n=n!==null&&n.memoizedState!==null||on,p=vr;var E=on;vr=c,(on=n)&&!E?Jr(e,a,(a.subtreeFlags&8772)!==0):Qr(e,a),vr=p,on=E}break;case 30:break;default:Qr(e,a)}}function Ch(e){var n=e.alternate;n!==null&&(e.alternate=null,Ch(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&va(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Vt=null,ti=!1;function br(e,n,a){for(a=a.child;a!==null;)_h(e,n,a),a=a.sibling}function _h(e,n,a){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(Dn,a)}catch{}switch(a.tag){case 26:on||$i(a,n),br(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:on||$i(a,n);var c=Vt,p=ti;ra(a.type)&&(Vt=a.stateNode,ti=!1),br(e,n,a),ql(a.stateNode),Vt=c,ti=p;break;case 5:on||$i(a,n);case 6:if(c=Vt,p=ti,Vt=null,br(e,n,a),Vt=c,ti=p,Vt!==null)if(ti)try{(Vt.nodeType===9?Vt.body:Vt.nodeName==="HTML"?Vt.ownerDocument.body:Vt).removeChild(a.stateNode)}catch(E){Mt(a,n,E)}else try{Vt.removeChild(a.stateNode)}catch(E){Mt(a,n,E)}break;case 18:Vt!==null&&(ti?(e=Vt,dd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),eo(e)):dd(Vt,a.stateNode));break;case 4:c=Vt,p=ti,Vt=a.stateNode.containerInfo,ti=!0,br(e,n,a),Vt=c,ti=p;break;case 0:case 11:case 14:case 15:on||Kr(2,a,n),on||Kr(4,a,n),br(e,n,a);break;case 1:on||($i(a,n),c=a.stateNode,typeof c.componentWillUnmount=="function"&&wh(a,n,c)),br(e,n,a);break;case 21:br(e,n,a);break;case 22:on=(c=on)||a.memoizedState!==null,br(e,n,a),on=c;break;default:br(e,n,a)}}function Sh(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{eo(e)}catch(a){Mt(n,n.return,a)}}function om(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new bh),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new bh),n;default:throw Error(d(435,e.tag))}}function ff(e,n){var a=om(e);n.forEach(function(c){var p=pm.bind(null,e,c);a.has(c)||(a.add(c),c.then(p,p))})}function ui(e,n){var a=n.deletions;if(a!==null)for(var c=0;c<a.length;c++){var p=a[c],E=e,T=n,D=T;e:for(;D!==null;){switch(D.tag){case 27:if(ra(D.type)){Vt=D.stateNode,ti=!1;break e}break;case 5:Vt=D.stateNode,ti=!1;break e;case 3:case 4:Vt=D.stateNode.containerInfo,ti=!0;break e}D=D.return}if(Vt===null)throw Error(d(160));_h(E,T,p),Vt=null,ti=!1,E=p.alternate,E!==null&&(E.return=null),p.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Th(n,e),n=n.sibling}var Ii=null;function Th(e,n){var a=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ui(n,e),ci(e),c&4&&(Kr(3,e,e.return),kl(3,e),Kr(5,e,e.return));break;case 1:ui(n,e),ci(e),c&512&&(on||a===null||$i(a,a.return)),c&64&&vr&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var p=Ii;if(ui(n,e),ci(e),c&512&&(on||a===null||$i(a,a.return)),c&4){var E=a!==null?a.memoizedState:null;if(c=e.memoizedState,a===null)if(c===null)if(e.stateNode===null){e:{c=e.type,a=e.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":E=p.getElementsByTagName("title")[0],(!E||E[xi]||E[An]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=p.createElement(c),p.head.insertBefore(E,p.querySelector("head > title"))),Pn(E,c,a),E[An]=e,Et(E),c=E;break e;case"link":var T=vd("link","href",p).get(c+(a.href||""));if(T){for(var D=0;D<T.length;D++)if(E=T[D],E.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&E.getAttribute("rel")===(a.rel==null?null:a.rel)&&E.getAttribute("title")===(a.title==null?null:a.title)&&E.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(D,1);break t}}E=p.createElement(c),Pn(E,c,a),p.head.appendChild(E);break;case"meta":if(T=vd("meta","content",p).get(c+(a.content||""))){for(D=0;D<T.length;D++)if(E=T[D],E.getAttribute("content")===(a.content==null?null:""+a.content)&&E.getAttribute("name")===(a.name==null?null:a.name)&&E.getAttribute("property")===(a.property==null?null:a.property)&&E.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&E.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(D,1);break t}}E=p.createElement(c),Pn(E,c,a),p.head.appendChild(E);break;default:throw Error(d(468,c))}E[An]=e,Et(E),c=E}e.stateNode=c}else bd(p,e.type,e.stateNode);else e.stateNode=Ed(p,c,e.memoizedProps);else E!==c?(E===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):E.count--,c===null?bd(p,e.type,e.stateNode):Ed(p,c,e.memoizedProps)):c===null&&e.stateNode!==null&&lf(e,e.memoizedProps,a.memoizedProps)}break;case 27:ui(n,e),ci(e),c&512&&(on||a===null||$i(a,a.return)),a!==null&&c&4&&lf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ui(n,e),ci(e),c&512&&(on||a===null||$i(a,a.return)),e.flags&32){p=e.stateNode;try{pn(p,"")}catch(ne){Mt(e,e.return,ne)}}c&4&&e.stateNode!=null&&(p=e.memoizedProps,lf(e,p,a!==null?a.memoizedProps:p)),c&1024&&(cf=!0);break;case 6:if(ui(n,e),ci(e),c&4){if(e.stateNode===null)throw Error(d(162));c=e.memoizedProps,a=e.stateNode;try{a.nodeValue=c}catch(ne){Mt(e,e.return,ne)}}break;case 3:if(bu=null,p=Ii,Ii=Eu(n.containerInfo),ui(n,e),Ii=p,ci(e),c&4&&a!==null&&a.memoizedState.isDehydrated)try{eo(n.containerInfo)}catch(ne){Mt(e,e.return,ne)}cf&&(cf=!1,Oh(e));break;case 4:c=Ii,Ii=Eu(e.stateNode.containerInfo),ui(n,e),ci(e),Ii=c;break;case 12:ui(n,e),ci(e);break;case 13:ui(n,e),ci(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pf=_t()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,ff(e,c)));break;case 22:p=e.memoizedState!==null;var k=a!==null&&a.memoizedState!==null,K=vr,oe=on;if(vr=K||p,on=oe||k,ui(n,e),on=oe,vr=K,ci(e),c&8192)e:for(n=e.stateNode,n._visibility=p?n._visibility&-2:n._visibility|1,p&&(a===null||k||vr||on||za(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){k=a=n;try{if(E=k.stateNode,p)T=E.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{D=k.stateNode;var he=k.memoizedProps.style,$=he!=null&&he.hasOwnProperty("display")?he.display:null;D.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(ne){Mt(k,k.return,ne)}}}else if(n.tag===6){if(a===null){k=n;try{k.stateNode.nodeValue=p?"":k.memoizedProps}catch(ne){Mt(k,k.return,ne)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,ff(e,a))));break;case 19:ui(n,e),ci(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,ff(e,c)));break;case 30:break;case 21:break;default:ui(n,e),ci(e)}}function ci(e){var n=e.flags;if(n&2){try{for(var a,c=e.return;c!==null;){if(Eh(c)){a=c;break}c=c.return}if(a==null)throw Error(d(160));switch(a.tag){case 27:var p=a.stateNode,E=of(e);lu(e,E,p);break;case 5:var T=a.stateNode;a.flags&32&&(pn(T,""),a.flags&=-33);var D=of(e);lu(e,D,T);break;case 3:case 4:var k=a.stateNode.containerInfo,K=of(e);uf(e,K,k);break;default:throw Error(d(161))}}catch(oe){Mt(e,e.return,oe)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Oh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Oh(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Qr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ah(e,n.alternate,n),n=n.sibling}function za(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Kr(4,n,n.return),za(n);break;case 1:$i(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&wh(n,n.return,a),za(n);break;case 27:ql(n.stateNode);case 26:case 5:$i(n,n.return),za(n);break;case 22:n.memoizedState===null&&za(n);break;case 30:za(n);break;default:za(n)}e=e.sibling}}function Jr(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,p=e,E=n,T=E.flags;switch(E.tag){case 0:case 11:case 15:Jr(p,E,a),kl(4,E);break;case 1:if(Jr(p,E,a),c=E,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(K){Mt(c,c.return,K)}if(c=E,p=c.updateQueue,p!==null){var D=c.stateNode;try{var k=p.shared.hiddenCallbacks;if(k!==null)for(p.shared.hiddenCallbacks=null,p=0;p<k.length;p++)i1(k[p],D)}catch(K){Mt(c,c.return,K)}}a&&T&64&&ph(E),Pl(E,E.return);break;case 27:vh(E);case 26:case 5:Jr(p,E,a),a&&c===null&&T&4&&yh(E),Pl(E,E.return);break;case 12:Jr(p,E,a);break;case 13:Jr(p,E,a),a&&T&4&&Sh(p,E);break;case 22:E.memoizedState===null&&Jr(p,E,a),Pl(E,E.return);break;case 30:break;default:Jr(p,E,a)}n=n.sibling}}function hf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&bl(a))}function df(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&bl(e))}function er(e,n,a,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Rh(e,n,a,c),n=n.sibling}function Rh(e,n,a,c){var p=n.flags;switch(n.tag){case 0:case 11:case 15:er(e,n,a,c),p&2048&&kl(9,n);break;case 1:er(e,n,a,c);break;case 3:er(e,n,a,c),p&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&bl(e)));break;case 12:if(p&2048){er(e,n,a,c),e=n.stateNode;try{var E=n.memoizedProps,T=E.id,D=E.onPostCommit;typeof D=="function"&&D(T,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(k){Mt(n,n.return,k)}}else er(e,n,a,c);break;case 13:er(e,n,a,c);break;case 23:break;case 22:E=n.stateNode,T=n.alternate,n.memoizedState!==null?E._visibility&2?er(e,n,a,c):Ul(e,n):E._visibility&2?er(e,n,a,c):(E._visibility|=2,_s(e,n,a,c,(n.subtreeFlags&10256)!==0)),p&2048&&hf(T,n);break;case 24:er(e,n,a,c),p&2048&&df(n.alternate,n);break;default:er(e,n,a,c)}}function _s(e,n,a,c,p){for(p=p&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var E=e,T=n,D=a,k=c,K=T.flags;switch(T.tag){case 0:case 11:case 15:_s(E,T,D,k,p),kl(8,T);break;case 23:break;case 22:var oe=T.stateNode;T.memoizedState!==null?oe._visibility&2?_s(E,T,D,k,p):Ul(E,T):(oe._visibility|=2,_s(E,T,D,k,p)),p&&K&2048&&hf(T.alternate,T);break;case 24:_s(E,T,D,k,p),p&&K&2048&&df(T.alternate,T);break;default:_s(E,T,D,k,p)}n=n.sibling}}function Ul(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,c=n,p=c.flags;switch(c.tag){case 22:Ul(a,c),p&2048&&hf(c.alternate,c);break;case 24:Ul(a,c),p&2048&&df(c.alternate,c);break;default:Ul(a,c)}n=n.sibling}}var Fl=8192;function Ss(e){if(e.subtreeFlags&Fl)for(e=e.child;e!==null;)Nh(e),e=e.sibling}function Nh(e){switch(e.tag){case 26:Ss(e),e.flags&Fl&&e.memoizedState!==null&&Ym(Ii,e.memoizedState,e.memoizedProps);break;case 5:Ss(e);break;case 3:case 4:var n=Ii;Ii=Eu(e.stateNode.containerInfo),Ss(e),Ii=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Fl,Fl=16777216,Ss(e),Fl=n):Ss(e));break;default:Ss(e)}}function Ih(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function jl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var c=n[a];Tn=c,Mh(c,e)}Ih(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Dh(e),e=e.sibling}function Dh(e){switch(e.tag){case 0:case 11:case 15:jl(e),e.flags&2048&&Kr(9,e,e.return);break;case 3:jl(e);break;case 12:jl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ou(e)):jl(e);break;default:jl(e)}}function ou(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var c=n[a];Tn=c,Mh(c,e)}Ih(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Kr(8,n,n.return),ou(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ou(n));break;default:ou(n)}e=e.sibling}}function Mh(e,n){for(;Tn!==null;){var a=Tn;switch(a.tag){case 0:case 11:case 15:Kr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:bl(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,Tn=c;else e:for(a=e;Tn!==null;){c=Tn;var p=c.sibling,E=c.return;if(Ch(c),c===a){Tn=null;break e}if(p!==null){p.return=E,Tn=p;break e}Tn=E}}}var um={getCacheForType:function(e){var n=Vn(En),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},cm=typeof WeakMap=="function"?WeakMap:Map,At=0,Lt=null,tt=null,ht=0,Ct=0,fi=null,$r=!1,Ts=!1,gf=!1,Ar=0,$t=0,ea=0,Ha=0,mf=0,Ai=0,Os=0,zl=null,ni=null,xf=!1,pf=0,uu=1/0,cu=null,ta=null,kn=0,na=null,Rs=null,Ns=0,wf=0,yf=null,Bh=null,Hl=0,Ef=null;function hi(){if((At&2)!==0&&ht!==0)return ht&-ht;if(re.T!==null){var e=ps;return e!==0?e:Tf()}return ar()}function Lh(){Ai===0&&(Ai=(ht&536870912)===0||xt?Ja():536870912);var e=bi.current;return e!==null&&(e.flags|=32),Ai}function di(e,n,a){(e===Lt&&(Ct===2||Ct===9)||e.cancelPendingCommit!==null)&&(Is(e,0),ia(e,ht,Ai,!1)),ri(e,a),((At&2)===0||e!==Lt)&&(e===Lt&&((At&2)===0&&(Ha|=a),$t===4&&ia(e,ht,Ai,!1)),tr(e))}function kh(e,n,a){if((At&6)!==0)throw Error(d(327));var c=!a&&(n&124)===0&&(n&e.expiredLanes)===0||Tt(e,n),p=c?dm(e,n):Af(e,n,!0),E=c;do{if(p===0){Ts&&!c&&ia(e,n,0,!1);break}else{if(a=e.current.alternate,E&&!fm(a)){p=Af(e,n,!1),E=!1;continue}if(p===2){if(E=n,e.errorRecoveryDisabledLanes&E)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var D=e;p=zl;var k=D.current.memoizedState.isDehydrated;if(k&&(Is(D,T).flags|=256),T=Af(D,T,!1),T!==2){if(gf&&!k){D.errorRecoveryDisabledLanes|=E,Ha|=E,p=4;break e}E=ni,ni=p,E!==null&&(ni===null?ni=E:ni.push.apply(ni,E))}p=T}if(E=!1,p!==2)continue}}if(p===1){Is(e,0),ia(e,n,0,!0);break}e:{switch(c=e,E=p,E){case 0:case 1:throw Error(d(345));case 4:if((n&4194048)!==n)break;case 6:ia(c,n,Ai,!$r);break e;case 2:ni=null;break;case 3:case 5:break;default:throw Error(d(329))}if((n&62914560)===n&&(p=pf+300-_t(),10<p)){if(ia(c,n,Ai,!$r),dt(c,0,!0)!==0)break e;c.timeoutHandle=fd(Ph.bind(null,c,a,ni,cu,xf,n,Ai,Ha,Os,$r,E,2,-0,0),p);break e}Ph(c,a,ni,cu,xf,n,Ai,Ha,Os,$r,E,0,-0,0)}}break}while(!0);tr(e)}function Ph(e,n,a,c,p,E,T,D,k,K,oe,he,$,ne){if(e.timeoutHandle=-1,he=n.subtreeFlags,(he&8192||(he&16785408)===16785408)&&(Zl={stylesheets:null,count:0,unsuspend:qm},Nh(n),he=Wm(),he!==null)){e.cancelPendingCommit=he(Vh.bind(null,e,n,E,a,c,p,T,D,k,oe,1,$,ne)),ia(e,E,T,!K);return}Vh(e,n,E,a,c,p,T,D,k)}function fm(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var p=a[c],E=p.getSnapshot;p=p.value;try{if(!s(E(),p))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ia(e,n,a,c){n&=~mf,n&=~Ha,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var p=n;0<p;){var E=31-yt(p),T=1<<E;c[E]=-1,p&=~T}a!==0&&ol(e,a,n)}function fu(){return(At&6)===0?(Gl(0),!1):!0}function vf(){if(tt!==null){if(Ct===0)var e=tt.return;else e=tt,mr=ka=null,Pc(e),As=null,Ml=0,e=tt;for(;e!==null;)xh(e.alternate,e),e=e.return;tt=null}}function Is(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Rm(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),vf(),Lt=e,tt=a=hr(e.current,null),ht=n,Ct=0,fi=null,$r=!1,Ts=Tt(e,n),gf=!1,Os=Ai=mf=Ha=ea=$t=0,ni=zl=null,xf=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var p=31-yt(c),E=1<<p;n|=e[p],c&=~E}return Ar=n,Mo(),a}function Uh(e,n){Je=null,re.H=Jo,n===Cl||n===Ho?(n=t1(),Ct=3):n===J0?(n=t1(),Ct=4):Ct=n===nh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,fi=n,tt===null&&($t=1,iu(e,wi(n,e.current)))}function Fh(){var e=re.H;return re.H=Jo,e===null?Jo:e}function jh(){var e=re.A;return re.A=um,e}function bf(){$t=4,$r||(ht&4194048)!==ht&&bi.current!==null||(Ts=!0),(ea&134217727)===0&&(Ha&134217727)===0||Lt===null||ia(Lt,ht,Ai,!1)}function Af(e,n,a){var c=At;At|=2;var p=Fh(),E=jh();(Lt!==e||ht!==n)&&(cu=null,Is(e,n)),n=!1;var T=$t;e:do try{if(Ct!==0&&tt!==null){var D=tt,k=fi;switch(Ct){case 8:vf(),T=6;break e;case 3:case 2:case 9:case 6:bi.current===null&&(n=!0);var K=Ct;if(Ct=0,fi=null,Ds(e,D,k,K),a&&Ts){T=0;break e}break;default:K=Ct,Ct=0,fi=null,Ds(e,D,k,K)}}hm(),T=$t;break}catch(oe){Uh(e,oe)}while(!0);return n&&e.shellSuspendCounter++,mr=ka=null,At=c,re.H=p,re.A=E,tt===null&&(Lt=null,ht=0,Mo()),T}function hm(){for(;tt!==null;)zh(tt)}function dm(e,n){var a=At;At|=2;var c=Fh(),p=jh();Lt!==e||ht!==n?(cu=null,uu=_t()+500,Is(e,n)):Ts=Tt(e,n);e:do try{if(Ct!==0&&tt!==null){n=tt;var E=fi;t:switch(Ct){case 1:Ct=0,fi=null,Ds(e,n,E,1);break;case 2:case 9:if($0(E)){Ct=0,fi=null,Hh(n);break}n=function(){Ct!==2&&Ct!==9||Lt!==e||(Ct=7),tr(e)},E.then(n,n);break e;case 3:Ct=7;break e;case 4:Ct=5;break e;case 7:$0(E)?(Ct=0,fi=null,Hh(n)):(Ct=0,fi=null,Ds(e,n,E,7));break;case 5:var T=null;switch(tt.tag){case 26:T=tt.memoizedState;case 5:case 27:var D=tt;if(!T||Ad(T)){Ct=0,fi=null;var k=D.sibling;if(k!==null)tt=k;else{var K=D.return;K!==null?(tt=K,hu(K)):tt=null}break t}}Ct=0,fi=null,Ds(e,n,E,5);break;case 6:Ct=0,fi=null,Ds(e,n,E,6);break;case 8:vf(),$t=6;break e;default:throw Error(d(462))}}gm();break}catch(oe){Uh(e,oe)}while(!0);return mr=ka=null,re.H=c,re.A=p,At=a,tt!==null?0:(Lt=null,ht=0,Mo(),$t)}function gm(){for(;tt!==null&&!mi();)zh(tt)}function zh(e){var n=gh(e.alternate,e,Ar);e.memoizedProps=e.pendingProps,n===null?hu(e):tt=n}function Hh(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=oh(a,n,n.pendingProps,n.type,void 0,ht);break;case 11:n=oh(a,n,n.pendingProps,n.type.render,n.ref,ht);break;case 5:Pc(n);default:xh(a,n),n=tt=G0(n,Ar),n=gh(a,n,Ar)}e.memoizedProps=e.pendingProps,n===null?hu(e):tt=n}function Ds(e,n,a,c){mr=ka=null,Pc(n),As=null,Ml=0;var p=n.return;try{if(im(e,p,n,a,ht)){$t=1,iu(e,wi(a,e.current)),tt=null;return}}catch(E){if(p!==null)throw tt=p,E;$t=1,iu(e,wi(a,e.current)),tt=null;return}n.flags&32768?(xt||c===1?e=!0:Ts||(ht&536870912)!==0?e=!1:($r=e=!0,(c===2||c===9||c===3||c===6)&&(c=bi.current,c!==null&&c.tag===13&&(c.flags|=16384))),Gh(n,e)):hu(n)}function hu(e){var n=e;do{if((n.flags&32768)!==0){Gh(n,$r);return}e=n.return;var a=am(n.alternate,n,Ar);if(a!==null){tt=a;return}if(n=n.sibling,n!==null){tt=n;return}tt=n=e}while(n!==null);$t===0&&($t=5)}function Gh(e,n){do{var a=sm(e.alternate,e);if(a!==null){a.flags&=32767,tt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){tt=e;return}tt=e=a}while(e!==null);$t=6,tt=null}function Vh(e,n,a,c,p,E,T,D,k){e.cancelPendingCommit=null;do du();while(kn!==0);if((At&6)!==0)throw Error(d(327));if(n!==null){if(n===e.current)throw Error(d(177));if(E=n.lanes|n.childLanes,E|=hc,bo(e,a,E,T,D,k),e===Lt&&(tt=Lt=null,ht=0),Rs=n,na=e,Ns=a,wf=E,yf=p,Bh=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,wm(Oe,function(){return Zh(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=re.T,re.T=null,p=ue.p,ue.p=2,T=At,At|=4;try{lm(e,n,a)}finally{At=T,ue.p=p,re.T=c}}kn=1,Xh(),qh(),Yh()}}function Xh(){if(kn===1){kn=0;var e=na,n=Rs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=re.T,re.T=null;var c=ue.p;ue.p=2;var p=At;At|=4;try{Th(n,e);var E=Lf,T=v(e.containerInfo),D=E.focusedElem,k=E.selectionRange;if(T!==D&&D&&D.ownerDocument&&w(D.ownerDocument.documentElement,D)){if(k!==null&&S(D)){var K=k.start,oe=k.end;if(oe===void 0&&(oe=K),"selectionStart"in D)D.selectionStart=K,D.selectionEnd=Math.min(oe,D.value.length);else{var he=D.ownerDocument||document,$=he&&he.defaultView||window;if($.getSelection){var ne=$.getSelection(),je=D.textContent.length,Ue=Math.min(k.start,je),Nt=k.end===void 0?Ue:Math.min(k.end,je);!ne.extend&&Ue>Nt&&(T=Nt,Nt=Ue,Ue=T);var V=g(D,Ue),H=g(D,Nt);if(V&&H&&(ne.rangeCount!==1||ne.anchorNode!==V.node||ne.anchorOffset!==V.offset||ne.focusNode!==H.node||ne.focusOffset!==H.offset)){var Z=he.createRange();Z.setStart(V.node,V.offset),ne.removeAllRanges(),Ue>Nt?(ne.addRange(Z),ne.extend(H.node,H.offset)):(Z.setEnd(H.node,H.offset),ne.addRange(Z))}}}}for(he=[],ne=D;ne=ne.parentNode;)ne.nodeType===1&&he.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<he.length;D++){var fe=he[D];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}_u=!!Bf,Lf=Bf=null}finally{At=p,ue.p=c,re.T=a}}e.current=n,kn=2}}function qh(){if(kn===2){kn=0;var e=na,n=Rs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=re.T,re.T=null;var c=ue.p;ue.p=2;var p=At;At|=4;try{Ah(e,n.alternate,n)}finally{At=p,ue.p=c,re.T=a}}kn=3}}function Yh(){if(kn===4||kn===3){kn=0,pa();var e=na,n=Rs,a=Ns,c=Bh;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?kn=5:(kn=0,Rs=na=null,Wh(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(ta=null),un(a),n=n.stateNode,Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(Dn,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=re.T,p=ue.p,ue.p=2,re.T=null;try{for(var E=e.onRecoverableError,T=0;T<c.length;T++){var D=c[T];E(D.value,{componentStack:D.stack})}}finally{re.T=n,ue.p=p}}(Ns&3)!==0&&du(),tr(e),p=e.pendingLanes,(a&4194090)!==0&&(p&42)!==0?e===Ef?Hl++:(Hl=0,Ef=e):Hl=0,Gl(0)}}function Wh(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,bl(n)))}function du(e){return Xh(),qh(),Yh(),Zh()}function Zh(){if(kn!==5)return!1;var e=na,n=wf;wf=0;var a=un(Ns),c=re.T,p=ue.p;try{ue.p=32>a?32:a,re.T=null,a=yf,yf=null;var E=na,T=Ns;if(kn=0,Rs=na=null,Ns=0,(At&6)!==0)throw Error(d(331));var D=At;if(At|=4,Dh(E.current),Rh(E,E.current,T,a),At=D,Gl(0,!1),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(Dn,E)}catch{}return!0}finally{ue.p=p,re.T=c,Wh(e,n)}}function Kh(e,n,a){n=wi(a,n),n=Qc(e.stateNode,n,2),e=qr(e,n,2),e!==null&&(ri(e,2),tr(e))}function Mt(e,n,a){if(e.tag===3)Kh(e,e,a);else for(;n!==null;){if(n.tag===3){Kh(n,e,a);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ta===null||!ta.has(c))){e=wi(a,e),a=eh(2),c=qr(n,a,2),c!==null&&(th(a,c,n,e),ri(c,2),tr(c));break}}n=n.return}}function Cf(e,n,a){var c=e.pingCache;if(c===null){c=e.pingCache=new cm;var p=new Set;c.set(n,p)}else p=c.get(n),p===void 0&&(p=new Set,c.set(n,p));p.has(a)||(gf=!0,p.add(a),e=mm.bind(null,e,n,a),n.then(e,e))}function mm(e,n,a){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Lt===e&&(ht&a)===a&&($t===4||$t===3&&(ht&62914560)===ht&&300>_t()-pf?(At&2)===0&&Is(e,0):mf|=a,Os===ht&&(Os=0)),tr(e)}function Qh(e,n){n===0&&(n=ll()),e=ds(e,n),e!==null&&(ri(e,n),tr(e))}function xm(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Qh(e,a)}function pm(e,n){var a=0;switch(e.tag){case 13:var c=e.stateNode,p=e.memoizedState;p!==null&&(a=p.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(d(314))}c!==null&&c.delete(n),Qh(e,a)}function wm(e,n){return ot(e,n)}var gu=null,Ms=null,_f=!1,mu=!1,Sf=!1,Ga=0;function tr(e){e!==Ms&&e.next===null&&(Ms===null?gu=Ms=e:Ms=Ms.next=e),mu=!0,_f||(_f=!0,Em())}function Gl(e,n){if(!Sf&&mu){Sf=!0;do for(var a=!1,c=gu;c!==null;){if(e!==0){var p=c.pendingLanes;if(p===0)var E=0;else{var T=c.suspendedLanes,D=c.pingedLanes;E=(1<<31-yt(42|e)+1)-1,E&=p&~(T&~D),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(a=!0,td(c,E))}else E=ht,E=dt(c,c===Lt?E:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(E&3)===0||Tt(c,E)||(a=!0,td(c,E));c=c.next}while(a);Sf=!1}}function ym(){Jh()}function Jh(){mu=_f=!1;var e=0;Ga!==0&&(Om()&&(e=Ga),Ga=0);for(var n=_t(),a=null,c=gu;c!==null;){var p=c.next,E=$h(c,n);E===0?(c.next=null,a===null?gu=p:a.next=p,p===null&&(Ms=a)):(a=c,(e!==0||(E&3)!==0)&&(mu=!0)),c=p}Gl(e)}function $h(e,n){for(var a=e.suspendedLanes,c=e.pingedLanes,p=e.expirationTimes,E=e.pendingLanes&-62914561;0<E;){var T=31-yt(E),D=1<<T,k=p[T];k===-1?((D&a)===0||(D&c)!==0)&&(p[T]=ya(D,n)):k<=n&&(e.expiredLanes|=D),E&=~D}if(n=Lt,a=ht,a=dt(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,a===0||e===n&&(Ct===2||Ct===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Pi(c),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Tt(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(c!==null&&Pi(c),un(a)){case 2:case 8:a=wa;break;case 32:a=Oe;break;case 268435456:a=al;break;default:a=Oe}return c=ed.bind(null,e),a=ot(a,c),e.callbackPriority=n,e.callbackNode=a,n}return c!==null&&c!==null&&Pi(c),e.callbackPriority=2,e.callbackNode=null,2}function ed(e,n){if(kn!==0&&kn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(du()&&e.callbackNode!==a)return null;var c=ht;return c=dt(e,e===Lt?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(kh(e,c,n),$h(e,_t()),e.callbackNode!=null&&e.callbackNode===a?ed.bind(null,e):null)}function td(e,n){if(du())return null;kh(e,n,!0)}function Em(){Nm(function(){(At&6)!==0?ot(st,ym):Jh()})}function Tf(){return Ga===0&&(Ga=Ja()),Ga}function nd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:rs(""+e)}function id(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function vm(e,n,a,c,p){if(n==="submit"&&a&&a.stateNode===p){var E=nd((p[Zt]||null).action),T=c.submitter;T&&(n=(n=T[Zt]||null)?nd(n.formAction):T.getAttribute("formAction"),n!==null&&(E=n,T=null));var D=new Yi("action","action",null,c,p);e.push({event:D,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ga!==0){var k=T?id(p,T):new FormData(p);qc(a,{pending:!0,data:k,method:p.method,action:E},null,k)}}else typeof E=="function"&&(D.preventDefault(),k=T?id(p,T):new FormData(p),qc(a,{pending:!0,data:k,method:p.method,action:E},E,k))},currentTarget:p}]})}}for(var Of=0;Of<Ki.length;Of++){var Rf=Ki[Of],bm=Rf.toLowerCase(),Am=Rf[0].toUpperCase()+Rf.slice(1);li(bm,"on"+Am)}li(ze,"onAnimationEnd"),li(Bn,"onAnimationIteration"),li($n,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(Hn,"onTransitionRun"),li(bt,"onTransitionStart"),li(yn,"onTransitionCancel"),li(Gn,"onTransitionEnd"),Kt("onMouseEnter",["mouseout","mouseover"]),Kt("onMouseLeave",["mouseout","mouseover"]),Kt("onPointerEnter",["pointerout","pointerover"]),Kt("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cm=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function rd(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var c=e[a],p=c.event;c=c.listeners;e:{var E=void 0;if(n)for(var T=c.length-1;0<=T;T--){var D=c[T],k=D.instance,K=D.currentTarget;if(D=D.listener,k!==E&&p.isPropagationStopped())break e;E=D,p.currentTarget=K;try{E(p)}catch(oe){nu(oe)}p.currentTarget=null,E=k}else for(T=0;T<c.length;T++){if(D=c[T],k=D.instance,K=D.currentTarget,D=D.listener,k!==E&&p.isPropagationStopped())break e;E=D,p.currentTarget=K;try{E(p)}catch(oe){nu(oe)}p.currentTarget=null,E=k}}}}function nt(e,n){var a=n[Cn];a===void 0&&(a=n[Cn]=new Set);var c=e+"__bubble";a.has(c)||(ad(n,e,2,!1),a.add(c))}function Nf(e,n,a){var c=0;n&&(c|=4),ad(a,e,c,n)}var xu="_reactListening"+Math.random().toString(36).slice(2);function If(e){if(!e[xu]){e[xu]=!0,Ao.forEach(function(a){a!=="selectionchange"&&(Cm.has(a)||Nf(a,!1,e),Nf(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[xu]||(n[xu]=!0,Nf("selectionchange",!1,n))}}function ad(e,n,a,c){switch(Rd(n)){case 2:var p=Qm;break;case 8:p=Jm;break;default:p=Xf}a=p.bind(null,n,a,e),p=void 0,!He||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),c?p!==void 0?e.addEventListener(n,a,{capture:!0,passive:p}):e.addEventListener(n,a,!0):p!==void 0?e.addEventListener(n,a,{passive:p}):e.addEventListener(n,a,!1)}function Df(e,n,a,c,p){var E=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var D=c.stateNode.containerInfo;if(D===p)break;if(T===4)for(T=c.return;T!==null;){var k=T.tag;if((k===3||k===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;D!==null;){if(T=nn(D),T===null)return;if(k=T.tag,k===5||k===6||k===26||k===27){c=E=T;continue e}D=D.parentNode}}c=c.return}Oi(function(){var K=E,oe=Dr(a),he=[];e:{var $=fr.get(e);if($!==void 0){var ne=Yi,je=e;switch(e){case"keypress":if(as(a)===0)break e;case"keydown":case"keyup":ne=hl;break;case"focusin":je="focus",ne=kr;break;case"focusout":je="blur",ne=kr;break;case"beforeblur":case"afterblur":ne=kr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=To;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=wt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=vt;break;case ze:case Bn:case $n:ne=rc;break;case Gn:ne=oc;break;case"scroll":case"scrollend":ne=jn;break;case"wheel":ne=ur;break;case"copy":case"cut":case"paste":ne=Ye;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Ta;break;case"toggle":case"beforetoggle":ne=uc}var Ue=(n&4)!==0,Nt=!Ue&&(e==="scroll"||e==="scrollend"),V=Ue?$!==null?$+"Capture":null:$;Ue=[];for(var H=K,Z;H!==null;){var fe=H;if(Z=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||Z===null||V===null||(fe=ke(H,V),fe!=null&&Ue.push(Xl(H,fe,Z))),Nt)break;H=H.return}0<Ue.length&&($=new ne($,je,null,a,oe),he.push({event:$,listeners:Ue}))}}if((n&7)===0){e:{if($=e==="mouseover"||e==="pointerover",ne=e==="mouseout"||e==="pointerout",$&&a!==ba&&(je=a.relatedTarget||a.fromElement)&&(nn(je)||je[Ui]))break e;if((ne||$)&&($=oe.window===oe?oe:($=oe.ownerDocument)?$.defaultView||$.parentWindow:window,ne?(je=a.relatedTarget||a.toElement,ne=K,je=je?nn(je):null,je!==null&&(Nt=x(je),Ue=je.tag,je!==Nt||Ue!==5&&Ue!==27&&Ue!==6)&&(je=null)):(ne=null,je=K),ne!==je)){if(Ue=To,fe="onMouseLeave",V="onMouseEnter",H="mouse",(e==="pointerout"||e==="pointerover")&&(Ue=Ta,fe="onPointerLeave",V="onPointerEnter",H="pointer"),Nt=ne==null?$:Fi(ne),Z=je==null?$:Fi(je),$=new Ue(fe,H+"leave",ne,a,oe),$.target=Nt,$.relatedTarget=Z,fe=null,nn(oe)===K&&(Ue=new Ue(V,H+"enter",je,a,oe),Ue.target=Z,Ue.relatedTarget=Nt,fe=Ue),Nt=fe,ne&&je)t:{for(Ue=ne,V=je,H=0,Z=Ue;Z;Z=Bs(Z))H++;for(Z=0,fe=V;fe;fe=Bs(fe))Z++;for(;0<H-Z;)Ue=Bs(Ue),H--;for(;0<Z-H;)V=Bs(V),Z--;for(;H--;){if(Ue===V||V!==null&&Ue===V.alternate)break t;Ue=Bs(Ue),V=Bs(V)}Ue=null}else Ue=null;ne!==null&&sd(he,$,ne,Ue,!1),je!==null&&Nt!==null&&sd(he,Nt,je,Ue,!0)}}e:{if($=K?Fi(K):window,ne=$.nodeName&&$.nodeName.toLowerCase(),ne==="select"||ne==="input"&&$.type==="file")var Ne=Io;else if(Na($))if(xl)Ne=i;else{Ne=R;var $e=fs}else ne=$.nodeName,!ne||ne.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?K&&Me(K.elementType)&&(Ne=Io):Ne=t;if(Ne&&(Ne=Ne(e,K))){Yn(he,Ne,a,oe);break e}$e&&$e(e,$,K),e==="focusout"&&K&&$.type==="number"&&K.memoizedProps.value!=null&&W($,"number",$.value)}switch($e=K?Fi(K):window,e){case"focusin":(Na($e)||$e.contentEditable==="true")&&(I=$e,L=K,U=null);break;case"focusout":U=L=I=null;break;case"mousedown":j=!0;break;case"contextmenu":case"mouseup":case"dragend":j=!1,q(he,a,oe);break;case"selectionchange":if(N)break;case"keydown":case"keyup":q(he,a,oe)}var Be;if(Oa)e:{switch(e){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Fr?cr(e,a)&&(Fe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Fe="onCompositionStart");Fe&&(gl&&a.locale!=="ko"&&(Fr||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Fr&&(Be=Vi()):(Gi=oe,Aa="value"in Gi?Gi.value:Gi.textContent,Fr=!0)),$e=pu(K,Fe),0<$e.length&&(Fe=new _a(Fe,e,null,a,oe),he.push({event:Fe,listeners:$e}),Be?Fe.data=Be:(Be=us(a),Be!==null&&(Fe.data=Be)))),(Be=dl?Ra(e,a):cc(e,a))&&(Fe=pu(K,"onBeforeInput"),0<Fe.length&&($e=new _a("onBeforeInput","beforeinput",null,a,oe),he.push({event:$e,listeners:Fe}),$e.data=Be)),vm(he,e,K,a,oe)}rd(he,n)})}function Xl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function pu(e,n){for(var a=n+"Capture",c=[];e!==null;){var p=e,E=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||E===null||(p=ke(e,a),p!=null&&c.unshift(Xl(e,p,E)),p=ke(e,n),p!=null&&c.push(Xl(e,p,E))),e.tag===3)return c;e=e.return}return[]}function Bs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function sd(e,n,a,c,p){for(var E=n._reactName,T=[];a!==null&&a!==c;){var D=a,k=D.alternate,K=D.stateNode;if(D=D.tag,k!==null&&k===c)break;D!==5&&D!==26&&D!==27||K===null||(k=K,p?(K=ke(a,E),K!=null&&T.unshift(Xl(a,K,k))):p||(K=ke(a,E),K!=null&&T.push(Xl(a,K,k)))),a=a.return}T.length!==0&&e.push({event:n,listeners:T})}var _m=/\r\n?/g,Sm=/\u0000|\uFFFD/g;function ld(e){return(typeof e=="string"?e:""+e).replace(_m,`
`).replace(Sm,"")}function od(e,n){return n=ld(n),ld(e)===n}function wu(){}function Rt(e,n,a,c,p,E){switch(a){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||pn(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&pn(e,""+c);break;case"className":es(e,"class",c);break;case"tabIndex":es(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":es(e,a,c);break;case"style":qn(e,c,E);break;case"data":if(n!=="object"){es(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=rs(""+c),e.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(a==="formAction"?(n!=="input"&&Rt(e,n,"name",p.name,p,null),Rt(e,n,"formEncType",p.formEncType,p,null),Rt(e,n,"formMethod",p.formMethod,p,null),Rt(e,n,"formTarget",p.formTarget,p,null)):(Rt(e,n,"encType",p.encType,p,null),Rt(e,n,"method",p.method,p,null),Rt(e,n,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=rs(""+c),e.setAttribute(a,c);break;case"onClick":c!=null&&(e.onclick=wu);break;case"onScroll":c!=null&&nt("scroll",e);break;case"onScrollEnd":c!=null&&nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(d(61));if(a=c.__html,a!=null){if(p.children!=null)throw Error(d(60));e.innerHTML=a}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}a=rs(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""+c):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":c===!0?e.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,c):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(a,c):e.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(a):e.setAttribute(a,c);break;case"popover":nt("beforetoggle",e),nt("toggle",e),de(e,"popover",c);break;case"xlinkActuate":gt(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":gt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":gt(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":gt(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":gt(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":gt(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":gt(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":gt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":gt(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":de(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=jt.get(a)||a,de(e,a,c))}}function Mf(e,n,a,c,p,E){switch(a){case"style":qn(e,c,E);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(d(61));if(a=c.__html,a!=null){if(p.children!=null)throw Error(d(60));e.innerHTML=a}}break;case"children":typeof c=="string"?pn(e,c):(typeof c=="number"||typeof c=="bigint")&&pn(e,""+c);break;case"onScroll":c!=null&&nt("scroll",e);break;case"onScrollEnd":c!=null&&nt("scrollend",e);break;case"onClick":c!=null&&(e.onclick=wu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),n=a.slice(2,p?a.length-7:void 0),E=e[Zt]||null,E=E!=null?E[a]:null,typeof E=="function"&&e.removeEventListener(n,E,p),typeof c=="function")){typeof E!="function"&&E!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,c,p);break e}a in e?e[a]=c:c===!0?e.setAttribute(a,""):de(e,a,c)}}}function Pn(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",e),nt("load",e);var c=!1,p=!1,E;for(E in a)if(a.hasOwnProperty(E)){var T=a[E];if(T!=null)switch(E){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,n));default:Rt(e,n,E,T,a,null)}}p&&Rt(e,n,"srcSet",a.srcSet,a,null),c&&Rt(e,n,"src",a.src,a,null);return;case"input":nt("invalid",e);var D=E=T=p=null,k=null,K=null;for(c in a)if(a.hasOwnProperty(c)){var oe=a[c];if(oe!=null)switch(c){case"name":p=oe;break;case"type":T=oe;break;case"checked":k=oe;break;case"defaultChecked":K=oe;break;case"value":E=oe;break;case"defaultValue":D=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(d(137,n));break;default:Rt(e,n,c,oe,a,null)}}xn(e,E,D,k,K,T,p,!1),ns(e);return;case"select":nt("invalid",e),c=T=E=null;for(p in a)if(a.hasOwnProperty(p)&&(D=a[p],D!=null))switch(p){case"value":E=D;break;case"defaultValue":T=D;break;case"multiple":c=D;default:Rt(e,n,p,D,a,null)}n=E,a=T,e.multiple=!!c,n!=null?M(e,!!c,n,!1):a!=null&&M(e,!!c,a,!0);return;case"textarea":nt("invalid",e),E=p=c=null;for(T in a)if(a.hasOwnProperty(T)&&(D=a[T],D!=null))switch(T){case"value":c=D;break;case"defaultValue":p=D;break;case"children":E=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(d(91));break;default:Rt(e,n,T,D,a,null)}rn(e,c,p,E),ns(e);return;case"option":for(k in a)if(a.hasOwnProperty(k)&&(c=a[k],c!=null))switch(k){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Rt(e,n,k,c,a,null)}return;case"dialog":nt("beforetoggle",e),nt("toggle",e),nt("cancel",e),nt("close",e);break;case"iframe":case"object":nt("load",e);break;case"video":case"audio":for(c=0;c<Vl.length;c++)nt(Vl[c],e);break;case"image":nt("error",e),nt("load",e);break;case"details":nt("toggle",e);break;case"embed":case"source":case"link":nt("error",e),nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in a)if(a.hasOwnProperty(K)&&(c=a[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,n));default:Rt(e,n,K,c,a,null)}return;default:if(Me(n)){for(oe in a)a.hasOwnProperty(oe)&&(c=a[oe],c!==void 0&&Mf(e,n,oe,c,a,void 0));return}}for(D in a)a.hasOwnProperty(D)&&(c=a[D],c!=null&&Rt(e,n,D,c,a,null))}function Tm(e,n,a,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,E=null,T=null,D=null,k=null,K=null,oe=null;for(ne in a){var he=a[ne];if(a.hasOwnProperty(ne)&&he!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":k=he;default:c.hasOwnProperty(ne)||Rt(e,n,ne,null,c,he)}}for(var $ in c){var ne=c[$];if(he=a[$],c.hasOwnProperty($)&&(ne!=null||he!=null))switch($){case"type":E=ne;break;case"name":p=ne;break;case"checked":K=ne;break;case"defaultChecked":oe=ne;break;case"value":T=ne;break;case"defaultValue":D=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(d(137,n));break;default:ne!==he&&Rt(e,n,$,ne,c,he)}}pt(e,T,D,k,K,oe,E,p);return;case"select":ne=T=D=$=null;for(E in a)if(k=a[E],a.hasOwnProperty(E)&&k!=null)switch(E){case"value":break;case"multiple":ne=k;default:c.hasOwnProperty(E)||Rt(e,n,E,null,c,k)}for(p in c)if(E=c[p],k=a[p],c.hasOwnProperty(p)&&(E!=null||k!=null))switch(p){case"value":$=E;break;case"defaultValue":D=E;break;case"multiple":T=E;default:E!==k&&Rt(e,n,p,E,c,k)}n=D,a=T,c=ne,$!=null?M(e,!!a,$,!1):!!c!=!!a&&(n!=null?M(e,!!a,n,!0):M(e,!!a,a?[]:"",!1));return;case"textarea":ne=$=null;for(D in a)if(p=a[D],a.hasOwnProperty(D)&&p!=null&&!c.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Rt(e,n,D,null,c,p)}for(T in c)if(p=c[T],E=a[T],c.hasOwnProperty(T)&&(p!=null||E!=null))switch(T){case"value":$=p;break;case"defaultValue":ne=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(d(91));break;default:p!==E&&Rt(e,n,T,p,c,E)}Ie(e,$,ne);return;case"option":for(var je in a)if($=a[je],a.hasOwnProperty(je)&&$!=null&&!c.hasOwnProperty(je))switch(je){case"selected":e.selected=!1;break;default:Rt(e,n,je,null,c,$)}for(k in c)if($=c[k],ne=a[k],c.hasOwnProperty(k)&&$!==ne&&($!=null||ne!=null))switch(k){case"selected":e.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Rt(e,n,k,$,c,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in a)$=a[Ue],a.hasOwnProperty(Ue)&&$!=null&&!c.hasOwnProperty(Ue)&&Rt(e,n,Ue,null,c,$);for(K in c)if($=c[K],ne=a[K],c.hasOwnProperty(K)&&$!==ne&&($!=null||ne!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(d(137,n));break;default:Rt(e,n,K,$,c,ne)}return;default:if(Me(n)){for(var Nt in a)$=a[Nt],a.hasOwnProperty(Nt)&&$!==void 0&&!c.hasOwnProperty(Nt)&&Mf(e,n,Nt,void 0,c,$);for(oe in c)$=c[oe],ne=a[oe],!c.hasOwnProperty(oe)||$===ne||$===void 0&&ne===void 0||Mf(e,n,oe,$,c,ne);return}}for(var V in a)$=a[V],a.hasOwnProperty(V)&&$!=null&&!c.hasOwnProperty(V)&&Rt(e,n,V,null,c,$);for(he in c)$=c[he],ne=a[he],!c.hasOwnProperty(he)||$===ne||$==null&&ne==null||Rt(e,n,he,$,c,ne)}var Bf=null,Lf=null;function yu(e){return e.nodeType===9?e:e.ownerDocument}function ud(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cd(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function kf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Pf=null;function Om(){var e=window.event;return e&&e.type==="popstate"?e===Pf?!1:(Pf=e,!0):(Pf=null,!1)}var fd=typeof setTimeout=="function"?setTimeout:void 0,Rm=typeof clearTimeout=="function"?clearTimeout:void 0,hd=typeof Promise=="function"?Promise:void 0,Nm=typeof queueMicrotask=="function"?queueMicrotask:typeof hd<"u"?function(e){return hd.resolve(null).then(e).catch(Im)}:fd;function Im(e){setTimeout(function(){throw e})}function ra(e){return e==="head"}function dd(e,n){var a=n,c=0,p=0;do{var E=a.nextSibling;if(e.removeChild(a),E&&E.nodeType===8)if(a=E.data,a==="/$"){if(0<c&&8>c){a=c;var T=e.ownerDocument;if(a&1&&ql(T.documentElement),a&2&&ql(T.body),a&4)for(a=T.head,ql(a),T=a.firstChild;T;){var D=T.nextSibling,k=T.nodeName;T[xi]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=D}}if(p===0){e.removeChild(E),eo(n);return}p--}else a==="$"||a==="$?"||a==="$!"?p++:c=a.charCodeAt(0)-48;else c=0;a=E}while(a);eo(n)}function Uf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Uf(a),va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Dm(e,n,a,c){for(;e.nodeType===1;){var p=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[xi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(E=e.getAttribute("rel"),E==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(E!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(E=e.getAttribute("src"),(E!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&E&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var E=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===E)return e}else return e;if(e=Di(e.nextSibling),e===null)break}return null}function Mm(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Di(e.nextSibling),e===null))return null;return e}function Ff(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Bm(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var c=function(){n(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Di(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var jf=null;function gd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function md(e,n,a){switch(n=yu(a),e){case"html":if(e=n.documentElement,!e)throw Error(d(452));return e;case"head":if(e=n.head,!e)throw Error(d(453));return e;case"body":if(e=n.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function ql(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);va(e)}var Ci=new Map,xd=new Set;function Eu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Cr=ue.d;ue.d={f:Lm,r:km,D:Pm,C:Um,L:Fm,m:jm,X:Hm,S:zm,M:Gm};function Lm(){var e=Cr.f(),n=fu();return e||n}function km(e){var n=ai(e);n!==null&&n.tag===5&&n.type==="form"?k1(n):Cr.r(e)}var Ls=typeof document>"u"?null:document;function pd(e,n,a){var c=Ls;if(c&&typeof n=="string"&&n){var p=mn(n);p='link[rel="'+e+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),xd.has(p)||(xd.add(p),e={rel:e,crossOrigin:a,href:n},c.querySelector(p)===null&&(n=c.createElement("link"),Pn(n,"link",e),Et(n),c.head.appendChild(n)))}}function Pm(e){Cr.D(e),pd("dns-prefetch",e,null)}function Um(e,n){Cr.C(e,n),pd("preconnect",e,n)}function Fm(e,n,a){Cr.L(e,n,a);var c=Ls;if(c&&e&&n){var p='link[rel="preload"][as="'+mn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+mn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+mn(a.imageSizes)+'"]')):p+='[href="'+mn(e)+'"]';var E=p;switch(n){case"style":E=ks(e);break;case"script":E=Ps(e)}Ci.has(E)||(e=C({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Ci.set(E,e),c.querySelector(p)!==null||n==="style"&&c.querySelector(Yl(E))||n==="script"&&c.querySelector(Wl(E))||(n=c.createElement("link"),Pn(n,"link",e),Et(n),c.head.appendChild(n)))}}function jm(e,n){Cr.m(e,n);var a=Ls;if(a&&e){var c=n&&typeof n.as=="string"?n.as:"script",p='link[rel="modulepreload"][as="'+mn(c)+'"][href="'+mn(e)+'"]',E=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Ps(e)}if(!Ci.has(E)&&(e=C({rel:"modulepreload",href:e},n),Ci.set(E,e),a.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Wl(E)))return}c=a.createElement("link"),Pn(c,"link",e),Et(c),a.head.appendChild(c)}}}function zm(e,n,a){Cr.S(e,n,a);var c=Ls;if(c&&e){var p=Si(c).hoistableStyles,E=ks(e);n=n||"default";var T=p.get(E);if(!T){var D={loading:0,preload:null};if(T=c.querySelector(Yl(E)))D.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Ci.get(E))&&zf(e,a);var k=T=c.createElement("link");Et(k),Pn(k,"link",e),k._p=new Promise(function(K,oe){k.onload=K,k.onerror=oe}),k.addEventListener("load",function(){D.loading|=1}),k.addEventListener("error",function(){D.loading|=2}),D.loading|=4,vu(T,n,c)}T={type:"stylesheet",instance:T,count:1,state:D},p.set(E,T)}}}function Hm(e,n){Cr.X(e,n);var a=Ls;if(a&&e){var c=Si(a).hoistableScripts,p=Ps(e),E=c.get(p);E||(E=a.querySelector(Wl(p)),E||(e=C({src:e,async:!0},n),(n=Ci.get(p))&&Hf(e,n),E=a.createElement("script"),Et(E),Pn(E,"link",e),a.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},c.set(p,E))}}function Gm(e,n){Cr.M(e,n);var a=Ls;if(a&&e){var c=Si(a).hoistableScripts,p=Ps(e),E=c.get(p);E||(E=a.querySelector(Wl(p)),E||(e=C({src:e,async:!0,type:"module"},n),(n=Ci.get(p))&&Hf(e,n),E=a.createElement("script"),Et(E),Pn(E,"link",e),a.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},c.set(p,E))}}function wd(e,n,a,c){var p=(p=ye.current)?Eu(p):null;if(!p)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ks(a.href),a=Si(p).hoistableStyles,c=a.get(n),c||(c={type:"style",instance:null,count:0,state:null},a.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ks(a.href);var E=Si(p).hoistableStyles,T=E.get(e);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(e,T),(E=p.querySelector(Yl(e)))&&!E._p&&(T.instance=E,T.state.loading=5),Ci.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ci.set(e,a),E||Vm(p,e,a,T.state))),n&&c===null)throw Error(d(528,""));return T}if(n&&c!==null)throw Error(d(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ps(a),a=Si(p).hoistableScripts,c=a.get(n),c||(c={type:"script",instance:null,count:0,state:null},a.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function ks(e){return'href="'+mn(e)+'"'}function Yl(e){return'link[rel="stylesheet"]['+e+"]"}function yd(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function Vm(e,n,a,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),Pn(n,"link",a),Et(n),e.head.appendChild(n))}function Ps(e){return'[src="'+mn(e)+'"]'}function Wl(e){return"script[async]"+e}function Ed(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+mn(a.href)+'"]');if(c)return n.instance=c,Et(c),c;var p=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Et(c),Pn(c,"style",p),vu(c,a.precedence,e),n.instance=c;case"stylesheet":p=ks(a.href);var E=e.querySelector(Yl(p));if(E)return n.state.loading|=4,n.instance=E,Et(E),E;c=yd(a),(p=Ci.get(p))&&zf(c,p),E=(e.ownerDocument||e).createElement("link"),Et(E);var T=E;return T._p=new Promise(function(D,k){T.onload=D,T.onerror=k}),Pn(E,"link",c),n.state.loading|=4,vu(E,a.precedence,e),n.instance=E;case"script":return E=Ps(a.src),(p=e.querySelector(Wl(E)))?(n.instance=p,Et(p),p):(c=a,(p=Ci.get(E))&&(c=C({},a),Hf(c,p)),e=e.ownerDocument||e,p=e.createElement("script"),Et(p),Pn(p,"link",c),e.head.appendChild(p),n.instance=p);case"void":return null;default:throw Error(d(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,vu(c,a.precedence,e));return n.instance}function vu(e,n,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,E=p,T=0;T<c.length;T++){var D=c[T];if(D.dataset.precedence===n)E=D;else if(E!==p)break}E?E.parentNode.insertBefore(e,E.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function zf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Hf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var bu=null;function vd(e,n,a){if(bu===null){var c=new Map,p=bu=new Map;p.set(a,c)}else p=bu,c=p.get(a),c||(c=new Map,p.set(a,c));if(c.has(e))return c;for(c.set(e,null),a=a.getElementsByTagName(e),p=0;p<a.length;p++){var E=a[p];if(!(E[xi]||E[An]||e==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var T=E.getAttribute(n)||"";T=e+T;var D=c.get(T);D?D.push(E):c.set(T,[E])}}return c}function bd(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function Xm(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ad(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Zl=null;function qm(){}function Ym(e,n,a){if(Zl===null)throw Error(d(475));var c=Zl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var p=ks(a.href),E=e.querySelector(Yl(p));if(E){e=E._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(c.count++,c=Au.bind(c),e.then(c,c)),n.state.loading|=4,n.instance=E,Et(E);return}E=e.ownerDocument||e,a=yd(a),(p=Ci.get(p))&&zf(a,p),E=E.createElement("link"),Et(E);var T=E;T._p=new Promise(function(D,k){T.onload=D,T.onerror=k}),Pn(E,"link",a),n.instance=E}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(c.count++,n=Au.bind(c),e.addEventListener("load",n),e.addEventListener("error",n))}}function Wm(){if(Zl===null)throw Error(d(475));var e=Zl;return e.stylesheets&&e.count===0&&Gf(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Gf(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Au(){if(this.count--,this.count===0){if(this.stylesheets)Gf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Cu=null;function Gf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Cu=new Map,n.forEach(Zm,e),Cu=null,Au.call(e))}function Zm(e,n){if(!(n.state.loading&4)){var a=Cu.get(e);if(a)var c=a.get(null);else{a=new Map,Cu.set(e,a);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<p.length;E++){var T=p[E];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),c=T)}c&&a.set(null,c)}p=n.instance,T=p.getAttribute("data-precedence"),E=a.get(T)||c,E===c&&a.set(null,p),a.set(T,p),this.count++,c=Au.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),E?E.parentNode.insertBefore(p,E.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),n.state.loading|=4}}var Kl={$$typeof:G,Provider:null,Consumer:null,_currentValue:De,_currentValue2:De,_threadCount:0};function Km(e,n,a,c,p,E,T,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ut(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ut(0),this.hiddenUpdates=ut(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=E,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Cd(e,n,a,c,p,E,T,D,k,K,oe,he){return e=new Km(e,n,a,T,D,k,K,he),n=1,E===!0&&(n|=24),E=oi(3,null,null,n),e.current=E,E.stateNode=e,n=Ac(),n.refCount++,e.pooledCache=n,n.refCount++,E.memoizedState={element:c,isDehydrated:a,cache:n},Tc(E),e}function _d(e){return e?(e=gs,e):gs}function Sd(e,n,a,c,p,E){p=_d(p),c.context===null?c.context=p:c.pendingContext=p,c=Xr(n),c.payload={element:a},E=E===void 0?null:E,E!==null&&(c.callback=E),a=qr(e,c,n),a!==null&&(di(a,e,n),Sl(a,e,n))}function Td(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Vf(e,n){Td(e,n),(e=e.alternate)&&Td(e,n)}function Od(e){if(e.tag===13){var n=ds(e,67108864);n!==null&&di(n,e,67108864),Vf(e,67108864)}}var _u=!0;function Qm(e,n,a,c){var p=re.T;re.T=null;var E=ue.p;try{ue.p=2,Xf(e,n,a,c)}finally{ue.p=E,re.T=p}}function Jm(e,n,a,c){var p=re.T;re.T=null;var E=ue.p;try{ue.p=8,Xf(e,n,a,c)}finally{ue.p=E,re.T=p}}function Xf(e,n,a,c){if(_u){var p=qf(c);if(p===null)Df(e,n,c,Su,a),Nd(e,c);else if(ex(p,e,n,a,c))c.stopPropagation();else if(Nd(e,c),n&4&&-1<$m.indexOf(e)){for(;p!==null;){var E=ai(p);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var T=It(E.pendingLanes);if(T!==0){var D=E;for(D.pendingLanes|=2,D.entangledLanes|=2;T;){var k=1<<31-yt(T);D.entanglements[1]|=k,T&=~k}tr(E),(At&6)===0&&(uu=_t()+500,Gl(0))}}break;case 13:D=ds(E,2),D!==null&&di(D,E,2),fu(),Vf(E,2)}if(E=qf(c),E===null&&Df(e,n,c,Su,a),E===p)break;p=E}p!==null&&c.stopPropagation()}else Df(e,n,c,null,a)}}function qf(e){return e=Dr(e),Yf(e)}var Su=null;function Yf(e){if(Su=null,e=nn(e),e!==null){var n=x(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=b(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Su=e,null}function Rd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(St()){case st:return 2;case wa:return 8;case Oe:case Ka:return 32;case al:return 268435456;default:return 32}default:return 32}}var Wf=!1,aa=null,sa=null,la=null,Ql=new Map,Jl=new Map,oa=[],$m="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nd(e,n){switch(e){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":Ql.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(n.pointerId)}}function $l(e,n,a,c,p,E){return e===null||e.nativeEvent!==E?(e={blockedOn:n,domEventName:a,eventSystemFlags:c,nativeEvent:E,targetContainers:[p]},n!==null&&(n=ai(n),n!==null&&Od(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),e)}function ex(e,n,a,c,p){switch(n){case"focusin":return aa=$l(aa,e,n,a,c,p),!0;case"dragenter":return sa=$l(sa,e,n,a,c,p),!0;case"mouseover":return la=$l(la,e,n,a,c,p),!0;case"pointerover":var E=p.pointerId;return Ql.set(E,$l(Ql.get(E)||null,e,n,a,c,p)),!0;case"gotpointercapture":return E=p.pointerId,Jl.set(E,$l(Jl.get(E)||null,e,n,a,c,p)),!0}return!1}function Id(e){var n=nn(e.target);if(n!==null){var a=x(n);if(a!==null){if(n=a.tag,n===13){if(n=b(a),n!==null){e.blockedOn=n,$a(e.priority,function(){if(a.tag===13){var c=hi();c=Ea(c);var p=ds(a,c);p!==null&&di(p,a,c),Vf(a,c)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=qf(e.nativeEvent);if(a===null){a=e.nativeEvent;var c=new a.constructor(a.type,a);ba=c,a.target.dispatchEvent(c),ba=null}else return n=ai(a),n!==null&&Od(n),e.blockedOn=a,!1;n.shift()}return!0}function Dd(e,n,a){Tu(e)&&a.delete(n)}function tx(){Wf=!1,aa!==null&&Tu(aa)&&(aa=null),sa!==null&&Tu(sa)&&(sa=null),la!==null&&Tu(la)&&(la=null),Ql.forEach(Dd),Jl.forEach(Dd)}function Ou(e,n){e.blockedOn===n&&(e.blockedOn=null,Wf||(Wf=!0,h.unstable_scheduleCallback(h.unstable_NormalPriority,tx)))}var Ru=null;function Md(e){Ru!==e&&(Ru=e,h.unstable_scheduleCallback(h.unstable_NormalPriority,function(){Ru===e&&(Ru=null);for(var n=0;n<e.length;n+=3){var a=e[n],c=e[n+1],p=e[n+2];if(typeof c!="function"){if(Yf(c||a)===null)continue;break}var E=ai(a);E!==null&&(e.splice(n,3),n-=3,qc(E,{pending:!0,data:p,method:a.method,action:c},c,p))}}))}function eo(e){function n(k){return Ou(k,e)}aa!==null&&Ou(aa,e),sa!==null&&Ou(sa,e),la!==null&&Ou(la,e),Ql.forEach(n),Jl.forEach(n);for(var a=0;a<oa.length;a++){var c=oa[a];c.blockedOn===e&&(c.blockedOn=null)}for(;0<oa.length&&(a=oa[0],a.blockedOn===null);)Id(a),a.blockedOn===null&&oa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var p=a[c],E=a[c+1],T=p[Zt]||null;if(typeof E=="function")T||Md(a);else if(T){var D=null;if(E&&E.hasAttribute("formAction")){if(p=E,T=E[Zt]||null)D=T.formAction;else if(Yf(p)!==null)continue}else D=T.action;typeof D=="function"?a[c+1]=D:(a.splice(c,3),c-=3),Md(a)}}}function Zf(e){this._internalRoot=e}Nu.prototype.render=Zf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(d(409));var a=n.current,c=hi();Sd(a,c,e,n,null,null)},Nu.prototype.unmount=Zf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Sd(e.current,2,null,e,null,null),fu(),n[Ui]=null}};function Nu(e){this._internalRoot=e}Nu.prototype.unstable_scheduleHydration=function(e){if(e){var n=ar();e={blockedOn:null,target:e,priority:n};for(var a=0;a<oa.length&&n!==0&&n<oa[a].priority;a++);oa.splice(a,0,e),a===0&&Id(e)}};var Bd=l.version;if(Bd!=="19.1.1")throw Error(d(527,Bd,"19.1.1"));ue.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=A(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var nx={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Iu.isDisabled&&Iu.supportsFiber)try{Dn=Iu.inject(nx),Un=Iu}catch{}}return no.createRoot=function(e,n){if(!m(e))throw Error(d(299));var a=!1,c="",p=K1,E=Q1,T=J1,D=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(p=n.onUncaughtError),n.onCaughtError!==void 0&&(E=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(D=n.unstable_transitionCallbacks)),n=Cd(e,1,!1,null,null,a,c,p,E,T,D,null),e[Ui]=n.current,If(e),new Zf(n)},no.hydrateRoot=function(e,n,a){if(!m(e))throw Error(d(299));var c=!1,p="",E=K1,T=Q1,D=J1,k=null,K=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(E=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(D=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(k=a.unstable_transitionCallbacks),a.formState!==void 0&&(K=a.formState)),n=Cd(e,1,!0,n,a??null,c,p,E,T,D,k,K),n.context=_d(null),a=n.current,c=hi(),c=Ea(c),p=Xr(c),p.callback=null,qr(a,p,c),a=c,n.current.lanes=a,ri(n,a),tr(n),e[Ui]=n.current,If(e),new Nu(n)},no.version="19.1.1",no}var Vd;function gx(){if(Vd)return Qf.exports;Vd=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(l){console.error(l)}}return h(),Qf.exports=dx(),Qf.exports}var mx=gx(),J=O0();const Pt=T0(J);/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Xd="popstate";function xx(h={}){function l(d,m){let{pathname:x,search:b,hash:_}=d.location;return f0("",{pathname:x,search:b,hash:_},m.state&&m.state.usr||null,m.state&&m.state.key||"default")}function o(d,m){return typeof m=="string"?m:go(m)}return wx(l,o,null,h)}function Xt(h,l){if(h===!1||h===null||typeof h>"u")throw new Error(l)}function Li(h,l){if(!h){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function px(){return Math.random().toString(36).substring(2,10)}function qd(h,l){return{usr:h.state,key:h.key,idx:l}}function f0(h,l,o=null,d){return{pathname:typeof h=="string"?h:h.pathname,search:"",hash:"",...typeof l=="string"?el(l):l,state:o,key:l&&l.key||d||px()}}function go({pathname:h="/",search:l="",hash:o=""}){return l&&l!=="?"&&(h+=l.charAt(0)==="?"?l:"?"+l),o&&o!=="#"&&(h+=o.charAt(0)==="#"?o:"#"+o),h}function el(h){let l={};if(h){let o=h.indexOf("#");o>=0&&(l.hash=h.substring(o),h=h.substring(0,o));let d=h.indexOf("?");d>=0&&(l.search=h.substring(d),h=h.substring(0,d)),h&&(l.pathname=h)}return l}function wx(h,l,o,d={}){let{window:m=document.defaultView,v5Compat:x=!1}=d,b=m.history,_="POP",A=null,y=C();y==null&&(y=0,b.replaceState({...b.state,idx:y},""));function C(){return(b.state||{idx:null}).idx}function O(){_="POP";let Y=C(),se=Y==null?null:Y-y;y=Y,A&&A({action:_,location:X.location,delta:se})}function B(Y,se){_="PUSH";let xe=f0(X.location,Y,se);y=C()+1;let G=qd(xe,y),le=X.createHref(xe);try{b.pushState(G,"",le)}catch(we){if(we instanceof DOMException&&we.name==="DataCloneError")throw we;m.location.assign(le)}x&&A&&A({action:_,location:X.location,delta:1})}function P(Y,se){_="REPLACE";let xe=f0(X.location,Y,se);y=C();let G=qd(xe,y),le=X.createHref(xe);b.replaceState(G,"",le),x&&A&&A({action:_,location:X.location,delta:0})}function z(Y){return yx(Y)}let X={get action(){return _},get location(){return h(m,b)},listen(Y){if(A)throw new Error("A history only accepts one active listener");return m.addEventListener(Xd,O),A=Y,()=>{m.removeEventListener(Xd,O),A=null}},createHref(Y){return l(m,Y)},createURL:z,encodeLocation(Y){let se=z(Y);return{pathname:se.pathname,search:se.search,hash:se.hash}},push:B,replace:P,go(Y){return b.go(Y)}};return X}function yx(h,l=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),Xt(o,"No window.location.(origin|href) available to create URL");let d=typeof h=="string"?h:go(h);return d=d.replace(/ $/,"%20"),!l&&d.startsWith("//")&&(d=o+d),new URL(d,o)}function F2(h,l,o="/"){return Ex(h,l,o,!1)}function Ex(h,l,o,d){let m=typeof l=="string"?el(l):l,x=Nr(m.pathname||"/",o);if(x==null)return null;let b=j2(h);vx(b);let _=null;for(let A=0;_==null&&A<b.length;++A){let y=Dx(x);_=Nx(b[A],y,d)}return _}function j2(h,l=[],o=[],d=""){let m=(x,b,_)=>{let A={relativePath:_===void 0?x.path||"":_,caseSensitive:x.caseSensitive===!0,childrenIndex:b,route:x};A.relativePath.startsWith("/")&&(Xt(A.relativePath.startsWith(d),`Absolute route path "${A.relativePath}" nested under path "${d}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),A.relativePath=A.relativePath.slice(d.length));let y=Rr([d,A.relativePath]),C=o.concat(A);x.children&&x.children.length>0&&(Xt(x.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),j2(x.children,l,C,y)),!(x.path==null&&!x.index)&&l.push({path:y,score:Ox(y,x.index),routesMeta:C})};return h.forEach((x,b)=>{if(x.path===""||!x.path?.includes("?"))m(x,b);else for(let _ of z2(x.path))m(x,b,_)}),l}function z2(h){let l=h.split("/");if(l.length===0)return[];let[o,...d]=l,m=o.endsWith("?"),x=o.replace(/\?$/,"");if(d.length===0)return m?[x,""]:[x];let b=z2(d.join("/")),_=[];return _.push(...b.map(A=>A===""?x:[x,A].join("/"))),m&&_.push(...b),_.map(A=>h.startsWith("/")&&A===""?"/":A)}function vx(h){h.sort((l,o)=>l.score!==o.score?o.score-l.score:Rx(l.routesMeta.map(d=>d.childrenIndex),o.routesMeta.map(d=>d.childrenIndex)))}var bx=/^:[\w-]+$/,Ax=3,Cx=2,_x=1,Sx=10,Tx=-2,Yd=h=>h==="*";function Ox(h,l){let o=h.split("/"),d=o.length;return o.some(Yd)&&(d+=Tx),l&&(d+=Cx),o.filter(m=>!Yd(m)).reduce((m,x)=>m+(bx.test(x)?Ax:x===""?_x:Sx),d)}function Rx(h,l){return h.length===l.length&&h.slice(0,-1).every((d,m)=>d===l[m])?h[h.length-1]-l[l.length-1]:0}function Nx(h,l,o=!1){let{routesMeta:d}=h,m={},x="/",b=[];for(let _=0;_<d.length;++_){let A=d[_],y=_===d.length-1,C=x==="/"?l:l.slice(x.length)||"/",O=zu({path:A.relativePath,caseSensitive:A.caseSensitive,end:y},C),B=A.route;if(!O&&y&&o&&!d[d.length-1].route.index&&(O=zu({path:A.relativePath,caseSensitive:A.caseSensitive,end:!1},C)),!O)return null;Object.assign(m,O.params),b.push({params:m,pathname:Rr([x,O.pathname]),pathnameBase:kx(Rr([x,O.pathnameBase])),route:B}),O.pathnameBase!=="/"&&(x=Rr([x,O.pathnameBase]))}return b}function zu(h,l){typeof h=="string"&&(h={path:h,caseSensitive:!1,end:!0});let[o,d]=Ix(h.path,h.caseSensitive,h.end),m=l.match(o);if(!m)return null;let x=m[0],b=x.replace(/(.)\/+$/,"$1"),_=m.slice(1);return{params:d.reduce((y,{paramName:C,isOptional:O},B)=>{if(C==="*"){let z=_[B]||"";b=x.slice(0,x.length-z.length).replace(/(.)\/+$/,"$1")}const P=_[B];return O&&!P?y[C]=void 0:y[C]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:x,pathnameBase:b,pattern:h}}function Ix(h,l=!1,o=!0){Li(h==="*"||!h.endsWith("*")||h.endsWith("/*"),`Route path "${h}" will be treated as if it were "${h.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${h.replace(/\*$/,"/*")}".`);let d=[],m="^"+h.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(b,_,A)=>(d.push({paramName:_,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)"));return h.endsWith("*")?(d.push({paramName:"*"}),m+=h==="*"||h==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?m+="\\/*$":h!==""&&h!=="/"&&(m+="(?:(?=\\/|$))"),[new RegExp(m,l?void 0:"i"),d]}function Dx(h){try{return h.split("/").map(l=>decodeURIComponent(l).replace(/\//g,"%2F")).join("/")}catch(l){return Li(!1,`The URL path "${h}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${l}).`),h}}function Nr(h,l){if(l==="/")return h;if(!h.toLowerCase().startsWith(l.toLowerCase()))return null;let o=l.endsWith("/")?l.length-1:l.length,d=h.charAt(o);return d&&d!=="/"?null:h.slice(o)||"/"}function Mx(h,l="/"){let{pathname:o,search:d="",hash:m=""}=typeof h=="string"?el(h):h;return{pathname:o?o.startsWith("/")?o:Bx(o,l):l,search:Px(d),hash:Ux(m)}}function Bx(h,l){let o=l.replace(/\/+$/,"").split("/");return h.split("/").forEach(m=>{m===".."?o.length>1&&o.pop():m!=="."&&o.push(m)}),o.length>1?o.join("/"):"/"}function n0(h,l,o,d){return`Cannot include a '${h}' character in a manually specified \`to.${l}\` field [${JSON.stringify(d)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Lx(h){return h.filter((l,o)=>o===0||l.route.path&&l.route.path.length>0)}function R0(h){let l=Lx(h);return l.map((o,d)=>d===l.length-1?o.pathname:o.pathnameBase)}function N0(h,l,o,d=!1){let m;typeof h=="string"?m=el(h):(m={...h},Xt(!m.pathname||!m.pathname.includes("?"),n0("?","pathname","search",m)),Xt(!m.pathname||!m.pathname.includes("#"),n0("#","pathname","hash",m)),Xt(!m.search||!m.search.includes("#"),n0("#","search","hash",m)));let x=h===""||m.pathname==="",b=x?"/":m.pathname,_;if(b==null)_=o;else{let O=l.length-1;if(!d&&b.startsWith("..")){let B=b.split("/");for(;B[0]==="..";)B.shift(),O-=1;m.pathname=B.join("/")}_=O>=0?l[O]:"/"}let A=Mx(m,_),y=b&&b!=="/"&&b.endsWith("/"),C=(x||b===".")&&o.endsWith("/");return!A.pathname.endsWith("/")&&(y||C)&&(A.pathname+="/"),A}var Rr=h=>h.join("/").replace(/\/\/+/g,"/"),kx=h=>h.replace(/\/+$/,"").replace(/^\/*/,"/"),Px=h=>!h||h==="?"?"":h.startsWith("?")?h:"?"+h,Ux=h=>!h||h==="#"?"":h.startsWith("#")?h:"#"+h;function Fx(h){return h!=null&&typeof h.status=="number"&&typeof h.statusText=="string"&&typeof h.internal=="boolean"&&"data"in h}var H2=["POST","PUT","PATCH","DELETE"];new Set(H2);var jx=["GET",...H2];new Set(jx);var tl=J.createContext(null);tl.displayName="DataRouter";var Ku=J.createContext(null);Ku.displayName="DataRouterState";J.createContext(!1);var G2=J.createContext({isTransitioning:!1});G2.displayName="ViewTransition";var zx=J.createContext(new Map);zx.displayName="Fetchers";var Hx=J.createContext(null);Hx.displayName="Await";var ki=J.createContext(null);ki.displayName="Navigation";var xo=J.createContext(null);xo.displayName="Location";var ir=J.createContext({outlet:null,matches:[],isDataRoute:!1});ir.displayName="Route";var I0=J.createContext(null);I0.displayName="RouteError";function Gx(h,{relative:l}={}){Xt(nl(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:d}=J.useContext(ki),{hash:m,pathname:x,search:b}=po(h,{relative:l}),_=x;return o!=="/"&&(_=x==="/"?o:Rr([o,x])),d.createHref({pathname:_,search:b,hash:m})}function nl(){return J.useContext(xo)!=null}function ga(){return Xt(nl(),"useLocation() may be used only in the context of a <Router> component."),J.useContext(xo).location}var V2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function X2(h){J.useContext(ki).static||J.useLayoutEffect(h)}function ma(){let{isDataRoute:h}=J.useContext(ir);return h?n3():Vx()}function Vx(){Xt(nl(),"useNavigate() may be used only in the context of a <Router> component.");let h=J.useContext(tl),{basename:l,navigator:o}=J.useContext(ki),{matches:d}=J.useContext(ir),{pathname:m}=ga(),x=JSON.stringify(R0(d)),b=J.useRef(!1);return X2(()=>{b.current=!0}),J.useCallback((A,y={})=>{if(Li(b.current,V2),!b.current)return;if(typeof A=="number"){o.go(A);return}let C=N0(A,JSON.parse(x),m,y.relative==="path");h==null&&l!=="/"&&(C.pathname=C.pathname==="/"?l:Rr([l,C.pathname])),(y.replace?o.replace:o.push)(C,y.state,y)},[l,o,x,m,h])}J.createContext(null);function po(h,{relative:l}={}){let{matches:o}=J.useContext(ir),{pathname:d}=ga(),m=JSON.stringify(R0(o));return J.useMemo(()=>N0(h,JSON.parse(m),d,l==="path"),[h,m,d,l])}function Xx(h,l){return q2(h,l)}function q2(h,l,o,d){Xt(nl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:m}=J.useContext(ki),{matches:x}=J.useContext(ir),b=x[x.length-1],_=b?b.params:{},A=b?b.pathname:"/",y=b?b.pathnameBase:"/",C=b&&b.route;{let se=C&&C.path||"";Y2(A,!C||se.endsWith("*")||se.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${A}" (under <Route path="${se}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${se}"> to <Route path="${se==="/"?"*":`${se}/*`}">.`)}let O=ga(),B;if(l){let se=typeof l=="string"?el(l):l;Xt(y==="/"||se.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${se.pathname}" was given in the \`location\` prop.`),B=se}else B=O;let P=B.pathname||"/",z=P;if(y!=="/"){let se=y.replace(/^\//,"").split("/");z="/"+P.replace(/^\//,"").split("/").slice(se.length).join("/")}let X=F2(h,{pathname:z});Li(C||X!=null,`No routes matched location "${B.pathname}${B.search}${B.hash}" `),Li(X==null||X[X.length-1].route.element!==void 0||X[X.length-1].route.Component!==void 0||X[X.length-1].route.lazy!==void 0,`Matched leaf route at location "${B.pathname}${B.search}${B.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=Kx(X&&X.map(se=>Object.assign({},se,{params:Object.assign({},_,se.params),pathname:Rr([y,m.encodeLocation?m.encodeLocation(se.pathname).pathname:se.pathname]),pathnameBase:se.pathnameBase==="/"?y:Rr([y,m.encodeLocation?m.encodeLocation(se.pathnameBase).pathname:se.pathnameBase])})),x,o,d);return l&&Y?J.createElement(xo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...B},navigationType:"POP"}},Y):Y}function qx(){let h=t3(),l=Fx(h)?`${h.status} ${h.statusText}`:h instanceof Error?h.message:JSON.stringify(h),o=h instanceof Error?h.stack:null,d="rgba(200,200,200, 0.5)",m={padding:"0.5rem",backgroundColor:d},x={padding:"2px 4px",backgroundColor:d},b=null;return console.error("Error handled by React Router default ErrorBoundary:",h),b=J.createElement(J.Fragment,null,J.createElement("p",null,"💿 Hey developer 👋"),J.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",J.createElement("code",{style:x},"ErrorBoundary")," or"," ",J.createElement("code",{style:x},"errorElement")," prop on your route.")),J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},l),o?J.createElement("pre",{style:m},o):null,b)}var Yx=J.createElement(qx,null),Wx=class extends J.Component{constructor(h){super(h),this.state={location:h.location,revalidation:h.revalidation,error:h.error}}static getDerivedStateFromError(h){return{error:h}}static getDerivedStateFromProps(h,l){return l.location!==h.location||l.revalidation!=="idle"&&h.revalidation==="idle"?{error:h.error,location:h.location,revalidation:h.revalidation}:{error:h.error!==void 0?h.error:l.error,location:l.location,revalidation:h.revalidation||l.revalidation}}componentDidCatch(h,l){console.error("React Router caught the following error during render",h,l)}render(){return this.state.error!==void 0?J.createElement(ir.Provider,{value:this.props.routeContext},J.createElement(I0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Zx({routeContext:h,match:l,children:o}){let d=J.useContext(tl);return d&&d.static&&d.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=l.route.id),J.createElement(ir.Provider,{value:h},o)}function Kx(h,l=[],o=null,d=null){if(h==null){if(!o)return null;if(o.errors)h=o.matches;else if(l.length===0&&!o.initialized&&o.matches.length>0)h=o.matches;else return null}let m=h,x=o?.errors;if(x!=null){let A=m.findIndex(y=>y.route.id&&x?.[y.route.id]!==void 0);Xt(A>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(x).join(",")}`),m=m.slice(0,Math.min(m.length,A+1))}let b=!1,_=-1;if(o)for(let A=0;A<m.length;A++){let y=m[A];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(_=A),y.route.id){let{loaderData:C,errors:O}=o,B=y.route.loader&&!C.hasOwnProperty(y.route.id)&&(!O||O[y.route.id]===void 0);if(y.route.lazy||B){b=!0,_>=0?m=m.slice(0,_+1):m=[m[0]];break}}}return m.reduceRight((A,y,C)=>{let O,B=!1,P=null,z=null;o&&(O=x&&y.route.id?x[y.route.id]:void 0,P=y.route.errorElement||Yx,b&&(_<0&&C===0?(Y2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),B=!0,z=null):_===C&&(B=!0,z=y.route.hydrateFallbackElement||null)));let X=l.concat(m.slice(0,C+1)),Y=()=>{let se;return O?se=P:B?se=z:y.route.Component?se=J.createElement(y.route.Component,null):y.route.element?se=y.route.element:se=A,J.createElement(Zx,{match:y,routeContext:{outlet:A,matches:X,isDataRoute:o!=null},children:se})};return o&&(y.route.ErrorBoundary||y.route.errorElement||C===0)?J.createElement(Wx,{location:o.location,revalidation:o.revalidation,component:P,error:O,children:Y(),routeContext:{outlet:null,matches:X,isDataRoute:!0}}):Y()},null)}function D0(h){return`${h} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qx(h){let l=J.useContext(tl);return Xt(l,D0(h)),l}function Jx(h){let l=J.useContext(Ku);return Xt(l,D0(h)),l}function $x(h){let l=J.useContext(ir);return Xt(l,D0(h)),l}function M0(h){let l=$x(h),o=l.matches[l.matches.length-1];return Xt(o.route.id,`${h} can only be used on routes that contain a unique "id"`),o.route.id}function e3(){return M0("useRouteId")}function t3(){let h=J.useContext(I0),l=Jx("useRouteError"),o=M0("useRouteError");return h!==void 0?h:l.errors?.[o]}function n3(){let{router:h}=Qx("useNavigate"),l=M0("useNavigate"),o=J.useRef(!1);return X2(()=>{o.current=!0}),J.useCallback(async(m,x={})=>{Li(o.current,V2),o.current&&(typeof m=="number"?h.navigate(m):await h.navigate(m,{fromRouteId:l,...x}))},[h,l])}var Wd={};function Y2(h,l,o){!l&&!Wd[h]&&(Wd[h]=!0,Li(!1,o))}J.memo(i3);function i3({routes:h,future:l,state:o}){return q2(h,void 0,o,l)}function r3({to:h,replace:l,state:o,relative:d}){Xt(nl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:m}=J.useContext(ki);Li(!m,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:x}=J.useContext(ir),{pathname:b}=ga(),_=ma(),A=N0(h,R0(x),b,d==="path"),y=JSON.stringify(A);return J.useEffect(()=>{_(JSON.parse(y),{replace:l,state:o,relative:d})},[_,y,d,l,o]),null}function fa(h){Xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function a3({basename:h="/",children:l=null,location:o,navigationType:d="POP",navigator:m,static:x=!1}){Xt(!nl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let b=h.replace(/^\/*/,"/"),_=J.useMemo(()=>({basename:b,navigator:m,static:x,future:{}}),[b,m,x]);typeof o=="string"&&(o=el(o));let{pathname:A="/",search:y="",hash:C="",state:O=null,key:B="default"}=o,P=J.useMemo(()=>{let z=Nr(A,b);return z==null?null:{location:{pathname:z,search:y,hash:C,state:O,key:B},navigationType:d}},[b,A,y,C,O,B,d]);return Li(P!=null,`<Router basename="${b}"> is not able to match the URL "${A}${y}${C}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:J.createElement(ki.Provider,{value:_},J.createElement(xo.Provider,{children:l,value:P}))}function s3({children:h,location:l}){return Xx(h0(h),l)}function h0(h,l=[]){let o=[];return J.Children.forEach(h,(d,m)=>{if(!J.isValidElement(d))return;let x=[...l,m];if(d.type===J.Fragment){o.push.apply(o,h0(d.props.children,x));return}Xt(d.type===fa,`[${typeof d.type=="string"?d.type:d.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xt(!d.props.index||!d.props.children,"An index route cannot have child routes.");let b={id:d.props.id||x.join("-"),caseSensitive:d.props.caseSensitive,element:d.props.element,Component:d.props.Component,index:d.props.index,path:d.props.path,loader:d.props.loader,action:d.props.action,hydrateFallbackElement:d.props.hydrateFallbackElement,HydrateFallback:d.props.HydrateFallback,errorElement:d.props.errorElement,ErrorBoundary:d.props.ErrorBoundary,hasErrorBoundary:d.props.hasErrorBoundary===!0||d.props.ErrorBoundary!=null||d.props.errorElement!=null,shouldRevalidate:d.props.shouldRevalidate,handle:d.props.handle,lazy:d.props.lazy};d.props.children&&(b.children=h0(d.props.children,x)),o.push(b)}),o}var Fu="get",ju="application/x-www-form-urlencoded";function Qu(h){return h!=null&&typeof h.tagName=="string"}function l3(h){return Qu(h)&&h.tagName.toLowerCase()==="button"}function o3(h){return Qu(h)&&h.tagName.toLowerCase()==="form"}function u3(h){return Qu(h)&&h.tagName.toLowerCase()==="input"}function c3(h){return!!(h.metaKey||h.altKey||h.ctrlKey||h.shiftKey)}function f3(h,l){return h.button===0&&(!l||l==="_self")&&!c3(h)}var Mu=null;function h3(){if(Mu===null)try{new FormData(document.createElement("form"),0),Mu=!1}catch{Mu=!0}return Mu}var d3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function i0(h){return h!=null&&!d3.has(h)?(Li(!1,`"${h}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ju}"`),null):h}function g3(h,l){let o,d,m,x,b;if(o3(h)){let _=h.getAttribute("action");d=_?Nr(_,l):null,o=h.getAttribute("method")||Fu,m=i0(h.getAttribute("enctype"))||ju,x=new FormData(h)}else if(l3(h)||u3(h)&&(h.type==="submit"||h.type==="image")){let _=h.form;if(_==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let A=h.getAttribute("formaction")||_.getAttribute("action");if(d=A?Nr(A,l):null,o=h.getAttribute("formmethod")||_.getAttribute("method")||Fu,m=i0(h.getAttribute("formenctype"))||i0(_.getAttribute("enctype"))||ju,x=new FormData(_,h),!h3()){let{name:y,type:C,value:O}=h;if(C==="image"){let B=y?`${y}.`:"";x.append(`${B}x`,"0"),x.append(`${B}y`,"0")}else y&&x.append(y,O)}}else{if(Qu(h))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=Fu,d=null,m=ju,b=h}return x&&m==="text/plain"&&(b=x,x=void 0),{action:d,method:o.toLowerCase(),encType:m,formData:x,body:b}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function B0(h,l){if(h===!1||h===null||typeof h>"u")throw new Error(l)}function m3(h,l,o){let d=typeof h=="string"?new URL(h,typeof window>"u"?"server://singlefetch/":window.location.origin):h;return d.pathname==="/"?d.pathname=`_root.${o}`:l&&Nr(d.pathname,l)==="/"?d.pathname=`${l.replace(/\/$/,"")}/_root.${o}`:d.pathname=`${d.pathname.replace(/\/$/,"")}.${o}`,d}async function x3(h,l){if(h.id in l)return l[h.id];try{let o=await import(h.module);return l[h.id]=o,o}catch(o){return console.error(`Error loading route module \`${h.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function p3(h){return h==null?!1:h.href==null?h.rel==="preload"&&typeof h.imageSrcSet=="string"&&typeof h.imageSizes=="string":typeof h.rel=="string"&&typeof h.href=="string"}async function w3(h,l,o){let d=await Promise.all(h.map(async m=>{let x=l.routes[m.route.id];if(x){let b=await x3(x,o);return b.links?b.links():[]}return[]}));return b3(d.flat(1).filter(p3).filter(m=>m.rel==="stylesheet"||m.rel==="preload").map(m=>m.rel==="stylesheet"?{...m,rel:"prefetch",as:"style"}:{...m,rel:"prefetch"}))}function Zd(h,l,o,d,m,x){let b=(A,y)=>o[y]?A.route.id!==o[y].route.id:!0,_=(A,y)=>o[y].pathname!==A.pathname||o[y].route.path?.endsWith("*")&&o[y].params["*"]!==A.params["*"];return x==="assets"?l.filter((A,y)=>b(A,y)||_(A,y)):x==="data"?l.filter((A,y)=>{let C=d.routes[A.route.id];if(!C||!C.hasLoader)return!1;if(b(A,y)||_(A,y))return!0;if(A.route.shouldRevalidate){let O=A.route.shouldRevalidate({currentUrl:new URL(m.pathname+m.search+m.hash,window.origin),currentParams:o[0]?.params||{},nextUrl:new URL(h,window.origin),nextParams:A.params,defaultShouldRevalidate:!0});if(typeof O=="boolean")return O}return!0}):[]}function y3(h,l,{includeHydrateFallback:o}={}){return E3(h.map(d=>{let m=l.routes[d.route.id];if(!m)return[];let x=[m.module];return m.clientActionModule&&(x=x.concat(m.clientActionModule)),m.clientLoaderModule&&(x=x.concat(m.clientLoaderModule)),o&&m.hydrateFallbackModule&&(x=x.concat(m.hydrateFallbackModule)),m.imports&&(x=x.concat(m.imports)),x}).flat(1))}function E3(h){return[...new Set(h)]}function v3(h){let l={},o=Object.keys(h).sort();for(let d of o)l[d]=h[d];return l}function b3(h,l){let o=new Set;return new Set(l),h.reduce((d,m)=>{let x=JSON.stringify(v3(m));return o.has(x)||(o.add(x),d.push({key:x,link:m})),d},[])}function W2(){let h=J.useContext(tl);return B0(h,"You must render this element inside a <DataRouterContext.Provider> element"),h}function A3(){let h=J.useContext(Ku);return B0(h,"You must render this element inside a <DataRouterStateContext.Provider> element"),h}var L0=J.createContext(void 0);L0.displayName="FrameworkContext";function Z2(){let h=J.useContext(L0);return B0(h,"You must render this element inside a <HydratedRouter> element"),h}function C3(h,l){let o=J.useContext(L0),[d,m]=J.useState(!1),[x,b]=J.useState(!1),{onFocus:_,onBlur:A,onMouseEnter:y,onMouseLeave:C,onTouchStart:O}=l,B=J.useRef(null);J.useEffect(()=>{if(h==="render"&&b(!0),h==="viewport"){let X=se=>{se.forEach(xe=>{b(xe.isIntersecting)})},Y=new IntersectionObserver(X,{threshold:.5});return B.current&&Y.observe(B.current),()=>{Y.disconnect()}}},[h]),J.useEffect(()=>{if(d){let X=setTimeout(()=>{b(!0)},100);return()=>{clearTimeout(X)}}},[d]);let P=()=>{m(!0)},z=()=>{m(!1),b(!1)};return o?h!=="intent"?[x,B,{}]:[x,B,{onFocus:io(_,P),onBlur:io(A,z),onMouseEnter:io(y,P),onMouseLeave:io(C,z),onTouchStart:io(O,P)}]:[!1,B,{}]}function io(h,l){return o=>{h&&h(o),o.defaultPrevented||l(o)}}function _3({page:h,...l}){let{router:o}=W2(),d=J.useMemo(()=>F2(o.routes,h,o.basename),[o.routes,h,o.basename]);return d?J.createElement(T3,{page:h,matches:d,...l}):null}function S3(h){let{manifest:l,routeModules:o}=Z2(),[d,m]=J.useState([]);return J.useEffect(()=>{let x=!1;return w3(h,l,o).then(b=>{x||m(b)}),()=>{x=!0}},[h,l,o]),d}function T3({page:h,matches:l,...o}){let d=ga(),{manifest:m,routeModules:x}=Z2(),{basename:b}=W2(),{loaderData:_,matches:A}=A3(),y=J.useMemo(()=>Zd(h,l,A,m,d,"data"),[h,l,A,m,d]),C=J.useMemo(()=>Zd(h,l,A,m,d,"assets"),[h,l,A,m,d]),O=J.useMemo(()=>{if(h===d.pathname+d.search+d.hash)return[];let z=new Set,X=!1;if(l.forEach(se=>{let xe=m.routes[se.route.id];!xe||!xe.hasLoader||(!y.some(G=>G.route.id===se.route.id)&&se.route.id in _&&x[se.route.id]?.shouldRevalidate||xe.hasClientLoader?X=!0:z.add(se.route.id))}),z.size===0)return[];let Y=m3(h,b,"data");return X&&z.size>0&&Y.searchParams.set("_routes",l.filter(se=>z.has(se.route.id)).map(se=>se.route.id).join(",")),[Y.pathname+Y.search]},[b,_,d,m,y,l,h,x]),B=J.useMemo(()=>y3(C,m),[C,m]),P=S3(C);return J.createElement(J.Fragment,null,O.map(z=>J.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...o})),B.map(z=>J.createElement("link",{key:z,rel:"modulepreload",href:z,...o})),P.map(({key:z,link:X})=>J.createElement("link",{key:z,nonce:o.nonce,...X})))}function O3(...h){return l=>{h.forEach(o=>{typeof o=="function"?o(l):o!=null&&(o.current=l)})}}var K2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{K2&&(window.__reactRouterVersion="7.8.0")}catch{}function R3({basename:h,children:l,window:o}){let d=J.useRef();d.current==null&&(d.current=xx({window:o,v5Compat:!0}));let m=d.current,[x,b]=J.useState({action:m.action,location:m.location}),_=J.useCallback(A=>{J.startTransition(()=>b(A))},[b]);return J.useLayoutEffect(()=>m.listen(_),[m,_]),J.createElement(a3,{basename:h,children:l,location:x.location,navigationType:x.action,navigator:m})}var Q2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,J2=J.forwardRef(function({onClick:l,discover:o="render",prefetch:d="none",relative:m,reloadDocument:x,replace:b,state:_,target:A,to:y,preventScrollReset:C,viewTransition:O,...B},P){let{basename:z}=J.useContext(ki),X=typeof y=="string"&&Q2.test(y),Y,se=!1;if(typeof y=="string"&&X&&(Y=y,K2))try{let ce=new URL(window.location.href),Ut=y.startsWith("//")?new URL(ce.protocol+y):new URL(y),Ve=Nr(Ut.pathname,z);Ut.origin===ce.origin&&Ve!=null?y=Ve+Ut.search+Ut.hash:se=!0}catch{Li(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let xe=Gx(y,{relative:m}),[G,le,we]=C3(d,B),Ce=D3(y,{replace:b,state:_,target:A,preventScrollReset:C,relative:m,viewTransition:O});function ae(ce){l&&l(ce),ce.defaultPrevented||Ce(ce)}let Le=J.createElement("a",{...B,...we,href:Y||xe,onClick:se||x?l:ae,ref:O3(P,le),target:A,"data-discover":!X&&o==="render"?"true":void 0});return G&&!X?J.createElement(J.Fragment,null,Le,J.createElement(_3,{page:xe})):Le});J2.displayName="Link";var Js=J.forwardRef(function({"aria-current":l="page",caseSensitive:o=!1,className:d="",end:m=!1,style:x,to:b,viewTransition:_,children:A,...y},C){let O=po(b,{relative:y.relative}),B=ga(),P=J.useContext(Ku),{navigator:z,basename:X}=J.useContext(ki),Y=P!=null&&P3(O)&&_===!0,se=z.encodeLocation?z.encodeLocation(O).pathname:O.pathname,xe=B.pathname,G=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;o||(xe=xe.toLowerCase(),G=G?G.toLowerCase():null,se=se.toLowerCase()),G&&X&&(G=Nr(G,X)||G);const le=se!=="/"&&se.endsWith("/")?se.length-1:se.length;let we=xe===se||!m&&xe.startsWith(se)&&xe.charAt(le)==="/",Ce=G!=null&&(G===se||!m&&G.startsWith(se)&&G.charAt(se.length)==="/"),ae={isActive:we,isPending:Ce,isTransitioning:Y},Le=we?l:void 0,ce;typeof d=="function"?ce=d(ae):ce=[d,we?"active":null,Ce?"pending":null,Y?"transitioning":null].filter(Boolean).join(" ");let Ut=typeof x=="function"?x(ae):x;return J.createElement(J2,{...y,"aria-current":Le,className:ce,ref:C,style:Ut,to:b,viewTransition:_},typeof A=="function"?A(ae):A)});Js.displayName="NavLink";var N3=J.forwardRef(({discover:h="render",fetcherKey:l,navigate:o,reloadDocument:d,replace:m,state:x,method:b=Fu,action:_,onSubmit:A,relative:y,preventScrollReset:C,viewTransition:O,...B},P)=>{let z=L3(),X=k3(_,{relative:y}),Y=b.toLowerCase()==="get"?"get":"post",se=typeof _=="string"&&Q2.test(_),xe=G=>{if(A&&A(G),G.defaultPrevented)return;G.preventDefault();let le=G.nativeEvent.submitter,we=le?.getAttribute("formmethod")||b;z(le||G.currentTarget,{fetcherKey:l,method:we,navigate:o,replace:m,state:x,relative:y,preventScrollReset:C,viewTransition:O})};return J.createElement("form",{ref:P,method:Y,action:X,onSubmit:d?A:xe,...B,"data-discover":!se&&h==="render"?"true":void 0})});N3.displayName="Form";function I3(h){return`${h} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $2(h){let l=J.useContext(tl);return Xt(l,I3(h)),l}function D3(h,{target:l,replace:o,state:d,preventScrollReset:m,relative:x,viewTransition:b}={}){let _=ma(),A=ga(),y=po(h,{relative:x});return J.useCallback(C=>{if(f3(C,l)){C.preventDefault();let O=o!==void 0?o:go(A)===go(y);_(h,{replace:O,state:d,preventScrollReset:m,relative:x,viewTransition:b})}},[A,_,y,o,d,l,h,m,x,b])}var M3=0,B3=()=>`__${String(++M3)}__`;function L3(){let{router:h}=$2("useSubmit"),{basename:l}=J.useContext(ki),o=e3();return J.useCallback(async(d,m={})=>{let{action:x,method:b,encType:_,formData:A,body:y}=g3(d,l);if(m.navigate===!1){let C=m.fetcherKey||B3();await h.fetch(C,o,m.action||x,{preventScrollReset:m.preventScrollReset,formData:A,body:y,formMethod:m.method||b,formEncType:m.encType||_,flushSync:m.flushSync})}else await h.navigate(m.action||x,{preventScrollReset:m.preventScrollReset,formData:A,body:y,formMethod:m.method||b,formEncType:m.encType||_,replace:m.replace,state:m.state,fromRouteId:o,flushSync:m.flushSync,viewTransition:m.viewTransition})},[h,l,o])}function k3(h,{relative:l}={}){let{basename:o}=J.useContext(ki),d=J.useContext(ir);Xt(d,"useFormAction must be used inside a RouteContext");let[m]=d.matches.slice(-1),x={...po(h||".",{relative:l})},b=ga();if(h==null){x.search=b.search;let _=new URLSearchParams(x.search),A=_.getAll("index");if(A.some(C=>C==="")){_.delete("index"),A.filter(O=>O).forEach(O=>_.append("index",O));let C=_.toString();x.search=C?`?${C}`:""}}return(!h||h===".")&&m.route.index&&(x.search=x.search?x.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(x.pathname=x.pathname==="/"?o:Rr([o,x.pathname])),go(x)}function P3(h,{relative:l}={}){let o=J.useContext(G2);Xt(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:d}=$2("useViewTransitionState"),m=po(h,{relative:l});if(!o.isTransitioning)return!1;let x=Nr(o.currentLocation.pathname,d)||o.currentLocation.pathname,b=Nr(o.nextLocation.pathname,d)||o.nextLocation.pathname;return zu(m.pathname,b)!=null||zu(m.pathname,x)!=null}const U3="modulepreload",F3=function(h){return"/ShelfTracker/"+h},Kd={},wo=function(l,o,d){let m=Promise.resolve();if(o&&o.length>0){let y=function(C){return Promise.all(C.map(O=>Promise.resolve(O).then(B=>({status:"fulfilled",value:B}),B=>({status:"rejected",reason:B}))))};var b=y;document.getElementsByTagName("link");const _=document.querySelector("meta[property=csp-nonce]"),A=_?.nonce||_?.getAttribute("nonce");m=y(o.map(C=>{if(C=F3(C),C in Kd)return;Kd[C]=!0;const O=C.endsWith(".css"),B=O?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${C}"]${B}`))return;const P=document.createElement("link");if(P.rel=O?"stylesheet":U3,O||(P.as="script"),P.crossOrigin="",P.href=C,A&&P.setAttribute("nonce",A),document.head.appendChild(P),O)return new Promise((z,X)=>{P.addEventListener("load",z),P.addEventListener("error",()=>X(new Error(`Unable to preload CSS for ${C}`)))})}))}function x(_){const A=new Event("vite:preloadError",{cancelable:!0});if(A.payload=_,window.dispatchEvent(A),!A.defaultPrevented)throw _}return m.then(_=>{for(const A of _||[])A.status==="rejected"&&x(A.reason);return l().catch(x)})},j3=h=>{let l;return h?l=h:typeof fetch>"u"?l=(...o)=>wo(async()=>{const{default:d}=await Promise.resolve().then(()=>il);return{default:d}},[]).then(({default:d})=>d(...o)):l=fetch,(...o)=>l(...o)};class k0 extends Error{constructor(l,o="FunctionsError",d){super(l),this.name=o,this.context=d}}class z3 extends k0{constructor(l){super("Failed to send a request to the Edge Function","FunctionsFetchError",l)}}class Qd extends k0{constructor(l){super("Relay Error invoking the Edge Function","FunctionsRelayError",l)}}class Jd extends k0{constructor(l){super("Edge Function returned a non-2xx status code","FunctionsHttpError",l)}}var d0;(function(h){h.Any="any",h.ApNortheast1="ap-northeast-1",h.ApNortheast2="ap-northeast-2",h.ApSouth1="ap-south-1",h.ApSoutheast1="ap-southeast-1",h.ApSoutheast2="ap-southeast-2",h.CaCentral1="ca-central-1",h.EuCentral1="eu-central-1",h.EuWest1="eu-west-1",h.EuWest2="eu-west-2",h.EuWest3="eu-west-3",h.SaEast1="sa-east-1",h.UsEast1="us-east-1",h.UsWest1="us-west-1",h.UsWest2="us-west-2"})(d0||(d0={}));var H3=function(h,l,o,d){function m(x){return x instanceof o?x:new o(function(b){b(x)})}return new(o||(o=Promise))(function(x,b){function _(C){try{y(d.next(C))}catch(O){b(O)}}function A(C){try{y(d.throw(C))}catch(O){b(O)}}function y(C){C.done?x(C.value):m(C.value).then(_,A)}y((d=d.apply(h,l||[])).next())})};class G3{constructor(l,{headers:o={},customFetch:d,region:m=d0.Any}={}){this.url=l,this.headers=o,this.region=m,this.fetch=j3(d)}setAuth(l){this.headers.Authorization=`Bearer ${l}`}invoke(l,o={}){var d;return H3(this,void 0,void 0,function*(){try{const{headers:m,method:x,body:b}=o;let _={},{region:A}=o;A||(A=this.region);const y=new URL(`${this.url}/${l}`);A&&A!=="any"&&(_["x-region"]=A,y.searchParams.set("forceFunctionRegion",A));let C;b&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)&&(typeof Blob<"u"&&b instanceof Blob||b instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",C=b):typeof b=="string"?(_["Content-Type"]="text/plain",C=b):typeof FormData<"u"&&b instanceof FormData?C=b:(_["Content-Type"]="application/json",C=JSON.stringify(b)));const O=yield this.fetch(y.toString(),{method:x||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),m),body:C}).catch(X=>{throw new z3(X)}),B=O.headers.get("x-relay-error");if(B&&B==="true")throw new Qd(O);if(!O.ok)throw new Jd(O);let P=((d=O.headers.get("Content-Type"))!==null&&d!==void 0?d:"text/plain").split(";")[0].trim(),z;return P==="application/json"?z=yield O.json():P==="application/octet-stream"?z=yield O.blob():P==="text/event-stream"?z=O:P==="multipart/form-data"?z=yield O.formData():z=yield O.text(),{data:z,error:null,response:O}}catch(m){return{data:null,error:m,response:m instanceof Jd||m instanceof Qd?m.context:void 0}}})}}var Rn={},Us={},Fs={},js={},zs={},Hs={},V3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},$s=V3();const X3=$s.fetch,eg=$s.fetch.bind($s),tg=$s.Headers,q3=$s.Request,Y3=$s.Response,il=Object.freeze(Object.defineProperty({__proto__:null,Headers:tg,Request:q3,Response:Y3,default:eg,fetch:X3},Symbol.toStringTag,{value:"Module"})),W3=ax(il);var Bu={},$d;function ng(){if($d)return Bu;$d=1,Object.defineProperty(Bu,"__esModule",{value:!0});class h extends Error{constructor(o){super(o.message),this.name="PostgrestError",this.details=o.details,this.hint=o.hint,this.code=o.code}}return Bu.default=h,Bu}var e2;function ig(){if(e2)return Hs;e2=1;var h=Hs&&Hs.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(Hs,"__esModule",{value:!0});const l=h(W3),o=h(ng());class d{constructor(x){this.shouldThrowOnError=!1,this.method=x.method,this.url=x.url,this.headers=x.headers,this.schema=x.schema,this.body=x.body,this.shouldThrowOnError=x.shouldThrowOnError,this.signal=x.signal,this.isMaybeSingle=x.isMaybeSingle,x.fetch?this.fetch=x.fetch:typeof fetch>"u"?this.fetch=l.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(x,b){return this.headers=Object.assign({},this.headers),this.headers[x]=b,this}then(x,b){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const _=this.fetch;let A=_(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var C,O,B;let P=null,z=null,X=null,Y=y.status,se=y.statusText;if(y.ok){if(this.method!=="HEAD"){const we=await y.text();we===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?z=we:z=JSON.parse(we))}const G=(C=this.headers.Prefer)===null||C===void 0?void 0:C.match(/count=(exact|planned|estimated)/),le=(O=y.headers.get("content-range"))===null||O===void 0?void 0:O.split("/");G&&le&&le.length>1&&(X=parseInt(le[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(z)&&(z.length>1?(P={code:"PGRST116",details:`Results contain ${z.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},z=null,X=null,Y=406,se="Not Acceptable"):z.length===1?z=z[0]:z=null)}else{const G=await y.text();try{P=JSON.parse(G),Array.isArray(P)&&y.status===404&&(z=[],P=null,Y=200,se="OK")}catch{y.status===404&&G===""?(Y=204,se="No Content"):P={message:G}}if(P&&this.isMaybeSingle&&(!((B=P?.details)===null||B===void 0)&&B.includes("0 rows"))&&(P=null,Y=200,se="OK"),P&&this.shouldThrowOnError)throw new o.default(P)}return{error:P,data:z,count:X,status:Y,statusText:se}});return this.shouldThrowOnError||(A=A.catch(y=>{var C,O,B;return{error:{message:`${(C=y?.name)!==null&&C!==void 0?C:"FetchError"}: ${y?.message}`,details:`${(O=y?.stack)!==null&&O!==void 0?O:""}`,hint:"",code:`${(B=y?.code)!==null&&B!==void 0?B:""}`},data:null,count:null,status:0,statusText:""}})),A.then(x,b)}returns(){return this}overrideTypes(){return this}}return Hs.default=d,Hs}var t2;function rg(){if(t2)return zs;t2=1;var h=zs&&zs.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(zs,"__esModule",{value:!0});const l=h(ig());class o extends l.default{select(m){let x=!1;const b=(m??"*").split("").map(_=>/\s/.test(_)&&!x?"":(_==='"'&&(x=!x),_)).join("");return this.url.searchParams.set("select",b),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(m,{ascending:x=!0,nullsFirst:b,foreignTable:_,referencedTable:A=_}={}){const y=A?`${A}.order`:"order",C=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${C?`${C},`:""}${m}.${x?"asc":"desc"}${b===void 0?"":b?".nullsfirst":".nullslast"}`),this}limit(m,{foreignTable:x,referencedTable:b=x}={}){const _=typeof b>"u"?"limit":`${b}.limit`;return this.url.searchParams.set(_,`${m}`),this}range(m,x,{foreignTable:b,referencedTable:_=b}={}){const A=typeof _>"u"?"offset":`${_}.offset`,y=typeof _>"u"?"limit":`${_}.limit`;return this.url.searchParams.set(A,`${m}`),this.url.searchParams.set(y,`${x-m+1}`),this}abortSignal(m){return this.signal=m,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:m=!1,verbose:x=!1,settings:b=!1,buffers:_=!1,wal:A=!1,format:y="text"}={}){var C;const O=[m?"analyze":null,x?"verbose":null,b?"settings":null,_?"buffers":null,A?"wal":null].filter(Boolean).join("|"),B=(C=this.headers.Accept)!==null&&C!==void 0?C:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${y}; for="${B}"; options=${O};`,y==="json"?this:this}rollback(){var m;return((m=this.headers.Prefer)!==null&&m!==void 0?m:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return zs.default=o,zs}var n2;function P0(){if(n2)return js;n2=1;var h=js&&js.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(js,"__esModule",{value:!0});const l=h(rg());class o extends l.default{eq(m,x){return this.url.searchParams.append(m,`eq.${x}`),this}neq(m,x){return this.url.searchParams.append(m,`neq.${x}`),this}gt(m,x){return this.url.searchParams.append(m,`gt.${x}`),this}gte(m,x){return this.url.searchParams.append(m,`gte.${x}`),this}lt(m,x){return this.url.searchParams.append(m,`lt.${x}`),this}lte(m,x){return this.url.searchParams.append(m,`lte.${x}`),this}like(m,x){return this.url.searchParams.append(m,`like.${x}`),this}likeAllOf(m,x){return this.url.searchParams.append(m,`like(all).{${x.join(",")}}`),this}likeAnyOf(m,x){return this.url.searchParams.append(m,`like(any).{${x.join(",")}}`),this}ilike(m,x){return this.url.searchParams.append(m,`ilike.${x}`),this}ilikeAllOf(m,x){return this.url.searchParams.append(m,`ilike(all).{${x.join(",")}}`),this}ilikeAnyOf(m,x){return this.url.searchParams.append(m,`ilike(any).{${x.join(",")}}`),this}is(m,x){return this.url.searchParams.append(m,`is.${x}`),this}in(m,x){const b=Array.from(new Set(x)).map(_=>typeof _=="string"&&new RegExp("[,()]").test(_)?`"${_}"`:`${_}`).join(",");return this.url.searchParams.append(m,`in.(${b})`),this}contains(m,x){return typeof x=="string"?this.url.searchParams.append(m,`cs.${x}`):Array.isArray(x)?this.url.searchParams.append(m,`cs.{${x.join(",")}}`):this.url.searchParams.append(m,`cs.${JSON.stringify(x)}`),this}containedBy(m,x){return typeof x=="string"?this.url.searchParams.append(m,`cd.${x}`):Array.isArray(x)?this.url.searchParams.append(m,`cd.{${x.join(",")}}`):this.url.searchParams.append(m,`cd.${JSON.stringify(x)}`),this}rangeGt(m,x){return this.url.searchParams.append(m,`sr.${x}`),this}rangeGte(m,x){return this.url.searchParams.append(m,`nxl.${x}`),this}rangeLt(m,x){return this.url.searchParams.append(m,`sl.${x}`),this}rangeLte(m,x){return this.url.searchParams.append(m,`nxr.${x}`),this}rangeAdjacent(m,x){return this.url.searchParams.append(m,`adj.${x}`),this}overlaps(m,x){return typeof x=="string"?this.url.searchParams.append(m,`ov.${x}`):this.url.searchParams.append(m,`ov.{${x.join(",")}}`),this}textSearch(m,x,{config:b,type:_}={}){let A="";_==="plain"?A="pl":_==="phrase"?A="ph":_==="websearch"&&(A="w");const y=b===void 0?"":`(${b})`;return this.url.searchParams.append(m,`${A}fts${y}.${x}`),this}match(m){return Object.entries(m).forEach(([x,b])=>{this.url.searchParams.append(x,`eq.${b}`)}),this}not(m,x,b){return this.url.searchParams.append(m,`not.${x}.${b}`),this}or(m,{foreignTable:x,referencedTable:b=x}={}){const _=b?`${b}.or`:"or";return this.url.searchParams.append(_,`(${m})`),this}filter(m,x,b){return this.url.searchParams.append(m,`${x}.${b}`),this}}return js.default=o,js}var i2;function ag(){if(i2)return Fs;i2=1;var h=Fs&&Fs.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Fs,"__esModule",{value:!0});const l=h(P0());class o{constructor(m,{headers:x={},schema:b,fetch:_}){this.url=m,this.headers=x,this.schema=b,this.fetch=_}select(m,{head:x=!1,count:b}={}){const _=x?"HEAD":"GET";let A=!1;const y=(m??"*").split("").map(C=>/\s/.test(C)&&!A?"":(C==='"'&&(A=!A),C)).join("");return this.url.searchParams.set("select",y),b&&(this.headers.Prefer=`count=${b}`),new l.default({method:_,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(m,{count:x,defaultToNull:b=!0}={}){const _="POST",A=[];if(this.headers.Prefer&&A.push(this.headers.Prefer),x&&A.push(`count=${x}`),b||A.push("missing=default"),this.headers.Prefer=A.join(","),Array.isArray(m)){const y=m.reduce((C,O)=>C.concat(Object.keys(O)),[]);if(y.length>0){const C=[...new Set(y)].map(O=>`"${O}"`);this.url.searchParams.set("columns",C.join(","))}}return new l.default({method:_,url:this.url,headers:this.headers,schema:this.schema,body:m,fetch:this.fetch,allowEmpty:!1})}upsert(m,{onConflict:x,ignoreDuplicates:b=!1,count:_,defaultToNull:A=!0}={}){const y="POST",C=[`resolution=${b?"ignore":"merge"}-duplicates`];if(x!==void 0&&this.url.searchParams.set("on_conflict",x),this.headers.Prefer&&C.push(this.headers.Prefer),_&&C.push(`count=${_}`),A||C.push("missing=default"),this.headers.Prefer=C.join(","),Array.isArray(m)){const O=m.reduce((B,P)=>B.concat(Object.keys(P)),[]);if(O.length>0){const B=[...new Set(O)].map(P=>`"${P}"`);this.url.searchParams.set("columns",B.join(","))}}return new l.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:m,fetch:this.fetch,allowEmpty:!1})}update(m,{count:x}={}){const b="PATCH",_=[];return this.headers.Prefer&&_.push(this.headers.Prefer),x&&_.push(`count=${x}`),this.headers.Prefer=_.join(","),new l.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:m,fetch:this.fetch,allowEmpty:!1})}delete({count:m}={}){const x="DELETE",b=[];return m&&b.push(`count=${m}`),this.headers.Prefer&&b.unshift(this.headers.Prefer),this.headers.Prefer=b.join(","),new l.default({method:x,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Fs.default=o,Fs}var ro={},ao={},r2;function Z3(){return r2||(r2=1,Object.defineProperty(ao,"__esModule",{value:!0}),ao.version=void 0,ao.version="0.0.0-automated"),ao}var a2;function K3(){if(a2)return ro;a2=1,Object.defineProperty(ro,"__esModule",{value:!0}),ro.DEFAULT_HEADERS=void 0;const h=Z3();return ro.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${h.version}`},ro}var s2;function Q3(){if(s2)return Us;s2=1;var h=Us&&Us.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(Us,"__esModule",{value:!0});const l=h(ag()),o=h(P0()),d=K3();class m{constructor(b,{headers:_={},schema:A,fetch:y}={}){this.url=b,this.headers=Object.assign(Object.assign({},d.DEFAULT_HEADERS),_),this.schemaName=A,this.fetch=y}from(b){const _=new URL(`${this.url}/${b}`);return new l.default(_,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(b){return new m(this.url,{headers:this.headers,schema:b,fetch:this.fetch})}rpc(b,_={},{head:A=!1,get:y=!1,count:C}={}){let O;const B=new URL(`${this.url}/rpc/${b}`);let P;A||y?(O=A?"HEAD":"GET",Object.entries(_).filter(([X,Y])=>Y!==void 0).map(([X,Y])=>[X,Array.isArray(Y)?`{${Y.join(",")}}`:`${Y}`]).forEach(([X,Y])=>{B.searchParams.append(X,Y)})):(O="POST",P=_);const z=Object.assign({},this.headers);return C&&(z.Prefer=`count=${C}`),new o.default({method:O,url:B,headers:z,schema:this.schemaName,body:P,fetch:this.fetch,allowEmpty:!1})}}return Us.default=m,Us}var l2;function J3(){if(l2)return Rn;l2=1;var h=Rn&&Rn.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.PostgrestError=Rn.PostgrestBuilder=Rn.PostgrestTransformBuilder=Rn.PostgrestFilterBuilder=Rn.PostgrestQueryBuilder=Rn.PostgrestClient=void 0;const l=h(Q3());Rn.PostgrestClient=l.default;const o=h(ag());Rn.PostgrestQueryBuilder=o.default;const d=h(P0());Rn.PostgrestFilterBuilder=d.default;const m=h(rg());Rn.PostgrestTransformBuilder=m.default;const x=h(ig());Rn.PostgrestBuilder=x.default;const b=h(ng());return Rn.PostgrestError=b.default,Rn.default={PostgrestClient:l.default,PostgrestQueryBuilder:o.default,PostgrestFilterBuilder:d.default,PostgrestTransformBuilder:m.default,PostgrestBuilder:x.default,PostgrestError:b.default},Rn}var $3=J3();const ep=T0($3),{PostgrestClient:tp,PostgrestQueryBuilder:O4,PostgrestFilterBuilder:R4,PostgrestTransformBuilder:N4,PostgrestBuilder:I4,PostgrestError:D4}=ep;class np{static dynamicRequire(l){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(l):null}catch{return null}}static detectEnvironment(){var l,o;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((l=navigator.userAgent)===null||l===void 0)&&l.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const d=parseInt(process.versions.node.split(".")[0]);if(d>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const m=this.dynamicRequire("undici");if(m&&m.WebSocket)return{type:"native",constructor:m.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const m=this.dynamicRequire("ws");if(m)return{type:"ws",constructor:(o=m.WebSocket)!==null&&o!==void 0?o:m};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${d} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const l=this.detectEnvironment();if(l.constructor)return l.constructor;let o=l.error||"WebSocket not supported in this environment.";throw l.workaround&&(o+=`

Suggested solution: ${l.workaround}`),new Error(o)}static createWebSocket(l,o){const d=this.getWebSocketConstructor();return new d(l,o)}static isWebSocketSupported(){try{const l=this.detectEnvironment();return l.type==="native"||l.type==="ws"}catch{return!1}}}const ip="2.15.0",rp=`realtime-js/${ip}`,ap="1.0.0",g0=1e4,sp=1e3,lp=100;var co;(function(h){h[h.connecting=0]="connecting",h[h.open=1]="open",h[h.closing=2]="closing",h[h.closed=3]="closed"})(co||(co={}));var bn;(function(h){h.closed="closed",h.errored="errored",h.joined="joined",h.joining="joining",h.leaving="leaving"})(bn||(bn={}));var Bi;(function(h){h.close="phx_close",h.error="phx_error",h.join="phx_join",h.reply="phx_reply",h.leave="phx_leave",h.access_token="access_token"})(Bi||(Bi={}));var m0;(function(h){h.websocket="websocket"})(m0||(m0={}));var Ya;(function(h){h.Connecting="connecting",h.Open="open",h.Closing="closing",h.Closed="closed"})(Ya||(Ya={}));class op{constructor(){this.HEADER_LENGTH=1}decode(l,o){return l.constructor===ArrayBuffer?o(this._binaryDecode(l)):o(typeof l=="string"?JSON.parse(l):{})}_binaryDecode(l){const o=new DataView(l),d=new TextDecoder;return this._decodeBroadcast(l,o,d)}_decodeBroadcast(l,o,d){const m=o.getUint8(1),x=o.getUint8(2);let b=this.HEADER_LENGTH+2;const _=d.decode(l.slice(b,b+m));b=b+m;const A=d.decode(l.slice(b,b+x));b=b+x;const y=JSON.parse(d.decode(l.slice(b,l.byteLength)));return{ref:null,topic:_,event:A,payload:y}}}class sg{constructor(l,o){this.callback=l,this.timerCalc=o,this.timer=void 0,this.tries=0,this.callback=l,this.timerCalc=o}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var kt;(function(h){h.abstime="abstime",h.bool="bool",h.date="date",h.daterange="daterange",h.float4="float4",h.float8="float8",h.int2="int2",h.int4="int4",h.int4range="int4range",h.int8="int8",h.int8range="int8range",h.json="json",h.jsonb="jsonb",h.money="money",h.numeric="numeric",h.oid="oid",h.reltime="reltime",h.text="text",h.time="time",h.timestamp="timestamp",h.timestamptz="timestamptz",h.timetz="timetz",h.tsrange="tsrange",h.tstzrange="tstzrange"})(kt||(kt={}));const o2=(h,l,o={})=>{var d;const m=(d=o.skipTypes)!==null&&d!==void 0?d:[];return Object.keys(l).reduce((x,b)=>(x[b]=up(b,h,l,m),x),{})},up=(h,l,o,d)=>{const m=l.find(_=>_.name===h),x=m?.type,b=o[h];return x&&!d.includes(x)?lg(x,b):x0(b)},lg=(h,l)=>{if(h.charAt(0)==="_"){const o=h.slice(1,h.length);return dp(l,o)}switch(h){case kt.bool:return cp(l);case kt.float4:case kt.float8:case kt.int2:case kt.int4:case kt.int8:case kt.numeric:case kt.oid:return fp(l);case kt.json:case kt.jsonb:return hp(l);case kt.timestamp:return gp(l);case kt.abstime:case kt.date:case kt.daterange:case kt.int4range:case kt.int8range:case kt.money:case kt.reltime:case kt.text:case kt.time:case kt.timestamptz:case kt.timetz:case kt.tsrange:case kt.tstzrange:return x0(l);default:return x0(l)}},x0=h=>h,cp=h=>{switch(h){case"t":return!0;case"f":return!1;default:return h}},fp=h=>{if(typeof h=="string"){const l=parseFloat(h);if(!Number.isNaN(l))return l}return h},hp=h=>{if(typeof h=="string")try{return JSON.parse(h)}catch(l){return console.log(`JSON parse error: ${l}`),h}return h},dp=(h,l)=>{if(typeof h!="string")return h;const o=h.length-1,d=h[o];if(h[0]==="{"&&d==="}"){let x;const b=h.slice(1,o);try{x=JSON.parse("["+b+"]")}catch{x=b?b.split(","):[]}return x.map(_=>lg(l,_))}return h},gp=h=>typeof h=="string"?h.replace(" ","T"):h,og=h=>{let l=h;return l=l.replace(/^ws/i,"http"),l=l.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),l.replace(/\/+$/,"")+"/api/broadcast"};class r0{constructor(l,o,d={},m=g0){this.channel=l,this.event=o,this.payload=d,this.timeout=m,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(l){this.timeout=l,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(l){this.payload=Object.assign(Object.assign({},this.payload),l)}receive(l,o){var d;return this._hasReceived(l)&&o((d=this.receivedResp)===null||d===void 0?void 0:d.response),this.recHooks.push({status:l,callback:o}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const l=o=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=o,this._matchReceive(o)};this.channel._on(this.refEvent,{},l),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(l,o){this.refEvent&&this.channel._trigger(this.refEvent,{status:l,response:o})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:l,response:o}){this.recHooks.filter(d=>d.status===l).forEach(d=>d.callback(o))}_hasReceived(l){return this.receivedResp&&this.receivedResp.status===l}}var u2;(function(h){h.SYNC="sync",h.JOIN="join",h.LEAVE="leave"})(u2||(u2={}));class fo{constructor(l,o){this.channel=l,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const d=o?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(d.state,{},m=>{const{onJoin:x,onLeave:b,onSync:_}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fo.syncState(this.state,m,x,b),this.pendingDiffs.forEach(A=>{this.state=fo.syncDiff(this.state,A,x,b)}),this.pendingDiffs=[],_()}),this.channel._on(d.diff,{},m=>{const{onJoin:x,onLeave:b,onSync:_}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(m):(this.state=fo.syncDiff(this.state,m,x,b),_())}),this.onJoin((m,x,b)=>{this.channel._trigger("presence",{event:"join",key:m,currentPresences:x,newPresences:b})}),this.onLeave((m,x,b)=>{this.channel._trigger("presence",{event:"leave",key:m,currentPresences:x,leftPresences:b})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(l,o,d,m){const x=this.cloneDeep(l),b=this.transformState(o),_={},A={};return this.map(x,(y,C)=>{b[y]||(A[y]=C)}),this.map(b,(y,C)=>{const O=x[y];if(O){const B=C.map(Y=>Y.presence_ref),P=O.map(Y=>Y.presence_ref),z=C.filter(Y=>P.indexOf(Y.presence_ref)<0),X=O.filter(Y=>B.indexOf(Y.presence_ref)<0);z.length>0&&(_[y]=z),X.length>0&&(A[y]=X)}else _[y]=C}),this.syncDiff(x,{joins:_,leaves:A},d,m)}static syncDiff(l,o,d,m){const{joins:x,leaves:b}={joins:this.transformState(o.joins),leaves:this.transformState(o.leaves)};return d||(d=()=>{}),m||(m=()=>{}),this.map(x,(_,A)=>{var y;const C=(y=l[_])!==null&&y!==void 0?y:[];if(l[_]=this.cloneDeep(A),C.length>0){const O=l[_].map(P=>P.presence_ref),B=C.filter(P=>O.indexOf(P.presence_ref)<0);l[_].unshift(...B)}d(_,C,A)}),this.map(b,(_,A)=>{let y=l[_];if(!y)return;const C=A.map(O=>O.presence_ref);y=y.filter(O=>C.indexOf(O.presence_ref)<0),l[_]=y,m(_,y,A),y.length===0&&delete l[_]}),l}static map(l,o){return Object.getOwnPropertyNames(l).map(d=>o(d,l[d]))}static transformState(l){return l=this.cloneDeep(l),Object.getOwnPropertyNames(l).reduce((o,d)=>{const m=l[d];return"metas"in m?o[d]=m.metas.map(x=>(x.presence_ref=x.phx_ref,delete x.phx_ref,delete x.phx_ref_prev,x)):o[d]=m,o},{})}static cloneDeep(l){return JSON.parse(JSON.stringify(l))}onJoin(l){this.caller.onJoin=l}onLeave(l){this.caller.onLeave=l}onSync(l){this.caller.onSync=l}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var c2;(function(h){h.ALL="*",h.INSERT="INSERT",h.UPDATE="UPDATE",h.DELETE="DELETE"})(c2||(c2={}));var ho;(function(h){h.BROADCAST="broadcast",h.PRESENCE="presence",h.POSTGRES_CHANGES="postgres_changes",h.SYSTEM="system"})(ho||(ho={}));var Tr;(function(h){h.SUBSCRIBED="SUBSCRIBED",h.TIMED_OUT="TIMED_OUT",h.CLOSED="CLOSED",h.CHANNEL_ERROR="CHANNEL_ERROR"})(Tr||(Tr={}));class U0{constructor(l,o={config:{}},d){this.topic=l,this.params=o,this.socket=d,this.bindings={},this.state=bn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=l.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},o.config),this.timeout=this.socket.timeout,this.joinPush=new r0(this,Bi.join,this.params,this.timeout),this.rejoinTimer=new sg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=bn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(m=>m.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=bn.closed,this.socket._remove(this)}),this._onError(m=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,m),this.state=bn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=bn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",m=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,m),this.state=bn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bi.reply,{},(m,x)=>{this._trigger(this._replyEventName(x),m)}),this.presence=new fo(this),this.broadcastEndpointURL=og(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(l,o=this.timeout){var d,m;if(this.socket.isConnected()||this.socket.connect(),this.state==bn.closed){const{config:{broadcast:x,presence:b,private:_}}=this.params,A=(m=(d=this.bindings.postgres_changes)===null||d===void 0?void 0:d.map(B=>B.filter))!==null&&m!==void 0?m:[],y=!!this.bindings[ho.PRESENCE]&&this.bindings[ho.PRESENCE].length>0,C={},O={broadcast:x,presence:Object.assign(Object.assign({},b),{enabled:y}),postgres_changes:A,private:_};this.socket.accessTokenValue&&(C.access_token=this.socket.accessTokenValue),this._onError(B=>l?.(Tr.CHANNEL_ERROR,B)),this._onClose(()=>l?.(Tr.CLOSED)),this.updateJoinPayload(Object.assign({config:O},C)),this.joinedOnce=!0,this._rejoin(o),this.joinPush.receive("ok",async({postgres_changes:B})=>{var P;if(this.socket.setAuth(),B===void 0){l?.(Tr.SUBSCRIBED);return}else{const z=this.bindings.postgres_changes,X=(P=z?.length)!==null&&P!==void 0?P:0,Y=[];for(let se=0;se<X;se++){const xe=z[se],{filter:{event:G,schema:le,table:we,filter:Ce}}=xe,ae=B&&B[se];if(ae&&ae.event===G&&ae.schema===le&&ae.table===we&&ae.filter===Ce)Y.push(Object.assign(Object.assign({},xe),{id:ae.id}));else{this.unsubscribe(),this.state=bn.errored,l?.(Tr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=Y,l&&l(Tr.SUBSCRIBED);return}}).receive("error",B=>{this.state=bn.errored,l?.(Tr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(B).join(", ")||"error")))}).receive("timeout",()=>{l?.(Tr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(l,o={}){return await this.send({type:"presence",event:"track",payload:l},o.timeout||this.timeout)}async untrack(l={}){return await this.send({type:"presence",event:"untrack"},l)}on(l,o,d){return this.state===bn.joined&&l===ho.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(l,o,d)}async send(l,o={}){var d,m;if(!this._canPush()&&l.type==="broadcast"){const{event:x,payload:b}=l,A={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:x,payload:b,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,A,(d=o.timeout)!==null&&d!==void 0?d:this.timeout);return await((m=y.body)===null||m===void 0?void 0:m.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(x=>{var b,_,A;const y=this._push(l.type,l,o.timeout||this.timeout);l.type==="broadcast"&&!(!((A=(_=(b=this.params)===null||b===void 0?void 0:b.config)===null||_===void 0?void 0:_.broadcast)===null||A===void 0)&&A.ack)&&x("ok"),y.receive("ok",()=>x("ok")),y.receive("error",()=>x("error")),y.receive("timeout",()=>x("timed out"))})}updateJoinPayload(l){this.joinPush.updatePayload(l)}unsubscribe(l=this.timeout){this.state=bn.leaving;const o=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bi.close,"leave",this._joinRef())};this.joinPush.destroy();let d=null;return new Promise(m=>{d=new r0(this,Bi.leave,{},l),d.receive("ok",()=>{o(),m("ok")}).receive("timeout",()=>{o(),m("timed out")}).receive("error",()=>{m("error")}),d.send(),this._canPush()||d.trigger("ok",{})}).finally(()=>{d?.destroy()})}teardown(){this.pushBuffer.forEach(l=>l.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=bn.closed,this.bindings={}}async _fetchWithTimeout(l,o,d){const m=new AbortController,x=setTimeout(()=>m.abort(),d),b=await this.socket.fetch(l,Object.assign(Object.assign({},o),{signal:m.signal}));return clearTimeout(x),b}_push(l,o,d=this.timeout){if(!this.joinedOnce)throw`tried to push '${l}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let m=new r0(this,l,o,d);return this._canPush()?m.send():this._addToPushBuffer(m),m}_addToPushBuffer(l){if(l.startTimeout(),this.pushBuffer.push(l),this.pushBuffer.length>lp){const o=this.pushBuffer.shift();o&&(o.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${o.event}`,o.payload))}}_onMessage(l,o,d){return o}_isMember(l){return this.topic===l}_joinRef(){return this.joinPush.ref}_trigger(l,o,d){var m,x;const b=l.toLocaleLowerCase(),{close:_,error:A,leave:y,join:C}=Bi;if(d&&[_,A,y,C].indexOf(b)>=0&&d!==this._joinRef())return;let B=this._onMessage(b,o,d);if(o&&!B)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(b)?(m=this.bindings.postgres_changes)===null||m===void 0||m.filter(P=>{var z,X,Y;return((z=P.filter)===null||z===void 0?void 0:z.event)==="*"||((Y=(X=P.filter)===null||X===void 0?void 0:X.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase())===b}).map(P=>P.callback(B,d)):(x=this.bindings[b])===null||x===void 0||x.filter(P=>{var z,X,Y,se,xe,G;if(["broadcast","presence","postgres_changes"].includes(b))if("id"in P){const le=P.id,we=(z=P.filter)===null||z===void 0?void 0:z.event;return le&&((X=o.ids)===null||X===void 0?void 0:X.includes(le))&&(we==="*"||we?.toLocaleLowerCase()===((Y=o.data)===null||Y===void 0?void 0:Y.type.toLocaleLowerCase()))}else{const le=(xe=(se=P?.filter)===null||se===void 0?void 0:se.event)===null||xe===void 0?void 0:xe.toLocaleLowerCase();return le==="*"||le===((G=o?.event)===null||G===void 0?void 0:G.toLocaleLowerCase())}else return P.type.toLocaleLowerCase()===b}).map(P=>{if(typeof B=="object"&&"ids"in B){const z=B.data,{schema:X,table:Y,commit_timestamp:se,type:xe,errors:G}=z;B=Object.assign(Object.assign({},{schema:X,table:Y,commit_timestamp:se,eventType:xe,new:{},old:{},errors:G}),this._getPayloadRecords(z))}P.callback(B,d)})}_isClosed(){return this.state===bn.closed}_isJoined(){return this.state===bn.joined}_isJoining(){return this.state===bn.joining}_isLeaving(){return this.state===bn.leaving}_replyEventName(l){return`chan_reply_${l}`}_on(l,o,d){const m=l.toLocaleLowerCase(),x={type:m,filter:o,callback:d};return this.bindings[m]?this.bindings[m].push(x):this.bindings[m]=[x],this}_off(l,o){const d=l.toLocaleLowerCase();return this.bindings[d]&&(this.bindings[d]=this.bindings[d].filter(m=>{var x;return!(((x=m.type)===null||x===void 0?void 0:x.toLocaleLowerCase())===d&&U0.isEqual(m.filter,o))})),this}static isEqual(l,o){if(Object.keys(l).length!==Object.keys(o).length)return!1;for(const d in l)if(l[d]!==o[d])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(l){this._on(Bi.close,{},l)}_onError(l){this._on(Bi.error,{},o=>l(o))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(l=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=bn.joining,this.joinPush.resend(l))}_getPayloadRecords(l){const o={new:{},old:{}};return(l.type==="INSERT"||l.type==="UPDATE")&&(o.new=o2(l.columns,l.record)),(l.type==="UPDATE"||l.type==="DELETE")&&(o.old=o2(l.columns,l.old_record)),o}}const f2=()=>{},Lu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},mp=[1e3,2e3,5e3,1e4],xp=1e4,pp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wp{constructor(l,o){var d;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=g0,this.transport=null,this.heartbeatIntervalMs=Lu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=f2,this.ref=0,this.reconnectTimer=null,this.logger=f2,this.conn=null,this.sendBuffer=[],this.serializer=new op,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=m=>{let x;return m?x=m:typeof fetch>"u"?x=(...b)=>wo(async()=>{const{default:_}=await Promise.resolve().then(()=>il);return{default:_}},void 0).then(({default:_})=>_(...b)).catch(_=>{throw new Error(`Failed to load @supabase/node-fetch: ${_.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):x=fetch,(...b)=>x(...b)},!(!((d=o?.params)===null||d===void 0)&&d.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=o.params.apikey,this.endPoint=`${l}/${m0.websocket}`,this.httpEndpoint=og(l),this._initializeOptions(o),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(o?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=np.createWebSocket(this.endpointURL())}catch(l){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${l.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ap}))}disconnect(l,o){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const d=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(d),this._setConnectionState("disconnected")},l?this.conn.close(l,o??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(l){const o=await l.unsubscribe();return this.channels.length===0&&this.disconnect(),o}async removeAllChannels(){const l=await Promise.all(this.channels.map(o=>o.unsubscribe()));return this.channels=[],this.disconnect(),l}log(l,o,d){this.logger(l,o,d)}connectionState(){switch(this.conn&&this.conn.readyState){case co.connecting:return Ya.Connecting;case co.open:return Ya.Open;case co.closing:return Ya.Closing;default:return Ya.Closed}}isConnected(){return this.connectionState()===Ya.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(l,o={config:{}}){const d=`realtime:${l}`,m=this.getChannels().find(x=>x.topic===d);if(m)return m;{const x=new U0(`realtime:${l}`,o,this);return this.channels.push(x),x}}push(l){const{topic:o,event:d,payload:m,ref:x}=l,b=()=>{this.encode(l,_=>{var A;(A=this.conn)===null||A===void 0||A.send(_)})};this.log("push",`${o} ${d} (${x})`,m),this.isConnected()?b():this.sendBuffer.push(b)}async setAuth(l=null){this._authPromise=this._performAuth(l);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var l;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(l=this.conn)===null||l===void 0||l.close(sp,"heartbeat timeout"),setTimeout(()=>{var o;this.isConnected()||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout()},Lu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(l){this.heartbeatCallback=l}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(l=>l()),this.sendBuffer=[])}_makeRef(){let l=this.ref+1;return l===this.ref?this.ref=0:this.ref=l,this.ref.toString()}_leaveOpenTopic(l){let o=this.channels.find(d=>d.topic===l&&(d._isJoined()||d._isJoining()));o&&(this.log("transport",`leaving duplicate topic "${l}"`),o.unsubscribe())}_remove(l){this.channels=this.channels.filter(o=>o.topic!==l.topic)}_onConnMessage(l){this.decode(l.data,o=>{o.topic==="phoenix"&&o.event==="phx_reply"&&this.heartbeatCallback(o.payload.status==="ok"?"ok":"error"),o.ref&&o.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:d,event:m,payload:x,ref:b}=o,_=b?`(${b})`:"",A=x.status||"";this.log("receive",`${A} ${d} ${m} ${_}`.trim(),x),this.channels.filter(y=>y._isMember(d)).forEach(y=>y._trigger(m,x,b)),this._triggerStateCallbacks("message",o)})}_clearTimer(l){var o;l==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):l==="reconnect"&&((o=this.reconnectTimer)===null||o===void 0||o.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=l=>this._onConnError(l),this.conn.onmessage=l=>this._onConnMessage(l),this.conn.onclose=l=>this._onConnClose(l))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(l=>l.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const l=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(l),this.workerRef.onerror=o=>{this.log("worker","worker error",o.message),this.workerRef.terminate()},this.workerRef.onmessage=o=>{o.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(l){var o;this._setConnectionState("disconnected"),this.log("transport","close",l),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout(),this._triggerStateCallbacks("close",l)}_onConnError(l){this._setConnectionState("disconnected"),this.log("transport",`${l}`),this._triggerChanError(),this._triggerStateCallbacks("error",l)}_triggerChanError(){this.channels.forEach(l=>l._trigger(Bi.error))}_appendParams(l,o){if(Object.keys(o).length===0)return l;const d=l.match(/\?/)?"&":"?",m=new URLSearchParams(o);return`${l}${d}${m}`}_workerObjectUrl(l){let o;if(l)o=l;else{const d=new Blob([pp],{type:"application/javascript"});o=URL.createObjectURL(d)}return o}_setConnectionState(l,o=!1){this._connectionState=l,l==="connecting"?this._wasManualDisconnect=!1:l==="disconnecting"&&(this._wasManualDisconnect=o)}async _performAuth(l=null){let o;l?o=l:this.accessToken?o=await this.accessToken():o=this.accessTokenValue,this.accessTokenValue!=o&&(this.accessTokenValue=o,this.channels.forEach(d=>{const m={access_token:o,version:rp};o&&d.updateJoinPayload(m),d.joinedOnce&&d._isJoined()&&d._push(Bi.access_token,{access_token:o})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(l="general"){this.setAuth().catch(o=>{this.log("error",`error setting auth in ${l}`,o)})}_triggerStateCallbacks(l,o){try{this.stateChangeCallbacks[l].forEach(d=>{try{d(o)}catch(m){this.log("error",`error in ${l} callback`,m)}})}catch(d){this.log("error",`error triggering ${l} callbacks`,d)}}_setupReconnectionTimer(){this.reconnectTimer=new sg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Lu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(l){var o,d,m,x,b,_,A,y;if(this.transport=(o=l?.transport)!==null&&o!==void 0?o:null,this.timeout=(d=l?.timeout)!==null&&d!==void 0?d:g0,this.heartbeatIntervalMs=(m=l?.heartbeatIntervalMs)!==null&&m!==void 0?m:Lu.HEARTBEAT_INTERVAL,this.worker=(x=l?.worker)!==null&&x!==void 0?x:!1,this.accessToken=(b=l?.accessToken)!==null&&b!==void 0?b:null,l?.params&&(this.params=l.params),l?.logger&&(this.logger=l.logger),(l?.logLevel||l?.log_level)&&(this.logLevel=l.logLevel||l.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(_=l?.reconnectAfterMs)!==null&&_!==void 0?_:C=>mp[C-1]||xp,this.encode=(A=l?.encode)!==null&&A!==void 0?A:(C,O)=>O(JSON.stringify(C)),this.decode=(y=l?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=l?.workerUrl}}}class F0 extends Error{constructor(l){super(l),this.__isStorageError=!0,this.name="StorageError"}}function Nn(h){return typeof h=="object"&&h!==null&&"__isStorageError"in h}class yp extends F0{constructor(l,o,d){super(l),this.name="StorageApiError",this.status=o,this.statusCode=d}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class p0 extends F0{constructor(l,o){super(l),this.name="StorageUnknownError",this.originalError=o}}var Ep=function(h,l,o,d){function m(x){return x instanceof o?x:new o(function(b){b(x)})}return new(o||(o=Promise))(function(x,b){function _(C){try{y(d.next(C))}catch(O){b(O)}}function A(C){try{y(d.throw(C))}catch(O){b(O)}}function y(C){C.done?x(C.value):m(C.value).then(_,A)}y((d=d.apply(h,l||[])).next())})};const ug=h=>{let l;return h?l=h:typeof fetch>"u"?l=(...o)=>wo(async()=>{const{default:d}=await Promise.resolve().then(()=>il);return{default:d}},void 0).then(({default:d})=>d(...o)):l=fetch,(...o)=>l(...o)},vp=()=>Ep(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield wo(()=>Promise.resolve().then(()=>il),void 0)).Response:Response}),w0=h=>{if(Array.isArray(h))return h.map(o=>w0(o));if(typeof h=="function"||h!==Object(h))return h;const l={};return Object.entries(h).forEach(([o,d])=>{const m=o.replace(/([-_][a-z])/gi,x=>x.toUpperCase().replace(/[-_]/g,""));l[m]=w0(d)}),l},bp=h=>{if(typeof h!="object"||h===null)return!1;const l=Object.getPrototypeOf(h);return(l===null||l===Object.prototype||Object.getPrototypeOf(l)===null)&&!(Symbol.toStringTag in h)&&!(Symbol.iterator in h)};var Za=function(h,l,o,d){function m(x){return x instanceof o?x:new o(function(b){b(x)})}return new(o||(o=Promise))(function(x,b){function _(C){try{y(d.next(C))}catch(O){b(O)}}function A(C){try{y(d.throw(C))}catch(O){b(O)}}function y(C){C.done?x(C.value):m(C.value).then(_,A)}y((d=d.apply(h,l||[])).next())})};const a0=h=>h.msg||h.message||h.error_description||h.error||JSON.stringify(h),Ap=(h,l,o)=>Za(void 0,void 0,void 0,function*(){const d=yield vp();h instanceof d&&!o?.noResolveJson?h.json().then(m=>{const x=h.status||500,b=m?.statusCode||x+"";l(new yp(a0(m),x,b))}).catch(m=>{l(new p0(a0(m),m))}):l(new p0(a0(h),h))}),Cp=(h,l,o,d)=>{const m={method:h,headers:l?.headers||{}};return h==="GET"||!d?m:(bp(d)?(m.headers=Object.assign({"Content-Type":"application/json"},l?.headers),m.body=JSON.stringify(d)):m.body=d,Object.assign(Object.assign({},m),o))};function yo(h,l,o,d,m,x){return Za(this,void 0,void 0,function*(){return new Promise((b,_)=>{h(o,Cp(l,d,m,x)).then(A=>{if(!A.ok)throw A;return d?.noResolveJson?A:A.json()}).then(A=>b(A)).catch(A=>Ap(A,_,d))})})}function Hu(h,l,o,d){return Za(this,void 0,void 0,function*(){return yo(h,"GET",l,o,d)})}function Or(h,l,o,d,m){return Za(this,void 0,void 0,function*(){return yo(h,"POST",l,d,m,o)})}function y0(h,l,o,d,m){return Za(this,void 0,void 0,function*(){return yo(h,"PUT",l,d,m,o)})}function _p(h,l,o,d){return Za(this,void 0,void 0,function*(){return yo(h,"HEAD",l,Object.assign(Object.assign({},o),{noResolveJson:!0}),d)})}function cg(h,l,o,d,m){return Za(this,void 0,void 0,function*(){return yo(h,"DELETE",l,d,m,o)})}var ii=function(h,l,o,d){function m(x){return x instanceof o?x:new o(function(b){b(x)})}return new(o||(o=Promise))(function(x,b){function _(C){try{y(d.next(C))}catch(O){b(O)}}function A(C){try{y(d.throw(C))}catch(O){b(O)}}function y(C){C.done?x(C.value):m(C.value).then(_,A)}y((d=d.apply(h,l||[])).next())})};const Sp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},h2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Tp{constructor(l,o={},d,m){this.url=l,this.headers=o,this.bucketId=d,this.fetch=ug(m)}uploadOrUpdate(l,o,d,m){return ii(this,void 0,void 0,function*(){try{let x;const b=Object.assign(Object.assign({},h2),m);let _=Object.assign(Object.assign({},this.headers),l==="POST"&&{"x-upsert":String(b.upsert)});const A=b.metadata;typeof Blob<"u"&&d instanceof Blob?(x=new FormData,x.append("cacheControl",b.cacheControl),A&&x.append("metadata",this.encodeMetadata(A)),x.append("",d)):typeof FormData<"u"&&d instanceof FormData?(x=d,x.append("cacheControl",b.cacheControl),A&&x.append("metadata",this.encodeMetadata(A))):(x=d,_["cache-control"]=`max-age=${b.cacheControl}`,_["content-type"]=b.contentType,A&&(_["x-metadata"]=this.toBase64(this.encodeMetadata(A)))),m?.headers&&(_=Object.assign(Object.assign({},_),m.headers));const y=this._removeEmptyFolders(o),C=this._getFinalPath(y),O=yield(l=="PUT"?y0:Or)(this.fetch,`${this.url}/object/${C}`,x,Object.assign({headers:_},b?.duplex?{duplex:b.duplex}:{}));return{data:{path:y,id:O.Id,fullPath:O.Key},error:null}}catch(x){if(Nn(x))return{data:null,error:x};throw x}})}upload(l,o,d){return ii(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",l,o,d)})}uploadToSignedUrl(l,o,d,m){return ii(this,void 0,void 0,function*(){const x=this._removeEmptyFolders(l),b=this._getFinalPath(x),_=new URL(this.url+`/object/upload/sign/${b}`);_.searchParams.set("token",o);try{let A;const y=Object.assign({upsert:h2.upsert},m),C=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&d instanceof Blob?(A=new FormData,A.append("cacheControl",y.cacheControl),A.append("",d)):typeof FormData<"u"&&d instanceof FormData?(A=d,A.append("cacheControl",y.cacheControl)):(A=d,C["cache-control"]=`max-age=${y.cacheControl}`,C["content-type"]=y.contentType);const O=yield y0(this.fetch,_.toString(),A,{headers:C});return{data:{path:x,fullPath:O.Key},error:null}}catch(A){if(Nn(A))return{data:null,error:A};throw A}})}createSignedUploadUrl(l,o){return ii(this,void 0,void 0,function*(){try{let d=this._getFinalPath(l);const m=Object.assign({},this.headers);o?.upsert&&(m["x-upsert"]="true");const x=yield Or(this.fetch,`${this.url}/object/upload/sign/${d}`,{},{headers:m}),b=new URL(this.url+x.url),_=b.searchParams.get("token");if(!_)throw new F0("No token returned by API");return{data:{signedUrl:b.toString(),path:l,token:_},error:null}}catch(d){if(Nn(d))return{data:null,error:d};throw d}})}update(l,o,d){return ii(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",l,o,d)})}move(l,o,d){return ii(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:l,destinationKey:o,destinationBucket:d?.destinationBucket},{headers:this.headers}),error:null}}catch(m){if(Nn(m))return{data:null,error:m};throw m}})}copy(l,o,d){return ii(this,void 0,void 0,function*(){try{return{data:{path:(yield Or(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:l,destinationKey:o,destinationBucket:d?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(m){if(Nn(m))return{data:null,error:m};throw m}})}createSignedUrl(l,o,d){return ii(this,void 0,void 0,function*(){try{let m=this._getFinalPath(l),x=yield Or(this.fetch,`${this.url}/object/sign/${m}`,Object.assign({expiresIn:o},d?.transform?{transform:d.transform}:{}),{headers:this.headers});const b=d?.download?`&download=${d.download===!0?"":d.download}`:"";return x={signedUrl:encodeURI(`${this.url}${x.signedURL}${b}`)},{data:x,error:null}}catch(m){if(Nn(m))return{data:null,error:m};throw m}})}createSignedUrls(l,o,d){return ii(this,void 0,void 0,function*(){try{const m=yield Or(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:o,paths:l},{headers:this.headers}),x=d?.download?`&download=${d.download===!0?"":d.download}`:"";return{data:m.map(b=>Object.assign(Object.assign({},b),{signedUrl:b.signedURL?encodeURI(`${this.url}${b.signedURL}${x}`):null})),error:null}}catch(m){if(Nn(m))return{data:null,error:m};throw m}})}download(l,o){return ii(this,void 0,void 0,function*(){const m=typeof o?.transform<"u"?"render/image/authenticated":"object",x=this.transformOptsToQueryString(o?.transform||{}),b=x?`?${x}`:"";try{const _=this._getFinalPath(l);return{data:yield(yield Hu(this.fetch,`${this.url}/${m}/${_}${b}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(_){if(Nn(_))return{data:null,error:_};throw _}})}info(l){return ii(this,void 0,void 0,function*(){const o=this._getFinalPath(l);try{const d=yield Hu(this.fetch,`${this.url}/object/info/${o}`,{headers:this.headers});return{data:w0(d),error:null}}catch(d){if(Nn(d))return{data:null,error:d};throw d}})}exists(l){return ii(this,void 0,void 0,function*(){const o=this._getFinalPath(l);try{return yield _p(this.fetch,`${this.url}/object/${o}`,{headers:this.headers}),{data:!0,error:null}}catch(d){if(Nn(d)&&d instanceof p0){const m=d.originalError;if([400,404].includes(m?.status))return{data:!1,error:d}}throw d}})}getPublicUrl(l,o){const d=this._getFinalPath(l),m=[],x=o?.download?`download=${o.download===!0?"":o.download}`:"";x!==""&&m.push(x);const _=typeof o?.transform<"u"?"render/image":"object",A=this.transformOptsToQueryString(o?.transform||{});A!==""&&m.push(A);let y=m.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${_}/public/${d}${y}`)}}}remove(l){return ii(this,void 0,void 0,function*(){try{return{data:yield cg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:l},{headers:this.headers}),error:null}}catch(o){if(Nn(o))return{data:null,error:o};throw o}})}list(l,o,d){return ii(this,void 0,void 0,function*(){try{const m=Object.assign(Object.assign(Object.assign({},Sp),o),{prefix:l||""});return{data:yield Or(this.fetch,`${this.url}/object/list/${this.bucketId}`,m,{headers:this.headers},d),error:null}}catch(m){if(Nn(m))return{data:null,error:m};throw m}})}encodeMetadata(l){return JSON.stringify(l)}toBase64(l){return typeof Buffer<"u"?Buffer.from(l).toString("base64"):btoa(l)}_getFinalPath(l){return`${this.bucketId}/${l.replace(/^\/+/,"")}`}_removeEmptyFolders(l){return l.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(l){const o=[];return l.width&&o.push(`width=${l.width}`),l.height&&o.push(`height=${l.height}`),l.resize&&o.push(`resize=${l.resize}`),l.format&&o.push(`format=${l.format}`),l.quality&&o.push(`quality=${l.quality}`),o.join("&")}}const Op="2.10.4",Rp={"X-Client-Info":`storage-js/${Op}`};var Gs=function(h,l,o,d){function m(x){return x instanceof o?x:new o(function(b){b(x)})}return new(o||(o=Promise))(function(x,b){function _(C){try{y(d.next(C))}catch(O){b(O)}}function A(C){try{y(d.throw(C))}catch(O){b(O)}}function y(C){C.done?x(C.value):m(C.value).then(_,A)}y((d=d.apply(h,l||[])).next())})};class Np{constructor(l,o={},d,m){const x=new URL(l);m?.useNewHostname&&/supabase\.(co|in|red)$/.test(x.hostname)&&!x.hostname.includes("storage.supabase.")&&(x.hostname=x.hostname.replace("supabase.","storage.supabase.")),this.url=x.href,this.headers=Object.assign(Object.assign({},Rp),o),this.fetch=ug(d)}listBuckets(){return Gs(this,void 0,void 0,function*(){try{return{data:yield Hu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(l){if(Nn(l))return{data:null,error:l};throw l}})}getBucket(l){return Gs(this,void 0,void 0,function*(){try{return{data:yield Hu(this.fetch,`${this.url}/bucket/${l}`,{headers:this.headers}),error:null}}catch(o){if(Nn(o))return{data:null,error:o};throw o}})}createBucket(l,o={public:!1}){return Gs(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/bucket`,{id:l,name:l,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(d){if(Nn(d))return{data:null,error:d};throw d}})}updateBucket(l,o){return Gs(this,void 0,void 0,function*(){try{return{data:yield y0(this.fetch,`${this.url}/bucket/${l}`,{id:l,name:l,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(d){if(Nn(d))return{data:null,error:d};throw d}})}emptyBucket(l){return Gs(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/bucket/${l}/empty`,{},{headers:this.headers}),error:null}}catch(o){if(Nn(o))return{data:null,error:o};throw o}})}deleteBucket(l){return Gs(this,void 0,void 0,function*(){try{return{data:yield cg(this.fetch,`${this.url}/bucket/${l}`,{},{headers:this.headers}),error:null}}catch(o){if(Nn(o))return{data:null,error:o};throw o}})}}class Ip extends Np{constructor(l,o={},d,m){super(l,o,d,m)}from(l){return new Tp(this.url,this.headers,l,this.fetch)}}const Dp="2.54.0";let oo="";typeof Deno<"u"?oo="deno":typeof document<"u"?oo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?oo="react-native":oo="node";const Mp={"X-Client-Info":`supabase-js-${oo}/${Dp}`},Bp={headers:Mp},Lp={schema:"public"},kp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Pp={};var Up=function(h,l,o,d){function m(x){return x instanceof o?x:new o(function(b){b(x)})}return new(o||(o=Promise))(function(x,b){function _(C){try{y(d.next(C))}catch(O){b(O)}}function A(C){try{y(d.throw(C))}catch(O){b(O)}}function y(C){C.done?x(C.value):m(C.value).then(_,A)}y((d=d.apply(h,l||[])).next())})};const Fp=h=>{let l;return h?l=h:typeof fetch>"u"?l=eg:l=fetch,(...o)=>l(...o)},jp=()=>typeof Headers>"u"?tg:Headers,zp=(h,l,o)=>{const d=Fp(o),m=jp();return(x,b)=>Up(void 0,void 0,void 0,function*(){var _;const A=(_=yield l())!==null&&_!==void 0?_:h;let y=new m(b?.headers);return y.has("apikey")||y.set("apikey",h),y.has("Authorization")||y.set("Authorization",`Bearer ${A}`),d(x,Object.assign(Object.assign({},b),{headers:y}))})};var Hp=function(h,l,o,d){function m(x){return x instanceof o?x:new o(function(b){b(x)})}return new(o||(o=Promise))(function(x,b){function _(C){try{y(d.next(C))}catch(O){b(O)}}function A(C){try{y(d.throw(C))}catch(O){b(O)}}function y(C){C.done?x(C.value):m(C.value).then(_,A)}y((d=d.apply(h,l||[])).next())})};function Gp(h){return h.endsWith("/")?h:h+"/"}function Vp(h,l){var o,d;const{db:m,auth:x,realtime:b,global:_}=h,{db:A,auth:y,realtime:C,global:O}=l,B={db:Object.assign(Object.assign({},A),m),auth:Object.assign(Object.assign({},y),x),realtime:Object.assign(Object.assign({},C),b),storage:{},global:Object.assign(Object.assign(Object.assign({},O),_),{headers:Object.assign(Object.assign({},(o=O?.headers)!==null&&o!==void 0?o:{}),(d=_?.headers)!==null&&d!==void 0?d:{})}),accessToken:()=>Hp(this,void 0,void 0,function*(){return""})};return h.accessToken?B.accessToken=h.accessToken:delete B.accessToken,B}const fg="2.71.1",Ws=30*1e3,E0=3,s0=E0*Ws,Xp="http://localhost:9999",qp="supabase.auth.token",Yp={"X-Client-Info":`gotrue-js/${fg}`},v0="X-Supabase-Api-Version",hg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Wp=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Zp=600*1e3;class j0 extends Error{constructor(l,o,d){super(l),this.__isAuthError=!0,this.name="AuthError",this.status=o,this.code=d}}function qe(h){return typeof h=="object"&&h!==null&&"__isAuthError"in h}class Kp extends j0{constructor(l,o,d){super(l,o,d),this.name="AuthApiError",this.status=o,this.code=d}}function Qp(h){return qe(h)&&h.name==="AuthApiError"}class dg extends j0{constructor(l,o){super(l),this.name="AuthUnknownError",this.originalError=o}}class xa extends j0{constructor(l,o,d,m){super(l,d,m),this.name=o,this.status=d}}class ha extends xa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Jp(h){return qe(h)&&h.name==="AuthSessionMissingError"}class ku extends xa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pu extends xa{constructor(l){super(l,"AuthInvalidCredentialsError",400,void 0)}}class Uu extends xa{constructor(l,o=null){super(l,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $p(h){return qe(h)&&h.name==="AuthImplicitGrantRedirectError"}class d2 extends xa{constructor(l,o=null){super(l,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class b0 extends xa{constructor(l,o){super(l,"AuthRetryableFetchError",o,void 0)}}function l0(h){return qe(h)&&h.name==="AuthRetryableFetchError"}class g2 extends xa{constructor(l,o,d){super(l,"AuthWeakPasswordError",o,"weak_password"),this.reasons=d}}class A0 extends xa{constructor(l){super(l,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),m2=` 	
\r=`.split(""),ew=(()=>{const h=new Array(128);for(let l=0;l<h.length;l+=1)h[l]=-1;for(let l=0;l<m2.length;l+=1)h[m2[l].charCodeAt(0)]=-2;for(let l=0;l<Gu.length;l+=1)h[Gu[l].charCodeAt(0)]=l;return h})();function x2(h,l,o){if(h!==null)for(l.queue=l.queue<<8|h,l.queuedBits+=8;l.queuedBits>=6;){const d=l.queue>>l.queuedBits-6&63;o(Gu[d]),l.queuedBits-=6}else if(l.queuedBits>0)for(l.queue=l.queue<<6-l.queuedBits,l.queuedBits=6;l.queuedBits>=6;){const d=l.queue>>l.queuedBits-6&63;o(Gu[d]),l.queuedBits-=6}}function gg(h,l,o){const d=ew[h];if(d>-1)for(l.queue=l.queue<<6|d,l.queuedBits+=6;l.queuedBits>=8;)o(l.queue>>l.queuedBits-8&255),l.queuedBits-=8;else{if(d===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(h)}"`)}}function p2(h){const l=[],o=b=>{l.push(String.fromCodePoint(b))},d={utf8seq:0,codepoint:0},m={queue:0,queuedBits:0},x=b=>{iw(b,d,o)};for(let b=0;b<h.length;b+=1)gg(h.charCodeAt(b),m,x);return l.join("")}function tw(h,l){if(h<=127){l(h);return}else if(h<=2047){l(192|h>>6),l(128|h&63);return}else if(h<=65535){l(224|h>>12),l(128|h>>6&63),l(128|h&63);return}else if(h<=1114111){l(240|h>>18),l(128|h>>12&63),l(128|h>>6&63),l(128|h&63);return}throw new Error(`Unrecognized Unicode codepoint: ${h.toString(16)}`)}function nw(h,l){for(let o=0;o<h.length;o+=1){let d=h.charCodeAt(o);if(d>55295&&d<=56319){const m=(d-55296)*1024&65535;d=(h.charCodeAt(o+1)-56320&65535|m)+65536,o+=1}tw(d,l)}}function iw(h,l,o){if(l.utf8seq===0){if(h<=127){o(h);return}for(let d=1;d<6;d+=1)if((h>>7-d&1)===0){l.utf8seq=d;break}if(l.utf8seq===2)l.codepoint=h&31;else if(l.utf8seq===3)l.codepoint=h&15;else if(l.utf8seq===4)l.codepoint=h&7;else throw new Error("Invalid UTF-8 sequence");l.utf8seq-=1}else if(l.utf8seq>0){if(h<=127)throw new Error("Invalid UTF-8 sequence");l.codepoint=l.codepoint<<6|h&63,l.utf8seq-=1,l.utf8seq===0&&o(l.codepoint)}}function rw(h){const l=[],o={queue:0,queuedBits:0},d=m=>{l.push(m)};for(let m=0;m<h.length;m+=1)gg(h.charCodeAt(m),o,d);return new Uint8Array(l)}function aw(h){const l=[];return nw(h,o=>l.push(o)),new Uint8Array(l)}function sw(h){const l=[],o={queue:0,queuedBits:0},d=m=>{l.push(m)};return h.forEach(m=>x2(m,o,d)),x2(null,o,d),l.join("")}function lw(h){return Math.round(Date.now()/1e3)+h}function ow(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(h){const l=Math.random()*16|0;return(h=="x"?l:l&3|8).toString(16)})}const Mi=()=>typeof window<"u"&&typeof document<"u",Va={tested:!1,writable:!1},mg=()=>{if(!Mi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Va.tested)return Va.writable;const h=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(h,h),globalThis.localStorage.removeItem(h),Va.tested=!0,Va.writable=!0}catch{Va.tested=!0,Va.writable=!1}return Va.writable};function uw(h){const l={},o=new URL(h);if(o.hash&&o.hash[0]==="#")try{new URLSearchParams(o.hash.substring(1)).forEach((m,x)=>{l[x]=m})}catch{}return o.searchParams.forEach((d,m)=>{l[m]=d}),l}const xg=h=>{let l;return h?l=h:typeof fetch>"u"?l=(...o)=>wo(async()=>{const{default:d}=await Promise.resolve().then(()=>il);return{default:d}},void 0).then(({default:d})=>d(...o)):l=fetch,(...o)=>l(...o)},cw=h=>typeof h=="object"&&h!==null&&"status"in h&&"ok"in h&&"json"in h&&typeof h.json=="function",Zs=async(h,l,o)=>{await h.setItem(l,JSON.stringify(o))},Xa=async(h,l)=>{const o=await h.getItem(l);if(!o)return null;try{return JSON.parse(o)}catch{return o}},ca=async(h,l)=>{await h.removeItem(l)};class Ju{constructor(){this.promise=new Ju.promiseConstructor((l,o)=>{this.resolve=l,this.reject=o})}}Ju.promiseConstructor=Promise;function o0(h){const l=h.split(".");if(l.length!==3)throw new A0("Invalid JWT structure");for(let d=0;d<l.length;d++)if(!Wp.test(l[d]))throw new A0("JWT not in base64url format");return{header:JSON.parse(p2(l[0])),payload:JSON.parse(p2(l[1])),signature:rw(l[2]),raw:{header:l[0],payload:l[1]}}}async function fw(h){return await new Promise(l=>{setTimeout(()=>l(null),h)})}function hw(h,l){return new Promise((d,m)=>{(async()=>{for(let x=0;x<1/0;x++)try{const b=await h(x);if(!l(x,null,b)){d(b);return}}catch(b){if(!l(x,b)){m(b);return}}})()})}function dw(h){return("0"+h.toString(16)).substr(-2)}function gw(){const l=new Uint32Array(56);if(typeof crypto>"u"){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",d=o.length;let m="";for(let x=0;x<56;x++)m+=o.charAt(Math.floor(Math.random()*d));return m}return crypto.getRandomValues(l),Array.from(l,dw).join("")}async function mw(h){const o=new TextEncoder().encode(h),d=await crypto.subtle.digest("SHA-256",o),m=new Uint8Array(d);return Array.from(m).map(x=>String.fromCharCode(x)).join("")}async function xw(h){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),h;const o=await mw(h);return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vs(h,l,o=!1){const d=gw();let m=d;o&&(m+="/PASSWORD_RECOVERY"),await Zs(h,`${l}-code-verifier`,m);const x=await xw(d);return[x,d===x?"plain":"s256"]}const pw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ww(h){const l=h.headers.get(v0);if(!l||!l.match(pw))return null;try{return new Date(`${l}T00:00:00.0Z`)}catch{return null}}function yw(h){if(!h)throw new Error("Missing exp claim");const l=Math.floor(Date.now()/1e3);if(h<=l)throw new Error("JWT has expired")}function Ew(h){switch(h){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xs(h){if(!vw.test(h))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function u0(){const h={};return new Proxy(h,{get:(l,o)=>{if(o==="__isUserNotAvailableProxy")return!0;if(typeof o=="symbol"){const d=o.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${o}" property of the session object is not supported. Please use getUser() instead.`)},set:(l,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(l,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function w2(h){return JSON.parse(JSON.stringify(h))}var bw=function(h,l){var o={};for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&l.indexOf(d)<0&&(o[d]=h[d]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,d=Object.getOwnPropertySymbols(h);m<d.length;m++)l.indexOf(d[m])<0&&Object.prototype.propertyIsEnumerable.call(h,d[m])&&(o[d[m]]=h[d[m]]);return o};const qa=h=>h.msg||h.message||h.error_description||h.error||JSON.stringify(h),Aw=[502,503,504];async function y2(h){var l;if(!cw(h))throw new b0(qa(h),0);if(Aw.includes(h.status))throw new b0(qa(h),h.status);let o;try{o=await h.json()}catch(x){throw new dg(qa(x),x)}let d;const m=ww(h);if(m&&m.getTime()>=hg["2024-01-01"].timestamp&&typeof o=="object"&&o&&typeof o.code=="string"?d=o.code:typeof o=="object"&&o&&typeof o.error_code=="string"&&(d=o.error_code),d){if(d==="weak_password")throw new g2(qa(o),h.status,((l=o.weak_password)===null||l===void 0?void 0:l.reasons)||[]);if(d==="session_not_found")throw new ha}else if(typeof o=="object"&&o&&typeof o.weak_password=="object"&&o.weak_password&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.reasons.reduce((x,b)=>x&&typeof b=="string",!0))throw new g2(qa(o),h.status,o.weak_password.reasons);throw new Kp(qa(o),h.status||500,d)}const Cw=(h,l,o,d)=>{const m={method:h,headers:l?.headers||{}};return h==="GET"?m:(m.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},l?.headers),m.body=JSON.stringify(d),Object.assign(Object.assign({},m),o))};async function rt(h,l,o,d){var m;const x=Object.assign({},d?.headers);x[v0]||(x[v0]=hg["2024-01-01"].name),d?.jwt&&(x.Authorization=`Bearer ${d.jwt}`);const b=(m=d?.query)!==null&&m!==void 0?m:{};d?.redirectTo&&(b.redirect_to=d.redirectTo);const _=Object.keys(b).length?"?"+new URLSearchParams(b).toString():"",A=await _w(h,l,o+_,{headers:x,noResolveJson:d?.noResolveJson},{},d?.body);return d?.xform?d?.xform(A):{data:Object.assign({},A),error:null}}async function _w(h,l,o,d,m,x){const b=Cw(l,d,m,x);let _;try{_=await h(o,Object.assign({},b))}catch(A){throw console.error(A),new b0(qa(A),0)}if(_.ok||await y2(_),d?.noResolveJson)return _;try{return await _.json()}catch(A){await y2(A)}}function _r(h){var l;let o=null;Rw(h)&&(o=Object.assign({},h),h.expires_at||(o.expires_at=lw(h.expires_in)));const d=(l=h.user)!==null&&l!==void 0?l:h;return{data:{session:o,user:d},error:null}}function E2(h){const l=_r(h);return!l.error&&h.weak_password&&typeof h.weak_password=="object"&&Array.isArray(h.weak_password.reasons)&&h.weak_password.reasons.length&&h.weak_password.message&&typeof h.weak_password.message=="string"&&h.weak_password.reasons.reduce((o,d)=>o&&typeof d=="string",!0)&&(l.data.weak_password=h.weak_password),l}function da(h){var l;return{data:{user:(l=h.user)!==null&&l!==void 0?l:h},error:null}}function Sw(h){return{data:h,error:null}}function Tw(h){const{action_link:l,email_otp:o,hashed_token:d,redirect_to:m,verification_type:x}=h,b=bw(h,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),_={action_link:l,email_otp:o,hashed_token:d,redirect_to:m,verification_type:x},A=Object.assign({},b);return{data:{properties:_,user:A},error:null}}function Ow(h){return h}function Rw(h){return h.access_token&&h.refresh_token&&h.expires_in}const c0=["global","local","others"];var Nw=function(h,l){var o={};for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&l.indexOf(d)<0&&(o[d]=h[d]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,d=Object.getOwnPropertySymbols(h);m<d.length;m++)l.indexOf(d[m])<0&&Object.prototype.propertyIsEnumerable.call(h,d[m])&&(o[d[m]]=h[d[m]]);return o};class Iw{constructor({url:l="",headers:o={},fetch:d}){this.url=l,this.headers=o,this.fetch=xg(d),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(l,o=c0[0]){if(c0.indexOf(o)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${c0.join(", ")}`);try{return await rt(this.fetch,"POST",`${this.url}/logout?scope=${o}`,{headers:this.headers,jwt:l,noResolveJson:!0}),{data:null,error:null}}catch(d){if(qe(d))return{data:null,error:d};throw d}}async inviteUserByEmail(l,o={}){try{return await rt(this.fetch,"POST",`${this.url}/invite`,{body:{email:l,data:o.data},headers:this.headers,redirectTo:o.redirectTo,xform:da})}catch(d){if(qe(d))return{data:{user:null},error:d};throw d}}async generateLink(l){try{const{options:o}=l,d=Nw(l,["options"]),m=Object.assign(Object.assign({},d),o);return"newEmail"in d&&(m.new_email=d?.newEmail,delete m.newEmail),await rt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:m,headers:this.headers,xform:Tw,redirectTo:o?.redirectTo})}catch(o){if(qe(o))return{data:{properties:null,user:null},error:o};throw o}}async createUser(l){try{return await rt(this.fetch,"POST",`${this.url}/admin/users`,{body:l,headers:this.headers,xform:da})}catch(o){if(qe(o))return{data:{user:null},error:o};throw o}}async listUsers(l){var o,d,m,x,b,_,A;try{const y={nextPage:null,lastPage:0,total:0},C=await rt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(d=(o=l?.page)===null||o===void 0?void 0:o.toString())!==null&&d!==void 0?d:"",per_page:(x=(m=l?.perPage)===null||m===void 0?void 0:m.toString())!==null&&x!==void 0?x:""},xform:Ow});if(C.error)throw C.error;const O=await C.json(),B=(b=C.headers.get("x-total-count"))!==null&&b!==void 0?b:0,P=(A=(_=C.headers.get("link"))===null||_===void 0?void 0:_.split(","))!==null&&A!==void 0?A:[];return P.length>0&&(P.forEach(z=>{const X=parseInt(z.split(";")[0].split("=")[1].substring(0,1)),Y=JSON.parse(z.split(";")[1].split("=")[1]);y[`${Y}Page`]=X}),y.total=parseInt(B)),{data:Object.assign(Object.assign({},O),y),error:null}}catch(y){if(qe(y))return{data:{users:[]},error:y};throw y}}async getUserById(l){Xs(l);try{return await rt(this.fetch,"GET",`${this.url}/admin/users/${l}`,{headers:this.headers,xform:da})}catch(o){if(qe(o))return{data:{user:null},error:o};throw o}}async updateUserById(l,o){Xs(l);try{return await rt(this.fetch,"PUT",`${this.url}/admin/users/${l}`,{body:o,headers:this.headers,xform:da})}catch(d){if(qe(d))return{data:{user:null},error:d};throw d}}async deleteUser(l,o=!1){Xs(l);try{return await rt(this.fetch,"DELETE",`${this.url}/admin/users/${l}`,{headers:this.headers,body:{should_soft_delete:o},xform:da})}catch(d){if(qe(d))return{data:{user:null},error:d};throw d}}async _listFactors(l){Xs(l.userId);try{const{data:o,error:d}=await rt(this.fetch,"GET",`${this.url}/admin/users/${l.userId}/factors`,{headers:this.headers,xform:m=>({data:{factors:m},error:null})});return{data:o,error:d}}catch(o){if(qe(o))return{data:null,error:o};throw o}}async _deleteFactor(l){Xs(l.userId),Xs(l.id);try{return{data:await rt(this.fetch,"DELETE",`${this.url}/admin/users/${l.userId}/factors/${l.id}`,{headers:this.headers}),error:null}}catch(o){if(qe(o))return{data:null,error:o};throw o}}}function v2(h={}){return{getItem:l=>h[l]||null,setItem:(l,o)=>{h[l]=o},removeItem:l=>{delete h[l]}}}function Dw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const qs={debug:!!(globalThis&&mg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pg extends Error{constructor(l){super(l),this.isAcquireTimeout=!0}}class Mw extends pg{}async function Bw(h,l,o){qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",h,l);const d=new globalThis.AbortController;return l>0&&setTimeout(()=>{d.abort(),qs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",h)},l),await Promise.resolve().then(()=>globalThis.navigator.locks.request(h,l===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:d.signal},async m=>{if(m){qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",h,m.name);try{return await o()}finally{qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",h,m.name)}}else{if(l===0)throw qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",h),new Mw(`Acquiring an exclusive Navigator LockManager lock "${h}" immediately failed`);if(qs.debug)try{const x=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(x,null,"  "))}catch(x){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",x)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await o()}}))}Dw();const Lw={url:Xp,storageKey:qp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Yp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function b2(h,l,o){return await o()}const Ys={};class mo{constructor(l){var o,d;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=mo.nextInstanceID,mo.nextInstanceID+=1,this.instanceID>0&&Mi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const m=Object.assign(Object.assign({},Lw),l);if(this.logDebugMessages=!!m.debug,typeof m.debug=="function"&&(this.logger=m.debug),this.persistSession=m.persistSession,this.storageKey=m.storageKey,this.autoRefreshToken=m.autoRefreshToken,this.admin=new Iw({url:m.url,headers:m.headers,fetch:m.fetch}),this.url=m.url,this.headers=m.headers,this.fetch=xg(m.fetch),this.lock=m.lock||b2,this.detectSessionInUrl=m.detectSessionInUrl,this.flowType=m.flowType,this.hasCustomAuthorizationHeader=m.hasCustomAuthorizationHeader,m.lock?this.lock=m.lock:Mi()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=Bw:this.lock=b2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(m.storage?this.storage=m.storage:mg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=v2(this.memoryStorage)),m.userStorage&&(this.userStorage=m.userStorage)):(this.memoryStorage={},this.storage=v2(this.memoryStorage)),Mi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(x){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",x)}(d=this.broadcastChannel)===null||d===void 0||d.addEventListener("message",async x=>{this._debug("received broadcast notification from other tab or client",x),await this._notifyAllSubscribers(x.data.event,x.data.session,!1)})}this.initialize()}get jwks(){var l,o;return(o=(l=Ys[this.storageKey])===null||l===void 0?void 0:l.jwks)!==null&&o!==void 0?o:{keys:[]}}set jwks(l){Ys[this.storageKey]=Object.assign(Object.assign({},Ys[this.storageKey]),{jwks:l})}get jwks_cached_at(){var l,o;return(o=(l=Ys[this.storageKey])===null||l===void 0?void 0:l.cachedAt)!==null&&o!==void 0?o:Number.MIN_SAFE_INTEGER}set jwks_cached_at(l){Ys[this.storageKey]=Object.assign(Object.assign({},Ys[this.storageKey]),{cachedAt:l})}_debug(...l){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${fg}) ${new Date().toISOString()}`,...l),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var l;try{const o=uw(window.location.href);let d="none";if(this._isImplicitGrantCallback(o)?d="implicit":await this._isPKCECallback(o)&&(d="pkce"),Mi()&&this.detectSessionInUrl&&d!=="none"){const{data:m,error:x}=await this._getSessionFromURL(o,d);if(x){if(this._debug("#_initialize()","error detecting session from URL",x),$p(x)){const A=(l=x.details)===null||l===void 0?void 0:l.code;if(A==="identity_already_exists"||A==="identity_not_found"||A==="single_identity_not_deletable")return{error:x}}return await this._removeSession(),{error:x}}const{session:b,redirectType:_}=m;return this._debug("#_initialize()","detected session in URL",b,"redirect type",_),await this._saveSession(b),setTimeout(async()=>{_==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",b):await this._notifyAllSubscribers("SIGNED_IN",b)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(o){return qe(o)?{error:o}:{error:new dg("Unexpected error during initialization",o)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(l){var o,d,m;try{const x=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(d=(o=l?.options)===null||o===void 0?void 0:o.data)!==null&&d!==void 0?d:{},gotrue_meta_security:{captcha_token:(m=l?.options)===null||m===void 0?void 0:m.captchaToken}},xform:_r}),{data:b,error:_}=x;if(_||!b)return{data:{user:null,session:null},error:_};const A=b.session,y=b.user;return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",A)),{data:{user:y,session:A},error:null}}catch(x){if(qe(x))return{data:{user:null,session:null},error:x};throw x}}async signUp(l){var o,d,m;try{let x;if("email"in l){const{email:C,password:O,options:B}=l;let P=null,z=null;this.flowType==="pkce"&&([P,z]=await Vs(this.storage,this.storageKey)),x=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:B?.emailRedirectTo,body:{email:C,password:O,data:(o=B?.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:B?.captchaToken},code_challenge:P,code_challenge_method:z},xform:_r})}else if("phone"in l){const{phone:C,password:O,options:B}=l;x=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:C,password:O,data:(d=B?.data)!==null&&d!==void 0?d:{},channel:(m=B?.channel)!==null&&m!==void 0?m:"sms",gotrue_meta_security:{captcha_token:B?.captchaToken}},xform:_r})}else throw new Pu("You must provide either an email or phone number and a password");const{data:b,error:_}=x;if(_||!b)return{data:{user:null,session:null},error:_};const A=b.session,y=b.user;return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",A)),{data:{user:y,session:A},error:null}}catch(x){if(qe(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithPassword(l){try{let o;if("email"in l){const{email:x,password:b,options:_}=l;o=await rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:x,password:b,gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:E2})}else if("phone"in l){const{phone:x,password:b,options:_}=l;o=await rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:x,password:b,gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:E2})}else throw new Pu("You must provide either an email or phone number and a password");const{data:d,error:m}=o;return m?{data:{user:null,session:null},error:m}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new ku}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign({user:d.user,session:d.session},d.weak_password?{weakPassword:d.weak_password}:null),error:m})}catch(o){if(qe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithOAuth(l){var o,d,m,x;return await this._handleProviderSignIn(l.provider,{redirectTo:(o=l.options)===null||o===void 0?void 0:o.redirectTo,scopes:(d=l.options)===null||d===void 0?void 0:d.scopes,queryParams:(m=l.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:(x=l.options)===null||x===void 0?void 0:x.skipBrowserRedirect})}async exchangeCodeForSession(l){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(l))}async signInWithWeb3(l){const{chain:o}=l;if(o==="solana")return await this.signInWithSolana(l);throw new Error(`@supabase/auth-js: Unsupported chain "${o}"`)}async signInWithSolana(l){var o,d,m,x,b,_,A,y,C,O,B,P;let z,X;if("message"in l)z=l.message,X=l.signature;else{const{chain:Y,wallet:se,statement:xe,options:G}=l;let le;if(Mi())if(typeof se=="object")le=se;else{const Ce=window;if("solana"in Ce&&typeof Ce.solana=="object"&&("signIn"in Ce.solana&&typeof Ce.solana.signIn=="function"||"signMessage"in Ce.solana&&typeof Ce.solana.signMessage=="function"))le=Ce.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof se!="object"||!G?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");le=se}const we=new URL((o=G?.url)!==null&&o!==void 0?o:window.location.href);if("signIn"in le&&le.signIn){const Ce=await le.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},G?.signInWithSolana),{version:"1",domain:we.host,uri:we.href}),xe?{statement:xe}:null));let ae;if(Array.isArray(Ce)&&Ce[0]&&typeof Ce[0]=="object")ae=Ce[0];else if(Ce&&typeof Ce=="object"&&"signedMessage"in Ce&&"signature"in Ce)ae=Ce;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ae&&"signature"in ae&&(typeof ae.signedMessage=="string"||ae.signedMessage instanceof Uint8Array)&&ae.signature instanceof Uint8Array)z=typeof ae.signedMessage=="string"?ae.signedMessage:new TextDecoder().decode(ae.signedMessage),X=ae.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in le)||typeof le.signMessage!="function"||!("publicKey"in le)||typeof le!="object"||!le.publicKey||!("toBase58"in le.publicKey)||typeof le.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");z=[`${we.host} wants you to sign in with your Solana account:`,le.publicKey.toBase58(),...xe?["",xe,""]:[""],"Version: 1",`URI: ${we.href}`,`Issued At: ${(m=(d=G?.signInWithSolana)===null||d===void 0?void 0:d.issuedAt)!==null&&m!==void 0?m:new Date().toISOString()}`,...!((x=G?.signInWithSolana)===null||x===void 0)&&x.notBefore?[`Not Before: ${G.signInWithSolana.notBefore}`]:[],...!((b=G?.signInWithSolana)===null||b===void 0)&&b.expirationTime?[`Expiration Time: ${G.signInWithSolana.expirationTime}`]:[],...!((_=G?.signInWithSolana)===null||_===void 0)&&_.chainId?[`Chain ID: ${G.signInWithSolana.chainId}`]:[],...!((A=G?.signInWithSolana)===null||A===void 0)&&A.nonce?[`Nonce: ${G.signInWithSolana.nonce}`]:[],...!((y=G?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${G.signInWithSolana.requestId}`]:[],...!((O=(C=G?.signInWithSolana)===null||C===void 0?void 0:C.resources)===null||O===void 0)&&O.length?["Resources",...G.signInWithSolana.resources.map(ae=>`- ${ae}`)]:[]].join(`
`);const Ce=await le.signMessage(new TextEncoder().encode(z),"utf8");if(!Ce||!(Ce instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");X=Ce}}try{const{data:Y,error:se}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:z,signature:sw(X)},!((B=l.options)===null||B===void 0)&&B.captchaToken?{gotrue_meta_security:{captcha_token:(P=l.options)===null||P===void 0?void 0:P.captchaToken}}:null),xform:_r});if(se)throw se;return!Y||!Y.session||!Y.user?{data:{user:null,session:null},error:new ku}:(Y.session&&(await this._saveSession(Y.session),await this._notifyAllSubscribers("SIGNED_IN",Y.session)),{data:Object.assign({},Y),error:se})}catch(Y){if(qe(Y))return{data:{user:null,session:null},error:Y};throw Y}}async _exchangeCodeForSession(l){const o=await Xa(this.storage,`${this.storageKey}-code-verifier`),[d,m]=(o??"").split("/");try{const{data:x,error:b}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:l,code_verifier:d},xform:_r});if(await ca(this.storage,`${this.storageKey}-code-verifier`),b)throw b;return!x||!x.session||!x.user?{data:{user:null,session:null,redirectType:null},error:new ku}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign(Object.assign({},x),{redirectType:m??null}),error:b})}catch(x){if(qe(x))return{data:{user:null,session:null,redirectType:null},error:x};throw x}}async signInWithIdToken(l){try{const{options:o,provider:d,token:m,access_token:x,nonce:b}=l,_=await rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:d,id_token:m,access_token:x,nonce:b,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:_r}),{data:A,error:y}=_;return y?{data:{user:null,session:null},error:y}:!A||!A.session||!A.user?{data:{user:null,session:null},error:new ku}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:A,error:y})}catch(o){if(qe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithOtp(l){var o,d,m,x,b;try{if("email"in l){const{email:_,options:A}=l;let y=null,C=null;this.flowType==="pkce"&&([y,C]=await Vs(this.storage,this.storageKey));const{error:O}=await rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:_,data:(o=A?.data)!==null&&o!==void 0?o:{},create_user:(d=A?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:A?.captchaToken},code_challenge:y,code_challenge_method:C},redirectTo:A?.emailRedirectTo});return{data:{user:null,session:null},error:O}}if("phone"in l){const{phone:_,options:A}=l,{data:y,error:C}=await rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:_,data:(m=A?.data)!==null&&m!==void 0?m:{},create_user:(x=A?.shouldCreateUser)!==null&&x!==void 0?x:!0,gotrue_meta_security:{captcha_token:A?.captchaToken},channel:(b=A?.channel)!==null&&b!==void 0?b:"sms"}});return{data:{user:null,session:null,messageId:y?.message_id},error:C}}throw new Pu("You must provide either an email or phone number.")}catch(_){if(qe(_))return{data:{user:null,session:null},error:_};throw _}}async verifyOtp(l){var o,d;try{let m,x;"options"in l&&(m=(o=l.options)===null||o===void 0?void 0:o.redirectTo,x=(d=l.options)===null||d===void 0?void 0:d.captchaToken);const{data:b,error:_}=await rt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},l),{gotrue_meta_security:{captcha_token:x}}),redirectTo:m,xform:_r});if(_)throw _;if(!b)throw new Error("An error occurred on token verification.");const A=b.session,y=b.user;return A?.access_token&&(await this._saveSession(A),await this._notifyAllSubscribers(l.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",A)),{data:{user:y,session:A},error:null}}catch(m){if(qe(m))return{data:{user:null,session:null},error:m};throw m}}async signInWithSSO(l){var o,d,m;try{let x=null,b=null;return this.flowType==="pkce"&&([x,b]=await Vs(this.storage,this.storageKey)),await rt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in l?{provider_id:l.providerId}:null),"domain"in l?{domain:l.domain}:null),{redirect_to:(d=(o=l.options)===null||o===void 0?void 0:o.redirectTo)!==null&&d!==void 0?d:void 0}),!((m=l?.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:l.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:x,code_challenge_method:b}),headers:this.headers,xform:Sw})}catch(x){if(qe(x))return{data:null,error:x};throw x}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async l=>{const{data:{session:o},error:d}=l;if(d)throw d;if(!o)throw new ha;const{error:m}=await rt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:o.access_token});return{data:{user:null,session:null},error:m}})}catch(l){if(qe(l))return{data:{user:null,session:null},error:l};throw l}}async resend(l){try{const o=`${this.url}/resend`;if("email"in l){const{email:d,type:m,options:x}=l,{error:b}=await rt(this.fetch,"POST",o,{headers:this.headers,body:{email:d,type:m,gotrue_meta_security:{captcha_token:x?.captchaToken}},redirectTo:x?.emailRedirectTo});return{data:{user:null,session:null},error:b}}else if("phone"in l){const{phone:d,type:m,options:x}=l,{data:b,error:_}=await rt(this.fetch,"POST",o,{headers:this.headers,body:{phone:d,type:m,gotrue_meta_security:{captcha_token:x?.captchaToken}}});return{data:{user:null,session:null,messageId:b?.message_id},error:_}}throw new Pu("You must provide either an email or phone number and a type")}catch(o){if(qe(o))return{data:{user:null,session:null},error:o};throw o}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async o=>o))}async _acquireLock(l,o){this._debug("#_acquireLock","begin",l);try{if(this.lockAcquired){const d=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),m=(async()=>(await d,await o()))();return this.pendingInLock.push((async()=>{try{await m}catch{}})()),m}return await this.lock(`lock:${this.storageKey}`,l,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const d=o();for(this.pendingInLock.push((async()=>{try{await d}catch{}})()),await d;this.pendingInLock.length;){const m=[...this.pendingInLock];await Promise.all(m),this.pendingInLock.splice(0,m.length)}return await d}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(l){this._debug("#_useSession","begin");try{const o=await this.__loadSession();return await l(o)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let l=null;const o=await Xa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",o),o!==null&&(this._isValidSession(o)?l=o:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!l)return{data:{session:null},error:null};const d=l.expires_at?l.expires_at*1e3-Date.now()<s0:!1;if(this._debug("#__loadSession()",`session has${d?"":" not"} expired`,"expires_at",l.expires_at),!d){if(this.userStorage){const b=await Xa(this.userStorage,this.storageKey+"-user");b?.user?l.user=b.user:l.user=u0()}if(this.storage.isServer&&l.user){let b=this.suppressGetSessionWarning;l=new Proxy(l,{get:(A,y,C)=>(!b&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),b=!0,this.suppressGetSessionWarning=!0),Reflect.get(A,y,C))})}return{data:{session:l},error:null}}const{session:m,error:x}=await this._callRefreshToken(l.refresh_token);return x?{data:{session:null},error:x}:{data:{session:m},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(l){return l?await this._getUser(l):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(l){try{return l?await rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:l,xform:da}):await this._useSession(async o=>{var d,m,x;const{data:b,error:_}=o;if(_)throw _;return!(!((d=b.session)===null||d===void 0)&&d.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ha}:await rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(x=(m=b.session)===null||m===void 0?void 0:m.access_token)!==null&&x!==void 0?x:void 0,xform:da})})}catch(o){if(qe(o))return Jp(o)&&(await this._removeSession(),await ca(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:o};throw o}}async updateUser(l,o={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(l,o))}async _updateUser(l,o={}){try{return await this._useSession(async d=>{const{data:m,error:x}=d;if(x)throw x;if(!m.session)throw new ha;const b=m.session;let _=null,A=null;this.flowType==="pkce"&&l.email!=null&&([_,A]=await Vs(this.storage,this.storageKey));const{data:y,error:C}=await rt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:o?.emailRedirectTo,body:Object.assign(Object.assign({},l),{code_challenge:_,code_challenge_method:A}),jwt:b.access_token,xform:da});if(C)throw C;return b.user=y.user,await this._saveSession(b),await this._notifyAllSubscribers("USER_UPDATED",b),{data:{user:b.user},error:null}})}catch(d){if(qe(d))return{data:{user:null},error:d};throw d}}async setSession(l){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(l))}async _setSession(l){try{if(!l.access_token||!l.refresh_token)throw new ha;const o=Date.now()/1e3;let d=o,m=!0,x=null;const{payload:b}=o0(l.access_token);if(b.exp&&(d=b.exp,m=d<=o),m){const{session:_,error:A}=await this._callRefreshToken(l.refresh_token);if(A)return{data:{user:null,session:null},error:A};if(!_)return{data:{user:null,session:null},error:null};x=_}else{const{data:_,error:A}=await this._getUser(l.access_token);if(A)throw A;x={access_token:l.access_token,refresh_token:l.refresh_token,user:_.user,token_type:"bearer",expires_in:d-o,expires_at:d},await this._saveSession(x),await this._notifyAllSubscribers("SIGNED_IN",x)}return{data:{user:x.user,session:x},error:null}}catch(o){if(qe(o))return{data:{session:null,user:null},error:o};throw o}}async refreshSession(l){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(l))}async _refreshSession(l){try{return await this._useSession(async o=>{var d;if(!l){const{data:b,error:_}=o;if(_)throw _;l=(d=b.session)!==null&&d!==void 0?d:void 0}if(!l?.refresh_token)throw new ha;const{session:m,error:x}=await this._callRefreshToken(l.refresh_token);return x?{data:{user:null,session:null},error:x}:m?{data:{user:m.user,session:m},error:null}:{data:{user:null,session:null},error:null}})}catch(o){if(qe(o))return{data:{user:null,session:null},error:o};throw o}}async _getSessionFromURL(l,o){try{if(!Mi())throw new Uu("No browser detected.");if(l.error||l.error_description||l.error_code)throw new Uu(l.error_description||"Error in URL with unspecified error_description",{error:l.error||"unspecified_error",code:l.error_code||"unspecified_code"});switch(o){case"implicit":if(this.flowType==="pkce")throw new d2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Uu("Not a valid implicit grant flow url.");break;default:}if(o==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!l.code)throw new d2("No code detected.");const{data:xe,error:G}=await this._exchangeCodeForSession(l.code);if(G)throw G;const le=new URL(window.location.href);return le.searchParams.delete("code"),window.history.replaceState(window.history.state,"",le.toString()),{data:{session:xe.session,redirectType:null},error:null}}const{provider_token:d,provider_refresh_token:m,access_token:x,refresh_token:b,expires_in:_,expires_at:A,token_type:y}=l;if(!x||!_||!b||!y)throw new Uu("No session defined in URL");const C=Math.round(Date.now()/1e3),O=parseInt(_);let B=C+O;A&&(B=parseInt(A));const P=B-C;P*1e3<=Ws&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${P}s, should have been closer to ${O}s`);const z=B-O;C-z>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",z,B,C):C-z<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",z,B,C);const{data:X,error:Y}=await this._getUser(x);if(Y)throw Y;const se={provider_token:d,provider_refresh_token:m,access_token:x,expires_in:O,expires_at:B,refresh_token:b,token_type:y,user:X.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:se,redirectType:l.type},error:null}}catch(d){if(qe(d))return{data:{session:null,redirectType:null},error:d};throw d}}_isImplicitGrantCallback(l){return!!(l.access_token||l.error_description)}async _isPKCECallback(l){const o=await Xa(this.storage,`${this.storageKey}-code-verifier`);return!!(l.code&&o)}async signOut(l={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(l))}async _signOut({scope:l}={scope:"global"}){return await this._useSession(async o=>{var d;const{data:m,error:x}=o;if(x)return{error:x};const b=(d=m.session)===null||d===void 0?void 0:d.access_token;if(b){const{error:_}=await this.admin.signOut(b,l);if(_&&!(Qp(_)&&(_.status===404||_.status===401||_.status===403)))return{error:_}}return l!=="others"&&(await this._removeSession(),await ca(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(l){const o=ow(),d={id:o,callback:l,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",o),this.stateChangeEmitters.delete(o)}};return this._debug("#onAuthStateChange()","registered callback with id",o),this.stateChangeEmitters.set(o,d),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(o)})))(),{data:{subscription:d}}}async _emitInitialSession(l){return await this._useSession(async o=>{var d,m;try{const{data:{session:x},error:b}=o;if(b)throw b;await((d=this.stateChangeEmitters.get(l))===null||d===void 0?void 0:d.callback("INITIAL_SESSION",x)),this._debug("INITIAL_SESSION","callback id",l,"session",x)}catch(x){await((m=this.stateChangeEmitters.get(l))===null||m===void 0?void 0:m.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",l,"error",x),console.error(x)}})}async resetPasswordForEmail(l,o={}){let d=null,m=null;this.flowType==="pkce"&&([d,m]=await Vs(this.storage,this.storageKey,!0));try{return await rt(this.fetch,"POST",`${this.url}/recover`,{body:{email:l,code_challenge:d,code_challenge_method:m,gotrue_meta_security:{captcha_token:o.captchaToken}},headers:this.headers,redirectTo:o.redirectTo})}catch(x){if(qe(x))return{data:null,error:x};throw x}}async getUserIdentities(){var l;try{const{data:o,error:d}=await this.getUser();if(d)throw d;return{data:{identities:(l=o.user.identities)!==null&&l!==void 0?l:[]},error:null}}catch(o){if(qe(o))return{data:null,error:o};throw o}}async linkIdentity(l){var o;try{const{data:d,error:m}=await this._useSession(async x=>{var b,_,A,y,C;const{data:O,error:B}=x;if(B)throw B;const P=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,l.provider,{redirectTo:(b=l.options)===null||b===void 0?void 0:b.redirectTo,scopes:(_=l.options)===null||_===void 0?void 0:_.scopes,queryParams:(A=l.options)===null||A===void 0?void 0:A.queryParams,skipBrowserRedirect:!0});return await rt(this.fetch,"GET",P,{headers:this.headers,jwt:(C=(y=O.session)===null||y===void 0?void 0:y.access_token)!==null&&C!==void 0?C:void 0})});if(m)throw m;return Mi()&&!(!((o=l.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d?.url),{data:{provider:l.provider,url:d?.url},error:null}}catch(d){if(qe(d))return{data:{provider:l.provider,url:null},error:d};throw d}}async unlinkIdentity(l){try{return await this._useSession(async o=>{var d,m;const{data:x,error:b}=o;if(b)throw b;return await rt(this.fetch,"DELETE",`${this.url}/user/identities/${l.identity_id}`,{headers:this.headers,jwt:(m=(d=x.session)===null||d===void 0?void 0:d.access_token)!==null&&m!==void 0?m:void 0})})}catch(o){if(qe(o))return{data:null,error:o};throw o}}async _refreshAccessToken(l){const o=`#_refreshAccessToken(${l.substring(0,5)}...)`;this._debug(o,"begin");try{const d=Date.now();return await hw(async m=>(m>0&&await fw(200*Math.pow(2,m-1)),this._debug(o,"refreshing attempt",m),await rt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:l},headers:this.headers,xform:_r})),(m,x)=>{const b=200*Math.pow(2,m);return x&&l0(x)&&Date.now()+b-d<Ws})}catch(d){if(this._debug(o,"error",d),qe(d))return{data:{session:null,user:null},error:d};throw d}finally{this._debug(o,"end")}}_isValidSession(l){return typeof l=="object"&&l!==null&&"access_token"in l&&"refresh_token"in l&&"expires_at"in l}async _handleProviderSignIn(l,o){const d=await this._getUrlForProvider(`${this.url}/authorize`,l,{redirectTo:o.redirectTo,scopes:o.scopes,queryParams:o.queryParams});return this._debug("#_handleProviderSignIn()","provider",l,"options",o,"url",d),Mi()&&!o.skipBrowserRedirect&&window.location.assign(d),{data:{provider:l,url:d},error:null}}async _recoverAndRefresh(){var l,o;const d="#_recoverAndRefresh()";this._debug(d,"begin");try{const m=await Xa(this.storage,this.storageKey);if(m&&this.userStorage){let b=await Xa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!b&&(b={user:m.user},await Zs(this.userStorage,this.storageKey+"-user",b)),m.user=(l=b?.user)!==null&&l!==void 0?l:u0()}else if(m&&!m.user&&!m.user){const b=await Xa(this.storage,this.storageKey+"-user");b&&b?.user?(m.user=b.user,await ca(this.storage,this.storageKey+"-user"),await Zs(this.storage,this.storageKey,m)):m.user=u0()}if(this._debug(d,"session from storage",m),!this._isValidSession(m)){this._debug(d,"session is not valid"),m!==null&&await this._removeSession();return}const x=((o=m.expires_at)!==null&&o!==void 0?o:1/0)*1e3-Date.now()<s0;if(this._debug(d,`session has${x?"":" not"} expired with margin of ${s0}s`),x){if(this.autoRefreshToken&&m.refresh_token){const{error:b}=await this._callRefreshToken(m.refresh_token);b&&(console.error(b),l0(b)||(this._debug(d,"refresh failed with a non-retryable error, removing the session",b),await this._removeSession()))}}else if(m.user&&m.user.__isUserNotAvailableProxy===!0)try{const{data:b,error:_}=await this._getUser(m.access_token);!_&&b?.user?(m.user=b.user,await this._saveSession(m),await this._notifyAllSubscribers("SIGNED_IN",m)):this._debug(d,"could not get user data, skipping SIGNED_IN notification")}catch(b){console.error("Error getting user data:",b),this._debug(d,"error getting user data, skipping SIGNED_IN notification",b)}else await this._notifyAllSubscribers("SIGNED_IN",m)}catch(m){this._debug(d,"error",m),console.error(m);return}finally{this._debug(d,"end")}}async _callRefreshToken(l){var o,d;if(!l)throw new ha;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const m=`#_callRefreshToken(${l.substring(0,5)}...)`;this._debug(m,"begin");try{this.refreshingDeferred=new Ju;const{data:x,error:b}=await this._refreshAccessToken(l);if(b)throw b;if(!x.session)throw new ha;await this._saveSession(x.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",x.session);const _={session:x.session,error:null};return this.refreshingDeferred.resolve(_),_}catch(x){if(this._debug(m,"error",x),qe(x)){const b={session:null,error:x};return l0(x)||await this._removeSession(),(o=this.refreshingDeferred)===null||o===void 0||o.resolve(b),b}throw(d=this.refreshingDeferred)===null||d===void 0||d.reject(x),x}finally{this.refreshingDeferred=null,this._debug(m,"end")}}async _notifyAllSubscribers(l,o,d=!0){const m=`#_notifyAllSubscribers(${l})`;this._debug(m,"begin",o,`broadcast = ${d}`);try{this.broadcastChannel&&d&&this.broadcastChannel.postMessage({event:l,session:o});const x=[],b=Array.from(this.stateChangeEmitters.values()).map(async _=>{try{await _.callback(l,o)}catch(A){x.push(A)}});if(await Promise.all(b),x.length>0){for(let _=0;_<x.length;_+=1)console.error(x[_]);throw x[0]}}finally{this._debug(m,"end")}}async _saveSession(l){this._debug("#_saveSession()",l),this.suppressGetSessionWarning=!0;const o=Object.assign({},l),d=o.user&&o.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!d&&o.user&&await Zs(this.userStorage,this.storageKey+"-user",{user:o.user});const m=Object.assign({},o);delete m.user;const x=w2(m);await Zs(this.storage,this.storageKey,x)}else{const m=w2(o);await Zs(this.storage,this.storageKey,m)}}async _removeSession(){this._debug("#_removeSession()"),await ca(this.storage,this.storageKey),await ca(this.storage,this.storageKey+"-code-verifier"),await ca(this.storage,this.storageKey+"-user"),this.userStorage&&await ca(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const l=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{l&&Mi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",l)}catch(o){console.error("removing visibilitychange callback failed",o)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const l=setInterval(()=>this._autoRefreshTokenTick(),Ws);this.autoRefreshTicker=l,l&&typeof l=="object"&&typeof l.unref=="function"?l.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(l),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const l=this.autoRefreshTicker;this.autoRefreshTicker=null,l&&clearInterval(l)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const l=Date.now();try{return await this._useSession(async o=>{const{data:{session:d}}=o;if(!d||!d.refresh_token||!d.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const m=Math.floor((d.expires_at*1e3-l)/Ws);this._debug("#_autoRefreshTokenTick()",`access token expires in ${m} ticks, a tick lasts ${Ws}ms, refresh threshold is ${E0} ticks`),m<=E0&&await this._callRefreshToken(d.refresh_token)})}catch(o){console.error("Auto refresh tick failed with error. This is likely a transient error.",o)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(l){if(l.isAcquireTimeout||l instanceof pg)this._debug("auto refresh token tick lock not available");else throw l}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(l){console.error("_handleVisibilityChange",l)}}async _onVisibilityChanged(l){const o=`#_onVisibilityChanged(${l})`;this._debug(o,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),l||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(o,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(l,o,d){const m=[`provider=${encodeURIComponent(o)}`];if(d?.redirectTo&&m.push(`redirect_to=${encodeURIComponent(d.redirectTo)}`),d?.scopes&&m.push(`scopes=${encodeURIComponent(d.scopes)}`),this.flowType==="pkce"){const[x,b]=await Vs(this.storage,this.storageKey),_=new URLSearchParams({code_challenge:`${encodeURIComponent(x)}`,code_challenge_method:`${encodeURIComponent(b)}`});m.push(_.toString())}if(d?.queryParams){const x=new URLSearchParams(d.queryParams);m.push(x.toString())}return d?.skipBrowserRedirect&&m.push(`skip_http_redirect=${d.skipBrowserRedirect}`),`${l}?${m.join("&")}`}async _unenroll(l){try{return await this._useSession(async o=>{var d;const{data:m,error:x}=o;return x?{data:null,error:x}:await rt(this.fetch,"DELETE",`${this.url}/factors/${l.factorId}`,{headers:this.headers,jwt:(d=m?.session)===null||d===void 0?void 0:d.access_token})})}catch(o){if(qe(o))return{data:null,error:o};throw o}}async _enroll(l){try{return await this._useSession(async o=>{var d,m;const{data:x,error:b}=o;if(b)return{data:null,error:b};const _=Object.assign({friendly_name:l.friendlyName,factor_type:l.factorType},l.factorType==="phone"?{phone:l.phone}:{issuer:l.issuer}),{data:A,error:y}=await rt(this.fetch,"POST",`${this.url}/factors`,{body:_,headers:this.headers,jwt:(d=x?.session)===null||d===void 0?void 0:d.access_token});return y?{data:null,error:y}:(l.factorType==="totp"&&(!((m=A?.totp)===null||m===void 0)&&m.qr_code)&&(A.totp.qr_code=`data:image/svg+xml;utf-8,${A.totp.qr_code}`),{data:A,error:null})})}catch(o){if(qe(o))return{data:null,error:o};throw o}}async _verify(l){return this._acquireLock(-1,async()=>{try{return await this._useSession(async o=>{var d;const{data:m,error:x}=o;if(x)return{data:null,error:x};const{data:b,error:_}=await rt(this.fetch,"POST",`${this.url}/factors/${l.factorId}/verify`,{body:{code:l.code,challenge_id:l.challengeId},headers:this.headers,jwt:(d=m?.session)===null||d===void 0?void 0:d.access_token});return _?{data:null,error:_}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+b.expires_in},b)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",b),{data:b,error:_})})}catch(o){if(qe(o))return{data:null,error:o};throw o}})}async _challenge(l){return this._acquireLock(-1,async()=>{try{return await this._useSession(async o=>{var d;const{data:m,error:x}=o;return x?{data:null,error:x}:await rt(this.fetch,"POST",`${this.url}/factors/${l.factorId}/challenge`,{body:{channel:l.channel},headers:this.headers,jwt:(d=m?.session)===null||d===void 0?void 0:d.access_token})})}catch(o){if(qe(o))return{data:null,error:o};throw o}})}async _challengeAndVerify(l){const{data:o,error:d}=await this._challenge({factorId:l.factorId});return d?{data:null,error:d}:await this._verify({factorId:l.factorId,challengeId:o.id,code:l.code})}async _listFactors(){const{data:{user:l},error:o}=await this.getUser();if(o)return{data:null,error:o};const d=l?.factors||[],m=d.filter(b=>b.factor_type==="totp"&&b.status==="verified"),x=d.filter(b=>b.factor_type==="phone"&&b.status==="verified");return{data:{all:d,totp:m,phone:x},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async l=>{var o,d;const{data:{session:m},error:x}=l;if(x)return{data:null,error:x};if(!m)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:b}=o0(m.access_token);let _=null;b.aal&&(_=b.aal);let A=_;((d=(o=m.user.factors)===null||o===void 0?void 0:o.filter(O=>O.status==="verified"))!==null&&d!==void 0?d:[]).length>0&&(A="aal2");const C=b.amr||[];return{data:{currentLevel:_,nextLevel:A,currentAuthenticationMethods:C},error:null}}))}async fetchJwk(l,o={keys:[]}){let d=o.keys.find(_=>_.kid===l);if(d)return d;const m=Date.now();if(d=this.jwks.keys.find(_=>_.kid===l),d&&this.jwks_cached_at+Zp>m)return d;const{data:x,error:b}=await rt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(b)throw b;return!x.keys||x.keys.length===0||(this.jwks=x,this.jwks_cached_at=m,d=x.keys.find(_=>_.kid===l),!d)?null:d}async getClaims(l,o={}){try{let d=l;if(!d){const{data:P,error:z}=await this.getSession();if(z||!P.session)return{data:null,error:z};d=P.session.access_token}const{header:m,payload:x,signature:b,raw:{header:_,payload:A}}=o0(d);o?.allowExpired||yw(x.exp);const y=!m.alg||m.alg.startsWith("HS")||!m.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(m.kid,o?.keys?{keys:o.keys}:o?.jwks);if(!y){const{error:P}=await this.getUser(d);if(P)throw P;return{data:{claims:x,header:m,signature:b},error:null}}const C=Ew(m.alg),O=await crypto.subtle.importKey("jwk",y,C,!0,["verify"]);if(!await crypto.subtle.verify(C,O,b,aw(`${_}.${A}`)))throw new A0("Invalid JWT signature");return{data:{claims:x,header:m,signature:b},error:null}}catch(d){if(qe(d))return{data:null,error:d};throw d}}}mo.nextInstanceID=0;const kw=mo;class Pw extends kw{constructor(l){super(l)}}var Uw=function(h,l,o,d){function m(x){return x instanceof o?x:new o(function(b){b(x)})}return new(o||(o=Promise))(function(x,b){function _(C){try{y(d.next(C))}catch(O){b(O)}}function A(C){try{y(d.throw(C))}catch(O){b(O)}}function y(C){C.done?x(C.value):m(C.value).then(_,A)}y((d=d.apply(h,l||[])).next())})};class Fw{constructor(l,o,d){var m,x,b;if(this.supabaseUrl=l,this.supabaseKey=o,!l)throw new Error("supabaseUrl is required.");if(!o)throw new Error("supabaseKey is required.");const _=Gp(l),A=new URL(_);this.realtimeUrl=new URL("realtime/v1",A),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",A),this.storageUrl=new URL("storage/v1",A),this.functionsUrl=new URL("functions/v1",A);const y=`sb-${A.hostname.split(".")[0]}-auth-token`,C={db:Lp,realtime:Pp,auth:Object.assign(Object.assign({},kp),{storageKey:y}),global:Bp},O=Vp(d??{},C);this.storageKey=(m=O.auth.storageKey)!==null&&m!==void 0?m:"",this.headers=(x=O.global.headers)!==null&&x!==void 0?x:{},O.accessToken?(this.accessToken=O.accessToken,this.auth=new Proxy({},{get:(B,P)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(P)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((b=O.auth)!==null&&b!==void 0?b:{},this.headers,O.global.fetch),this.fetch=zp(o,this._getAccessToken.bind(this),O.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},O.realtime)),this.rest=new tp(new URL("rest/v1",A).href,{headers:this.headers,schema:O.db.schema,fetch:this.fetch}),this.storage=new Ip(this.storageUrl.href,this.headers,this.fetch,d?.storage),O.accessToken||this._listenForAuthEvents()}get functions(){return new G3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(l){return this.rest.from(l)}schema(l){return this.rest.schema(l)}rpc(l,o={},d={}){return this.rest.rpc(l,o,d)}channel(l,o={config:{}}){return this.realtime.channel(l,o)}getChannels(){return this.realtime.getChannels()}removeChannel(l){return this.realtime.removeChannel(l)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var l,o;return Uw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:d}=yield this.auth.getSession();return(o=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:l,persistSession:o,detectSessionInUrl:d,storage:m,storageKey:x,flowType:b,lock:_,debug:A},y,C){const O={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Pw({url:this.authUrl.href,headers:Object.assign(Object.assign({},O),y),storageKey:x,autoRefreshToken:l,persistSession:o,detectSessionInUrl:d,storage:m,flowType:b,lock:_,debug:A,fetch:C,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(l){return new wp(this.realtimeUrl.href,Object.assign(Object.assign({},l),{params:Object.assign({apikey:this.supabaseKey},l?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((o,d)=>{this._handleTokenChanged(o,"CLIENT",d?.access_token)})}_handleTokenChanged(l,o,d){(l==="TOKEN_REFRESHED"||l==="SIGNED_IN")&&this.changedAccessToken!==d?this.changedAccessToken=d:l==="SIGNED_OUT"&&(this.realtime.setAuth(),o=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const jw=(h,l,o)=>new Fw(h,l,o);function zw(){if(typeof window<"u"||typeof process>"u")return!1;const h=process.version;if(h==null)return!1;const l=h.match(/^v(\d+)\./);return l?parseInt(l[1],10)<=18:!1}zw()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Hw="https://wzbqxtaeypjvmynqhkfj.supabase.co",Gw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind6YnF4dGFleXBqdm15bnFoa2ZqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4MjEzNjAsImV4cCI6MjA3MDM5NzM2MH0.mbflibCoH26AUvCWs0LOhuv5qrc8p1ZB2UF-V3MRlMM",nr=jw(Hw,Gw),wg=J.createContext(void 0),Vw=({children:h})=>{const[l,o]=J.useState(null),[d,m]=J.useState(!0);J.useEffect(()=>{nr.auth.getSession().then(({data:{session:y}})=>{o(y?.user??null),m(!1)});const{data:A}=nr.auth.onAuthStateChange((y,C)=>{o(C?.user??null),m(!1)});return()=>{A?.subscription.unsubscribe()}},[]);const x=async(A,y)=>{m(!0);const{error:C}=await nr.auth.signUp({email:A,password:y});if(C)throw C;m(!1)},b=async(A,y)=>{m(!0);const{error:C,data:O}=await nr.auth.signInWithPassword({email:A,password:y});if(C)throw C;m(!1),o(O.user??null)},_=async()=>{m(!0);const{error:A}=await nr.auth.signOut();if(A)throw A;o(null),m(!1)};return Q.jsx(wg.Provider,{value:{user:l,loading:d,signUp:x,signIn:b,signOut:_},children:h})},Eo=()=>{const h=J.useContext(wg);if(h===void 0)throw new Error("useAuth must be used within an AuthProvider");return h},yg=()=>Q.jsxs("div",{className:"loader-container",children:[Q.jsx("div",{className:"loader"}),Q.jsx("p",{children:"Chargement..."})]}),so=({children:h})=>{const{user:l,loading:o}=Eo();return o?Q.jsx(yg,{}):l?Q.jsx(Q.Fragment,{children:h}):Q.jsx(r3,{to:"/ShelfTracker/login",replace:!0})},Xw=()=>{const{signIn:h}=Eo(),[l,o]=J.useState(""),[d,m]=J.useState(""),[x,b]=J.useState(null),[_,A]=J.useState(!1),y=ma(),C=async O=>{O.preventDefault(),b(null),A(!0);try{await h(l,d),await y("/ShelfTracker")}catch(B){B instanceof Error?b(B.message):b("Une erreur inconnue est survenue")}finally{A(!1)}};return Q.jsxs(Q.Fragment,{children:[Q.jsxs("form",{className:"form",onSubmit:C,"aria-live":"polite",children:[Q.jsx("input",{className:"input",type:"email",placeholder:"Email",onChange:O=>o(O.target.value),value:l,required:!0}),Q.jsx("input",{className:"input",type:"password",placeholder:"Mot de passe",onChange:O=>m(O.target.value),value:d,required:!0}),Q.jsx("button",{className:"btn",type:"submit",disabled:_,children:_?"Chargement...":"Se connecter"})]}),x&&Q.jsx("p",{className:"error",role:"alert",children:x})]})};function qw(){return Q.jsx("div",{className:"root",children:Q.jsxs("div",{className:"card",children:[Q.jsx("h2",{className:"title",children:"Connexion"}),Q.jsx(Xw,{}),Q.jsxs("div",{className:"footer",children:[Q.jsx("span",{children:"Pas de compte ?"}),Q.jsx(Js,{className:"link",to:"/ShelfTracker/signup",end:!0,children:"S'inscrire"})]})]})})}const Eg="equipments",Yw=async()=>{const{data:h,error:l}=await nr.from(Eg).select("*").order("name",{ascending:!0});if(l)throw l;return h??[]},Ww=async h=>{const{data:l,error:o}=await nr.from(Eg).select("*").eq("id",h).single();if(o)throw o;return l},vg=J.createContext(void 0),Zw=({children:h})=>{const[l,o]=J.useState([]),d=b=>{l.some(_=>_.id===b.id)||o(_=>[..._,b])},m=b=>{o(_=>_.filter(A=>A.id!==b))},x=()=>o([]);return Q.jsx(vg.Provider,{value:{cart:l,addToCart:d,removeFromCart:m,clearCart:x},children:h})},rl=()=>{const h=J.useContext(vg);if(h===void 0)throw new Error("useCart must be used within an CartProvider");return h};var bg={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},A2=Pt.createContext&&Pt.createContext(bg),Kw=["attr","size","title"];function Qw(h,l){if(h==null)return{};var o=Jw(h,l),d,m;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(h);for(m=0;m<x.length;m++)d=x[m],!(l.indexOf(d)>=0)&&Object.prototype.propertyIsEnumerable.call(h,d)&&(o[d]=h[d])}return o}function Jw(h,l){if(h==null)return{};var o={};for(var d in h)if(Object.prototype.hasOwnProperty.call(h,d)){if(l.indexOf(d)>=0)continue;o[d]=h[d]}return o}function Vu(){return Vu=Object.assign?Object.assign.bind():function(h){for(var l=1;l<arguments.length;l++){var o=arguments[l];for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(h[d]=o[d])}return h},Vu.apply(this,arguments)}function C2(h,l){var o=Object.keys(h);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(h);l&&(d=d.filter(function(m){return Object.getOwnPropertyDescriptor(h,m).enumerable})),o.push.apply(o,d)}return o}function Xu(h){for(var l=1;l<arguments.length;l++){var o=arguments[l]!=null?arguments[l]:{};l%2?C2(Object(o),!0).forEach(function(d){$w(h,d,o[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(o)):C2(Object(o)).forEach(function(d){Object.defineProperty(h,d,Object.getOwnPropertyDescriptor(o,d))})}return h}function $w(h,l,o){return l=ey(l),l in h?Object.defineProperty(h,l,{value:o,enumerable:!0,configurable:!0,writable:!0}):h[l]=o,h}function ey(h){var l=ty(h,"string");return typeof l=="symbol"?l:l+""}function ty(h,l){if(typeof h!="object"||!h)return h;var o=h[Symbol.toPrimitive];if(o!==void 0){var d=o.call(h,l);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(h)}function Ag(h){return h&&h.map((l,o)=>Pt.createElement(l.tag,Xu({key:o},l.attr),Ag(l.child)))}function qt(h){return l=>Pt.createElement(ny,Vu({attr:Xu({},h.attr)},l),Ag(h.child))}function ny(h){var l=o=>{var{attr:d,size:m,title:x}=h,b=Qw(h,Kw),_=m||o.size||"1em",A;return o.className&&(A=o.className),h.className&&(A=(A?A+" ":"")+h.className),Pt.createElement("svg",Vu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},o.attr,d,b,{className:A,style:Xu(Xu({color:h.color||o.color},o.style),h.style),height:_,width:_,xmlns:"http://www.w3.org/2000/svg"}),x&&Pt.createElement("title",null,x),h.children)};return A2!==void 0?Pt.createElement(A2.Consumer,null,o=>l(o)):l(bg)}function iy(h){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 112v288m144-144H112"},child:[]}]})(h)}function ry(h){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M250.26 166.05 256 288l5.73-121.95a5.74 5.74 0 0 0-5.79-6h0a5.74 5.74 0 0 0-5.68 6z"},child:[]},{tag:"path",attr:{d:"M256 367.91a20 20 0 1 1 20-20 20 20 0 0 1-20 20z"},child:[]}]})(h)}function ay(h){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M454.65 169.4A31.82 31.82 0 0 0 432 160h-64v-16a112 112 0 0 0-224 0v16H80a32 32 0 0 0-32 32v216c0 39 33 72 72 72h272a72.22 72.22 0 0 0 50.48-20.55 69.48 69.48 0 0 0 21.52-50.2V192a31.75 31.75 0 0 0-9.35-22.6zM176 144a80 80 0 0 1 160 0v16H176zm192 96a112 112 0 0 1-224 0v-16a16 16 0 0 1 32 0v16a80 80 0 0 0 160 0v-16a16 16 0 0 1 32 0z"},child:[]}]})(h)}function sy(h){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 322.3V189.7A29.74 29.74 0 0 1 77.7 160h137.44l24.4-32H77.7A61.77 61.77 0 0 0 16 189.7v132.6A61.77 61.77 0 0 0 77.7 384h96.85a22.57 22.57 0 0 1 .26-7.32l.15-.75.21-.73 6.5-23.2H77.7A29.74 29.74 0 0 1 48 322.3zM386.3 128h-98.64a22.69 22.69 0 0 1-.27 7.2l-.15.74-.21.73-6.54 23.33H386.3a29.74 29.74 0 0 1 29.7 29.7v132.6a29.74 29.74 0 0 1-29.7 29.7H247l-24.42 32H386.3a61.77 61.77 0 0 0 61.7-61.7V189.7a61.77 61.77 0 0 0-61.7-61.7z"},child:[]},{tag:"path",attr:{d:"M162.65 294.16a24.37 24.37 0 0 1-21.56-13 25 25 0 0 1 1.42-25.83l.31-.46.33-.44L197.62 183H89.69a20 20 0 0 0-20 20v106a20 20 0 0 0 20 20h98.42l9.78-34.86z"},child:[]},{tag:"path",attr:{d:"m276.07 280.89 27.07-35.49a5.2 5.2 0 0 0 .77-1.91 5 5 0 0 0 .08-.66 5 5 0 0 0-.08-1.29 5.11 5.11 0 0 0-.68-1.75 4.76 4.76 0 0 0-.78-.95 3.48 3.48 0 0 0-.48-.38 4 4 0 0 0-1.11-.55 4.28 4.28 0 0 0-1.31-.2h-61.62l12.12-43.21 3.23-11.5 6.21-22.16.51-1.84 7.79-27.76a3.51 3.51 0 0 0 .05-.55v-.16c0-.05 0-.26-.05-.38s0-.09 0-.14a2.2 2.2 0 0 0-.17-.45 3.77 3.77 0 0 0-.26-.39l-.09-.1a2.73 2.73 0 0 0-.25-.23l-.1-.08a3.14 3.14 0 0 0-.39-.24 2 2 0 0 0-.41-.14h-.59a2.3 2.3 0 0 0-.45 0 1.9 1.9 0 0 0-.42.15l-.13.07-.3.21-.11.1a2.4 2.4 0 0 0-.36.41l-18 23.63-13.14 17.22-9.85 12.83-63.71 83.55a5.72 5.72 0 0 0-.44.8 4.78 4.78 0 0 0-.35 1.09 4.7 4.7 0 0 0-.08 1.29 4.86 4.86 0 0 0 2 3.71 4.74 4.74 0 0 0 .54.31 4.31 4.31 0 0 0 1.89.43h61.62L194.42 380.6a3.64 3.64 0 0 0 0 .56v.15a2.32 2.32 0 0 0 .06.38.58.58 0 0 0 0 .14 2.2 2.2 0 0 0 .17.45 3.62 3.62 0 0 0 .26.38l.09.1.25.24a.39.39 0 0 1 .1.08 2.22 2.22 0 0 0 .39.23 2.83 2.83 0 0 0 .41.14h.13a1.86 1.86 0 0 0 .33 0h.13a2.32 2.32 0 0 0 .45-.06 2.05 2.05 0 0 0 .41-.16l.13-.07.3-.21.11-.09a2.4 2.4 0 0 0 .36-.41L221.82 352l17.53-23z"},child:[]},{tag:"path",attr:{d:"m319.5 256.93-.46.6L264.51 329h109.8a20 20 0 0 0 20-20V203a20 20 0 0 0-20-20H274.05l-9.74 34.73h35.24A24.35 24.35 0 0 1 321 230.5a25.21 25.21 0 0 1-1 25.79zM480 202.67a16 16 0 0 0-16 16v74.66a16 16 0 0 0 32 0v-74.66a16 16 0 0 0-16-16z"},child:[]}]})(h)}function ly(h){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"256",cy:"272",r:"64"},child:[]},{tag:"path",attr:{d:"M432 144h-59c-3 0-6.72-1.94-9.62-5l-25.94-40.94a15.52 15.52 0 0 0-1.37-1.85C327.11 85.76 315 80 302 80h-92c-13 0-25.11 5.76-34.07 16.21a15.52 15.52 0 0 0-1.37 1.85l-25.94 41c-2.22 2.42-5.34 5-8.62 5v-8a16 16 0 0 0-16-16h-24a16 16 0 0 0-16 16v8h-4a48.05 48.05 0 0 0-48 48V384a48.05 48.05 0 0 0 48 48h352a48.05 48.05 0 0 0 48-48V192a48.05 48.05 0 0 0-48-48zM256 368a96 96 0 1 1 96-96 96.11 96.11 0 0 1-96 96z"},child:[]}]})(h)}function oy(h){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"176",cy:"416",r:"32"},child:[]},{tag:"circle",attr:{cx:"400",cy:"416",r:"32"},child:[]},{tag:"path",attr:{d:"M456.8 120.78a23.92 23.92 0 0 0-18.56-8.78H133.89l-6.13-34.78A16 16 0 0 0 112 64H48a16 16 0 0 0 0 32h50.58l45.66 258.78A16 16 0 0 0 160 368h256a16 16 0 0 0 0-32H173.42l-5.64-32h241.66A24.07 24.07 0 0 0 433 284.71l28.8-144a24 24 0 0 0-5-19.93z"},child:[]}]})(h)}function Cg(h){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M416 128 192 384l-96-96"},child:[]}]})(h)}function uy(h){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M328 112 184 256l144 144"},child:[]}]})(h)}function cy(h){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M253.72 202.53a4 4 0 0 0 4.56 0 151.88 151.88 0 0 1 128.44-20.41 4 4 0 0 0 5.15-4C388.8 105.86 329 48 256 48s-132.8 57.86-135.87 130.15a4 4 0 0 0 5.15 4 151.88 151.88 0 0 1 128.44 20.41zm151.59 10.03a152.53 152.53 0 0 1-83.08 108.23 4 4 0 0 0-2.28 3.69c0 1.17.05 2.34.05 3.52a151.58 151.58 0 0 1-47.15 109.94 4 4 0 0 0 .64 6.31A135.24 135.24 0 0 0 344 464c72.07 0 134.1-60.28 136-132.34a136.07 136.07 0 0 0-68.76-121.87 4 4 0 0 0-5.93 2.77z"},child:[]},{tag:"path",attr:{d:"M390.57 203.67a4 4 0 0 0-2.69-4.4 135.84 135.84 0 0 0-114.4 12.49 4 4 0 0 0-.64 6.29 151.92 151.92 0 0 1 44.47 81.4 4 4 0 0 0 5.94 2.72 136.29 136.29 0 0 0 67.32-98.5zM192 328c0-1.18 0-2.35.05-3.52a4 4 0 0 0-2.28-3.69 152.53 152.53 0 0 1-83.08-108.23 4 4 0 0 0-5.88-2.77 136.07 136.07 0 0 0-68.76 121.87C34 403.72 96 464 168.05 464a135.24 135.24 0 0 0 70.46-19.75 4 4 0 0 0 .64-6.31A151.58 151.58 0 0 1 192 328z"},child:[]},{tag:"path",attr:{d:"M168 192a135.34 135.34 0 0 0-43.88 7.27 4 4 0 0 0-2.69 4.4 136.29 136.29 0 0 0 67.32 98.5 4 4 0 0 0 5.94-2.72 151.92 151.92 0 0 1 44.47-81.4 4 4 0 0 0-.64-6.29A135.18 135.18 0 0 0 168 192zm88 144a151.44 151.44 0 0 1-42.72-6.12 4 4 0 0 0-5.15 4 135.69 135.69 0 0 0 45.18 95.4 4 4 0 0 0 5.38 0 135.69 135.69 0 0 0 45.18-95.4 4 4 0 0 0-5.15-4A151.44 151.44 0 0 1 256 336zm46.57-27.67a135.94 135.94 0 0 0-43.87-81.58 4.06 4.06 0 0 0-5.4 0 135.94 135.94 0 0 0-43.87 81.58 4 4 0 0 0 2.69 4.4 136.06 136.06 0 0 0 87.76 0 4 4 0 0 0 2.69-4.4z"},child:[]}]})(h)}function fy(h){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M448 341.37V170.61A32 32 0 0 0 432.11 143l-152-88.46a47.94 47.94 0 0 0-48.24 0L79.89 143A32 32 0 0 0 64 170.61v170.76A32 32 0 0 0 79.89 369l152 88.46a48 48 0 0 0 48.24 0l152-88.46A32 32 0 0 0 448 341.37z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m69 153.99 187 110 187-110m-187 310v-200"},child:[]}]})(h)}function hy(h){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.9 136.3a4 4 0 0 0 0-6.91L288.16 40.65a64.14 64.14 0 0 0-64.33 0L71.12 129.39a4 4 0 0 0 0 6.91L254 243.88a4 4 0 0 0 4.06 0zM54 163.51a4 4 0 0 0-6 3.49v173.89a48 48 0 0 0 23.84 41.39L234 479.51a4 4 0 0 0 6-3.46V274.3a4 4 0 0 0-2-3.46zM272 275v201a4 4 0 0 0 6 3.46l162.15-97.23A48 48 0 0 0 464 340.89V167a4 4 0 0 0-6-3.45l-184 108a4 4 0 0 0-2 3.45z"},child:[]}]})(h)}function dy(h){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M345.14 480H274a18 18 0 0 1-18-18v-27.71a31.32 31.32 0 0 0-9.71-22.77c-7.78-7.59-19.08-11.8-30.89-11.51-21.36.5-39.4 19.3-39.4 41.06V462a18 18 0 0 1-18 18H87.62A55.62 55.62 0 0 1 32 424.38V354a18 18 0 0 1 18-18h27.71c9.16 0 18.07-3.92 25.09-11a42.06 42.06 0 0 0 12.2-29.92C114.7 273.89 97.26 256 76.91 256H50a18 18 0 0 1-18-18v-70.38A55.62 55.62 0 0 1 87.62 112h55.24a8 8 0 0 0 8-8v-6.48A65.53 65.53 0 0 1 217.54 32c35.49.62 64.36 30.38 64.36 66.33V104a8 8 0 0 0 8 8h55.24A54.86 54.86 0 0 1 400 166.86v55.24a8 8 0 0 0 8 8h5.66c36.58 0 66.34 29 66.34 64.64 0 36.61-29.39 66.4-65.52 66.4H408a8 8 0 0 0-8 8v56A54.86 54.86 0 0 1 345.14 480z"},child:[]}]})(h)}function gy(h){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M194.82 496a18.36 18.36 0 0 1-18.1-21.53v-.11L204.83 320H96a16 16 0 0 1-12.44-26.06L302.73 23a18.45 18.45 0 0 1 32.8 13.71c0 .3-.08.59-.13.89L307.19 192H416a16 16 0 0 1 12.44 26.06L209.24 489a18.45 18.45 0 0 1-14.42 7z"},child:[]}]})(h)}function my(h){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M79.2 211.44c15.52-8.82 34.91-2.28 43.31 13.68l41.38 84.41a7 7 0 0 0 8.93 3.43 7 7 0 0 0 4.41-6.52V72c0-13.91 12.85-24 26.77-24s26 10.09 26 24v156.64A11.24 11.24 0 0 0 240.79 240 11 11 0 0 0 252 229V24c0-13.91 10.94-24 24.86-24S302 10.09 302 24v204.64A11.24 11.24 0 0 0 312.79 240 11 11 0 0 0 324 229V56c0-13.91 12.08-24 26-24s26 11.09 26 25v187.64A11.24 11.24 0 0 0 386.79 256 11 11 0 0 0 398 245V120c0-13.91 11.08-24 25-24s25.12 10.22 25 24v216c0 117.41-72 176-160 176h-16c-88 0-115.71-39.6-136-88L67.33 255c-6.66-18-3.64-34.75 11.87-43.56z"},child:[]}]})(h)}function xy(h){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M411.16 97.46C368.43 55.86 311.88 32 256 32S143.57 55.86 100.84 97.46C56.45 140.67 32 197 32 256c0 26.67 8.75 61.09 32.88 125.55S137 473 157.27 477.41c5.81 1.27 12.62 2.59 18.73 2.59a60.06 60.06 0 0 0 30-8l14-8c15.07-8.82 19.47-28.13 10.8-43.35l-86.92-152.57a31.73 31.73 0 0 0-43.57-11.76l-13.69 8a56.49 56.49 0 0 0-14 11.59 4 4 0 0 1-7-2A114.68 114.68 0 0 1 64 256c0-50.31 21-98.48 59.16-135.61C160 84.55 208.39 64 256 64s96 20.55 132.84 56.39C427 157.52 448 205.69 448 256a114.68 114.68 0 0 1-1.68 17.91 4 4 0 0 1-7 2 56.49 56.49 0 0 0-14-11.59l-13.69-8a31.73 31.73 0 0 0-43.57 11.76L281.2 420.65c-8.67 15.22-4.27 34.53 10.8 43.35l14 8a60.06 60.06 0 0 0 30 8c6.11 0 12.92-1.32 18.73-2.59C375 473 423 446 447.12 381.55S480 282.67 480 256c0-59-24.45-115.33-68.84-158.54z"},child:[]}]})(h)}function py(h){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M261.56 101.28a8 8 0 0 0-11.06 0L66.4 277.15a8 8 0 0 0-2.47 5.79L63.9 448a32 32 0 0 0 32 32H192a16 16 0 0 0 16-16V328a8 8 0 0 1 8-8h80a8 8 0 0 1 8 8v136a16 16 0 0 0 16 16h96.06a32 32 0 0 0 32-32V282.94a8 8 0 0 0-2.47-5.79z"},child:[]},{tag:"path",attr:{d:"m490.91 244.15-74.8-71.56V64a16 16 0 0 0-16-16h-48a16 16 0 0 0-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0 0 43 267.56L250.5 69.28a8 8 0 0 1 11.06 0l207.52 198.28a16 16 0 0 0 22.59-.44c6.14-6.36 5.63-16.86-.76-22.97z"},child:[]}]})(h)}function wy(h){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.64 64.58C313.18 43.57 286 32 256 32c-30.16 0-57.43 11.5-76.8 32.38-19.58 21.11-29.12 49.8-26.88 80.78C156.76 206.28 203.27 256 256 256s99.16-49.71 103.67-110.82c2.27-30.7-7.33-59.33-27.03-80.6zM432 480H80a31 31 0 0 1-24.2-11.13c-6.5-7.77-9.12-18.38-7.18-29.11C57.06 392.94 83.4 353.61 124.8 326c36.78-24.51 83.37-38 131.2-38s94.42 13.5 131.2 38c41.4 27.6 67.74 66.93 76.18 113.75 1.94 10.73-.68 21.34-7.18 29.11A31 31 0 0 1 432 480z"},child:[]}]})(h)}function yy(h){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 32H192a32 32 0 0 0-32 32v412a4 4 0 0 0 4 4h184a4 4 0 0 0 4-4V64a32 32 0 0 0-32-32zm144 160h-72a8 8 0 0 0-8 8v272a8 8 0 0 0 8 8h80a24 24 0 0 0 24-24V224a32 32 0 0 0-32-32zM48 128a32 32 0 0 0-32 32v296a24 24 0 0 0 24 24h80a8 8 0 0 0 8-8V136a8 8 0 0 0-8-8z"},child:[]}]})(h)}function Ey(h){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"80",height:"80",x:"336",y:"336",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"64",height:"64",x:"272",y:"272",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"64",height:"64",x:"416",y:"416",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"48",height:"48",x:"432",y:"272",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"48",height:"48",x:"272",y:"432",rx:"8",ry:"8"},child:[]},{tag:"path",attr:{d:"M448 32H304a32 32 0 0 0-32 32v144a32 32 0 0 0 32 32h144a32 32 0 0 0 32-32V64a32 32 0 0 0-32-32zm-32 136a8 8 0 0 1-8 8h-64a8 8 0 0 1-8-8v-64a8 8 0 0 1 8-8h64a8 8 0 0 1 8 8zM208 32H64a32 32 0 0 0-32 32v144a32 32 0 0 0 32 32h144a32 32 0 0 0 32-32V64a32 32 0 0 0-32-32zm-32 136a8 8 0 0 1-8 8h-64a8 8 0 0 1-8-8v-64a8 8 0 0 1 8-8h64a8 8 0 0 1 8 8zm32 104H64a32 32 0 0 0-32 32v144a32 32 0 0 0 32 32h144a32 32 0 0 0 32-32V304a32 32 0 0 0-32-32zm-32 136a8 8 0 0 1-8 8h-64a8 8 0 0 1-8-8v-64a8 8 0 0 1 8-8h64a8 8 0 0 1 8 8z"},child:[]}]})(h)}function vy(h){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M400 256H112"},child:[]}]})(h)}function by(h){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456.69 421.39 362.6 327.3a173.81 173.81 0 0 0 34.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 0 0 327.3 362.6l94.09 94.09a25 25 0 0 0 35.3-35.3zM97.92 222.72a124.8 124.8 0 1 1 124.8 124.8 124.95 124.95 0 0 1-124.8-124.8z"},child:[]}]})(h)}function Ay(h){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 118a22 22 0 0 1-22-22V48a22 22 0 0 1 44 0v48a22 22 0 0 1-22 22zm0 368a22 22 0 0 1-22-22v-48a22 22 0 0 1 44 0v48a22 22 0 0 1-22 22zm113.14-321.14a22 22 0 0 1-15.56-37.55l33.94-33.94a22 22 0 0 1 31.11 31.11l-33.94 33.94a21.93 21.93 0 0 1-15.55 6.44zM108.92 425.08a22 22 0 0 1-15.55-37.56l33.94-33.94a22 22 0 1 1 31.11 31.11l-33.94 33.94a21.94 21.94 0 0 1-15.56 6.45zM464 278h-48a22 22 0 0 1 0-44h48a22 22 0 0 1 0 44zm-368 0H48a22 22 0 0 1 0-44h48a22 22 0 0 1 0 44zm307.08 147.08a21.94 21.94 0 0 1-15.56-6.45l-33.94-33.94a22 22 0 0 1 31.11-31.11l33.94 33.94a22 22 0 0 1-15.55 37.56zM142.86 164.86a21.89 21.89 0 0 1-15.55-6.44l-33.94-33.94a22 22 0 0 1 31.11-31.11l33.94 33.94a22 22 0 0 1-15.56 37.55zM256 358a102 102 0 1 1 102-102 102.12 102.12 0 0 1-102 102z"},child:[]}]})(h)}function Cy(h){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M447.86 384H64.14A48.2 48.2 0 0 1 16 335.86V128.14A48.2 48.2 0 0 1 64.14 80h383.72A48.2 48.2 0 0 1 496 128.14v207.72A48.2 48.2 0 0 1 447.86 384z"},child:[]},{tag:"path",attr:{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M128 416h256"},child:[]}]})(h)}function _y(h){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 384.39a32 32 0 0 1-13-2.77 15.77 15.77 0 0 1-2.71-1.54l-82.71-58.22A32 32 0 0 1 352 295.7v-79.4a32 32 0 0 1 13.58-26.16l82.71-58.22a15.77 15.77 0 0 1 2.71-1.54 32 32 0 0 1 45 29.24v192.76a32 32 0 0 1-32 32zM268 400H84a68.07 68.07 0 0 1-68-68V180a68.07 68.07 0 0 1 68-68h184.48A67.6 67.6 0 0 1 336 179.52V332a68.07 68.07 0 0 1-68 68z"},child:[]}]})(h)}const _2={Sac:{icon:ay,color:"#4A90E2"},Lumière:{icon:Ay,color:"#FFD93D"},Flash:{icon:gy,color:"#FF5E5E"},Stabilisateur:{icon:_y,color:"#50E3C2"},Pied:{icon:yy,color:"#B8E986"},Objectif:{icon:ly,color:"#9B51E0"},Filtre:{icon:cy,color:"#FF8C42"},"Retour vidéo":{icon:Cy,color:"#2D9CDB"},"Accessoire caméra":{icon:dy,color:"#F2994A"},Son:{icon:xy,color:"#27AE60"},Grip:{icon:my,color:"#F2C94C"},Alimentation:{icon:sy,color:"#EB5757"},Autre:{icon:hy,color:"#888888"}},_g=({equipment:h})=>{const[l,o]=J.useState(!1),{addToCart:d,removeFromCart:m,cart:x}=rl(),b=h.type??"Autre",{icon:_,color:A}=_2[b]||_2.Autre;J.useEffect(()=>{x.find(C=>C.id===h.id)?o(!0):o(!1)},[x,h.id]);const y=()=>{if(l){m(h.id);return}d(h),o(!l)};return Q.jsxs("div",{className:"equipment-card",children:[Q.jsx("div",{className:"equipment-icon",style:{background:A},children:Q.jsx(_,{size:28})}),Q.jsxs("div",{className:"equipment-info",children:[Q.jsx("p",{className:"equipment-name",children:h.name}),Q.jsx("p",{className:"equipment-location",children:h.location??"Emplacement inconnu"})]}),Q.jsx("button",{className:"equipment-add-btn",onClick:y,children:l?Q.jsx(vy,{size:28,color:"lightcoral"}):Q.jsx(iy,{size:28,color:"lightgreen"})})]})},Sy=({value:h,onChange:l})=>{const[o,d]=J.useState(!0),[m,x]=J.useState(0);return J.useEffect(()=>{const b=()=>{const _=window.scrollY;_>m?d(!1):d(!0),x(_)};return window.addEventListener("scroll",b),()=>window.removeEventListener("scroll",b)},[m]),Q.jsxs("div",{className:`search-bar-container ${o?"visible":"hidden"}`,children:[Q.jsx("input",{type:"text",className:"search-bar",placeholder:"Rechercher un équipement...",value:h,onChange:b=>l(b.target.value)}),Q.jsx(by,{size:20,className:"search-icon"})]})},S2=({message:h})=>Q.jsxs("div",{className:"empty-state",children:[Q.jsx(fy,{size:64,className:"empty-icon"}),Q.jsx("p",{children:h??"Aucun élément trouvé."})]}),Sg=({equipments:h,loading:l,error:o,search:d,setSearch:m})=>{const x=h.filter(b=>b.name.toLowerCase().includes(d.toLowerCase())||(b.location?.toLowerCase().includes(d.toLowerCase())??!1));return l?Q.jsx(yg,{}):o?Q.jsx("p",{style:{color:"red"},children:o}):h.length===0?Q.jsx(S2,{message:"Aucun équipement trouvé."}):Q.jsxs("div",{className:"equipment-list-container",children:[Q.jsx(Sy,{value:d,onChange:m}),Q.jsx("div",{className:"equipment-list",children:x.length>0?x.map(b=>Q.jsx(_g,{equipment:b},b.id)):Q.jsx(S2,{message:"Aucun équipement trouvé."})})]})},Ty=()=>{const[h,l]=J.useState([]),[o,d]=J.useState(!0),[m,x]=J.useState(null),[b,_]=J.useState("");return J.useEffect(()=>{(async()=>{try{const y=await Yw();l(y)}catch(y){x(y instanceof Error?y.message:"Erreur inconnue")}finally{d(!1)}})()},[]),Q.jsx(Sg,{equipments:h,loading:o,error:m,search:b,setSearch:_})},Oy=({onClick:h})=>Q.jsx("div",{className:"fab-cart",onClick:h,children:Q.jsx(oy,{})}),$u=({title:h,backPath:l,cantGoBack:o})=>{const d=ma(),m=()=>{d(l||-1)};return Q.jsxs("header",{className:"topbar",children:[!o&&Q.jsx("button",{className:"back-button",onClick:m,"aria-label":"Retour",children:Q.jsx(uy,{size:24})}),Q.jsx("h1",{className:"topbar-title",children:h}),Q.jsx("div",{className:"topbar-spacer"})," "]})};function Ry(){const h=ma(),l=()=>{h("/ShelfTracker/cart")},{cart:o}=rl();return Q.jsxs("div",{children:[Q.jsx($u,{title:"Accueil",cantGoBack:!0}),Q.jsx(Ty,{}),o.length>0&&Q.jsx(Oy,{onClick:l})]})}const Ny=({onSuccess:h})=>{const{signUp:l}=Eo(),[o,d]=J.useState(""),[m,x]=J.useState(""),[b,_]=J.useState(null),[A,y]=J.useState(null),C=async O=>{O.preventDefault(),_(null),y(null);try{await l(o,m),y("Compte créé avec succès. Vérifiez vos emails pour confirmer."),h&&h()}catch(B){B instanceof Error?_(B.message):_("Une erreur inconnue est survenue")}};return Q.jsxs("form",{onSubmit:C,children:[Q.jsx("input",{type:"email",placeholder:"Email",onChange:O=>d(O.target.value),value:o,required:!0}),Q.jsx("input",{type:"password",placeholder:"Mot de passe",onChange:O=>x(O.target.value),value:m,required:!0}),Q.jsx("button",{type:"submit",children:"S'inscrire"}),b&&Q.jsx("p",{style:{color:"red"},children:b}),A&&Q.jsx("p",{style:{color:"green"},children:A})]})};function Iy(){const{user:h,loading:l}=Eo(),o=ma();return l?Q.jsx("div",{children:"Chargement..."}):h?(o("/ShelfTracker"),null):Q.jsxs("div",{children:[Q.jsx(Ny,{onSuccess:()=>o("/ShelfTracker")}),Q.jsx(Js,{to:"/ShelfTracker",children:"Déjà un compte ? Se connecter"})]})}var Te;(function(h){h[h.QR_CODE=0]="QR_CODE",h[h.AZTEC=1]="AZTEC",h[h.CODABAR=2]="CODABAR",h[h.CODE_39=3]="CODE_39",h[h.CODE_93=4]="CODE_93",h[h.CODE_128=5]="CODE_128",h[h.DATA_MATRIX=6]="DATA_MATRIX",h[h.MAXICODE=7]="MAXICODE",h[h.ITF=8]="ITF",h[h.EAN_13=9]="EAN_13",h[h.EAN_8=10]="EAN_8",h[h.PDF_417=11]="PDF_417",h[h.RSS_14=12]="RSS_14",h[h.RSS_EXPANDED=13]="RSS_EXPANDED",h[h.UPC_A=14]="UPC_A",h[h.UPC_E=15]="UPC_E",h[h.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Te||(Te={}));var T2=new Map([[Te.QR_CODE,"QR_CODE"],[Te.AZTEC,"AZTEC"],[Te.CODABAR,"CODABAR"],[Te.CODE_39,"CODE_39"],[Te.CODE_93,"CODE_93"],[Te.CODE_128,"CODE_128"],[Te.DATA_MATRIX,"DATA_MATRIX"],[Te.MAXICODE,"MAXICODE"],[Te.ITF,"ITF"],[Te.EAN_13,"EAN_13"],[Te.EAN_8,"EAN_8"],[Te.PDF_417,"PDF_417"],[Te.RSS_14,"RSS_14"],[Te.RSS_EXPANDED,"RSS_EXPANDED"],[Te.UPC_A,"UPC_A"],[Te.UPC_E,"UPC_E"],[Te.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),O2;(function(h){h[h.UNKNOWN=0]="UNKNOWN",h[h.URL=1]="URL"})(O2||(O2={}));function Dy(h){return Object.values(Te).includes(h)}var qu;(function(h){h[h.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",h[h.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(qu||(qu={}));var My=function(){function h(){}return h.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",h.SCAN_DEFAULT_FPS=2,h.DEFAULT_DISABLE_FLIP=!1,h.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,h.DEFAULT_SUPPORTED_SCAN_TYPE=[qu.SCAN_TYPE_CAMERA,qu.SCAN_TYPE_FILE],h}(),Tg=function(){function h(l,o){this.format=l,this.formatName=o}return h.prototype.toString=function(){return this.formatName},h.create=function(l){if(!T2.has(l))throw"".concat(l," not in html5QrcodeSupportedFormatsTextMap");return new h(l,T2.get(l))},h}(),R2=function(){function h(){}return h.createFromText=function(l){var o={text:l};return{decodedText:l,result:o}},h.createFromQrcodeResult=function(l){return{decodedText:l.text,result:l}},h}(),C0;(function(h){h[h.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",h[h.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",h[h.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(C0||(C0={}));var By=function(){function h(){}return h.createFrom=function(l){return{errorMessage:l,type:C0.UNKWOWN_ERROR}},h}(),Ly=function(){function h(l){this.verbose=l}return h.prototype.log=function(l){this.verbose&&console.log(l)},h.prototype.warn=function(l){this.verbose&&console.warn(l)},h.prototype.logError=function(l,o){(this.verbose||o===!0)&&console.error(l)},h.prototype.logErrors=function(l){if(l.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(l)},h}();function Sr(h){return typeof h>"u"||h===null}var Ks=function(){function h(){}return h.codeParseError=function(l){return"QR code parse error, error = ".concat(l)},h.errorGettingUserMedia=function(l){return"Error getting userMedia, error = ".concat(l)},h.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},h.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},h.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},h.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},h.scannerPaused=function(){return"Scanner paused"},h}(),Og=function(){function h(){}return h.isMediaStreamConstraintsValid=function(l,o){if(typeof l!="object"){var d=typeof l;return o.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(d,"."),!0),!1}for(var m=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],x=new Set(m),b=Object.keys(l),_=0,A=b;_<A.length;_++){var y=A[_];if(x.has(y))return o.logError("".concat(y," is not supported videoConstaints."),!0),!1}return!0},h}(),uo={exports:{}},ky=uo.exports,N2;function Py(){return N2||(N2=1,function(h,l){(function(o,d){d(l)})(ky,function(o){function d(R){return R==null}var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,t){R.__proto__=t}||function(R,t){for(var i in t)t.hasOwnProperty(i)&&(R[i]=t[i])};function x(R,t){m(R,t);function i(){this.constructor=R}R.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}function b(R,t){var i=Object.setPrototypeOf;i?i(R,t):R.__proto__=t}function _(R,t){t===void 0&&(t=R.constructor);var i=Error.captureStackTrace;i&&i(R,t)}var A=function(R){x(t,R);function t(i){var r=this.constructor,s=R.call(this,i)||this;return Object.defineProperty(s,"name",{value:r.name,enumerable:!1}),b(s,r.prototype),_(s),s}return t}(Error);class y extends A{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}y.kind="Exception";class C extends y{}C.kind="ArgumentException";class O extends y{}O.kind="IllegalArgumentException";class B{constructor(t){if(this.binarizer=t,t===null)throw new O("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,i){return this.binarizer.getBlackRow(t,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,i,r,s){const u=this.binarizer.getLuminanceSource().crop(t,i,r,s);return new B(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new B(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new B(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class P extends y{static getChecksumInstance(){return new P}}P.kind="ChecksumException";class z{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class X{static arraycopy(t,i,r,s,u){for(;u--;)r[s++]=t[i++]}static currentTimeMillis(){return Date.now()}}class Y extends y{}Y.kind="IndexOutOfBoundsException";class se extends Y{constructor(t=void 0,i=void 0){super(i),this.index=t,this.message=i}}se.kind="ArrayIndexOutOfBoundsException";class xe{static fill(t,i){for(let r=0,s=t.length;r<s;r++)t[r]=i}static fillWithin(t,i,r,s){xe.rangeCheck(t.length,i,r);for(let u=i;u<r;u++)t[u]=s}static rangeCheck(t,i,r){if(i>r)throw new O("fromIndex("+i+") > toIndex("+r+")");if(i<0)throw new se(i);if(r>t)throw new se(r)}static asList(...t){return t}static create(t,i,r){return Array.from({length:t}).map(u=>Array.from({length:i}).fill(r))}static createInt32Array(t,i,r){return Array.from({length:t}).map(u=>Int32Array.from({length:i}).fill(r))}static equals(t,i){if(!t||!i||!t.length||!i.length||t.length!==i.length)return!1;for(let r=0,s=t.length;r<s;r++)if(t[r]!==i[r])return!1;return!0}static hashCode(t){if(t===null)return 0;let i=1;for(const r of t)i=31*i+r;return i}static fillUint8Array(t,i){for(let r=0;r!==t.length;r++)t[r]=i}static copyOf(t,i){return t.slice(0,i)}static copyOfUint8Array(t,i){if(t.length<=i){const r=new Uint8Array(i);return r.set(t),r}return t.slice(0,i)}static copyOfRange(t,i,r){const s=r-i,u=new Int32Array(s);return X.arraycopy(t,i,u,0,s),u}static binarySearch(t,i,r){r===void 0&&(r=xe.numberComparator);let s=0,u=t.length-1;for(;s<=u;){const f=u+s>>1,g=r(i,t[f]);if(g>0)s=f+1;else if(g<0)u=f-1;else return f}return-s-1}static numberComparator(t,i){return t-i}}class G{static numberOfTrailingZeros(t){let i;if(t===0)return 32;let r=31;return i=t<<16,i!==0&&(r-=16,t=i),i=t<<8,i!==0&&(r-=8,t=i),i=t<<4,i!==0&&(r-=4,t=i),i=t<<2,i!==0&&(r-=2,t=i),r-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let i=1;return t>>>16||(i+=16,t<<=16),t>>>24||(i+=8,t<<=8),t>>>28||(i+=4,t<<=4),t>>>30||(i+=2,t<<=2),i-=t>>>31,i}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,i){return Math.trunc(t/i)}static parseInt(t,i=void 0){return parseInt(t,i)}}G.MIN_VALUE_32_BITS=-2147483648,G.MAX_VALUE=Number.MAX_SAFE_INTEGER;class le{constructor(t,i){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,i==null?this.bits=le.makeArray(t):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const i=le.makeArray(t);X.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const i=this.size;if(t>=i)return i;const r=this.bits;let s=Math.floor(t/32),u=r[s];u&=~((1<<(t&31))-1);const f=r.length;for(;u===0;){if(++s===f)return i;u=r[s]}const g=s*32+G.numberOfTrailingZeros(u);return g>i?i:g}getNextUnset(t){const i=this.size;if(t>=i)return i;const r=this.bits;let s=Math.floor(t/32),u=~r[s];u&=~((1<<(t&31))-1);const f=r.length;for(;u===0;){if(++s===f)return i;u=~r[s]}const g=s*32+G.numberOfTrailingZeros(u);return g>i?i:g}setBulk(t,i){this.bits[Math.floor(t/32)]=i}setRange(t,i){if(i<t||t<0||i>this.size)throw new O;if(i===t)return;i--;const r=Math.floor(t/32),s=Math.floor(i/32),u=this.bits;for(let f=r;f<=s;f++){const g=f>r?0:t&31,v=(2<<(f<s?31:i&31))-(1<<g);u[f]|=v}}clear(){const t=this.bits.length,i=this.bits;for(let r=0;r<t;r++)i[r]=0}isRange(t,i,r){if(i<t||t<0||i>this.size)throw new O;if(i===t)return!0;i--;const s=Math.floor(t/32),u=Math.floor(i/32),f=this.bits;for(let g=s;g<=u;g++){const w=g>s?0:t&31,S=(2<<(g<u?31:i&31))-(1<<w)&4294967295;if((f[g]&S)!==(r?S:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,i){if(i<0||i>32)throw new O("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let r=i;r>0;r--)this.appendBit((t>>r-1&1)===1)}appendBitArray(t){const i=t.size;this.ensureCapacity(this.size+i);for(let r=0;r<i;r++)this.appendBit(t.get(r))}xor(t){if(this.size!==t.size)throw new O("Sizes don't match");const i=this.bits;for(let r=0,s=i.length;r<s;r++)i[r]^=t.bits[r]}toBytes(t,i,r,s){for(let u=0;u<s;u++){let f=0;for(let g=0;g<8;g++)this.get(t)&&(f|=1<<7-g),t++;i[r+u]=f}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),r=i+1,s=this.bits;for(let u=0;u<r;u++){let f=s[u];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,t[i-u]=f}if(this.size!==r*32){const u=r*32-this.size;let f=t[0]>>>u;for(let g=1;g<r;g++){const w=t[g];f|=w<<32-u,t[g-1]=f,f=w>>>u}t[r-1]=f}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof le))return!1;const i=t;return this.size===i.size&&xe.equals(this.bits,i.bits)}hashCode(){return 31*this.size+xe.hashCode(this.bits)}toString(){let t="";for(let i=0,r=this.size;i<r;i++)(i&7)===0&&(t+=" "),t+=this.get(i)?"X":".";return t}clone(){return new le(this.size,this.bits.slice())}}var we;(function(R){R[R.OTHER=0]="OTHER",R[R.PURE_BARCODE=1]="PURE_BARCODE",R[R.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",R[R.TRY_HARDER=3]="TRY_HARDER",R[R.CHARACTER_SET=4]="CHARACTER_SET",R[R.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",R[R.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",R[R.ASSUME_GS1=7]="ASSUME_GS1",R[R.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",R[R.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",R[R.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(we||(we={}));var Ce=we;class ae extends y{static getFormatInstance(){return new ae}}ae.kind="FormatException";var Le;(function(R){R[R.Cp437=0]="Cp437",R[R.ISO8859_1=1]="ISO8859_1",R[R.ISO8859_2=2]="ISO8859_2",R[R.ISO8859_3=3]="ISO8859_3",R[R.ISO8859_4=4]="ISO8859_4",R[R.ISO8859_5=5]="ISO8859_5",R[R.ISO8859_6=6]="ISO8859_6",R[R.ISO8859_7=7]="ISO8859_7",R[R.ISO8859_8=8]="ISO8859_8",R[R.ISO8859_9=9]="ISO8859_9",R[R.ISO8859_10=10]="ISO8859_10",R[R.ISO8859_11=11]="ISO8859_11",R[R.ISO8859_13=12]="ISO8859_13",R[R.ISO8859_14=13]="ISO8859_14",R[R.ISO8859_15=14]="ISO8859_15",R[R.ISO8859_16=15]="ISO8859_16",R[R.SJIS=16]="SJIS",R[R.Cp1250=17]="Cp1250",R[R.Cp1251=18]="Cp1251",R[R.Cp1252=19]="Cp1252",R[R.Cp1256=20]="Cp1256",R[R.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",R[R.UTF8=22]="UTF8",R[R.ASCII=23]="ASCII",R[R.Big5=24]="Big5",R[R.GB18030=25]="GB18030",R[R.EUC_KR=26]="EUC_KR"})(Le||(Le={}));class ce{constructor(t,i,r,...s){this.valueIdentifier=t,this.name=r,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=s,ce.VALUE_IDENTIFIER_TO_ECI.set(t,this),ce.NAME_TO_ECI.set(r,this);const u=this.values;for(let f=0,g=u.length;f!==g;f++){const w=u[f];ce.VALUES_TO_ECI.set(w,this)}for(const f of s)ce.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new ae("incorect value");const i=ce.VALUES_TO_ECI.get(t);if(i===void 0)throw new ae("incorect value");return i}static getCharacterSetECIByName(t){const i=ce.NAME_TO_ECI.get(t);if(i===void 0)throw new ae("incorect value");return i}equals(t){if(!(t instanceof ce))return!1;const i=t;return this.getName()===i.getName()}}ce.VALUE_IDENTIFIER_TO_ECI=new Map,ce.VALUES_TO_ECI=new Map,ce.NAME_TO_ECI=new Map,ce.Cp437=new ce(Le.Cp437,Int32Array.from([0,2]),"Cp437"),ce.ISO8859_1=new ce(Le.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ce.ISO8859_2=new ce(Le.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ce.ISO8859_3=new ce(Le.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ce.ISO8859_4=new ce(Le.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ce.ISO8859_5=new ce(Le.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ce.ISO8859_6=new ce(Le.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ce.ISO8859_7=new ce(Le.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ce.ISO8859_8=new ce(Le.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ce.ISO8859_9=new ce(Le.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ce.ISO8859_10=new ce(Le.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ce.ISO8859_11=new ce(Le.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ce.ISO8859_13=new ce(Le.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ce.ISO8859_14=new ce(Le.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ce.ISO8859_15=new ce(Le.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ce.ISO8859_16=new ce(Le.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ce.SJIS=new ce(Le.SJIS,20,"SJIS","Shift_JIS"),ce.Cp1250=new ce(Le.Cp1250,21,"Cp1250","windows-1250"),ce.Cp1251=new ce(Le.Cp1251,22,"Cp1251","windows-1251"),ce.Cp1252=new ce(Le.Cp1252,23,"Cp1252","windows-1252"),ce.Cp1256=new ce(Le.Cp1256,24,"Cp1256","windows-1256"),ce.UnicodeBigUnmarked=new ce(Le.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ce.UTF8=new ce(Le.UTF8,26,"UTF8","UTF-8"),ce.ASCII=new ce(Le.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ce.Big5=new ce(Le.Big5,28,"Big5"),ce.GB18030=new ce(Le.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ce.EUC_KR=new ce(Le.EUC_KR,30,"EUC_KR","EUC-KR");class Ut extends y{}Ut.kind="UnsupportedOperationException";class Ve{static decode(t,i){const r=this.encodingName(i);return this.customDecoder?this.customDecoder(t,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(t,r):new TextDecoder(r).decode(t)}static shouldDecodeOnFallback(t){return!Ve.isBrowser()&&t==="ISO-8859-1"}static encode(t,i){const r=this.encodingName(i);return this.customEncoder?this.customEncoder(t,r):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof ce?t:ce.getCharacterSetECIByName(t)}static decodeFallback(t,i){const r=this.encodingCharacterSet(i);if(Ve.isDecodeFallbackSupported(r)){let s="";for(let u=0,f=t.length;u<f;u++){let g=t[u].toString(16);g.length<2&&(g="0"+g),s+="%"+g}return decodeURIComponent(s)}if(r.equals(ce.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new Ut(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(ce.UTF8)||t.equals(ce.ISO8859_1)||t.equals(ce.ASCII)}static encodeFallback(t){const r=btoa(unescape(encodeURIComponent(t))).split(""),s=[];for(let u=0;u<r.length;u++)s.push(r[u].charCodeAt(0));return new Uint8Array(s)}}class Re{static castAsNonUtf8Char(t,i=null){const r=i?i.getName():this.ISO88591;return Ve.decode(new Uint8Array([t]),r)}static guessEncoding(t,i){if(i!=null&&i.get(Ce.CHARACTER_SET)!==void 0)return i.get(Ce.CHARACTER_SET).toString();const r=t.length;let s=!0,u=!0,f=!0,g=0,w=0,v=0,S=0,N=0,I=0,L=0,U=0,j=0,q=0,te=0;const pe=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let Ee=0;Ee<r&&(s||u||f);Ee++){const me=t[Ee]&255;f&&(g>0?(me&128)===0?f=!1:g--:(me&128)!==0&&((me&64)===0?f=!1:(g++,(me&32)===0?w++:(g++,(me&16)===0?v++:(g++,(me&8)===0?S++:f=!1))))),s&&(me>127&&me<160?s=!1:me>159&&(me<192||me===215||me===247)&&te++),u&&(N>0?me<64||me===127||me>252?u=!1:N--:me===128||me===160||me>239?u=!1:me>160&&me<224?(I++,U=0,L++,L>j&&(j=L)):me>127?(N++,L=0,U++,U>q&&(q=U)):(L=0,U=0))}return f&&g>0&&(f=!1),u&&N>0&&(u=!1),f&&(pe||w+v+S>0)?Re.UTF8:u&&(Re.ASSUME_SHIFT_JIS||j>=3||q>=3)?Re.SHIFT_JIS:s&&u?j===2&&I===2||te*10>=r?Re.SHIFT_JIS:Re.ISO88591:s?Re.ISO88591:u?Re.SHIFT_JIS:f?Re.UTF8:Re.PLATFORM_DEFAULT_ENCODING}static format(t,...i){let r=-1;function s(f,g,w,v,S,N){if(f==="%%")return"%";if(i[++r]===void 0)return;f=v?parseInt(v.substr(1)):void 0;let I=S?parseInt(S.substr(1)):void 0,L;switch(N){case"s":L=i[r];break;case"c":L=i[r][0];break;case"f":L=parseFloat(i[r]).toFixed(f);break;case"p":L=parseFloat(i[r]).toPrecision(f);break;case"e":L=parseFloat(i[r]).toExponential(f);break;case"x":L=parseInt(i[r]).toString(I||16);break;case"d":L=parseFloat(parseInt(i[r],I||10).toPrecision(f)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(I);let U=parseInt(w),j=w&&w[0]+""=="0"?"0":" ";for(;L.length<U;)L=g!==void 0?L+j:j+L;return L}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(u,s)}static getBytes(t,i){return Ve.encode(t,i)}static getCharCode(t,i=0){return t.charCodeAt(i)}static getCharAt(t){return String.fromCharCode(t)}}Re.SHIFT_JIS=ce.SJIS.getName(),Re.GB2312="GB2312",Re.ISO88591=ce.ISO8859_1.getName(),Re.EUC_JP="EUC_JP",Re.UTF8=ce.UTF8.getName(),Re.PLATFORM_DEFAULT_ENCODING=Re.UTF8,Re.ASSUME_SHIFT_JIS=!1;class Ze{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=Re.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,i,r){for(let s=i;i<i+r;s++)this.append(t[s]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+1)}substring(t,i){return this.value.substring(t,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+i.length)}}class ft{constructor(t,i,r,s){if(this.width=t,this.height=i,this.rowSize=r,this.bits=s,i==null&&(i=t),this.height=i,t<1||i<1)throw new O("Both dimensions must be greater than 0");r==null&&(r=Math.floor((t+31)/32)),this.rowSize=r,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const i=t.length,r=t[0].length,s=new ft(r,i);for(let u=0;u<i;u++){const f=t[u];for(let g=0;g<r;g++)f[g]&&s.set(g,u)}return s}static parseFromString(t,i,r){if(t===null)throw new O("stringRepresentation cannot be null");const s=new Array(t.length);let u=0,f=0,g=-1,w=0,v=0;for(;v<t.length;)if(t.charAt(v)===`
`||t.charAt(v)==="\r"){if(u>f){if(g===-1)g=u-f;else if(u-f!==g)throw new O("row lengths do not match");f=u,w++}v++}else if(t.substring(v,v+i.length)===i)v+=i.length,s[u]=!0,u++;else if(t.substring(v,v+r.length)===r)v+=r.length,s[u]=!1,u++;else throw new O("illegal character encountered: "+t.substring(v));if(u>f){if(g===-1)g=u-f;else if(u-f!==g)throw new O("row lengths do not match");w++}const S=new ft(g,w);for(let N=0;N<u;N++)s[N]&&S.set(Math.floor(N%g),Math.floor(N/g));return S}get(t,i){const r=i*this.rowSize+Math.floor(t/32);return(this.bits[r]>>>(t&31)&1)!==0}set(t,i){const r=i*this.rowSize+Math.floor(t/32);this.bits[r]|=1<<(t&31)&4294967295}unset(t,i){const r=i*this.rowSize+Math.floor(t/32);this.bits[r]&=~(1<<(t&31)&4294967295)}flip(t,i){const r=i*this.rowSize+Math.floor(t/32);this.bits[r]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new O("input matrix dimensions do not match");const i=new le(Math.floor(this.width/32)+1),r=this.rowSize,s=this.bits;for(let u=0,f=this.height;u<f;u++){const g=u*r,w=t.getRow(u,i).getBitArray();for(let v=0;v<r;v++)s[g+v]^=w[v]}}clear(){const t=this.bits,i=t.length;for(let r=0;r<i;r++)t[r]=0}setRegion(t,i,r,s){if(i<0||t<0)throw new O("Left and top must be nonnegative");if(s<1||r<1)throw new O("Height and width must be at least 1");const u=t+r,f=i+s;if(f>this.height||u>this.width)throw new O("The region must fit inside the matrix");const g=this.rowSize,w=this.bits;for(let v=i;v<f;v++){const S=v*g;for(let N=t;N<u;N++)w[S+Math.floor(N/32)]|=1<<(N&31)&4294967295}}getRow(t,i){i==null||i.getSize()<this.width?i=new le(this.width):i.clear();const r=this.rowSize,s=this.bits,u=t*r;for(let f=0;f<r;f++)i.setBulk(f*32,s[u+f]);return i}setRow(t,i){X.arraycopy(i.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),i=this.getHeight();let r=new le(t),s=new le(t);for(let u=0,f=Math.floor((i+1)/2);u<f;u++)r=this.getRow(u,r),s=this.getRow(i-1-u,s),r.reverse(),s.reverse(),this.setRow(u,s),this.setRow(i-1-u,r)}getEnclosingRectangle(){const t=this.width,i=this.height,r=this.rowSize,s=this.bits;let u=t,f=i,g=-1,w=-1;for(let v=0;v<i;v++)for(let S=0;S<r;S++){const N=s[v*r+S];if(N!==0){if(v<f&&(f=v),v>w&&(w=v),S*32<u){let I=0;for(;(N<<31-I&4294967295)===0;)I++;S*32+I<u&&(u=S*32+I)}if(S*32+31>g){let I=31;for(;!(N>>>I);)I--;S*32+I>g&&(g=S*32+I)}}}return g<u||w<f?null:Int32Array.from([u,f,g-u+1,w-f+1])}getTopLeftOnBit(){const t=this.rowSize,i=this.bits;let r=0;for(;r<i.length&&i[r]===0;)r++;if(r===i.length)return null;const s=r/t;let u=r%t*32;const f=i[r];let g=0;for(;(f<<31-g&4294967295)===0;)g++;return u+=g,Int32Array.from([u,s])}getBottomRightOnBit(){const t=this.rowSize,i=this.bits;let r=i.length-1;for(;r>=0&&i[r]===0;)r--;if(r<0)return null;const s=Math.floor(r/t);let u=Math.floor(r%t)*32;const f=i[r];let g=31;for(;!(f>>>g);)g--;return u+=g,Int32Array.from([u,s])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof ft))return!1;const i=t;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&xe.equals(this.bits,i.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+xe.hashCode(this.bits),t}toString(t="X ",i="  ",r=`
`){return this.buildToString(t,i,r)}buildToString(t,i,r){let s=new Ze;for(let u=0,f=this.height;u<f;u++){for(let g=0,w=this.width;g<w;g++)s.append(this.get(g,u)?t:i);s.append(r)}return s.toString()}clone(){return new ft(this.width,this.height,this.rowSize,this.bits.slice())}}class ee extends y{static getNotFoundInstance(){return new ee}}ee.kind="NotFoundException";class re extends z{constructor(t){super(t),this.luminances=re.EMPTY,this.buckets=new Int32Array(re.LUMINANCE_BUCKETS)}getBlackRow(t,i){const r=this.getLuminanceSource(),s=r.getWidth();i==null||i.getSize()<s?i=new le(s):i.clear(),this.initArrays(s);const u=r.getRow(t,this.luminances),f=this.buckets;for(let w=0;w<s;w++)f[(u[w]&255)>>re.LUMINANCE_SHIFT]++;const g=re.estimateBlackPoint(f);if(s<3)for(let w=0;w<s;w++)(u[w]&255)<g&&i.set(w);else{let w=u[0]&255,v=u[1]&255;for(let S=1;S<s-1;S++){const N=u[S+1]&255;(v*4-w-N)/2<g&&i.set(S),w=v,v=N}}return i}getBlackMatrix(){const t=this.getLuminanceSource(),i=t.getWidth(),r=t.getHeight(),s=new ft(i,r);this.initArrays(i);const u=this.buckets;for(let w=1;w<5;w++){const v=Math.floor(r*w/5),S=t.getRow(v,this.luminances),N=Math.floor(i*4/5);for(let I=Math.floor(i/5);I<N;I++){const L=S[I]&255;u[L>>re.LUMINANCE_SHIFT]++}}const f=re.estimateBlackPoint(u),g=t.getMatrix();for(let w=0;w<r;w++){const v=w*i;for(let S=0;S<i;S++)(g[v+S]&255)<f&&s.set(S,w)}return s}createBinarizer(t){return new re(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const i=this.buckets;for(let r=0;r<re.LUMINANCE_BUCKETS;r++)i[r]=0}static estimateBlackPoint(t){const i=t.length;let r=0,s=0,u=0;for(let S=0;S<i;S++)t[S]>u&&(s=S,u=t[S]),t[S]>r&&(r=t[S]);let f=0,g=0;for(let S=0;S<i;S++){const N=S-s,I=t[S]*N*N;I>g&&(f=S,g=I)}if(s>f){const S=s;s=f,f=S}if(f-s<=i/16)throw new ee;let w=f-1,v=-1;for(let S=f-1;S>s;S--){const N=S-s,I=N*N*(f-S)*(r-t[S]);I>v&&(w=S,v=I)}return w<<re.LUMINANCE_SHIFT}}re.LUMINANCE_BITS=5,re.LUMINANCE_SHIFT=8-re.LUMINANCE_BITS,re.LUMINANCE_BUCKETS=1<<re.LUMINANCE_BITS,re.EMPTY=Uint8ClampedArray.from([0]);class ue extends re{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),i=t.getWidth(),r=t.getHeight();if(i>=ue.MINIMUM_DIMENSION&&r>=ue.MINIMUM_DIMENSION){const s=t.getMatrix();let u=i>>ue.BLOCK_SIZE_POWER;(i&ue.BLOCK_SIZE_MASK)!==0&&u++;let f=r>>ue.BLOCK_SIZE_POWER;(r&ue.BLOCK_SIZE_MASK)!==0&&f++;const g=ue.calculateBlackPoints(s,u,f,i,r),w=new ft(i,r);ue.calculateThresholdForBlock(s,u,f,i,r,g,w),this.matrix=w}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new ue(t)}static calculateThresholdForBlock(t,i,r,s,u,f,g){const w=u-ue.BLOCK_SIZE,v=s-ue.BLOCK_SIZE;for(let S=0;S<r;S++){let N=S<<ue.BLOCK_SIZE_POWER;N>w&&(N=w);const I=ue.cap(S,2,r-3);for(let L=0;L<i;L++){let U=L<<ue.BLOCK_SIZE_POWER;U>v&&(U=v);const j=ue.cap(L,2,i-3);let q=0;for(let pe=-2;pe<=2;pe++){const Ee=f[I+pe];q+=Ee[j-2]+Ee[j-1]+Ee[j]+Ee[j+1]+Ee[j+2]}const te=q/25;ue.thresholdBlock(t,U,N,te,s,g)}}}static cap(t,i,r){return t<i?i:t>r?r:t}static thresholdBlock(t,i,r,s,u,f){for(let g=0,w=r*u+i;g<ue.BLOCK_SIZE;g++,w+=u)for(let v=0;v<ue.BLOCK_SIZE;v++)(t[w+v]&255)<=s&&f.set(i+v,r+g)}static calculateBlackPoints(t,i,r,s,u){const f=u-ue.BLOCK_SIZE,g=s-ue.BLOCK_SIZE,w=new Array(r);for(let v=0;v<r;v++){w[v]=new Int32Array(i);let S=v<<ue.BLOCK_SIZE_POWER;S>f&&(S=f);for(let N=0;N<i;N++){let I=N<<ue.BLOCK_SIZE_POWER;I>g&&(I=g);let L=0,U=255,j=0;for(let te=0,pe=S*s+I;te<ue.BLOCK_SIZE;te++,pe+=s){for(let Ee=0;Ee<ue.BLOCK_SIZE;Ee++){const me=t[pe+Ee]&255;L+=me,me<U&&(U=me),me>j&&(j=me)}if(j-U>ue.MIN_DYNAMIC_RANGE)for(te++,pe+=s;te<ue.BLOCK_SIZE;te++,pe+=s)for(let Ee=0;Ee<ue.BLOCK_SIZE;Ee++)L+=t[pe+Ee]&255}let q=L>>ue.BLOCK_SIZE_POWER*2;if(j-U<=ue.MIN_DYNAMIC_RANGE&&(q=U/2,v>0&&N>0)){const te=(w[v-1][N]+2*w[v][N-1]+w[v-1][N-1])/4;U<te&&(q=te)}w[v][N]=q}}return w}}ue.BLOCK_SIZE_POWER=3,ue.BLOCK_SIZE=1<<ue.BLOCK_SIZE_POWER,ue.BLOCK_SIZE_MASK=ue.BLOCK_SIZE-1,ue.MINIMUM_DIMENSION=ue.BLOCK_SIZE*5,ue.MIN_DYNAMIC_RANGE=24;class De{constructor(t,i){this.width=t,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,i,r,s){throw new Ut("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ut("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ut("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let i=new Ze;for(let r=0;r<this.height;r++){const s=this.getRow(r,t);for(let u=0;u<this.width;u++){const f=s[u]&255;let g;f<64?g="#":f<128?g="+":f<192?g=".":g=" ",i.append(g)}i.append(`
`)}return i.toString()}}class Ke extends De{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,i){const r=this.delegate.getRow(t,i),s=this.getWidth();for(let u=0;u<s;u++)r[u]=255-(r[u]&255);return r}getMatrix(){const t=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(i);for(let s=0;s<i;s++)r[s]=255-(t[s]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(t,i,r,s){return new Ke(this.delegate.crop(t,i,r,s))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ke(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ke(this.delegate.rotateCounterClockwise45())}}class F extends De{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=F.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const i=t.getContext("2d").getImageData(0,0,t.width,t.height);return F.toGrayscaleBuffer(i.data,t.width,t.height)}static toGrayscaleBuffer(t,i,r){const s=new Uint8ClampedArray(i*r);for(let u=0,f=0,g=t.length;u<g;u+=4,f++){let w;if(t[u+3]===0)w=255;else{const S=t[u],N=t[u+1],I=t[u+2];w=306*S+601*N+117*I+512>>10}s[f]=w}return s}getRow(t,i){if(t<0||t>=this.getHeight())throw new O("Requested row is outside the image: "+t);const r=this.getWidth(),s=t*r;return i===null?i=this.buffer.slice(s,s+r):(i.length<r&&(i=new Uint8ClampedArray(r)),i.set(this.buffer.slice(s,s+r))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,i,r,s){return super.crop(t,i,r,s),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const i=this.getTempCanvasElement(),r=i.getContext("2d"),s=t*F.DEGREE_TO_RADIANS,u=this.canvas.width,f=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(s))*u+Math.abs(Math.sin(s))*f),w=Math.ceil(Math.abs(Math.sin(s))*u+Math.abs(Math.cos(s))*f);return i.width=g,i.height=w,r.translate(g/2,w/2),r.rotate(s),r.drawImage(this.canvas,u/-2,f/-2),this.buffer=F.makeBufferFromCanvasImageData(i),this}invert(){return new Ke(this)}}F.DEGREE_TO_RADIANS=Math.PI/180;class ge{constructor(t,i,r){this.deviceId=t,this.label=i,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ve=(globalThis||Du||self||window||void 0)&&(globalThis||Du||self||window||void 0).__awaiter||function(R,t,i,r){function s(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function g(S){try{v(r.next(S))}catch(N){f(N)}}function w(S){try{v(r.throw(S))}catch(N){f(N)}}function v(S){S.done?u(S.value):s(S.value).then(g,w)}v((r=r.apply(R,t||[])).next())})};class Ae{constructor(t,i=500,r){this.reader=t,this.timeBetweenScansMillis=i,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return ve(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const r of t){const s=r.kind==="video"?"videoinput":r.kind;if(s!=="videoinput")continue;const u=r.deviceId||r.id,f=r.label||`Video device ${i.length+1}`,g=r.groupId,w={deviceId:u,label:f,kind:s,groupId:g};i.push(w)}return i})}getVideoInputDevices(){return ve(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new ge(i.deviceId,i.label))})}findDeviceById(t){return ve(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(r=>r.deviceId===t):null})}decodeFromInputVideoDevice(t,i){return ve(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,i)})}decodeOnceFromVideoDevice(t,i){return ve(this,void 0,void 0,function*(){this.reset();let r;t?r={deviceId:{exact:t}}:r={facingMode:"environment"};const s={video:r};return yield this.decodeOnceFromConstraints(s,i)})}decodeOnceFromConstraints(t,i){return ve(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(r,i)})}decodeOnceFromStream(t,i){return ve(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(t,i);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(t,i,r){return ve(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,i,r)})}decodeFromVideoDevice(t,i,r){return ve(this,void 0,void 0,function*(){let s;t?s={deviceId:{exact:t}}:s={facingMode:"environment"};const u={video:s};return yield this.decodeFromConstraints(u,i,r)})}decodeFromConstraints(t,i,r){return ve(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(s,i,r)})}decodeFromStream(t,i,r){return ve(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(t,i);return yield this.decodeContinuously(s,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,i){return ve(this,void 0,void 0,function*(){const r=this.prepareVideoElement(i);return this.addVideoSource(r,t),this.videoElement=r,this.stream=t,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(t){return new Promise((i,r)=>this.playVideoOnLoad(t,()=>i()))}playVideoOnLoad(t,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",i),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return ve(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,i){const r=document.getElementById(t);if(!r)throw new C(`element with id '${t}' not found`);if(r.nodeName.toLowerCase()!==i.toLowerCase())throw new C(`element with id '${t}' must be an ${i} element`);return r}decodeFromImage(t,i){if(!t&&!i)throw new C("either imageElement with a src set or an url must be provided");return i&&!t?this.decodeFromImageUrl(i):this.decodeFromImageElement(t)}decodeFromVideo(t,i){if(!t&&!i)throw new C("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,i,r){if(t===void 0&&i===void 0)throw new C("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrlContinuously(i,r):this.decodeFromVideoElementContinuously(t,r)}decodeFromImageElement(t){if(!t)throw new C("An image element must be provided.");this.reset();const i=this.prepareImageElement(t);this.imageElement=i;let r;return this.isImageLoaded(i)?r=this.decodeOnce(i,!1,!0):r=this._decodeOnLoadImage(i),r}decodeFromVideoElement(t){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(t,i){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(r,i)}_decodeFromVideoElementSetup(t){if(!t)throw new C("A video element must be provided.");this.reset();const i=this.prepareVideoElement(t);return this.videoElement=i,i}decodeFromImageUrl(t){if(!t)throw new C("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const r=this._decodeOnLoadImage(i);return i.src=t,r}decodeFromVideoUrl(t){if(!t)throw new C("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),r=this.decodeFromVideoElement(i);return i.src=t,r}decodeFromVideoUrlContinuously(t,i){if(!t)throw new C("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(r,i);return r.src=t,s}_decodeOnLoadImage(t){return new Promise((i,r)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(i,r),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return ve(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,i){return ve(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,i)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let i;return typeof t>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(i=t),i}prepareVideoElement(t){let i;return!t&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(i=t),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(t,i=!0,r=!0){this._stopAsyncDecode=!1;const s=(u,f)=>{if(this._stopAsyncDecode){f(new ee("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const g=this.decode(t);u(g)}catch(g){const w=i&&g instanceof ee,S=(g instanceof P||g instanceof ae)&&r;if(w||S)return setTimeout(s,this._timeBetweenDecodingAttempts,u,f);f(g)}};return new Promise((u,f)=>s(u,f))}decodeContinuously(t,i){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const s=this.decode(t);i(s,null),setTimeout(r,this.timeBetweenScansMillis)}catch(s){i(null,s);const u=s instanceof P||s instanceof ae,f=s instanceof ee;(u||f)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(t){const i=this.createBinaryBitmap(t);return this.decodeBitmap(i)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,i,r){i||(i={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(t,i,r=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const i=this.getCaptureCanvas(t),r=new F(i),s=new ue(r);return new B(s)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const i=this.createCaptureCanvas(t);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let r,s;return typeof t<"u"&&(t instanceof HTMLVideoElement?(r=t.videoWidth,s=t.videoHeight):t instanceof HTMLImageElement&&(r=t.naturalWidth||t.width,s=t.naturalHeight||t.height)),i.style.width=r+"px",i.style.height=s+"px",i.width=r,i.height=s,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,i){try{t.srcObject=i}catch{t.src=URL.createObjectURL(i)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class Se{constructor(t,i,r=i==null?0:8*i.length,s,u,f=X.currentTimeMillis()){this.text=t,this.rawBytes=i,this.numBits=r,this.resultPoints=s,this.format=u,this.timestamp=f,this.text=t,this.rawBytes=i,r==null?this.numBits=i==null?0:8*i.length:this.numBits=r,this.resultPoints=s,this.format=u,this.resultMetadata=null,f==null?this.timestamp=X.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,i)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const i=this.resultPoints;if(i===null)this.resultPoints=t;else if(t!==null&&t.length>0){const r=new Array(i.length+t.length);X.arraycopy(i,0,r,0,i.length),X.arraycopy(t,0,r,i.length,t.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var at;(function(R){R[R.AZTEC=0]="AZTEC",R[R.CODABAR=1]="CODABAR",R[R.CODE_39=2]="CODE_39",R[R.CODE_93=3]="CODE_93",R[R.CODE_128=4]="CODE_128",R[R.DATA_MATRIX=5]="DATA_MATRIX",R[R.EAN_8=6]="EAN_8",R[R.EAN_13=7]="EAN_13",R[R.ITF=8]="ITF",R[R.MAXICODE=9]="MAXICODE",R[R.PDF_417=10]="PDF_417",R[R.QR_CODE=11]="QR_CODE",R[R.RSS_14=12]="RSS_14",R[R.RSS_EXPANDED=13]="RSS_EXPANDED",R[R.UPC_A=14]="UPC_A",R[R.UPC_E=15]="UPC_E",R[R.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(at||(at={}));var ye=at,In;(function(R){R[R.OTHER=0]="OTHER",R[R.ORIENTATION=1]="ORIENTATION",R[R.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",R[R.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",R[R.ISSUE_NUMBER=4]="ISSUE_NUMBER",R[R.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",R[R.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",R[R.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",R[R.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",R[R.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",R[R.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(In||(In={}));var Xe=In;class Zn{constructor(t,i,r,s,u=-1,f=-1){this.rawBytes=t,this.text=i,this.byteSegments=r,this.ecLevel=s,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=f,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class rr{exp(t){return this.expTable[t]}log(t){if(t===0)throw new O;return this.logTable[t]}static addOrSubtract(t,i){return t^i}}class dn{constructor(t,i){if(i.length===0)throw new O;this.field=t;const r=i.length;if(r>1&&i[0]===0){let s=1;for(;s<r&&i[s]===0;)s++;s===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-s),X.arraycopy(i,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const i=this.coefficients;let r;if(t===1){r=0;for(let f=0,g=i.length;f!==g;f++){const w=i[f];r=rr.addOrSubtract(r,w)}return r}r=i[0];const s=i.length,u=this.field;for(let f=1;f<s;f++)r=rr.addOrSubtract(u.multiply(t,r),i[f]);return r}addOrSubtract(t){if(!this.field.equals(t.field))throw new O("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,r=t.coefficients;if(i.length>r.length){const f=i;i=r,r=f}let s=new Int32Array(r.length);const u=r.length-i.length;X.arraycopy(r,0,s,0,u);for(let f=u;f<r.length;f++)s[f]=rr.addOrSubtract(i[f-u],r[f]);return new dn(this.field,s)}multiply(t){if(!this.field.equals(t.field))throw new O("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const i=this.coefficients,r=i.length,s=t.coefficients,u=s.length,f=new Int32Array(r+u-1),g=this.field;for(let w=0;w<r;w++){const v=i[w];for(let S=0;S<u;S++)f[w+S]=rr.addOrSubtract(f[w+S],g.multiply(v,s[S]))}return new dn(g,f)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const i=this.coefficients.length,r=this.field,s=new Int32Array(i),u=this.coefficients;for(let f=0;f<i;f++)s[f]=r.multiply(u[f],t);return new dn(r,s)}multiplyByMonomial(t,i){if(t<0)throw new O;if(i===0)return this.field.getZero();const r=this.coefficients,s=r.length,u=new Int32Array(s+t),f=this.field;for(let g=0;g<s;g++)u[g]=f.multiply(r[g],i);return new dn(f,u)}divide(t){if(!this.field.equals(t.field))throw new O("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new O("Divide by 0");const i=this.field;let r=i.getZero(),s=this;const u=t.getCoefficient(t.getDegree()),f=i.inverse(u);for(;s.getDegree()>=t.getDegree()&&!s.isZero();){const g=s.getDegree()-t.getDegree(),w=i.multiply(s.getCoefficient(s.getDegree()),f),v=t.multiplyByMonomial(g,w),S=i.buildMonomial(g,w);r=r.addOrSubtract(S),s=s.addOrSubtract(v)}return[r,s]}toString(){let t="";for(let i=this.getDegree();i>=0;i--){let r=this.getCoefficient(i);if(r!==0){if(r<0?(t+=" - ",r=-r):t.length>0&&(t+=" + "),i===0||r!==1){const s=this.field.log(r);s===0?t+="1":s===1?t+="a":(t+="a^",t+=s)}i!==0&&(i===1?t+="x":(t+="x^",t+=i))}}return t}}class Ir extends y{}Ir.kind="ArithmeticException";class ot extends rr{constructor(t,i,r){super(),this.primitive=t,this.size=i,this.generatorBase=r;const s=new Int32Array(i);let u=1;for(let g=0;g<i;g++)s[g]=u,u*=2,u>=i&&(u^=t,u&=i-1);this.expTable=s;const f=new Int32Array(i);for(let g=0;g<i-1;g++)f[s[g]]=g;this.logTable=f,this.zero=new dn(this,Int32Array.from([0])),this.one=new dn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new O;if(i===0)return this.zero;const r=new Int32Array(t+1);return r[0]=i,new dn(this,r)}inverse(t){if(t===0)throw new Ir;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+G.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}ot.AZTEC_DATA_12=new ot(4201,4096,1),ot.AZTEC_DATA_10=new ot(1033,1024,1),ot.AZTEC_DATA_6=new ot(67,64,1),ot.AZTEC_PARAM=new ot(19,16,1),ot.QR_CODE_FIELD_256=new ot(285,256,0),ot.DATA_MATRIX_FIELD_256=new ot(301,256,1),ot.AZTEC_DATA_8=ot.DATA_MATRIX_FIELD_256,ot.MAXICODE_FIELD_64=ot.AZTEC_DATA_6;class Pi extends y{}Pi.kind="ReedSolomonException";class mi extends y{}mi.kind="IllegalStateException";class pa{constructor(t){this.field=t}decode(t,i){const r=this.field,s=new dn(r,t),u=new Int32Array(i);let f=!0;for(let L=0;L<i;L++){const U=s.evaluateAt(r.exp(L+r.getGeneratorBase()));u[u.length-1-L]=U,U!==0&&(f=!1)}if(f)return;const g=new dn(r,u),w=this.runEuclideanAlgorithm(r.buildMonomial(i,1),g,i),v=w[0],S=w[1],N=this.findErrorLocations(v),I=this.findErrorMagnitudes(S,N);for(let L=0;L<N.length;L++){const U=t.length-1-r.log(N[L]);if(U<0)throw new Pi("Bad error location");t[U]=ot.addOrSubtract(t[U],I[L])}}runEuclideanAlgorithm(t,i,r){if(t.getDegree()<i.getDegree()){const L=t;t=i,i=L}const s=this.field;let u=t,f=i,g=s.getZero(),w=s.getOne();for(;f.getDegree()>=(r/2|0);){let L=u,U=g;if(u=f,g=w,u.isZero())throw new Pi("r_{i-1} was zero");f=L;let j=s.getZero();const q=u.getCoefficient(u.getDegree()),te=s.inverse(q);for(;f.getDegree()>=u.getDegree()&&!f.isZero();){const pe=f.getDegree()-u.getDegree(),Ee=s.multiply(f.getCoefficient(f.getDegree()),te);j=j.addOrSubtract(s.buildMonomial(pe,Ee)),f=f.addOrSubtract(u.multiplyByMonomial(pe,Ee))}if(w=j.multiply(g).addOrSubtract(U),f.getDegree()>=u.getDegree())throw new mi("Division algorithm failed to reduce polynomial?")}const v=w.getCoefficient(0);if(v===0)throw new Pi("sigmaTilde(0) was zero");const S=s.inverse(v),N=w.multiplyScalar(S),I=f.multiplyScalar(S);return[N,I]}findErrorLocations(t){const i=t.getDegree();if(i===1)return Int32Array.from([t.getCoefficient(1)]);const r=new Int32Array(i);let s=0;const u=this.field;for(let f=1;f<u.getSize()&&s<i;f++)t.evaluateAt(f)===0&&(r[s]=u.inverse(f),s++);if(s!==i)throw new Pi("Error locator degree does not match number of roots");return r}findErrorMagnitudes(t,i){const r=i.length,s=new Int32Array(r),u=this.field;for(let f=0;f<r;f++){const g=u.inverse(i[f]);let w=1;for(let v=0;v<r;v++)if(f!==v){const S=u.multiply(i[v],g),N=(S&1)===0?S|1:S&-2;w=u.multiply(w,N)}s[f]=u.multiply(t.evaluateAt(g),u.inverse(w)),u.getGeneratorBase()!==0&&(s[f]=u.multiply(s[f],g))}return s}}var _t;(function(R){R[R.UPPER=0]="UPPER",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.DIGIT=3]="DIGIT",R[R.PUNCT=4]="PUNCT",R[R.BINARY=5]="BINARY"})(_t||(_t={}));class St{decode(t){this.ddata=t;let i=t.getBits(),r=this.extractBits(i),s=this.correctBits(r),u=St.convertBoolArrayToByteArray(s),f=St.getEncodedData(s),g=new Zn(u,f,null,null);return g.setNumBits(s.length),g}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let i=t.length,r=_t.UPPER,s=_t.UPPER,u="",f=0;for(;f<i;)if(s===_t.BINARY){if(i-f<5)break;let g=St.readCode(t,f,5);if(f+=5,g===0){if(i-f<11)break;g=St.readCode(t,f,11)+31,f+=11}for(let w=0;w<g;w++){if(i-f<8){f=i;break}const v=St.readCode(t,f,8);u+=Re.castAsNonUtf8Char(v),f+=8}s=r}else{let g=s===_t.DIGIT?4:5;if(i-f<g)break;let w=St.readCode(t,f,g);f+=g;let v=St.getCharacter(s,w);v.startsWith("CTRL_")?(r=s,s=St.getTable(v.charAt(5)),v.charAt(6)==="L"&&(r=s)):(u+=v,s=r)}return u}static getTable(t){switch(t){case"L":return _t.LOWER;case"P":return _t.PUNCT;case"M":return _t.MIXED;case"D":return _t.DIGIT;case"B":return _t.BINARY;case"U":default:return _t.UPPER}}static getCharacter(t,i){switch(t){case _t.UPPER:return St.UPPER_TABLE[i];case _t.LOWER:return St.LOWER_TABLE[i];case _t.MIXED:return St.MIXED_TABLE[i];case _t.PUNCT:return St.PUNCT_TABLE[i];case _t.DIGIT:return St.DIGIT_TABLE[i];default:throw new mi("Bad table")}}correctBits(t){let i,r;this.ddata.getNbLayers()<=2?(r=6,i=ot.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,i=ot.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,i=ot.AZTEC_DATA_10):(r=12,i=ot.AZTEC_DATA_12);let s=this.ddata.getNbDatablocks(),u=t.length/r;if(u<s)throw new ae;let f=t.length%r,g=new Int32Array(u);for(let I=0;I<u;I++,f+=r)g[I]=St.readCode(t,f,r);try{new pa(i).decode(g,u-s)}catch(I){throw new ae(I)}let w=(1<<r)-1,v=0;for(let I=0;I<s;I++){let L=g[I];if(L===0||L===w)throw new ae;(L===1||L===w-1)&&v++}let S=new Array(s*r-v),N=0;for(let I=0;I<s;I++){let L=g[I];if(L===1||L===w-1)S.fill(L>1,N,N+r-1),N+=r-1;else for(let U=r-1;U>=0;--U)S[N++]=(L&1<<U)!==0}return S}extractBits(t){let i=this.ddata.isCompact(),r=this.ddata.getNbLayers(),s=(i?11:14)+r*4,u=new Int32Array(s),f=new Array(this.totalBitsInLayer(r,i));if(i)for(let g=0;g<u.length;g++)u[g]=g;else{let g=s+1+2*G.truncDivision(G.truncDivision(s,2)-1,15),w=s/2,v=G.truncDivision(g,2);for(let S=0;S<w;S++){let N=S+G.truncDivision(S,15);u[w-S-1]=v-N-1,u[w+S]=v+N+1}}for(let g=0,w=0;g<r;g++){let v=(r-g)*4+(i?9:12),S=g*2,N=s-1-S;for(let I=0;I<v;I++){let L=I*2;for(let U=0;U<2;U++)f[w+L+U]=t.get(u[S+U],u[S+I]),f[w+2*v+L+U]=t.get(u[S+I],u[N-U]),f[w+4*v+L+U]=t.get(u[N-U],u[N-I]),f[w+6*v+L+U]=t.get(u[N-I],u[S+U])}w+=v*8}return f}static readCode(t,i,r){let s=0;for(let u=i;u<i+r;u++)s<<=1,t[u]&&(s|=1);return s}static readByte(t,i){let r=t.length-i;return r>=8?St.readCode(t,i,8):St.readCode(t,i,r)<<8-r}static convertBoolArrayToByteArray(t){let i=new Uint8Array((t.length+7)/8);for(let r=0;r<i.length;r++)i[r]=St.readByte(t,8*r);return i}totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}St.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],St.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],St.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],St.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],St.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class st{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,i,r,s){const u=t-r,f=i-s;return Math.sqrt(u*u+f*f)}static sum(t){let i=0;for(let r=0,s=t.length;r!==s;r++){const u=t[r];i+=u}return i}}class wa{static floatToIntBits(t){return t}}wa.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Oe{constructor(t,i){this.x=t,this.y=i}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof Oe){const i=t;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*wa.floatToIntBits(this.x)+wa.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const i=this.distance(t[0],t[1]),r=this.distance(t[1],t[2]),s=this.distance(t[0],t[2]);let u,f,g;if(r>=i&&r>=s?(f=t[0],u=t[1],g=t[2]):s>=r&&s>=i?(f=t[1],u=t[0],g=t[2]):(f=t[2],u=t[0],g=t[1]),this.crossProductZ(u,f,g)<0){const w=u;u=g,g=w}t[0]=u,t[1]=f,t[2]=g}static distance(t,i){return st.distance(t.x,t.y,i.x,i.y)}static crossProductZ(t,i,r){const s=i.x,u=i.y;return(r.x-s)*(t.y-u)-(r.y-u)*(t.x-s)}}class Ka{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class al extends Ka{constructor(t,i,r,s,u){super(t,i),this.compact=r,this.nbDatablocks=s,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class _i{constructor(t,i,r,s){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),i==null&&(i=_i.INIT_SIZE),r==null&&(r=t.getWidth()/2|0),s==null&&(s=t.getHeight()/2|0);const u=i/2|0;if(this.leftInit=r-u,this.rightInit=r+u,this.upInit=s-u,this.downInit=s+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ee}detect(){let t=this.leftInit,i=this.rightInit,r=this.upInit,s=this.downInit,u=!1,f=!0,g=!1,w=!1,v=!1,S=!1,N=!1;const I=this.width,L=this.height;for(;f;){f=!1;let U=!0;for(;(U||!w)&&i<I;)U=this.containsBlackPoint(r,s,i,!1),U?(i++,f=!0,w=!0):w||i++;if(i>=I){u=!0;break}let j=!0;for(;(j||!v)&&s<L;)j=this.containsBlackPoint(t,i,s,!0),j?(s++,f=!0,v=!0):v||s++;if(s>=L){u=!0;break}let q=!0;for(;(q||!S)&&t>=0;)q=this.containsBlackPoint(r,s,t,!1),q?(t--,f=!0,S=!0):S||t--;if(t<0){u=!0;break}let te=!0;for(;(te||!N)&&r>=0;)te=this.containsBlackPoint(t,i,r,!0),te?(r--,f=!0,N=!0):N||r--;if(r<0){u=!0;break}f&&(g=!0)}if(!u&&g){const U=i-t;let j=null;for(let Ee=1;j===null&&Ee<U;Ee++)j=this.getBlackPointOnSegment(t,s-Ee,t+Ee,s);if(j==null)throw new ee;let q=null;for(let Ee=1;q===null&&Ee<U;Ee++)q=this.getBlackPointOnSegment(t,r+Ee,t+Ee,r);if(q==null)throw new ee;let te=null;for(let Ee=1;te===null&&Ee<U;Ee++)te=this.getBlackPointOnSegment(i,r+Ee,i-Ee,r);if(te==null)throw new ee;let pe=null;for(let Ee=1;pe===null&&Ee<U;Ee++)pe=this.getBlackPointOnSegment(i,s-Ee,i-Ee,s);if(pe==null)throw new ee;return this.centerEdges(pe,j,te,q)}else throw new ee}getBlackPointOnSegment(t,i,r,s){const u=st.round(st.distance(t,i,r,s)),f=(r-t)/u,g=(s-i)/u,w=this.image;for(let v=0;v<u;v++){const S=st.round(t+v*f),N=st.round(i+v*g);if(w.get(S,N))return new Oe(S,N)}return null}centerEdges(t,i,r,s){const u=t.getX(),f=t.getY(),g=i.getX(),w=i.getY(),v=r.getX(),S=r.getY(),N=s.getX(),I=s.getY(),L=_i.CORR;return u<this.width/2?[new Oe(N-L,I+L),new Oe(g+L,w+L),new Oe(v-L,S-L),new Oe(u+L,f-L)]:[new Oe(N+L,I+L),new Oe(g+L,w-L),new Oe(v-L,S+L),new Oe(u-L,f-L)]}containsBlackPoint(t,i,r,s){const u=this.image;if(s){for(let f=t;f<=i;f++)if(u.get(f,r))return!0}else for(let f=t;f<=i;f++)if(u.get(r,f))return!0;return!1}}_i.INIT_SIZE=10,_i.CORR=1;class sl{static checkAndNudgePoints(t,i){const r=t.getWidth(),s=t.getHeight();let u=!0;for(let f=0;f<i.length&&u;f+=2){const g=Math.floor(i[f]),w=Math.floor(i[f+1]);if(g<-1||g>r||w<-1||w>s)throw new ee;u=!1,g===-1?(i[f]=0,u=!0):g===r&&(i[f]=r-1,u=!0),w===-1?(i[f+1]=0,u=!0):w===s&&(i[f+1]=s-1,u=!0)}u=!0;for(let f=i.length-2;f>=0&&u;f-=2){const g=Math.floor(i[f]),w=Math.floor(i[f+1]);if(g<-1||g>r||w<-1||w>s)throw new ee;u=!1,g===-1?(i[f]=0,u=!0):g===r&&(i[f]=r-1,u=!0),w===-1?(i[f+1]=0,u=!0):w===s&&(i[f+1]=s-1,u=!0)}}}class Dn{constructor(t,i,r,s,u,f,g,w,v){this.a11=t,this.a21=i,this.a31=r,this.a12=s,this.a22=u,this.a32=f,this.a13=g,this.a23=w,this.a33=v}static quadrilateralToQuadrilateral(t,i,r,s,u,f,g,w,v,S,N,I,L,U,j,q){const te=Dn.quadrilateralToSquare(t,i,r,s,u,f,g,w);return Dn.squareToQuadrilateral(v,S,N,I,L,U,j,q).times(te)}transformPoints(t){const i=t.length,r=this.a11,s=this.a12,u=this.a13,f=this.a21,g=this.a22,w=this.a23,v=this.a31,S=this.a32,N=this.a33;for(let I=0;I<i;I+=2){const L=t[I],U=t[I+1],j=u*L+w*U+N;t[I]=(r*L+f*U+v)/j,t[I+1]=(s*L+g*U+S)/j}}transformPointsWithValues(t,i){const r=this.a11,s=this.a12,u=this.a13,f=this.a21,g=this.a22,w=this.a23,v=this.a31,S=this.a32,N=this.a33,I=t.length;for(let L=0;L<I;L++){const U=t[L],j=i[L],q=u*U+w*j+N;t[L]=(r*U+f*j+v)/q,i[L]=(s*U+g*j+S)/q}}static squareToQuadrilateral(t,i,r,s,u,f,g,w){const v=t-r+u-g,S=i-s+f-w;if(v===0&&S===0)return new Dn(r-t,u-r,t,s-i,f-s,i,0,0,1);{const N=r-u,I=g-u,L=s-f,U=w-f,j=N*U-I*L,q=(v*U-I*S)/j,te=(N*S-v*L)/j;return new Dn(r-t+q*r,g-t+te*g,t,s-i+q*s,w-i+te*w,i,q,te,1)}}static quadrilateralToSquare(t,i,r,s,u,f,g,w){return Dn.squareToQuadrilateral(t,i,r,s,u,f,g,w).buildAdjoint()}buildAdjoint(){return new Dn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new Dn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class Un extends sl{sampleGrid(t,i,r,s,u,f,g,w,v,S,N,I,L,U,j,q,te,pe,Ee){const me=Dn.quadrilateralToQuadrilateral(s,u,f,g,w,v,S,N,I,L,U,j,q,te,pe,Ee);return this.sampleGridWithTransform(t,i,r,me)}sampleGridWithTransform(t,i,r,s){if(i<=0||r<=0)throw new ee;const u=new ft(i,r),f=new Float32Array(2*i);for(let g=0;g<r;g++){const w=f.length,v=g+.5;for(let S=0;S<w;S+=2)f[S]=S/2+.5,f[S+1]=v;s.transformPoints(f),sl.checkAndNudgePoints(t,f);try{for(let S=0;S<w;S+=2)t.get(Math.floor(f[S]),Math.floor(f[S+1]))&&u.set(S/2,g)}catch{throw new ee}}return u}}class Mn{static setGridSampler(t){Mn.gridSampler=t}static getInstance(){return Mn.gridSampler}}Mn.gridSampler=new Un;class yt{constructor(t,i){this.x=t,this.y=i}toResultPoint(){return new Oe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class vo{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let i=this.getMatrixCenter(),r=this.getBullsEyeCorners(i);if(t){let f=r[0];r[0]=r[2],r[2]=f}this.extractParameters(r);let s=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),u=this.getMatrixCornerPoints(r);return new al(s,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new ee;let i=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(t[0],t[1],i),this.sampleLine(t[1],t[2],i),this.sampleLine(t[2],t[3],i),this.sampleLine(t[3],t[0],i)]);this.shift=this.getRotation(r,i);let s=0;for(let f=0;f<4;f++){let g=r[(this.shift+f)%4];this.compact?(s<<=7,s+=g>>1&127):(s<<=10,s+=(g>>2&992)+(g>>1&31))}let u=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(t,i){let r=0;t.forEach((s,u,f)=>{let g=(s>>i-2<<1)+(s&1);r=(r<<3)+g}),r=((r&1)<<11)+(r>>1);for(let s=0;s<4;s++)if(G.bitCount(r^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new ee}getCorrectedParameterData(t,i){let r,s;i?(r=7,s=2):(r=10,s=4);let u=r-s,f=new Int32Array(r);for(let w=r-1;w>=0;--w)f[w]=t&15,t>>=4;try{new pa(ot.AZTEC_PARAM).decode(f,u)}catch{throw new ee}let g=0;for(let w=0;w<s;w++)g=(g<<4)+f[w];return g}getBullsEyeCorners(t){let i=t,r=t,s=t,u=t,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let N=this.getFirstDifferent(i,f,1,-1),I=this.getFirstDifferent(r,f,1,1),L=this.getFirstDifferent(s,f,-1,1),U=this.getFirstDifferent(u,f,-1,-1);if(this.nbCenterLayers>2){let j=this.distancePoint(U,N)*this.nbCenterLayers/(this.distancePoint(u,i)*(this.nbCenterLayers+2));if(j<.75||j>1.25||!this.isWhiteOrBlackRectangle(N,I,L,U))break}i=N,r=I,s=L,u=U,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ee;this.compact=this.nbCenterLayers===5;let g=new Oe(i.getX()+.5,i.getY()-.5),w=new Oe(r.getX()+.5,r.getY()+.5),v=new Oe(s.getX()-.5,s.getY()+.5),S=new Oe(u.getX()-.5,u.getY()-.5);return this.expandSquare([g,w,v,S],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,i,r,s;try{let g=new _i(this.image).detect();t=g[0],i=g[1],r=g[2],s=g[3]}catch{let w=this.image.getWidth()/2,v=this.image.getHeight()/2;t=this.getFirstDifferent(new yt(w+7,v-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new yt(w+7,v+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new yt(w-7,v+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new yt(w-7,v-7),!1,-1,-1).toResultPoint()}let u=st.round((t.getX()+s.getX()+i.getX()+r.getX())/4),f=st.round((t.getY()+s.getY()+i.getY()+r.getY())/4);try{let g=new _i(this.image,15,u,f).detect();t=g[0],i=g[1],r=g[2],s=g[3]}catch{t=this.getFirstDifferent(new yt(u+7,f-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new yt(u+7,f+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new yt(u-7,f+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new yt(u-7,f-7),!1,-1,-1).toResultPoint()}return u=st.round((t.getX()+s.getX()+i.getX()+r.getX())/4),f=st.round((t.getY()+s.getY()+i.getY()+r.getY())/4),new yt(u,f)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,i,r,s,u){let f=Mn.getInstance(),g=this.getDimension(),w=g/2-this.nbCenterLayers,v=g/2+this.nbCenterLayers;return f.sampleGrid(t,g,g,w,w,v,w,v,v,w,v,i.getX(),i.getY(),r.getX(),r.getY(),s.getX(),s.getY(),u.getX(),u.getY())}sampleLine(t,i,r){let s=0,u=this.distanceResultPoint(t,i),f=u/r,g=t.getX(),w=t.getY(),v=f*(i.getX()-t.getX())/u,S=f*(i.getY()-t.getY())/u;for(let N=0;N<r;N++)this.image.get(st.round(g+N*v),st.round(w+N*S))&&(s|=1<<r-N-1);return s}isWhiteOrBlackRectangle(t,i,r,s){let u=3;t=new yt(t.getX()-u,t.getY()+u),i=new yt(i.getX()-u,i.getY()-u),r=new yt(r.getX()+u,r.getY()-u),s=new yt(s.getX()+u,s.getY()+u);let f=this.getColor(s,t);if(f===0)return!1;let g=this.getColor(t,i);return g!==f||(g=this.getColor(i,r),g!==f)?!1:(g=this.getColor(r,s),g===f)}getColor(t,i){let r=this.distancePoint(t,i),s=(i.getX()-t.getX())/r,u=(i.getY()-t.getY())/r,f=0,g=t.getX(),w=t.getY(),v=this.image.get(t.getX(),t.getY()),S=Math.ceil(r);for(let I=0;I<S;I++)g+=s,w+=u,this.image.get(st.round(g),st.round(w))!==v&&f++;let N=f/r;return N>.1&&N<.9?0:N<=.1===v?1:-1}getFirstDifferent(t,i,r,s){let u=t.getX()+r,f=t.getY()+s;for(;this.isValid(u,f)&&this.image.get(u,f)===i;)u+=r,f+=s;for(u-=r,f-=s;this.isValid(u,f)&&this.image.get(u,f)===i;)u+=r;for(u-=r;this.isValid(u,f)&&this.image.get(u,f)===i;)f+=s;return f-=s,new yt(u,f)}expandSquare(t,i,r){let s=r/(2*i),u=t[0].getX()-t[2].getX(),f=t[0].getY()-t[2].getY(),g=(t[0].getX()+t[2].getX())/2,w=(t[0].getY()+t[2].getY())/2,v=new Oe(g+s*u,w+s*f),S=new Oe(g-s*u,w-s*f);u=t[1].getX()-t[3].getX(),f=t[1].getY()-t[3].getY(),g=(t[1].getX()+t[3].getX())/2,w=(t[1].getY()+t[3].getY())/2;let N=new Oe(g+s*u,w+s*f),I=new Oe(g-s*u,w-s*f);return[v,N,S,I]}isValid(t,i){return t>=0&&t<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(t){let i=st.round(t.getX()),r=st.round(t.getY());return this.isValid(i,r)}distancePoint(t,i){return st.distance(t.getX(),t.getY(),i.getX(),i.getY())}distanceResultPoint(t,i){return st.distance(t.getX(),t.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(G.truncDivision(this.nbLayers-4,8)+1)+15}}class Qa{decode(t,i=null){let r=null,s=new vo(t.getBlackMatrix()),u=null,f=null;try{let S=s.detectMirror(!1);u=S.getPoints(),this.reportFoundResultPoints(i,u),f=new St().decode(S)}catch(S){r=S}if(f==null)try{let S=s.detectMirror(!0);u=S.getPoints(),this.reportFoundResultPoints(i,u),f=new St().decode(S)}catch(S){throw r??S}let g=new Se(f.getText(),f.getRawBytes(),f.getNumBits(),u,ye.AZTEC,X.currentTimeMillis()),w=f.getByteSegments();w!=null&&g.putMetadata(Xe.BYTE_SEGMENTS,w);let v=f.getECLevel();return v!=null&&g.putMetadata(Xe.ERROR_CORRECTION_LEVEL,v),g}reportFoundResultPoints(t,i){if(t!=null){let r=t.get(Ce.NEED_RESULT_POINT_CALLBACK);r!=null&&i.forEach((s,u,f)=>{r.foundPossibleResultPoint(s)})}}reset(){}}class ec extends Ae{constructor(t=500){super(new Qa,t)}}class Ft{decode(t,i){try{return this.doDecode(t,i)}catch{if(i&&i.get(Ce.TRY_HARDER)===!0&&t.isRotateSupported()){const u=t.rotateCounterClockwise(),f=this.doDecode(u,i),g=f.getResultMetadata();let w=270;g!==null&&g.get(Xe.ORIENTATION)===!0&&(w=w+g.get(Xe.ORIENTATION)%360),f.putMetadata(Xe.ORIENTATION,w);const v=f.getResultPoints();if(v!==null){const S=u.getHeight();for(let N=0;N<v.length;N++)v[N]=new Oe(S-v[N].getY()-1,v[N].getX())}return f}else throw new ee}}reset(){}doDecode(t,i){const r=t.getWidth(),s=t.getHeight();let u=new le(r);const f=i&&i.get(Ce.TRY_HARDER)===!0,g=Math.max(1,s>>(f?8:5));let w;f?w=s:w=15;const v=Math.trunc(s/2);for(let S=0;S<w;S++){const N=Math.trunc((S+1)/2),I=(S&1)===0,L=v+g*(I?N:-N);if(L<0||L>=s)break;try{u=t.getBlackRow(L,u)}catch{continue}for(let U=0;U<2;U++){if(U===1&&(u.reverse(),i&&i.get(Ce.NEED_RESULT_POINT_CALLBACK)===!0)){const j=new Map;i.forEach((q,te)=>j.set(te,q)),j.delete(Ce.NEED_RESULT_POINT_CALLBACK),i=j}try{const j=this.decodeRow(L,u,i);if(U===1){j.putMetadata(Xe.ORIENTATION,180);const q=j.getResultPoints();q!==null&&(q[0]=new Oe(r-q[0].getX()-1,q[0].getY()),q[1]=new Oe(r-q[1].getX()-1,q[1].getY()))}return j}catch{}}}throw new ee}static recordPattern(t,i,r){const s=r.length;for(let v=0;v<s;v++)r[v]=0;const u=t.getSize();if(i>=u)throw new ee;let f=!t.get(i),g=0,w=i;for(;w<u;){if(t.get(w)!==f)r[g]++;else{if(++g===s)break;r[g]=1,f=!f}w++}if(!(g===s||g===s-1&&w===u))throw new ee}static recordPatternInReverse(t,i,r){let s=r.length,u=t.get(i);for(;i>0&&s>=0;)t.get(--i)!==u&&(s--,u=!u);if(s>=0)throw new ee;Ft.recordPattern(t,i+1,r)}static patternMatchVariance(t,i,r){const s=t.length;let u=0,f=0;for(let v=0;v<s;v++)u+=t[v],f+=i[v];if(u<f)return Number.POSITIVE_INFINITY;const g=u/f;r*=g;let w=0;for(let v=0;v<s;v++){const S=t[v],N=i[v]*g,I=S>N?S-N:N-S;if(I>r)return Number.POSITIVE_INFINITY;w+=I}return w/u}}class be extends Ft{static findStartPattern(t){const i=t.getSize(),r=t.getNextSet(0);let s=0,u=Int32Array.from([0,0,0,0,0,0]),f=r,g=!1;const w=6;for(let v=r;v<i;v++)if(t.get(v)!==g)u[s]++;else{if(s===w-1){let S=be.MAX_AVG_VARIANCE,N=-1;for(let I=be.CODE_START_A;I<=be.CODE_START_C;I++){const L=Ft.patternMatchVariance(u,be.CODE_PATTERNS[I],be.MAX_INDIVIDUAL_VARIANCE);L<S&&(S=L,N=I)}if(N>=0&&t.isRange(Math.max(0,f-(v-f)/2),f,!1))return Int32Array.from([f,v,N]);f+=u[0]+u[1],u=u.slice(2,u.length-1),u[s-1]=0,u[s]=0,s--}else s++;u[s]=1,g=!g}throw new ee}static decodeCode(t,i,r){Ft.recordPattern(t,r,i);let s=be.MAX_AVG_VARIANCE,u=-1;for(let f=0;f<be.CODE_PATTERNS.length;f++){const g=be.CODE_PATTERNS[f],w=this.patternMatchVariance(i,g,be.MAX_INDIVIDUAL_VARIANCE);w<s&&(s=w,u=f)}if(u>=0)return u;throw new ee}decodeRow(t,i,r){const s=r&&r.get(Ce.ASSUME_GS1)===!0,u=be.findStartPattern(i),f=u[2];let g=0;const w=new Uint8Array(20);w[g++]=f;let v;switch(f){case be.CODE_START_A:v=be.CODE_CODE_A;break;case be.CODE_START_B:v=be.CODE_CODE_B;break;case be.CODE_START_C:v=be.CODE_CODE_C;break;default:throw new ae}let S=!1,N=!1,I="",L=u[0],U=u[1];const j=Int32Array.from([0,0,0,0,0,0]);let q=0,te=0,pe=f,Ee=0,me=!0,Ge=!1,ze=!1;for(;!S;){const Ki=N;switch(N=!1,q=te,te=be.decodeCode(i,j,U),w[g++]=te,te!==be.CODE_STOP&&(me=!0),te!==be.CODE_STOP&&(Ee++,pe+=Ee*te),L=U,U+=j.reduce((li,Do)=>li+Do,0),te){case be.CODE_START_A:case be.CODE_START_B:case be.CODE_START_C:throw new ae}switch(v){case be.CODE_CODE_A:if(te<64)ze===Ge?I+=String.fromCharCode(32+te):I+=String.fromCharCode(32+te+128),ze=!1;else if(te<96)ze===Ge?I+=String.fromCharCode(te-64):I+=String.fromCharCode(te+64),ze=!1;else switch(te!==be.CODE_STOP&&(me=!1),te){case be.CODE_FNC_1:s&&(I.length===0?I+="]C1":I+="");break;case be.CODE_FNC_2:case be.CODE_FNC_3:break;case be.CODE_FNC_4_A:!Ge&&ze?(Ge=!0,ze=!1):Ge&&ze?(Ge=!1,ze=!1):ze=!0;break;case be.CODE_SHIFT:N=!0,v=be.CODE_CODE_B;break;case be.CODE_CODE_B:v=be.CODE_CODE_B;break;case be.CODE_CODE_C:v=be.CODE_CODE_C;break;case be.CODE_STOP:S=!0;break}break;case be.CODE_CODE_B:if(te<96)ze===Ge?I+=String.fromCharCode(32+te):I+=String.fromCharCode(32+te+128),ze=!1;else switch(te!==be.CODE_STOP&&(me=!1),te){case be.CODE_FNC_1:s&&(I.length===0?I+="]C1":I+="");break;case be.CODE_FNC_2:case be.CODE_FNC_3:break;case be.CODE_FNC_4_B:!Ge&&ze?(Ge=!0,ze=!1):Ge&&ze?(Ge=!1,ze=!1):ze=!0;break;case be.CODE_SHIFT:N=!0,v=be.CODE_CODE_A;break;case be.CODE_CODE_A:v=be.CODE_CODE_A;break;case be.CODE_CODE_C:v=be.CODE_CODE_C;break;case be.CODE_STOP:S=!0;break}break;case be.CODE_CODE_C:if(te<100)te<10&&(I+="0"),I+=te;else switch(te!==be.CODE_STOP&&(me=!1),te){case be.CODE_FNC_1:s&&(I.length===0?I+="]C1":I+="");break;case be.CODE_CODE_A:v=be.CODE_CODE_A;break;case be.CODE_CODE_B:v=be.CODE_CODE_B;break;case be.CODE_STOP:S=!0;break}break}Ki&&(v=v===be.CODE_CODE_A?be.CODE_CODE_B:be.CODE_CODE_A)}const Bn=U-L;if(U=i.getNextUnset(U),!i.isRange(U,Math.min(i.getSize(),U+(U-L)/2),!1))throw new ee;if(pe-=Ee*q,pe%103!==q)throw new P;const $n=I.length;if($n===0)throw new ee;$n>0&&me&&(v===be.CODE_CODE_C?I=I.substring(0,$n-2):I=I.substring(0,$n-1));const Hn=(u[1]+u[0])/2,bt=L+Bn/2,yn=w.length,Gn=new Uint8Array(yn);for(let Ki=0;Ki<yn;Ki++)Gn[Ki]=w[Ki];const fr=[new Oe(Hn,t),new Oe(bt,t)];return new Se(I,Gn,0,fr,ye.CODE_128,new Date().getTime())}}be.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],be.MAX_AVG_VARIANCE=.25,be.MAX_INDIVIDUAL_VARIANCE=.7,be.CODE_SHIFT=98,be.CODE_CODE_C=99,be.CODE_CODE_B=100,be.CODE_CODE_A=101,be.CODE_FNC_1=102,be.CODE_FNC_2=97,be.CODE_FNC_3=96,be.CODE_FNC_4_A=101,be.CODE_FNC_4_B=100,be.CODE_START_A=103,be.CODE_START_B=104,be.CODE_START_C=105,be.CODE_STOP=106;class It extends Ft{constructor(t=!1,i=!1){super(),this.usingCheckDigit=t,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,i,r){let s=this.counters;s.fill(0),this.decodeRowResult="";let u=It.findAsteriskPattern(i,s),f=i.getNextSet(u[1]),g=i.getSize(),w,v;do{It.recordPattern(i,f,s);let j=It.toNarrowWidePattern(s);if(j<0)throw new ee;w=It.patternToChar(j),this.decodeRowResult+=w,v=f;for(let q of s)f+=q;f=i.getNextSet(f)}while(w!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let S=0;for(let j of s)S+=j;let N=f-v-S;if(f!==g&&N*2<S)throw new ee;if(this.usingCheckDigit){let j=this.decodeRowResult.length-1,q=0;for(let te=0;te<j;te++)q+=It.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(te));if(this.decodeRowResult.charAt(j)!==It.ALPHABET_STRING.charAt(q%43))throw new P;this.decodeRowResult=this.decodeRowResult.substring(0,j)}if(this.decodeRowResult.length===0)throw new ee;let I;this.extendedMode?I=It.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;let L=(u[1]+u[0])/2,U=v+S/2;return new Se(I,null,0,[new Oe(L,t),new Oe(U,t)],ye.CODE_39,new Date().getTime())}static findAsteriskPattern(t,i){let r=t.getSize(),s=t.getNextSet(0),u=0,f=s,g=!1,w=i.length;for(let v=s;v<r;v++)if(t.get(v)!==g)i[u]++;else{if(u===w-1){if(this.toNarrowWidePattern(i)===It.ASTERISK_ENCODING&&t.isRange(Math.max(0,f-Math.floor((v-f)/2)),f,!1))return[f,v];f+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,g=!g}throw new ee}static toNarrowWidePattern(t){let i=t.length,r=0,s;do{let u=2147483647;for(let w of t)w<u&&w>r&&(u=w);r=u,s=0;let f=0,g=0;for(let w=0;w<i;w++){let v=t[w];v>r&&(g|=1<<i-1-w,s++,f+=v)}if(s===3){for(let w=0;w<i&&s>0;w++){let v=t[w];if(v>r&&(s--,v*2>=f))return-1}return g}}while(s>3);return-1}static patternToChar(t){for(let i=0;i<It.CHARACTER_ENCODINGS.length;i++)if(It.CHARACTER_ENCODINGS[i]===t)return It.ALPHABET_STRING.charAt(i);if(t===It.ASTERISK_ENCODING)return"*";throw new ee}static decodeExtended(t){let i=t.length,r="";for(let s=0;s<i;s++){let u=t.charAt(s);if(u==="+"||u==="$"||u==="%"||u==="/"){let f=t.charAt(s+1),g="\0";switch(u){case"+":if(f>="A"&&f<="Z")g=String.fromCharCode(f.charCodeAt(0)+32);else throw new ae;break;case"$":if(f>="A"&&f<="Z")g=String.fromCharCode(f.charCodeAt(0)-64);else throw new ae;break;case"%":if(f>="A"&&f<="E")g=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")g=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")g=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")g=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")g="\0";else if(f==="V")g="@";else if(f==="W")g="`";else if(f==="X"||f==="Y"||f==="Z")g="";else throw new ae;break;case"/":if(f>="A"&&f<="O")g=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")g=":";else throw new ae;break}r+=g,s++}else r+=u}return r}}It.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",It.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],It.ASTERISK_ENCODING=148;class dt extends Ft{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,i,r){let s=this.decodeStart(i),u=this.decodeEnd(i),f=new Ze;dt.decodeMiddle(i,s[1],u[0],f);let g=f.toString(),w=null;r!=null&&(w=r.get(Ce.ALLOWED_LENGTHS)),w==null&&(w=dt.DEFAULT_ALLOWED_LENGTHS);let v=g.length,S=!1,N=0;for(let U of w){if(v===U){S=!0;break}U>N&&(N=U)}if(!S&&v>N&&(S=!0),!S)throw new ae;const I=[new Oe(s[1],t),new Oe(u[0],t)];return new Se(g,null,0,I,ye.ITF,new Date().getTime())}static decodeMiddle(t,i,r,s){let u=new Int32Array(10),f=new Int32Array(5),g=new Int32Array(5);for(u.fill(0),f.fill(0),g.fill(0);i<r;){Ft.recordPattern(t,i,u);for(let v=0;v<5;v++){let S=2*v;f[v]=u[S],g[v]=u[S+1]}let w=dt.decodeDigit(f);s.append(w.toString()),w=this.decodeDigit(g),s.append(w.toString()),u.forEach(function(v){i+=v})}}decodeStart(t){let i=dt.skipWhiteSpace(t),r=dt.findGuardPattern(t,i,dt.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(t,r[0]),r}validateQuietZone(t,i){let r=this.narrowLineWidth*10;r=r<i?r:i;for(let s=i-1;r>0&&s>=0&&!t.get(s);s--)r--;if(r!==0)throw new ee}static skipWhiteSpace(t){const i=t.getSize(),r=t.getNextSet(0);if(r===i)throw new ee;return r}decodeEnd(t){t.reverse();try{let i=dt.skipWhiteSpace(t),r;try{r=dt.findGuardPattern(t,i,dt.END_PATTERN_REVERSED[0])}catch(u){u instanceof ee&&(r=dt.findGuardPattern(t,i,dt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,r[0]);let s=r[0];return r[0]=t.getSize()-r[1],r[1]=t.getSize()-s,r}finally{t.reverse()}}static findGuardPattern(t,i,r){let s=r.length,u=new Int32Array(s),f=t.getSize(),g=!1,w=0,v=i;u.fill(0);for(let S=i;S<f;S++)if(t.get(S)!==g)u[w]++;else{if(w===s-1){if(Ft.patternMatchVariance(u,r,dt.MAX_INDIVIDUAL_VARIANCE)<dt.MAX_AVG_VARIANCE)return[v,S];v+=u[0]+u[1],X.arraycopy(u,2,u,0,w-1),u[w-1]=0,u[w]=0,w--}else w++;u[w]=1,g=!g}throw new ee}static decodeDigit(t){let i=dt.MAX_AVG_VARIANCE,r=-1,s=dt.PATTERNS.length;for(let u=0;u<s;u++){let f=dt.PATTERNS[u],g=Ft.patternMatchVariance(t,f,dt.MAX_INDIVIDUAL_VARIANCE);g<i?(i=g,r=u):g===i&&(r=-1)}if(r>=0)return r%10;throw new ee}}dt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],dt.MAX_AVG_VARIANCE=.38,dt.MAX_INDIVIDUAL_VARIANCE=.5,dt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],dt.START_PATTERN=Int32Array.from([1,1,1,1]),dt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Tt extends Ft{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let i=!1,r,s=0,u=Int32Array.from([0,0,0]);for(;!i;){u=Int32Array.from([0,0,0]),r=Tt.findGuardPattern(t,s,!1,this.START_END_PATTERN,u);let f=r[0];s=r[1];let g=f-(s-f);g>=0&&(i=t.isRange(g,f,!1))}return r}static checkChecksum(t){return Tt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let r=parseInt(t.charAt(i-1),10);return Tt.getStandardUPCEANChecksum(t.substring(0,i-1))===r}static getStandardUPCEANChecksum(t){let i=t.length,r=0;for(let s=i-1;s>=0;s-=2){let u=t.charAt(s).charCodeAt(0)-48;if(u<0||u>9)throw new ae;r+=u}r*=3;for(let s=i-2;s>=0;s-=2){let u=t.charAt(s).charCodeAt(0)-48;if(u<0||u>9)throw new ae;r+=u}return(1e3-r)%10}static decodeEnd(t,i){return Tt.findGuardPattern(t,i,!1,Tt.START_END_PATTERN,new Int32Array(Tt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,i,r,s){return this.findGuardPattern(t,i,r,s,new Int32Array(s.length))}static findGuardPattern(t,i,r,s,u){let f=t.getSize();i=r?t.getNextUnset(i):t.getNextSet(i);let g=0,w=i,v=s.length,S=r;for(let N=i;N<f;N++)if(t.get(N)!==S)u[g]++;else{if(g===v-1){if(Ft.patternMatchVariance(u,s,Tt.MAX_INDIVIDUAL_VARIANCE)<Tt.MAX_AVG_VARIANCE)return Int32Array.from([w,N]);w+=u[0]+u[1];let I=u.slice(2,u.length-1);for(let L=0;L<g-1;L++)u[L]=I[L];u[g-1]=0,u[g]=0,g--}else g++;u[g]=1,S=!S}throw new ee}static decodeDigit(t,i,r,s){this.recordPattern(t,r,i);let u=this.MAX_AVG_VARIANCE,f=-1,g=s.length;for(let w=0;w<g;w++){let v=s[w],S=Ft.patternMatchVariance(i,v,Tt.MAX_INDIVIDUAL_VARIANCE);S<u&&(u=S,f=w)}if(f>=0)return f;throw new ee}}Tt.MAX_AVG_VARIANCE=.48,Tt.MAX_INDIVIDUAL_VARIANCE=.7,Tt.START_END_PATTERN=Int32Array.from([1,1,1]),Tt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Tt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Tt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ya{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,r){let s=this.decodeRowStringBuffer,u=this.decodeMiddle(i,r,s),f=s.toString(),g=ya.parseExtensionString(f),w=[new Oe((r[0]+r[1])/2,t),new Oe(u,t)],v=new Se(f,null,0,w,ye.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&v.putAllMetadata(g),v}decodeMiddle(t,i,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let u=t.getSize(),f=i[1],g=0;for(let v=0;v<5&&f<u;v++){let S=Tt.decodeDigit(t,s,f,Tt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+S%10);for(let N of s)f+=N;S>=10&&(g|=1<<4-v),v!==4&&(f=t.getNextSet(f),f=t.getNextUnset(f))}if(r.length!==5)throw new ee;let w=this.determineCheckDigit(g);if(ya.extensionChecksum(r.toString())!==w)throw new ee;return f}static extensionChecksum(t){let i=t.length,r=0;for(let s=i-2;s>=0;s-=2)r+=t.charAt(s).charCodeAt(0)-48;r*=3;for(let s=i-1;s>=0;s-=2)r+=t.charAt(s).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(t){for(let i=0;i<10;i++)if(t===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new ee}static parseExtensionString(t){if(t.length!==5)return null;let i=ya.parseExtension5String(t);return i==null?null:new Map([[Xe.SUGGESTED_PRICE,i]])}static parseExtension5String(t){let i;switch(t.charAt(0)){case"0":i="£";break;case"5":i="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let r=parseInt(t.substring(1)),s=(r/100).toString(),u=r%100,f=u<10?"0"+u:u.toString();return i+s+"."+f}}class Ja{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,r){let s=this.decodeRowStringBuffer,u=this.decodeMiddle(i,r,s),f=s.toString(),g=Ja.parseExtensionString(f),w=[new Oe((r[0]+r[1])/2,t),new Oe(u,t)],v=new Se(f,null,0,w,ye.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&v.putAllMetadata(g),v}decodeMiddle(t,i,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let u=t.getSize(),f=i[1],g=0;for(let w=0;w<2&&f<u;w++){let v=Tt.decodeDigit(t,s,f,Tt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+v%10);for(let S of s)f+=S;v>=10&&(g|=1<<1-w),w!==1&&(f=t.getNextSet(f),f=t.getNextUnset(f))}if(r.length!==2)throw new ee;if(parseInt(r.toString())%4!==g)throw new ee;return f}static parseExtensionString(t){return t.length!==2?null:new Map([[Xe.ISSUE_NUMBER,parseInt(t)]])}}class ll{static decodeRow(t,i,r){let s=Tt.findGuardPattern(i,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ya().decodeRow(t,i,s)}catch{return new Ja().decodeRow(t,i,s)}}}ll.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ut extends Tt{constructor(){super(),this.decodeRowStringBuffer="",ut.L_AND_G_PATTERNS=ut.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let i=ut.L_PATTERNS[t-10],r=new Int32Array(i.length);for(let s=0;s<i.length;s++)r[s]=i[i.length-s-1];ut.L_AND_G_PATTERNS[t]=r}}decodeRow(t,i,r){let s=ut.findStartGuardPattern(i),u=r==null?null:r.get(Ce.NEED_RESULT_POINT_CALLBACK);if(u!=null){const me=new Oe((s[0]+s[1])/2,t);u.foundPossibleResultPoint(me)}let f=this.decodeMiddle(i,s,this.decodeRowStringBuffer),g=f.rowOffset,w=f.resultString;if(u!=null){const me=new Oe(g,t);u.foundPossibleResultPoint(me)}let v=this.decodeEnd(i,g);if(u!=null){const me=new Oe((v[0]+v[1])/2,t);u.foundPossibleResultPoint(me)}let S=v[1],N=S+(S-v[0]);if(N>=i.getSize()||!i.isRange(S,N,!1))throw new ee;let I=w.toString();if(I.length<8)throw new ae;if(!ut.checkChecksum(I))throw new P;let L=(s[1]+s[0])/2,U=(v[1]+v[0])/2,j=this.getBarcodeFormat(),q=[new Oe(L,t),new Oe(U,t)],te=new Se(I,null,0,q,j,new Date().getTime()),pe=0;try{let me=ll.decodeRow(t,i,v[1]);te.putMetadata(Xe.UPC_EAN_EXTENSION,me.getText()),te.putAllMetadata(me.getResultMetadata()),te.addResultPoints(me.getResultPoints()),pe=me.getText().length}catch{}let Ee=r==null?null:r.get(Ce.ALLOWED_EAN_EXTENSIONS);if(Ee!=null){let me=!1;for(let Ge in Ee)if(pe.toString()===Ge){me=!0;break}if(!me)throw new ee}return te}decodeEnd(t,i){return ut.findGuardPattern(t,i,!1,ut.START_END_PATTERN,new Int32Array(ut.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return ut.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let r=parseInt(t.charAt(i-1),10);return ut.getStandardUPCEANChecksum(t.substring(0,i-1))===r}static getStandardUPCEANChecksum(t){let i=t.length,r=0;for(let s=i-1;s>=0;s-=2){let u=t.charAt(s).charCodeAt(0)-48;if(u<0||u>9)throw new ae;r+=u}r*=3;for(let s=i-2;s>=0;s-=2){let u=t.charAt(s).charCodeAt(0)-48;if(u<0||u>9)throw new ae;r+=u}return(1e3-r)%10}}class ri extends ut{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let u=t.getSize(),f=i[1],g=0;for(let v=0;v<6&&f<u;v++){let S=ut.decodeDigit(t,s,f,ut.L_AND_G_PATTERNS);r+=String.fromCharCode(48+S%10);for(let N of s)f+=N;S>=10&&(g|=1<<5-v)}r=ri.determineFirstDigit(r,g),f=ut.findGuardPattern(t,f,!0,ut.MIDDLE_PATTERN,new Int32Array(ut.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<6&&f<u;v++){let S=ut.decodeDigit(t,s,f,ut.L_PATTERNS);r+=String.fromCharCode(48+S);for(let N of s)f+=N}return{rowOffset:f,resultString:r}}getBarcodeFormat(){return ye.EAN_13}static determineFirstDigit(t,i){for(let r=0;r<10;r++)if(i===this.FIRST_DIGIT_ENCODINGS[r])return t=String.fromCharCode(48+r)+t,t;throw new ee}}ri.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class bo extends ut{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,r){const s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let u=t.getSize(),f=i[1];for(let w=0;w<4&&f<u;w++){let v=ut.decodeDigit(t,s,f,ut.L_PATTERNS);r+=String.fromCharCode(48+v);for(let S of s)f+=S}f=ut.findGuardPattern(t,f,!0,ut.MIDDLE_PATTERN,new Int32Array(ut.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<4&&f<u;w++){let v=ut.decodeDigit(t,s,f,ut.L_PATTERNS);r+=String.fromCharCode(48+v);for(let S of s)f+=S}return{rowOffset:f,resultString:r}}getBarcodeFormat(){return ye.EAN_8}}class ol extends ut{constructor(){super(...arguments),this.ean13Reader=new ri}getBarcodeFormat(){return ye.UPC_A}decode(t,i){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,i,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,i,r))}decodeMiddle(t,i,r){return this.ean13Reader.decodeMiddle(t,i,r)}maybeReturnResult(t){let i=t.getText();if(i.charAt(0)==="0"){let r=new Se(i.substring(1),null,null,t.getResultPoints(),ye.UPC_A);return t.getResultMetadata()!=null&&r.putAllMetadata(t.getResultMetadata()),r}else throw new ee}reset(){this.ean13Reader.reset()}}class Kn extends ut{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,i,r){const s=this.decodeMiddleCounters.map(v=>v);s[0]=0,s[1]=0,s[2]=0,s[3]=0;const u=t.getSize();let f=i[1],g=0;for(let v=0;v<6&&f<u;v++){const S=Kn.decodeDigit(t,s,f,Kn.L_AND_G_PATTERNS);r+=String.fromCharCode(48+S%10);for(let N of s)f+=N;S>=10&&(g|=1<<5-v)}let w=Kn.determineNumSysAndCheckDigit(r,g);return{rowOffset:f,resultString:w}}decodeEnd(t,i){return Kn.findGuardPatternWithoutCounters(t,i,!0,Kn.MIDDLE_END_PATTERN)}checkChecksum(t){return ut.checkChecksum(Kn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,i){for(let r=0;r<=1;r++)for(let s=0;s<10;s++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][s]){let u=String.fromCharCode(48+r),f=String.fromCharCode(48+s);return u+t+f}throw ee.getNotFoundInstance()}getBarcodeFormat(){return ye.UPC_E}static convertUPCEtoUPCA(t){const i=t.slice(1,7).split("").map(u=>u.charCodeAt(0)),r=new Ze;r.append(t.charAt(0));let s=i[5];switch(s){case 0:case 1:case 2:r.appendChars(i,0,2),r.append(s),r.append("0000"),r.appendChars(i,2,3);break;case 3:r.appendChars(i,0,3),r.append("00000"),r.appendChars(i,3,2);break;case 4:r.appendChars(i,0,4),r.append("00000"),r.append(i[4]);break;default:r.appendChars(i,0,5),r.append("0000"),r.append(s);break}return t.length>=8&&r.append(t.charAt(7)),r.toString()}}Kn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Kn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ea extends Ft{constructor(t){super();let i=t==null?null:t.get(Ce.POSSIBLE_FORMATS),r=[];d(i)?(r.push(new ri),r.push(new ol),r.push(new bo),r.push(new Kn)):(i.indexOf(ye.EAN_13)>-1&&r.push(new ri),i.indexOf(ye.UPC_A)>-1&&r.push(new ol),i.indexOf(ye.EAN_8)>-1&&r.push(new bo),i.indexOf(ye.UPC_E)>-1&&r.push(new Kn)),this.readers=r}decodeRow(t,i,r){for(let s of this.readers)try{const u=s.decodeRow(t,i,r),f=u.getBarcodeFormat()===ye.EAN_13&&u.getText().charAt(0)==="0",g=r==null?null:r.get(Ce.POSSIBLE_FORMATS),w=g==null||g.includes(ye.UPC_A);if(f&&w){const v=u.getRawBytes(),S=new Se(u.getText().substring(1),v,v?v.length:null,u.getResultPoints(),ye.UPC_A);return S.putAllMetadata(u.getResultMetadata()),S}return u}catch{}throw new ee}reset(){for(let t of this.readers)t.reset()}}class un extends Ft{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,i){for(let r=0;r<i.length;r++)if(Ft.patternMatchVariance(t,i[r],un.MAX_INDIVIDUAL_VARIANCE)<un.MAX_AVG_VARIANCE)return r;throw new ee}static count(t){return st.sum(new Int32Array(t))}static increment(t,i){let r=0,s=i[0];for(let u=1;u<t.length;u++)i[u]>s&&(s=i[u],r=u);t[r]++}static decrement(t,i){let r=0,s=i[0];for(let u=1;u<t.length;u++)i[u]<s&&(s=i[u],r=u);t[r]--}static isFinderPattern(t){let i=t[0]+t[1],r=i+t[2]+t[3],s=i/r;if(s>=un.MIN_FINDER_PATTERN_RATIO&&s<=un.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let g of t)g>f&&(f=g),g<u&&(u=g);return f<10*u}return!1}}un.MAX_AVG_VARIANCE=.2,un.MAX_INDIVIDUAL_VARIANCE=.45,un.MIN_FINDER_PATTERN_RATIO=9.5/12,un.MAX_FINDER_PATTERN_RATIO=12.5/14;class ar{constructor(t,i){this.value=t,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof ar))return!1;const i=t;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class $a{constructor(t,i,r,s,u){this.value=t,this.startEnd=i,this.value=t,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new Oe(r,u)),this.resultPoints.push(new Oe(s,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof $a))return!1;const i=t;return this.value===i.value}hashCode(){return this.value}}class gn{constructor(){}static getRSSvalue(t,i,r){let s=0;for(let w of t)s+=w;let u=0,f=0,g=t.length;for(let w=0;w<g-1;w++){let v;for(v=1,f|=1<<w;v<t[w];v++,f&=~(1<<w)){let S=gn.combins(s-v-1,g-w-2);if(r&&f===0&&s-v-(g-w-1)>=g-w-1&&(S-=gn.combins(s-v-(g-w),g-w-2)),g-w-1>1){let N=0;for(let I=s-v-(g-w-2);I>i;I--)N+=gn.combins(s-v-I-1,g-w-3);S-=N*(g-1-w)}else s-v>i&&S--;u+=S}s-=v}return u}static combins(t,i){let r,s;t-i>i?(s=i,r=t-i):(s=t-i,r=i);let u=1,f=1;for(let g=t;g>r;g--)u*=g,f<=s&&(u/=f,f++);for(;f<=s;)u/=f,f++;return u}}class An{static buildBitArray(t){let i=t.length*2-1;t[t.length-1].getRightChar()==null&&(i-=1);let r=12*i,s=new le(r),u=0,g=t[0].getRightChar().getValue();for(let w=11;w>=0;--w)(g&1<<w)!=0&&s.set(u),u++;for(let w=1;w<t.length;++w){let v=t[w],S=v.getLeftChar().getValue();for(let N=11;N>=0;--N)(S&1<<N)!=0&&s.set(u),u++;if(v.getRightChar()!=null){let N=v.getRightChar().getValue();for(let I=11;I>=0;--I)(N&1<<I)!=0&&s.set(u),u++}}return s}}class Zt{constructor(t,i){i?this.decodedInformation=null:(this.finished=t,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ui{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Cn extends Ui{constructor(t,i){super(t),this.value=i}getValue(){return this.value}isFNC1(){return this.value===Cn.FNC1}}Cn.FNC1="$";class sr extends Ui{constructor(t,i,r){super(t),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Qn extends Ui{constructor(t,i,r){if(super(t),i<0||i>10||r<0||r>10)throw new ae;this.firstDigit=i,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Qn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Qn.FNC1}isAnyFNC1(){return this.firstDigit===Qn.FNC1||this.secondDigit===Qn.FNC1}}Qn.FNC1=10;class _e{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new ee;let i=t.substring(0,2);for(let u of _e.TWO_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(2,u[2],t):_e.processFixedAI(2,u[1],t);if(t.length<3)throw new ee;let r=t.substring(0,3);for(let u of _e.THREE_DIGIT_DATA_LENGTH)if(u[0]===r)return u[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(3,u[2],t):_e.processFixedAI(3,u[1],t);for(let u of _e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===r)return u[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(4,u[2],t):_e.processFixedAI(4,u[1],t);if(t.length<4)throw new ee;let s=t.substring(0,4);for(let u of _e.FOUR_DIGIT_DATA_LENGTH)if(u[0]===s)return u[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(4,u[2],t):_e.processFixedAI(4,u[1],t);throw new ee}static processFixedAI(t,i,r){if(r.length<t)throw new ee;let s=r.substring(0,t);if(r.length<t+i)throw new ee;let u=r.substring(t,t+i),f=r.substring(t+i),g="("+s+")"+u,w=_e.parseFieldsInGeneralPurpose(f);return w==null?g:g+w}static processVariableAI(t,i,r){let s=r.substring(0,t),u;r.length<t+i?u=r.length:u=t+i;let f=r.substring(t,u),g=r.substring(u),w="("+s+")"+f,v=_e.parseFieldsInGeneralPurpose(g);return v==null?w:w+v}}_e.VARIABLE_LENGTH=[],_e.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",_e.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",_e.VARIABLE_LENGTH,20],["22",_e.VARIABLE_LENGTH,29],["30",_e.VARIABLE_LENGTH,8],["37",_e.VARIABLE_LENGTH,8],["90",_e.VARIABLE_LENGTH,30],["91",_e.VARIABLE_LENGTH,30],["92",_e.VARIABLE_LENGTH,30],["93",_e.VARIABLE_LENGTH,30],["94",_e.VARIABLE_LENGTH,30],["95",_e.VARIABLE_LENGTH,30],["96",_e.VARIABLE_LENGTH,30],["97",_e.VARIABLE_LENGTH,3],["98",_e.VARIABLE_LENGTH,30],["99",_e.VARIABLE_LENGTH,30]],_e.THREE_DIGIT_DATA_LENGTH=[["240",_e.VARIABLE_LENGTH,30],["241",_e.VARIABLE_LENGTH,30],["242",_e.VARIABLE_LENGTH,6],["250",_e.VARIABLE_LENGTH,30],["251",_e.VARIABLE_LENGTH,30],["253",_e.VARIABLE_LENGTH,17],["254",_e.VARIABLE_LENGTH,20],["400",_e.VARIABLE_LENGTH,30],["401",_e.VARIABLE_LENGTH,30],["402",17],["403",_e.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",_e.VARIABLE_LENGTH,20],["421",_e.VARIABLE_LENGTH,15],["422",3],["423",_e.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],_e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",_e.VARIABLE_LENGTH,15],["391",_e.VARIABLE_LENGTH,18],["392",_e.VARIABLE_LENGTH,15],["393",_e.VARIABLE_LENGTH,18],["703",_e.VARIABLE_LENGTH,30]],_e.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",_e.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",_e.VARIABLE_LENGTH,20],["8003",_e.VARIABLE_LENGTH,30],["8004",_e.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",_e.VARIABLE_LENGTH,30],["8008",_e.VARIABLE_LENGTH,12],["8018",18],["8020",_e.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",_e.VARIABLE_LENGTH,70],["8200",_e.VARIABLE_LENGTH,70]];class xi{constructor(t){this.buffer=new Ze,this.information=t}decodeAllCodes(t,i){let r=i,s=null;do{let u=this.decodeGeneralPurposeField(r,s),f=_e.parseFieldsInGeneralPurpose(u.getNewString());if(f!=null&&t.append(f),u.isRemaining()?s=""+u.getRemainingValue():s=null,r===u.getNewPosition())break;r=u.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let i=t;i<t+3;++i)if(this.information.get(i))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(t,4);return u===0?new Qn(this.information.getSize(),Qn.FNC1,Qn.FNC1):new Qn(this.information.getSize(),u-1,Qn.FNC1)}let i=this.extractNumericValueFromBitArray(t,7),r=(i-8)/11,s=(i-8)%11;return new Qn(t+7,r,s)}extractNumericValueFromBitArray(t,i){return xi.extractNumericValueFromBitArray(this.information,t,i)}static extractNumericValueFromBitArray(t,i,r){let s=0;for(let u=0;u<r;++u)t.get(i+u)&&(s|=1<<r-u-1);return s}decodeGeneralPurposeField(t,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(t);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new sr(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new sr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,i;do{let r=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),t=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),t=i.isFinished()):(i=this.parseNumericBlock(),t=i.isFinished()),!(r!==this.current.getPosition())&&!t)break}while(!t);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let i;return t.isSecondDigitFNC1()?i=new sr(this.current.getPosition(),this.buffer.toString()):i=new sr(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Zt(!0,i)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let i=new sr(this.current.getPosition(),this.buffer.toString());return new Zt(!0,i)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Zt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new sr(this.current.getPosition(),this.buffer.toString());return new Zt(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Zt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new sr(this.current.getPosition(),this.buffer.toString());return new Zt(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Zt(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<116)return!0;if(t+8>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,8);return s>=232&&s<253}decodeIsoIec646(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new Cn(t+5,Cn.FNC1);if(i>=5&&i<15)return new Cn(t+5,"0"+(i-5));let r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<90)return new Cn(t+7,""+(r+1));if(r>=90&&r<116)return new Cn(t+7,""+(r+7));let s=this.extractNumericValueFromBitArray(t,8),u;switch(s){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new ae}return new Cn(t+8,u)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,6);return r>=16&&r<63}decodeAlphanumeric(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new Cn(t+5,Cn.FNC1);if(i>=5&&i<15)return new Cn(t+5,"0"+(i-5));let r=this.extractNumericValueFromBitArray(t,6);if(r>=32&&r<58)return new Cn(t+6,""+(r+33));let s;switch(r){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new mi("Decoding invalid alphanumeric value: "+r)}return new Cn(t+6,s)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<5&&i+t<this.information.getSize();++i)if(i===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+i))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let i=t;i<t+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<4&&i+t<this.information.getSize();++i)if(this.information.get(t+i))return!1;return!0}}class va{constructor(t){this.information=t,this.generalDecoder=new xi(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class nn extends va{constructor(t){super(t)}encodeCompressedGtin(t,i){t.append("(01)");let r=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,i,r)}encodeCompressedGtinWithoutAI(t,i,r){for(let s=0;s<4;++s){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*s,10);u/100===0&&t.append("0"),u/10===0&&t.append("0"),t.append(u)}nn.appendCheckDigit(t,r)}static appendCheckDigit(t,i){let r=0;for(let s=0;s<13;s++){let u=t.charAt(s+i).charCodeAt(0)-48;r+=(s&1)===0?3*u:u}r=10-r%10,r===10&&(r=0),t.append(r)}}nn.GTIN_SIZE=40;class ai extends nn{constructor(t){super(t)}parseInformation(){let t=new Ze;t.append("(01)");let i=t.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(ai.HEADER_SIZE,4);return t.append(r),this.encodeCompressedGtinWithoutAI(t,ai.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(t,ai.HEADER_SIZE+44)}}ai.HEADER_SIZE=4;class Fi extends va{constructor(t){super(t)}parseInformation(){let t=new Ze;return this.getGeneralDecoder().decodeAllCodes(t,Fi.HEADER_SIZE)}}Fi.HEADER_SIZE=5;class Si extends nn{constructor(t){super(t)}encodeCompressedWeight(t,i,r){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(i,r);this.addWeightCode(t,s);let u=this.checkWeight(s),f=1e5;for(let g=0;g<5;++g)u/f===0&&t.append("0"),f/=10;t.append(u)}}class Et extends Si{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Et.HEADER_SIZE+Si.GTIN_SIZE+Et.WEIGHT_SIZE)throw new ee;let t=new Ze;return this.encodeCompressedGtin(t,Et.HEADER_SIZE),this.encodeCompressedWeight(t,Et.HEADER_SIZE+Si.GTIN_SIZE,Et.WEIGHT_SIZE),t.toString()}}Et.HEADER_SIZE=5,Et.WEIGHT_SIZE=15;class Ao extends Et{constructor(t){super(t)}addWeightCode(t,i){t.append("(3103)")}checkWeight(t){return t}}class Co extends Et{constructor(t){super(t)}addWeightCode(t,i){i<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class _n extends nn{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<_n.HEADER_SIZE+nn.GTIN_SIZE)throw new ee;let t=new Ze;this.encodeCompressedGtin(t,_n.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(_n.HEADER_SIZE+nn.GTIN_SIZE,_n.LAST_DIGIT_SIZE);t.append("(392"),t.append(i),t.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(_n.HEADER_SIZE+nn.GTIN_SIZE+_n.LAST_DIGIT_SIZE,null);return t.append(r.getNewString()),t.toString()}}_n.HEADER_SIZE=8,_n.LAST_DIGIT_SIZE=2;class Kt extends nn{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Kt.HEADER_SIZE+nn.GTIN_SIZE)throw new ee;let t=new Ze;this.encodeCompressedGtin(t,Kt.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Kt.HEADER_SIZE+nn.GTIN_SIZE,Kt.LAST_DIGIT_SIZE);t.append("(393"),t.append(i),t.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Kt.HEADER_SIZE+nn.GTIN_SIZE+Kt.LAST_DIGIT_SIZE,Kt.FIRST_THREE_DIGITS_SIZE);r/100==0&&t.append("0"),r/10==0&&t.append("0"),t.append(r);let s=this.getGeneralDecoder().decodeGeneralPurposeField(Kt.HEADER_SIZE+nn.GTIN_SIZE+Kt.LAST_DIGIT_SIZE+Kt.FIRST_THREE_DIGITS_SIZE,null);return t.append(s.getNewString()),t.toString()}}Kt.HEADER_SIZE=8,Kt.LAST_DIGIT_SIZE=2,Kt.FIRST_THREE_DIGITS_SIZE=10;class Bt extends Si{constructor(t,i,r){super(t),this.dateCode=r,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=Bt.HEADER_SIZE+Bt.GTIN_SIZE+Bt.WEIGHT_SIZE+Bt.DATE_SIZE)throw new ee;let t=new Ze;return this.encodeCompressedGtin(t,Bt.HEADER_SIZE),this.encodeCompressedWeight(t,Bt.HEADER_SIZE+Bt.GTIN_SIZE,Bt.WEIGHT_SIZE),this.encodeCompressedDate(t,Bt.HEADER_SIZE+Bt.GTIN_SIZE+Bt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,i){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(i,Bt.DATE_SIZE);if(r==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let s=r%32;r/=32;let u=r%12+1;r/=12;let f=r;f/10==0&&t.append("0"),t.append(f),u/10==0&&t.append("0"),t.append(u),s/10==0&&t.append("0"),t.append(s)}addWeightCode(t,i){t.append("("),t.append(this.firstAIdigits),t.append(i/1e5),t.append(")")}checkWeight(t){return t%1e5}}Bt.HEADER_SIZE=8,Bt.WEIGHT_SIZE=20,Bt.DATE_SIZE=16;function ul(R){try{if(R.get(1))return new ai(R);if(!R.get(2))return new Fi(R);switch(xi.extractNumericValueFromBitArray(R,1,4)){case 4:return new Ao(R);case 5:return new Co(R)}switch(xi.extractNumericValueFromBitArray(R,1,5)){case 12:return new _n(R);case 13:return new Kt(R)}switch(xi.extractNumericValueFromBitArray(R,1,7)){case 56:return new Bt(R,"310","11");case 57:return new Bt(R,"320","11");case 58:return new Bt(R,"310","13");case 59:return new Bt(R,"320","13");case 60:return new Bt(R,"310","15");case 61:return new Bt(R,"320","15");case 62:return new Bt(R,"310","17");case 63:return new Bt(R,"320","17")}}catch(t){throw console.log(t),new mi("unknown decoder: "+R)}}class Ti{constructor(t,i,r,s){this.leftchar=t,this.rightchar=i,this.finderpattern=r,this.maybeLast=s}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,i){return t instanceof Ti?Ti.equalsOrNull(t.leftchar,i.leftchar)&&Ti.equalsOrNull(t.rightchar,i.rightchar)&&Ti.equalsOrNull(t.finderpattern,i.finderpattern):!1}static equalsOrNull(t,i){return t===null?i===null:Ti.equals(t,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class cl{constructor(t,i,r){this.pairs=t,this.rowNumber=i,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,i){return t instanceof cl?this.checkEqualitity(t,i)&&t.wasReversed===i.wasReversed:!1}checkEqualitity(t,i){if(!t||!i)return;let r;return t.forEach((s,u)=>{i.forEach(f=>{s.getLeftChar().getValue()===f.getLeftChar().getValue()&&s.getRightChar().getValue()===f.getRightChar().getValue()&&s.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(r=!0)})}),r}}class de extends un{constructor(t){super(...arguments),this.pairs=new Array(de.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,i,r){this.pairs.length=0,this.startFromEven=!1;try{return de.constructResult(this.decodeRow2pairs(t,i))}catch(s){this.verbose&&console.log(s)}return this.pairs.length=0,this.startFromEven=!0,de.constructResult(this.decodeRow2pairs(t,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,i){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,t))}catch(u){if(u instanceof ee){if(!this.pairs.length)throw new ee;r=!0}}if(this.checkChecksum())return this.pairs;let s;if(this.rows.length?s=!0:s=!1,this.storeRow(t,!1),s){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new ee}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return t&&(this.rows=this.rows.reverse()),i}checkRows(t,i){for(let r=i;r<this.rows.length;r++){let s=this.rows[r];this.pairs.length=0;for(let f of t)this.pairs.push(f.getPairs());if(this.pairs.push(s.getPairs()),!de.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(t);u.push(s);try{return this.checkRows(u,r+1)}catch(f){this.verbose&&console.log(f)}}throw new ee}static isValidSequence(t){for(let i of de.FINDER_PATTERN_SEQUENCES){if(t.length>i.length)continue;let r=!0;for(let s=0;s<t.length;s++)if(t[s].getFinderPattern().getValue()!=i[s]){r=!1;break}if(r)return!0}return!1}storeRow(t,i){let r=0,s=!1,u=!1;for(;r<this.rows.length;){let f=this.rows[r];if(f.getRowNumber()>t){u=f.isEquivalent(this.pairs);break}s=f.isEquivalent(this.pairs),r++}u||s||de.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new cl(this.pairs,t,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,i){for(let r of i)if(r.getPairs().length!==t.length){for(let s of r.getPairs())for(let u of t)if(Ti.equals(s,u))break}}static isPartialRow(t,i){for(let r of i){let s=!0;for(let u of t){let f=!1;for(let g of r.getPairs())if(u.equals(g)){f=!0;break}if(!f){s=!1;break}}if(s)return!0}return!1}getRows(){return this.rows}static constructResult(t){let i=An.buildBitArray(t),s=ul(i).parseInformation(),u=t[0].getFinderPattern().getResultPoints(),f=t[t.length-1].getFinderPattern().getResultPoints(),g=[u[0],u[1],f[0],f[1]];return new Se(s,null,null,g,ye.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),i=t.getLeftChar(),r=t.getRightChar();if(r==null)return!1;let s=r.getChecksumPortion(),u=2;for(let g=1;g<this.pairs.size();++g){let w=this.pairs.get(g);s+=w.getLeftChar().getChecksumPortion(),u++;let v=w.getRightChar();v!=null&&(s+=v.getChecksumPortion(),u++)}return s%=211,211*(u-4)+s==i.getValue()}static getNextSecondBar(t,i){let r;return t.get(i)?(r=t.getNextUnset(i),r=t.getNextSet(r)):(r=t.getNextSet(i),r=t.getNextUnset(r)),r}retrieveNextPair(t,i,r){let s=i.length%2==0;this.startFromEven&&(s=!s);let u,f=!0,g=-1;do this.findNextPair(t,i,g),u=this.parseFoundFinderPattern(t,r,s),u==null?g=de.getNextSecondBar(t,this.startEnd[0]):f=!1;while(f);let w=this.decodeDataCharacter(t,u,s,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new ee;let v;try{v=this.decodeDataCharacter(t,u,s,!1)}catch(S){v=null,this.verbose&&console.log(S)}return new Ti(w,v,u,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,i,r){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let u=t.getSize(),f;r>=0?f=r:this.isEmptyPair(i)?f=0:f=i[i.length-1].getFinderPattern().getStartEnd()[1];let g=i.length%2!=0;this.startFromEven&&(g=!g);let w=!1;for(;f<u&&(w=!t.get(f),!!w);)f++;let v=0,S=f;for(let N=f;N<u;N++)if(t.get(N)!=w)s[v]++;else{if(v==3){if(g&&de.reverseCounters(s),de.isFinderPattern(s)){this.startEnd[0]=S,this.startEnd[1]=N;return}g&&de.reverseCounters(s),S+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,v--}else v++;s[v]=1,w=!w}throw new ee}static reverseCounters(t){let i=t.length;for(let r=0;r<i/2;++r){let s=t[r];t[r]=t[i-r-1],t[i-r-1]=s}}parseFoundFinderPattern(t,i,r){let s,u,f;if(r){let v=this.startEnd[0]-1;for(;v>=0&&!t.get(v);)v--;v++,s=this.startEnd[0]-v,u=v,f=this.startEnd[1]}else u=this.startEnd[0],f=t.getNextUnset(this.startEnd[1]+1),s=f-this.startEnd[1];let g=this.getDecodeFinderCounters();X.arraycopy(g,0,g,1,g.length-1),g[0]=s;let w;try{w=this.parseFinderValue(g,de.FINDER_PATTERNS)}catch{return null}return new $a(w,[u,f],u,f,i)}decodeDataCharacter(t,i,r,s){let u=this.getDataCharacterCounters();for(let bt=0;bt<u.length;bt++)u[bt]=0;if(s)de.recordPatternInReverse(t,i.getStartEnd()[0],u);else{de.recordPattern(t,i.getStartEnd()[1],u);for(let bt=0,yn=u.length-1;bt<yn;bt++,yn--){let Gn=u[bt];u[bt]=u[yn],u[yn]=Gn}}let f=17,g=st.sum(new Int32Array(u))/f,w=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(g-w)/w>.3)throw new ee;let v=this.getOddCounts(),S=this.getEvenCounts(),N=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let bt=0;bt<u.length;bt++){let yn=1*u[bt]/g,Gn=yn+.5;if(Gn<1){if(yn<.3)throw new ee;Gn=1}else if(Gn>8){if(yn>8.7)throw new ee;Gn=8}let fr=bt/2;(bt&1)==0?(v[fr]=Gn,N[fr]=yn-Gn):(S[fr]=Gn,I[fr]=yn-Gn)}this.adjustOddEvenCounts(f);let L=4*i.getValue()+(r?0:2)+(s?0:1)-1,U=0,j=0;for(let bt=v.length-1;bt>=0;bt--){if(de.isNotA1left(i,r,s)){let yn=de.WEIGHTS[L][2*bt];j+=v[bt]*yn}U+=v[bt]}let q=0;for(let bt=S.length-1;bt>=0;bt--)if(de.isNotA1left(i,r,s)){let yn=de.WEIGHTS[L][2*bt+1];q+=S[bt]*yn}let te=j+q;if((U&1)!=0||U>13||U<4)throw new ee;let pe=(13-U)/2,Ee=de.SYMBOL_WIDEST[pe],me=9-Ee,Ge=gn.getRSSvalue(v,Ee,!0),ze=gn.getRSSvalue(S,me,!1),Bn=de.EVEN_TOTAL_SUBSET[pe],$n=de.GSUM[pe],Hn=Ge*Bn+ze+$n;return new ar(Hn,te)}static isNotA1left(t,i,r){return!(t.getValue()==0&&i&&r)}adjustOddEvenCounts(t){let i=st.sum(new Int32Array(this.getOddCounts())),r=st.sum(new Int32Array(this.getEvenCounts())),s=!1,u=!1;i>13?u=!0:i<4&&(s=!0);let f=!1,g=!1;r>13?g=!0:r<4&&(f=!0);let w=i+r-t,v=(i&1)==1,S=(r&1)==0;if(w==1)if(v){if(S)throw new ee;u=!0}else{if(!S)throw new ee;g=!0}else if(w==-1)if(v){if(S)throw new ee;s=!0}else{if(!S)throw new ee;f=!0}else if(w==0){if(v){if(!S)throw new ee;i<r?(s=!0,g=!0):(u=!0,f=!0)}else if(S)throw new ee}else throw new ee;if(s){if(u)throw new ee;de.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&de.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(g)throw new ee;de.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&de.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}de.SYMBOL_WIDEST=[7,5,4,3,1],de.EVEN_TOTAL_SUBSET=[4,20,52,104,204],de.GSUM=[0,348,1388,2948,3988],de.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],de.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],de.FINDER_PAT_A=0,de.FINDER_PAT_B=1,de.FINDER_PAT_C=2,de.FINDER_PAT_D=3,de.FINDER_PAT_E=4,de.FINDER_PAT_F=5,de.FINDER_PATTERN_SEQUENCES=[[de.FINDER_PAT_A,de.FINDER_PAT_A],[de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B],[de.FINDER_PAT_A,de.FINDER_PAT_C,de.FINDER_PAT_B,de.FINDER_PAT_D],[de.FINDER_PAT_A,de.FINDER_PAT_E,de.FINDER_PAT_B,de.FINDER_PAT_D,de.FINDER_PAT_C],[de.FINDER_PAT_A,de.FINDER_PAT_E,de.FINDER_PAT_B,de.FINDER_PAT_D,de.FINDER_PAT_D,de.FINDER_PAT_F],[de.FINDER_PAT_A,de.FINDER_PAT_E,de.FINDER_PAT_B,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_F,de.FINDER_PAT_F],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_D],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_E],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_F,de.FINDER_PAT_F],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_E,de.FINDER_PAT_F,de.FINDER_PAT_F]],de.MAX_PAIRS=11;class es extends ar{constructor(t,i,r){super(t,i),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class gt extends un{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,i,r){const s=this.decodePair(i,!1,t,r);gt.addOrTally(this.possibleLeftPairs,s),i.reverse();let u=this.decodePair(i,!0,t,r);gt.addOrTally(this.possibleRightPairs,u),i.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let g of this.possibleRightPairs)if(g.getCount()>1&&gt.checkChecksum(f,g))return gt.constructResult(f,g)}throw new ee}static addOrTally(t,i){if(i==null)return;let r=!1;for(let s of t)if(s.getValue()===i.getValue()){s.incrementCount(),r=!0;break}r||t.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,i){let r=4537077*t.getValue()+i.getValue(),s=new String(r).toString(),u=new Ze;for(let v=13-s.length;v>0;v--)u.append("0");u.append(s);let f=0;for(let v=0;v<13;v++){let S=u.charAt(v).charCodeAt(0)-48;f+=(v&1)===0?3*S:S}f=10-f%10,f===10&&(f=0),u.append(f.toString());let g=t.getFinderPattern().getResultPoints(),w=i.getFinderPattern().getResultPoints();return new Se(u.toString(),null,0,[g[0],g[1],w[0],w[1]],ye.RSS_14,new Date().getTime())}static checkChecksum(t,i){let r=(t.getChecksumPortion()+16*i.getChecksumPortion())%79,s=9*t.getFinderPattern().getValue()+i.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,r===s}decodePair(t,i,r,s){try{let u=this.findFinderPattern(t,i),f=this.parseFoundFinderPattern(t,r,i,u),g=s==null?null:s.get(Ce.NEED_RESULT_POINT_CALLBACK);if(g!=null){let S=(u[0]+u[1])/2;i&&(S=t.getSize()-1-S),g.foundPossibleResultPoint(new Oe(S,r))}let w=this.decodeDataCharacter(t,f,!0),v=this.decodeDataCharacter(t,f,!1);return new es(1597*w.getValue()+v.getValue(),w.getChecksumPortion()+4*v.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(t,i,r){let s=this.getDataCharacterCounters();for(let q=0;q<s.length;q++)s[q]=0;if(r)Ft.recordPatternInReverse(t,i.getStartEnd()[0],s);else{Ft.recordPattern(t,i.getStartEnd()[1]+1,s);for(let q=0,te=s.length-1;q<te;q++,te--){let pe=s[q];s[q]=s[te],s[te]=pe}}let u=r?16:15,f=st.sum(new Int32Array(s))/u,g=this.getOddCounts(),w=this.getEvenCounts(),v=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors();for(let q=0;q<s.length;q++){let te=s[q]/f,pe=Math.floor(te+.5);pe<1?pe=1:pe>8&&(pe=8);let Ee=Math.floor(q/2);(q&1)===0?(g[Ee]=pe,v[Ee]=te-pe):(w[Ee]=pe,S[Ee]=te-pe)}this.adjustOddEvenCounts(r,u);let N=0,I=0;for(let q=g.length-1;q>=0;q--)I*=9,I+=g[q],N+=g[q];let L=0,U=0;for(let q=w.length-1;q>=0;q--)L*=9,L+=w[q],U+=w[q];let j=I+3*L;if(r){if((N&1)!==0||N>12||N<4)throw new ee;let q=(12-N)/2,te=gt.OUTSIDE_ODD_WIDEST[q],pe=9-te,Ee=gn.getRSSvalue(g,te,!1),me=gn.getRSSvalue(w,pe,!0),Ge=gt.OUTSIDE_EVEN_TOTAL_SUBSET[q],ze=gt.OUTSIDE_GSUM[q];return new ar(Ee*Ge+me+ze,j)}else{if((U&1)!==0||U>10||U<4)throw new ee;let q=(10-U)/2,te=gt.INSIDE_ODD_WIDEST[q],pe=9-te,Ee=gn.getRSSvalue(g,te,!0),me=gn.getRSSvalue(w,pe,!1),Ge=gt.INSIDE_ODD_TOTAL_SUBSET[q],ze=gt.INSIDE_GSUM[q];return new ar(me*Ge+Ee+ze,j)}}findFinderPattern(t,i){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let s=t.getSize(),u=!1,f=0;for(;f<s&&(u=!t.get(f),i!==u);)f++;let g=0,w=f;for(let v=f;v<s;v++)if(t.get(v)!==u)r[g]++;else{if(g===3){if(un.isFinderPattern(r))return[w,v];w+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,g--}else g++;r[g]=1,u=!u}throw new ee}parseFoundFinderPattern(t,i,r,s){let u=t.get(s[0]),f=s[0]-1;for(;f>=0&&u!==t.get(f);)f--;f++;const g=s[0]-f,w=this.getDecodeFinderCounters(),v=new Int32Array(w.length);X.arraycopy(w,0,v,1,w.length-1),v[0]=g;const S=this.parseFinderValue(v,gt.FINDER_PATTERNS);let N=f,I=s[1];return r&&(N=t.getSize()-1-N,I=t.getSize()-1-I),new $a(S,[f,s[1]],N,I,i)}adjustOddEvenCounts(t,i){let r=st.sum(new Int32Array(this.getOddCounts())),s=st.sum(new Int32Array(this.getEvenCounts())),u=!1,f=!1,g=!1,w=!1;t?(r>12?f=!0:r<4&&(u=!0),s>12?w=!0:s<4&&(g=!0)):(r>11?f=!0:r<5&&(u=!0),s>10?w=!0:s<4&&(g=!0));let v=r+s-i,S=(r&1)===(t?1:0),N=(s&1)===1;if(v===1)if(S){if(N)throw new ee;f=!0}else{if(!N)throw new ee;w=!0}else if(v===-1)if(S){if(N)throw new ee;u=!0}else{if(!N)throw new ee;g=!0}else if(v===0){if(S){if(!N)throw new ee;r<s?(u=!0,w=!0):(f=!0,g=!0)}else if(N)throw new ee}else throw new ee;if(u){if(f)throw new ee;un.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&un.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(w)throw new ee;un.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&un.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}gt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],gt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],gt.OUTSIDE_GSUM=[0,161,961,2015,2715],gt.INSIDE_GSUM=[0,336,1036,1516],gt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],gt.INSIDE_ODD_WIDEST=[2,4,6,8],gt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ji extends Ft{constructor(t,i){super(),this.readers=[],this.verbose=i===!0;const r=t?t.get(Ce.POSSIBLE_FORMATS):null,s=t&&t.get(Ce.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(ye.EAN_13)||r.includes(ye.UPC_A)||r.includes(ye.EAN_8)||r.includes(ye.UPC_E))&&this.readers.push(new Ea(t)),r.includes(ye.CODE_39)&&this.readers.push(new It(s)),r.includes(ye.CODE_128)&&this.readers.push(new be),r.includes(ye.ITF)&&this.readers.push(new dt),r.includes(ye.RSS_14)&&this.readers.push(new gt),r.includes(ye.RSS_EXPANDED)&&this.readers.push(new de(this.verbose))):(this.readers.push(new Ea(t)),this.readers.push(new It),this.readers.push(new Ea(t)),this.readers.push(new be),this.readers.push(new dt),this.readers.push(new gt),this.readers.push(new de(this.verbose)))}decodeRow(t,i,r){for(let s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(t,i,r)}catch{}throw new ee}reset(){this.readers.forEach(t=>t.reset())}}class _o extends Ae{constructor(t=500,i){super(new ji(i),t,i)}}class et{constructor(t,i,r){this.ecCodewords=t,this.ecBlocks=[i],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ct{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Qe{constructor(t,i,r,s,u,f){this.versionNumber=t,this.symbolSizeRows=i,this.symbolSizeColumns=r,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=u,this.ecBlocks=f;let g=0;const w=f.getECCodewords(),v=f.getECBlocks();for(let S of v)g+=S.getCount()*(S.getDataCodewords()+w);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,i){if((t&1)!==0||(i&1)!==0)throw new ae;for(let r of Qe.VERSIONS)if(r.symbolSizeRows===t&&r.symbolSizeColumns===i)return r;throw new ae}toString(){return""+this.versionNumber}static buildVersions(){return[new Qe(1,10,10,8,8,new et(5,new ct(1,3))),new Qe(2,12,12,10,10,new et(7,new ct(1,5))),new Qe(3,14,14,12,12,new et(10,new ct(1,8))),new Qe(4,16,16,14,14,new et(12,new ct(1,12))),new Qe(5,18,18,16,16,new et(14,new ct(1,18))),new Qe(6,20,20,18,18,new et(18,new ct(1,22))),new Qe(7,22,22,20,20,new et(20,new ct(1,30))),new Qe(8,24,24,22,22,new et(24,new ct(1,36))),new Qe(9,26,26,24,24,new et(28,new ct(1,44))),new Qe(10,32,32,14,14,new et(36,new ct(1,62))),new Qe(11,36,36,16,16,new et(42,new ct(1,86))),new Qe(12,40,40,18,18,new et(48,new ct(1,114))),new Qe(13,44,44,20,20,new et(56,new ct(1,144))),new Qe(14,48,48,22,22,new et(68,new ct(1,174))),new Qe(15,52,52,24,24,new et(42,new ct(2,102))),new Qe(16,64,64,14,14,new et(56,new ct(2,140))),new Qe(17,72,72,16,16,new et(36,new ct(4,92))),new Qe(18,80,80,18,18,new et(48,new ct(4,114))),new Qe(19,88,88,20,20,new et(56,new ct(4,144))),new Qe(20,96,96,22,22,new et(68,new ct(4,174))),new Qe(21,104,104,24,24,new et(56,new ct(6,136))),new Qe(22,120,120,18,18,new et(68,new ct(6,175))),new Qe(23,132,132,20,20,new et(62,new ct(8,163))),new Qe(24,144,144,22,22,new et(62,new ct(8,156),new ct(2,155))),new Qe(25,8,18,6,16,new et(7,new ct(1,5))),new Qe(26,8,32,6,14,new et(11,new ct(1,10))),new Qe(27,12,26,10,24,new et(14,new ct(1,16))),new Qe(28,12,36,10,16,new et(18,new ct(1,22))),new Qe(29,16,36,14,16,new et(24,new ct(1,32))),new Qe(30,16,48,14,22,new et(28,new ct(1,49)))]}}Qe.VERSIONS=Qe.buildVersions();class fl{constructor(t){const i=t.getHeight();if(i<8||i>144||(i&1)!==0)throw new ae;this.version=fl.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new ft(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const i=t.getHeight(),r=t.getWidth();return Qe.getVersionForDimensions(i,r)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let i=0,r=4,s=0;const u=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let g=!1,w=!1,v=!1,S=!1;do if(r===u&&s===0&&!g)t[i++]=this.readCorner1(u,f)&255,r-=2,s+=2,g=!0;else if(r===u-2&&s===0&&(f&3)!==0&&!w)t[i++]=this.readCorner2(u,f)&255,r-=2,s+=2,w=!0;else if(r===u+4&&s===2&&(f&7)===0&&!v)t[i++]=this.readCorner3(u,f)&255,r-=2,s+=2,v=!0;else if(r===u-2&&s===0&&(f&7)===4&&!S)t[i++]=this.readCorner4(u,f)&255,r-=2,s+=2,S=!0;else{do r<u&&s>=0&&!this.readMappingMatrix.get(s,r)&&(t[i++]=this.readUtah(r,s,u,f)&255),r-=2,s+=2;while(r>=0&&s<f);r+=1,s+=3;do r>=0&&s<f&&!this.readMappingMatrix.get(s,r)&&(t[i++]=this.readUtah(r,s,u,f)&255),r+=2,s-=2;while(r<u&&s>=0);r+=3,s+=1}while(r<u||s<f);if(i!==this.version.getTotalCodewords())throw new ae;return t}readModule(t,i,r,s){return t<0&&(t+=r,i+=4-(r+4&7)),i<0&&(i+=s,t+=4-(s+4&7)),this.readMappingMatrix.set(i,t),this.mappingBitMatrix.get(i,t)}readUtah(t,i,r,s){let u=0;return this.readModule(t-2,i-2,r,s)&&(u|=1),u<<=1,this.readModule(t-2,i-1,r,s)&&(u|=1),u<<=1,this.readModule(t-1,i-2,r,s)&&(u|=1),u<<=1,this.readModule(t-1,i-1,r,s)&&(u|=1),u<<=1,this.readModule(t-1,i,r,s)&&(u|=1),u<<=1,this.readModule(t,i-2,r,s)&&(u|=1),u<<=1,this.readModule(t,i-1,r,s)&&(u|=1),u<<=1,this.readModule(t,i,r,s)&&(u|=1),u}readCorner1(t,i){let r=0;return this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,1,t,i)&&(r|=1),r<<=1,this.readModule(t-1,2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r<<=1,this.readModule(2,i-1,t,i)&&(r|=1),r<<=1,this.readModule(3,i-1,t,i)&&(r|=1),r}readCorner2(t,i){let r=0;return this.readModule(t-3,0,t,i)&&(r|=1),r<<=1,this.readModule(t-2,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(0,i-4,t,i)&&(r|=1),r<<=1,this.readModule(0,i-3,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r}readCorner3(t,i){let r=0;return this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,i-1,t,i)&&(r|=1),r<<=1,this.readModule(0,i-3,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-3,t,i)&&(r|=1),r<<=1,this.readModule(1,i-2,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r}readCorner4(t,i){let r=0;return this.readModule(t-3,0,t,i)&&(r|=1),r<<=1,this.readModule(t-2,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r<<=1,this.readModule(2,i-1,t,i)&&(r|=1),r<<=1,this.readModule(3,i-1,t,i)&&(r|=1),r}extractDataRegion(t){const i=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(t.getHeight()!==i)throw new O("Dimension of bitMatrix must match the version size");const s=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),f=i/s|0,g=r/u|0,w=f*s,v=g*u,S=new ft(v,w);for(let N=0;N<f;++N){const I=N*s;for(let L=0;L<g;++L){const U=L*u;for(let j=0;j<s;++j){const q=N*(s+2)+1+j,te=I+j;for(let pe=0;pe<u;++pe){const Ee=L*(u+2)+1+pe;if(t.get(Ee,q)){const me=U+pe;S.set(me,te)}}}}}return S}}class ts{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i){const r=i.getECBlocks();let s=0;const u=r.getECBlocks();for(let j of u)s+=j.getCount();const f=new Array(s);let g=0;for(let j of u)for(let q=0;q<j.getCount();q++){const te=j.getDataCodewords(),pe=r.getECCodewords()+te;f[g++]=new ts(te,new Uint8Array(pe))}const v=f[0].codewords.length-r.getECCodewords(),S=v-1;let N=0;for(let j=0;j<S;j++)for(let q=0;q<g;q++)f[q].codewords[j]=t[N++];const I=i.getVersionNumber()===24,L=I?8:g;for(let j=0;j<L;j++)f[j].codewords[v-1]=t[N++];const U=f[0].codewords.length;for(let j=v;j<U;j++)for(let q=0;q<g;q++){const te=I?(q+8)%g:q,pe=I&&te>7?j-1:j;f[te].codewords[pe]=t[N++]}if(N!==t.length)throw new O;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Fn{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new O(""+t);let i=0,r=this.bitOffset,s=this.byteOffset;const u=this.bytes;if(r>0){const f=8-r,g=t<f?t:f,w=f-g,v=255>>8-g<<w;i=(u[s]&v)>>w,t-=g,r+=g,r===8&&(r=0,s++)}if(t>0){for(;t>=8;)i=i<<8|u[s]&255,s++,t-=8;if(t>0){const f=8-t,g=255>>f<<f;i=i<<t|(u[s]&g)>>f,r+=t}}return this.bitOffset=r,this.byteOffset=s,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Qt;(function(R){R[R.PAD_ENCODE=0]="PAD_ENCODE",R[R.ASCII_ENCODE=1]="ASCII_ENCODE",R[R.C40_ENCODE=2]="C40_ENCODE",R[R.TEXT_ENCODE=3]="TEXT_ENCODE",R[R.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",R[R.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",R[R.BASE256_ENCODE=6]="BASE256_ENCODE"})(Qt||(Qt={}));class zi{static decode(t){const i=new Fn(t),r=new Ze,s=new Ze,u=new Array;let f=Qt.ASCII_ENCODE;do if(f===Qt.ASCII_ENCODE)f=this.decodeAsciiSegment(i,r,s);else{switch(f){case Qt.C40_ENCODE:this.decodeC40Segment(i,r);break;case Qt.TEXT_ENCODE:this.decodeTextSegment(i,r);break;case Qt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,r);break;case Qt.EDIFACT_ENCODE:this.decodeEdifactSegment(i,r);break;case Qt.BASE256_ENCODE:this.decodeBase256Segment(i,r,u);break;default:throw new ae}f=Qt.ASCII_ENCODE}while(f!==Qt.PAD_ENCODE&&i.available()>0);return s.length()>0&&r.append(s.toString()),new Zn(t,r.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(t,i,r){let s=!1;do{let u=t.readBits(8);if(u===0)throw new ae;if(u<=128)return s&&(u+=128),i.append(String.fromCharCode(u-1)),Qt.ASCII_ENCODE;if(u===129)return Qt.PAD_ENCODE;if(u<=229){const f=u-130;f<10&&i.append("0"),i.append(""+f)}else switch(u){case 230:return Qt.C40_ENCODE;case 231:return Qt.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:s=!0;break;case 236:i.append("[)>05"),r.insert(0,"");break;case 237:i.append("[)>06"),r.insert(0,"");break;case 238:return Qt.ANSIX12_ENCODE;case 239:return Qt.TEXT_ENCODE;case 240:return Qt.EDIFACT_ENCODE;case 241:break;default:if(u!==254||t.available()!==0)throw new ae;break}}while(t.available()>0);return Qt.ASCII_ENCODE}static decodeC40Segment(t,i){let r=!1;const s=[];let u=0;do{if(t.available()===8)return;const f=t.readBits(8);if(f===254)return;this.parseTwoBytes(f,t.readBits(8),s);for(let g=0;g<3;g++){const w=s[g];switch(u){case 0:if(w<3)u=w+1;else if(w<this.C40_BASIC_SET_CHARS.length){const v=this.C40_BASIC_SET_CHARS[w];r?(i.append(String.fromCharCode(v.charCodeAt(0)+128)),r=!1):i.append(v)}else throw new ae;break;case 1:r?(i.append(String.fromCharCode(w+128)),r=!1):i.append(String.fromCharCode(w)),u=0;break;case 2:if(w<this.C40_SHIFT2_SET_CHARS.length){const v=this.C40_SHIFT2_SET_CHARS[w];r?(i.append(String.fromCharCode(v.charCodeAt(0)+128)),r=!1):i.append(v)}else switch(w){case 27:i.append("");break;case 30:r=!0;break;default:throw new ae}u=0;break;case 3:r?(i.append(String.fromCharCode(w+224)),r=!1):i.append(String.fromCharCode(w+96)),u=0;break;default:throw new ae}}}while(t.available()>0)}static decodeTextSegment(t,i){let r=!1,s=[],u=0;do{if(t.available()===8)return;const f=t.readBits(8);if(f===254)return;this.parseTwoBytes(f,t.readBits(8),s);for(let g=0;g<3;g++){const w=s[g];switch(u){case 0:if(w<3)u=w+1;else if(w<this.TEXT_BASIC_SET_CHARS.length){const v=this.TEXT_BASIC_SET_CHARS[w];r?(i.append(String.fromCharCode(v.charCodeAt(0)+128)),r=!1):i.append(v)}else throw new ae;break;case 1:r?(i.append(String.fromCharCode(w+128)),r=!1):i.append(String.fromCharCode(w)),u=0;break;case 2:if(w<this.TEXT_SHIFT2_SET_CHARS.length){const v=this.TEXT_SHIFT2_SET_CHARS[w];r?(i.append(String.fromCharCode(v.charCodeAt(0)+128)),r=!1):i.append(v)}else switch(w){case 27:i.append("");break;case 30:r=!0;break;default:throw new ae}u=0;break;case 3:if(w<this.TEXT_SHIFT3_SET_CHARS.length){const v=this.TEXT_SHIFT3_SET_CHARS[w];r?(i.append(String.fromCharCode(v.charCodeAt(0)+128)),r=!1):i.append(v),u=0}else throw new ae;break;default:throw new ae}}}while(t.available()>0)}static decodeAnsiX12Segment(t,i){const r=[];do{if(t.available()===8)return;const s=t.readBits(8);if(s===254)return;this.parseTwoBytes(s,t.readBits(8),r);for(let u=0;u<3;u++){const f=r[u];switch(f){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(f<14)i.append(String.fromCharCode(f+44));else if(f<40)i.append(String.fromCharCode(f+51));else throw new ae;break}}}while(t.available()>0)}static parseTwoBytes(t,i,r){let s=(t<<8)+i-1,u=Math.floor(s/1600);r[0]=u,s-=u*1600,u=Math.floor(s/40),r[1]=u,r[2]=s-u*40}static decodeEdifactSegment(t,i){do{if(t.available()<=16)return;for(let r=0;r<4;r++){let s=t.readBits(6);if(s===31){const u=8-t.getBitOffset();u!==8&&t.readBits(u);return}(s&32)===0&&(s|=64),i.append(String.fromCharCode(s))}}while(t.available()>0)}static decodeBase256Segment(t,i,r){let s=1+t.getByteOffset();const u=this.unrandomize255State(t.readBits(8),s++);let f;if(u===0?f=t.available()/8|0:u<250?f=u:f=250*(u-249)+this.unrandomize255State(t.readBits(8),s++),f<0)throw new ae;const g=new Uint8Array(f);for(let w=0;w<f;w++){if(t.available()<8)throw new ae;g[w]=this.unrandomize255State(t.readBits(8),s++)}r.push(g);try{i.append(Ve.decode(g,Re.ISO88591))}catch(w){throw new mi("Platform does not support required encoding: "+w.message)}}static unrandomize255State(t,i){const r=149*i%255+1,s=t-r;return s>=0?s:s+256}}zi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],zi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],zi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],zi.TEXT_SHIFT2_SET_CHARS=zi.C40_SHIFT2_SET_CHARS,zi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ns{constructor(){this.rsDecoder=new pa(ot.DATA_MATRIX_FIELD_256)}decode(t){const i=new fl(t),r=i.getVersion(),s=i.readCodewords(),u=ts.getDataBlocks(s,r);let f=0;for(let v of u)f+=v.getNumDataCodewords();const g=new Uint8Array(f),w=u.length;for(let v=0;v<w;v++){const S=u[v],N=S.getCodewords(),I=S.getNumDataCodewords();this.correctErrors(N,I);for(let L=0;L<I;L++)g[L*w+v]=N[L]}return zi.decode(g)}correctErrors(t,i){const r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-i)}catch{throw new P}for(let s=0;s<i;s++)t[s]=r[s]}}class Ht{constructor(t){this.image=t,this.rectangleDetector=new _i(this.image)}detect(){const t=this.rectangleDetector.detect();let i=this.detectSolid1(t);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new ee;i=this.shiftToModuleCenter(i);const r=i[0],s=i[1],u=i[2],f=i[3];let g=this.transitionsBetween(r,f)+1,w=this.transitionsBetween(u,f)+1;(g&1)===1&&(g+=1),(w&1)===1&&(w+=1),4*g<7*w&&4*w<7*g&&(g=w=Math.max(g,w));let v=Ht.sampleGrid(this.image,r,s,u,f,g,w);return new Ka(v,[r,s,u,f])}static shiftPoint(t,i,r){let s=(i.getX()-t.getX())/(r+1),u=(i.getY()-t.getY())/(r+1);return new Oe(t.getX()+s,t.getY()+u)}static moveAway(t,i,r){let s=t.getX(),u=t.getY();return s<i?s-=1:s+=1,u<r?u-=1:u+=1,new Oe(s,u)}detectSolid1(t){let i=t[0],r=t[1],s=t[3],u=t[2],f=this.transitionsBetween(i,r),g=this.transitionsBetween(r,s),w=this.transitionsBetween(s,u),v=this.transitionsBetween(u,i),S=f,N=[u,i,r,s];return S>g&&(S=g,N[0]=i,N[1]=r,N[2]=s,N[3]=u),S>w&&(S=w,N[0]=r,N[1]=s,N[2]=u,N[3]=i),S>v&&(N[0]=s,N[1]=u,N[2]=i,N[3]=r),N}detectSolid2(t){let i=t[0],r=t[1],s=t[2],u=t[3],f=this.transitionsBetween(i,u),g=Ht.shiftPoint(r,s,(f+1)*4),w=Ht.shiftPoint(s,r,(f+1)*4),v=this.transitionsBetween(g,i),S=this.transitionsBetween(w,u);return v<S?(t[0]=i,t[1]=r,t[2]=s,t[3]=u):(t[0]=r,t[1]=s,t[2]=u,t[3]=i),t}correctTopRight(t){let i=t[0],r=t[1],s=t[2],u=t[3],f=this.transitionsBetween(i,u),g=this.transitionsBetween(r,u),w=Ht.shiftPoint(i,r,(g+1)*4),v=Ht.shiftPoint(s,r,(f+1)*4);f=this.transitionsBetween(w,u),g=this.transitionsBetween(v,u);let S=new Oe(u.getX()+(s.getX()-r.getX())/(f+1),u.getY()+(s.getY()-r.getY())/(f+1)),N=new Oe(u.getX()+(i.getX()-r.getX())/(g+1),u.getY()+(i.getY()-r.getY())/(g+1));if(!this.isValid(S))return this.isValid(N)?N:null;if(!this.isValid(N))return S;let I=this.transitionsBetween(w,S)+this.transitionsBetween(v,S),L=this.transitionsBetween(w,N)+this.transitionsBetween(v,N);return I>L?S:N}shiftToModuleCenter(t){let i=t[0],r=t[1],s=t[2],u=t[3],f=this.transitionsBetween(i,u)+1,g=this.transitionsBetween(s,u)+1,w=Ht.shiftPoint(i,r,g*4),v=Ht.shiftPoint(s,r,f*4);f=this.transitionsBetween(w,u)+1,g=this.transitionsBetween(v,u)+1,(f&1)===1&&(f+=1),(g&1)===1&&(g+=1);let S=(i.getX()+r.getX()+s.getX()+u.getX())/4,N=(i.getY()+r.getY()+s.getY()+u.getY())/4;i=Ht.moveAway(i,S,N),r=Ht.moveAway(r,S,N),s=Ht.moveAway(s,S,N),u=Ht.moveAway(u,S,N);let I,L;return w=Ht.shiftPoint(i,r,g*4),w=Ht.shiftPoint(w,u,f*4),I=Ht.shiftPoint(r,i,g*4),I=Ht.shiftPoint(I,s,f*4),v=Ht.shiftPoint(s,u,g*4),v=Ht.shiftPoint(v,r,f*4),L=Ht.shiftPoint(u,s,g*4),L=Ht.shiftPoint(L,i,f*4),[w,I,v,L]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,i,r,s,u,f,g){return Mn.getInstance().sampleGrid(t,f,g,.5,.5,f-.5,.5,f-.5,g-.5,.5,g-.5,i.getX(),i.getY(),u.getX(),u.getY(),s.getX(),s.getY(),r.getX(),r.getY())}transitionsBetween(t,i){let r=Math.trunc(t.getX()),s=Math.trunc(t.getY()),u=Math.trunc(i.getX()),f=Math.trunc(i.getY()),g=Math.abs(f-s)>Math.abs(u-r);if(g){let j=r;r=s,s=j,j=u,u=f,f=j}let w=Math.abs(u-r),v=Math.abs(f-s),S=-w/2,N=s<f?1:-1,I=r<u?1:-1,L=0,U=this.image.get(g?s:r,g?r:s);for(let j=r,q=s;j!==u;j+=I){let te=this.image.get(g?q:j,g?j:q);if(te!==U&&(L++,U=te),S+=v,S>0){if(q===f)break;q+=N,S-=w}}return L}}class si{constructor(){this.decoder=new ns}decode(t,i=null){let r,s;if(i!=null&&i.has(Ce.PURE_BARCODE)){const v=si.extractPureBits(t.getBlackMatrix());r=this.decoder.decode(v),s=si.NO_POINTS}else{const v=new Ht(t.getBlackMatrix()).detect();r=this.decoder.decode(v.getBits()),s=v.getPoints()}const u=r.getRawBytes(),f=new Se(r.getText(),u,8*u.length,s,ye.DATA_MATRIX,X.currentTimeMillis()),g=r.getByteSegments();g!=null&&f.putMetadata(Xe.BYTE_SEGMENTS,g);const w=r.getECLevel();return w!=null&&f.putMetadata(Xe.ERROR_CORRECTION_LEVEL,w),f}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(i==null||r==null)throw new ee;const s=this.moduleSize(i,t);let u=i[1];const f=r[1];let g=i[0];const v=(r[0]-g+1)/s,S=(f-u+1)/s;if(v<=0||S<=0)throw new ee;const N=s/2;u+=N,g+=N;const I=new ft(v,S);for(let L=0;L<S;L++){const U=u+L*s;for(let j=0;j<v;j++)t.get(g+j*s,U)&&I.set(j,L)}return I}static moduleSize(t,i){const r=i.getWidth();let s=t[0];const u=t[1];for(;s<r&&i.get(s,u);)s++;if(s===r)throw new ee;const f=s-t[0];if(f===0)throw new ee;return f}}si.NO_POINTS=[];class tc extends Ae{constructor(t=500){super(new si,t)}}var mn;(function(R){R[R.L=0]="L",R[R.M=1]="M",R[R.Q=2]="Q",R[R.H=3]="H"})(mn||(mn={}));class pt{constructor(t,i,r){this.value=t,this.stringValue=i,this.bits=r,pt.FOR_BITS.set(r,this),pt.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return pt.L;case"M":return pt.M;case"Q":return pt.Q;case"H":return pt.H;default:throw new C(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof pt))return!1;const i=t;return this.value===i.value}static forBits(t){if(t<0||t>=pt.FOR_BITS.size)throw new O;return pt.FOR_BITS.get(t)}}pt.FOR_BITS=new Map,pt.FOR_VALUE=new Map,pt.L=new pt(mn.L,"L",1),pt.M=new pt(mn.M,"M",0),pt.Q=new pt(mn.Q,"Q",3),pt.H=new pt(mn.H,"H",2);class xn{constructor(t){this.errorCorrectionLevel=pt.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,i){return G.bitCount(t^i)}static decodeFormatInformation(t,i){const r=xn.doDecodeFormatInformation(t,i);return r!==null?r:xn.doDecodeFormatInformation(t^xn.FORMAT_INFO_MASK_QR,i^xn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,i){let r=Number.MAX_SAFE_INTEGER,s=0;for(const u of xn.FORMAT_INFO_DECODE_LOOKUP){const f=u[0];if(f===t||f===i)return new xn(u[1]);let g=xn.numBitsDiffering(t,f);g<r&&(s=u[1],r=g),t!==i&&(g=xn.numBitsDiffering(i,f),g<r&&(s=u[1],r=g))}return r<=3?new xn(s):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof xn))return!1;const i=t;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}xn.FORMAT_INFO_MASK_QR=21522,xn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class W{constructor(t,...i){this.ecCodewordsPerBlock=t,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const i=this.ecBlocks;for(const r of i)t+=r.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class M{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ie{constructor(t,i,...r){this.versionNumber=t,this.alignmentPatternCenters=i,this.ecBlocks=r;let s=0;const u=r[0].getECCodewordsPerBlock(),f=r[0].getECBlocks();for(const g of f)s+=g.getCount()*(g.getDataCodewords()+u);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new ae;try{return this.getVersionForNumber((t-17)/4)}catch{throw new ae}}static getVersionForNumber(t){if(t<1||t>40)throw new O;return Ie.VERSIONS[t-1]}static decodeVersionInformation(t){let i=Number.MAX_SAFE_INTEGER,r=0;for(let s=0;s<Ie.VERSION_DECODE_INFO.length;s++){const u=Ie.VERSION_DECODE_INFO[s];if(u===t)return Ie.getVersionForNumber(s+7);const f=xn.numBitsDiffering(t,u);f<i&&(r=s+7,i=f)}return i<=3?Ie.getVersionForNumber(r):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),i=new ft(t);i.setRegion(0,0,9,9),i.setRegion(t-8,0,8,9),i.setRegion(0,t-8,9,8);const r=this.alignmentPatternCenters.length;for(let s=0;s<r;s++){const u=this.alignmentPatternCenters[s]-2;for(let f=0;f<r;f++)s===0&&(f===0||f===r-1)||s===r-1&&f===0||i.setRegion(this.alignmentPatternCenters[f]-2,u,5,5)}return i.setRegion(6,9,1,t-17),i.setRegion(9,6,t-17,1),this.versionNumber>6&&(i.setRegion(t-11,0,3,6),i.setRegion(0,t-11,6,3)),i}toString(){return""+this.versionNumber}}Ie.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ie.VERSIONS=[new Ie(1,new Int32Array(0),new W(7,new M(1,19)),new W(10,new M(1,16)),new W(13,new M(1,13)),new W(17,new M(1,9))),new Ie(2,Int32Array.from([6,18]),new W(10,new M(1,34)),new W(16,new M(1,28)),new W(22,new M(1,22)),new W(28,new M(1,16))),new Ie(3,Int32Array.from([6,22]),new W(15,new M(1,55)),new W(26,new M(1,44)),new W(18,new M(2,17)),new W(22,new M(2,13))),new Ie(4,Int32Array.from([6,26]),new W(20,new M(1,80)),new W(18,new M(2,32)),new W(26,new M(2,24)),new W(16,new M(4,9))),new Ie(5,Int32Array.from([6,30]),new W(26,new M(1,108)),new W(24,new M(2,43)),new W(18,new M(2,15),new M(2,16)),new W(22,new M(2,11),new M(2,12))),new Ie(6,Int32Array.from([6,34]),new W(18,new M(2,68)),new W(16,new M(4,27)),new W(24,new M(4,19)),new W(28,new M(4,15))),new Ie(7,Int32Array.from([6,22,38]),new W(20,new M(2,78)),new W(18,new M(4,31)),new W(18,new M(2,14),new M(4,15)),new W(26,new M(4,13),new M(1,14))),new Ie(8,Int32Array.from([6,24,42]),new W(24,new M(2,97)),new W(22,new M(2,38),new M(2,39)),new W(22,new M(4,18),new M(2,19)),new W(26,new M(4,14),new M(2,15))),new Ie(9,Int32Array.from([6,26,46]),new W(30,new M(2,116)),new W(22,new M(3,36),new M(2,37)),new W(20,new M(4,16),new M(4,17)),new W(24,new M(4,12),new M(4,13))),new Ie(10,Int32Array.from([6,28,50]),new W(18,new M(2,68),new M(2,69)),new W(26,new M(4,43),new M(1,44)),new W(24,new M(6,19),new M(2,20)),new W(28,new M(6,15),new M(2,16))),new Ie(11,Int32Array.from([6,30,54]),new W(20,new M(4,81)),new W(30,new M(1,50),new M(4,51)),new W(28,new M(4,22),new M(4,23)),new W(24,new M(3,12),new M(8,13))),new Ie(12,Int32Array.from([6,32,58]),new W(24,new M(2,92),new M(2,93)),new W(22,new M(6,36),new M(2,37)),new W(26,new M(4,20),new M(6,21)),new W(28,new M(7,14),new M(4,15))),new Ie(13,Int32Array.from([6,34,62]),new W(26,new M(4,107)),new W(22,new M(8,37),new M(1,38)),new W(24,new M(8,20),new M(4,21)),new W(22,new M(12,11),new M(4,12))),new Ie(14,Int32Array.from([6,26,46,66]),new W(30,new M(3,115),new M(1,116)),new W(24,new M(4,40),new M(5,41)),new W(20,new M(11,16),new M(5,17)),new W(24,new M(11,12),new M(5,13))),new Ie(15,Int32Array.from([6,26,48,70]),new W(22,new M(5,87),new M(1,88)),new W(24,new M(5,41),new M(5,42)),new W(30,new M(5,24),new M(7,25)),new W(24,new M(11,12),new M(7,13))),new Ie(16,Int32Array.from([6,26,50,74]),new W(24,new M(5,98),new M(1,99)),new W(28,new M(7,45),new M(3,46)),new W(24,new M(15,19),new M(2,20)),new W(30,new M(3,15),new M(13,16))),new Ie(17,Int32Array.from([6,30,54,78]),new W(28,new M(1,107),new M(5,108)),new W(28,new M(10,46),new M(1,47)),new W(28,new M(1,22),new M(15,23)),new W(28,new M(2,14),new M(17,15))),new Ie(18,Int32Array.from([6,30,56,82]),new W(30,new M(5,120),new M(1,121)),new W(26,new M(9,43),new M(4,44)),new W(28,new M(17,22),new M(1,23)),new W(28,new M(2,14),new M(19,15))),new Ie(19,Int32Array.from([6,30,58,86]),new W(28,new M(3,113),new M(4,114)),new W(26,new M(3,44),new M(11,45)),new W(26,new M(17,21),new M(4,22)),new W(26,new M(9,13),new M(16,14))),new Ie(20,Int32Array.from([6,34,62,90]),new W(28,new M(3,107),new M(5,108)),new W(26,new M(3,41),new M(13,42)),new W(30,new M(15,24),new M(5,25)),new W(28,new M(15,15),new M(10,16))),new Ie(21,Int32Array.from([6,28,50,72,94]),new W(28,new M(4,116),new M(4,117)),new W(26,new M(17,42)),new W(28,new M(17,22),new M(6,23)),new W(30,new M(19,16),new M(6,17))),new Ie(22,Int32Array.from([6,26,50,74,98]),new W(28,new M(2,111),new M(7,112)),new W(28,new M(17,46)),new W(30,new M(7,24),new M(16,25)),new W(24,new M(34,13))),new Ie(23,Int32Array.from([6,30,54,78,102]),new W(30,new M(4,121),new M(5,122)),new W(28,new M(4,47),new M(14,48)),new W(30,new M(11,24),new M(14,25)),new W(30,new M(16,15),new M(14,16))),new Ie(24,Int32Array.from([6,28,54,80,106]),new W(30,new M(6,117),new M(4,118)),new W(28,new M(6,45),new M(14,46)),new W(30,new M(11,24),new M(16,25)),new W(30,new M(30,16),new M(2,17))),new Ie(25,Int32Array.from([6,32,58,84,110]),new W(26,new M(8,106),new M(4,107)),new W(28,new M(8,47),new M(13,48)),new W(30,new M(7,24),new M(22,25)),new W(30,new M(22,15),new M(13,16))),new Ie(26,Int32Array.from([6,30,58,86,114]),new W(28,new M(10,114),new M(2,115)),new W(28,new M(19,46),new M(4,47)),new W(28,new M(28,22),new M(6,23)),new W(30,new M(33,16),new M(4,17))),new Ie(27,Int32Array.from([6,34,62,90,118]),new W(30,new M(8,122),new M(4,123)),new W(28,new M(22,45),new M(3,46)),new W(30,new M(8,23),new M(26,24)),new W(30,new M(12,15),new M(28,16))),new Ie(28,Int32Array.from([6,26,50,74,98,122]),new W(30,new M(3,117),new M(10,118)),new W(28,new M(3,45),new M(23,46)),new W(30,new M(4,24),new M(31,25)),new W(30,new M(11,15),new M(31,16))),new Ie(29,Int32Array.from([6,30,54,78,102,126]),new W(30,new M(7,116),new M(7,117)),new W(28,new M(21,45),new M(7,46)),new W(30,new M(1,23),new M(37,24)),new W(30,new M(19,15),new M(26,16))),new Ie(30,Int32Array.from([6,26,52,78,104,130]),new W(30,new M(5,115),new M(10,116)),new W(28,new M(19,47),new M(10,48)),new W(30,new M(15,24),new M(25,25)),new W(30,new M(23,15),new M(25,16))),new Ie(31,Int32Array.from([6,30,56,82,108,134]),new W(30,new M(13,115),new M(3,116)),new W(28,new M(2,46),new M(29,47)),new W(30,new M(42,24),new M(1,25)),new W(30,new M(23,15),new M(28,16))),new Ie(32,Int32Array.from([6,34,60,86,112,138]),new W(30,new M(17,115)),new W(28,new M(10,46),new M(23,47)),new W(30,new M(10,24),new M(35,25)),new W(30,new M(19,15),new M(35,16))),new Ie(33,Int32Array.from([6,30,58,86,114,142]),new W(30,new M(17,115),new M(1,116)),new W(28,new M(14,46),new M(21,47)),new W(30,new M(29,24),new M(19,25)),new W(30,new M(11,15),new M(46,16))),new Ie(34,Int32Array.from([6,34,62,90,118,146]),new W(30,new M(13,115),new M(6,116)),new W(28,new M(14,46),new M(23,47)),new W(30,new M(44,24),new M(7,25)),new W(30,new M(59,16),new M(1,17))),new Ie(35,Int32Array.from([6,30,54,78,102,126,150]),new W(30,new M(12,121),new M(7,122)),new W(28,new M(12,47),new M(26,48)),new W(30,new M(39,24),new M(14,25)),new W(30,new M(22,15),new M(41,16))),new Ie(36,Int32Array.from([6,24,50,76,102,128,154]),new W(30,new M(6,121),new M(14,122)),new W(28,new M(6,47),new M(34,48)),new W(30,new M(46,24),new M(10,25)),new W(30,new M(2,15),new M(64,16))),new Ie(37,Int32Array.from([6,28,54,80,106,132,158]),new W(30,new M(17,122),new M(4,123)),new W(28,new M(29,46),new M(14,47)),new W(30,new M(49,24),new M(10,25)),new W(30,new M(24,15),new M(46,16))),new Ie(38,Int32Array.from([6,32,58,84,110,136,162]),new W(30,new M(4,122),new M(18,123)),new W(28,new M(13,46),new M(32,47)),new W(30,new M(48,24),new M(14,25)),new W(30,new M(42,15),new M(32,16))),new Ie(39,Int32Array.from([6,26,54,82,110,138,166]),new W(30,new M(20,117),new M(4,118)),new W(28,new M(40,47),new M(7,48)),new W(30,new M(43,24),new M(22,25)),new W(30,new M(10,15),new M(67,16))),new Ie(40,Int32Array.from([6,30,58,86,114,142,170]),new W(30,new M(19,118),new M(6,119)),new W(28,new M(18,47),new M(31,48)),new W(30,new M(34,24),new M(34,25)),new W(30,new M(20,15),new M(61,16)))];var rn;(function(R){R[R.DATA_MASK_000=0]="DATA_MASK_000",R[R.DATA_MASK_001=1]="DATA_MASK_001",R[R.DATA_MASK_010=2]="DATA_MASK_010",R[R.DATA_MASK_011=3]="DATA_MASK_011",R[R.DATA_MASK_100=4]="DATA_MASK_100",R[R.DATA_MASK_101=5]="DATA_MASK_101",R[R.DATA_MASK_110=6]="DATA_MASK_110",R[R.DATA_MASK_111=7]="DATA_MASK_111"})(rn||(rn={}));class pn{constructor(t,i){this.value=t,this.isMasked=i}unmaskBitMatrix(t,i){for(let r=0;r<i;r++)for(let s=0;s<i;s++)this.isMasked(r,s)&&t.flip(s,r)}}pn.values=new Map([[rn.DATA_MASK_000,new pn(rn.DATA_MASK_000,(R,t)=>(R+t&1)===0)],[rn.DATA_MASK_001,new pn(rn.DATA_MASK_001,(R,t)=>(R&1)===0)],[rn.DATA_MASK_010,new pn(rn.DATA_MASK_010,(R,t)=>t%3===0)],[rn.DATA_MASK_011,new pn(rn.DATA_MASK_011,(R,t)=>(R+t)%3===0)],[rn.DATA_MASK_100,new pn(rn.DATA_MASK_100,(R,t)=>(Math.floor(R/2)+Math.floor(t/3)&1)===0)],[rn.DATA_MASK_101,new pn(rn.DATA_MASK_101,(R,t)=>R*t%6===0)],[rn.DATA_MASK_110,new pn(rn.DATA_MASK_110,(R,t)=>R*t%6<3)],[rn.DATA_MASK_111,new pn(rn.DATA_MASK_111,(R,t)=>(R+t+R*t%3&1)===0)]]);class nc{constructor(t){const i=t.getHeight();if(i<21||(i&3)!==1)throw new ae;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let u=0;u<6;u++)t=this.copyBit(u,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let u=5;u>=0;u--)t=this.copyBit(8,u,t);const i=this.bitMatrix.getHeight();let r=0;const s=i-7;for(let u=i-1;u>=s;u--)r=this.copyBit(8,u,r);for(let u=i-8;u<i;u++)r=this.copyBit(u,8,r);if(this.parsedFormatInfo=xn.decodeFormatInformation(t,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ae}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),i=Math.floor((t-17)/4);if(i<=6)return Ie.getVersionForNumber(i);let r=0;const s=t-11;for(let f=5;f>=0;f--)for(let g=t-9;g>=s;g--)r=this.copyBit(g,f,r);let u=Ie.decodeVersionInformation(r);if(u!==null&&u.getDimensionForVersion()===t)return this.parsedVersion=u,u;r=0;for(let f=5;f>=0;f--)for(let g=t-9;g>=s;g--)r=this.copyBit(f,g,r);if(u=Ie.decodeVersionInformation(r),u!==null&&u.getDimensionForVersion()===t)return this.parsedVersion=u,u;throw new ae}copyBit(t,i,r){return(this.isMirror?this.bitMatrix.get(i,t):this.bitMatrix.get(t,i))?r<<1|1:r<<1}readCodewords(){const t=this.readFormatInformation(),i=this.readVersion(),r=pn.values.get(t.getDataMask()),s=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,s);const u=i.buildFunctionPattern();let f=!0;const g=new Uint8Array(i.getTotalCodewords());let w=0,v=0,S=0;for(let N=s-1;N>0;N-=2){N===6&&N--;for(let I=0;I<s;I++){const L=f?s-1-I:I;for(let U=0;U<2;U++)u.get(N-U,L)||(S++,v<<=1,this.bitMatrix.get(N-U,L)&&(v|=1),S===8&&(g[w++]=v,S=0,v=0))}f=!f}if(w!==i.getTotalCodewords())throw new ae;return g}remask(){if(this.parsedFormatInfo===null)return;const t=pn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,i)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let i=0,r=t.getWidth();i<r;i++)for(let s=i+1,u=t.getHeight();s<u;s++)t.get(i,s)!==t.get(s,i)&&(t.flip(s,i),t.flip(i,s))}}class is{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i,r){if(t.length!==i.getTotalCodewords())throw new O;const s=i.getECBlocksForLevel(r);let u=0;const f=s.getECBlocks();for(const U of f)u+=U.getCount();const g=new Array(u);let w=0;for(const U of f)for(let j=0;j<U.getCount();j++){const q=U.getDataCodewords(),te=s.getECCodewordsPerBlock()+q;g[w++]=new is(q,new Uint8Array(te))}const v=g[0].codewords.length;let S=g.length-1;for(;S>=0&&g[S].codewords.length!==v;)S--;S++;const N=v-s.getECCodewordsPerBlock();let I=0;for(let U=0;U<N;U++)for(let j=0;j<w;j++)g[j].codewords[U]=t[I++];for(let U=S;U<w;U++)g[U].codewords[N]=t[I++];const L=g[0].codewords.length;for(let U=N;U<L;U++)for(let j=0;j<w;j++){const q=j<S?U:U+1;g[j].codewords[q]=t[I++]}return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var qn;(function(R){R[R.TERMINATOR=0]="TERMINATOR",R[R.NUMERIC=1]="NUMERIC",R[R.ALPHANUMERIC=2]="ALPHANUMERIC",R[R.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",R[R.BYTE=4]="BYTE",R[R.ECI=5]="ECI",R[R.KANJI=6]="KANJI",R[R.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",R[R.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",R[R.HANZI=9]="HANZI"})(qn||(qn={}));class Me{constructor(t,i,r,s){this.value=t,this.stringValue=i,this.characterCountBitsForVersions=r,this.bits=s,Me.FOR_BITS.set(s,this),Me.FOR_VALUE.set(t,this)}static forBits(t){const i=Me.FOR_BITS.get(t);if(i===void 0)throw new O;return i}getCharacterCountBits(t){const i=t.getVersionNumber();let r;return i<=9?r=0:i<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof Me))return!1;const i=t;return this.value===i.value}toString(){return this.stringValue}}Me.FOR_BITS=new Map,Me.FOR_VALUE=new Map,Me.TERMINATOR=new Me(qn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Me.NUMERIC=new Me(qn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Me.ALPHANUMERIC=new Me(qn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Me.STRUCTURED_APPEND=new Me(qn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Me.BYTE=new Me(qn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Me.ECI=new Me(qn.ECI,"ECI",Int32Array.from([0,0,0]),7),Me.KANJI=new Me(qn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Me.FNC1_FIRST_POSITION=new Me(qn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Me.FNC1_SECOND_POSITION=new Me(qn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Me.HANZI=new Me(qn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class jt{static decode(t,i,r,s){const u=new Fn(t);let f=new Ze;const g=new Array;let w=-1,v=-1;try{let S=null,N=!1,I;do{if(u.available()<4)I=Me.TERMINATOR;else{const L=u.readBits(4);I=Me.forBits(L)}switch(I){case Me.TERMINATOR:break;case Me.FNC1_FIRST_POSITION:case Me.FNC1_SECOND_POSITION:N=!0;break;case Me.STRUCTURED_APPEND:if(u.available()<16)throw new ae;w=u.readBits(8),v=u.readBits(8);break;case Me.ECI:const L=jt.parseECIValue(u);if(S=ce.getCharacterSetECIByValue(L),S===null)throw new ae;break;case Me.HANZI:const U=u.readBits(4),j=u.readBits(I.getCharacterCountBits(i));U===jt.GB2312_SUBSET&&jt.decodeHanziSegment(u,f,j);break;default:const q=u.readBits(I.getCharacterCountBits(i));switch(I){case Me.NUMERIC:jt.decodeNumericSegment(u,f,q);break;case Me.ALPHANUMERIC:jt.decodeAlphanumericSegment(u,f,q,N);break;case Me.BYTE:jt.decodeByteSegment(u,f,q,S,g,s);break;case Me.KANJI:jt.decodeKanjiSegment(u,f,q);break;default:throw new ae}break}}while(I!==Me.TERMINATOR)}catch{throw new ae}return new Zn(t,f.toString(),g.length===0?null:g,r===null?null:r.toString(),w,v)}static decodeHanziSegment(t,i,r){if(r*13>t.available())throw new ae;const s=new Uint8Array(2*r);let u=0;for(;r>0;){const f=t.readBits(13);let g=f/96<<8&4294967295|f%96;g<959?g+=41377:g+=42657,s[u]=g>>8&255,s[u+1]=g&255,u+=2,r--}try{i.append(Ve.decode(s,Re.GB2312))}catch(f){throw new ae(f)}}static decodeKanjiSegment(t,i,r){if(r*13>t.available())throw new ae;const s=new Uint8Array(2*r);let u=0;for(;r>0;){const f=t.readBits(13);let g=f/192<<8&4294967295|f%192;g<7936?g+=33088:g+=49472,s[u]=g>>8,s[u+1]=g,u+=2,r--}try{i.append(Ve.decode(s,Re.SHIFT_JIS))}catch(f){throw new ae(f)}}static decodeByteSegment(t,i,r,s,u,f){if(8*r>t.available())throw new ae;const g=new Uint8Array(r);for(let v=0;v<r;v++)g[v]=t.readBits(8);let w;s===null?w=Re.guessEncoding(g,f):w=s.getName();try{i.append(Ve.decode(g,w))}catch(v){throw new ae(v)}u.push(g)}static toAlphaNumericChar(t){if(t>=jt.ALPHANUMERIC_CHARS.length)throw new ae;return jt.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,i,r,s){const u=i.length();for(;r>1;){if(t.available()<11)throw new ae;const f=t.readBits(11);i.append(jt.toAlphaNumericChar(Math.floor(f/45))),i.append(jt.toAlphaNumericChar(f%45)),r-=2}if(r===1){if(t.available()<6)throw new ae;i.append(jt.toAlphaNumericChar(t.readBits(6)))}if(s)for(let f=u;f<i.length();f++)i.charAt(f)==="%"&&(f<i.length()-1&&i.charAt(f+1)==="%"?i.deleteCharAt(f+1):i.setCharAt(f,""))}static decodeNumericSegment(t,i,r){for(;r>=3;){if(t.available()<10)throw new ae;const s=t.readBits(10);if(s>=1e3)throw new ae;i.append(jt.toAlphaNumericChar(Math.floor(s/100))),i.append(jt.toAlphaNumericChar(Math.floor(s/10)%10)),i.append(jt.toAlphaNumericChar(s%10)),r-=3}if(r===2){if(t.available()<7)throw new ae;const s=t.readBits(7);if(s>=100)throw new ae;i.append(jt.toAlphaNumericChar(Math.floor(s/10))),i.append(jt.toAlphaNumericChar(s%10))}else if(r===1){if(t.available()<4)throw new ae;const s=t.readBits(4);if(s>=10)throw new ae;i.append(jt.toAlphaNumericChar(s))}}static parseECIValue(t){const i=t.readBits(8);if((i&128)===0)return i&127;if((i&192)===128){const r=t.readBits(8);return(i&63)<<8&4294967295|r}if((i&224)===192){const r=t.readBits(16);return(i&31)<<16&4294967295|r}throw new ae}}jt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",jt.GB2312_SUBSET=1;class So{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const i=t[0];t[0]=t[2],t[2]=i}}class rs{constructor(){this.rsDecoder=new pa(ot.QR_CODE_FIELD_256)}decodeBooleanArray(t,i){return this.decodeBitMatrix(ft.parseFromBooleanArray(t),i)}decodeBitMatrix(t,i){const r=new nc(t);let s=null;try{return this.decodeBitMatrixParser(r,i)}catch(u){s=u}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const u=this.decodeBitMatrixParser(r,i);return u.setOther(new So(!0)),u}catch(u){throw s!==null?s:u}}decodeBitMatrixParser(t,i){const r=t.readVersion(),s=t.readFormatInformation().getErrorCorrectionLevel(),u=t.readCodewords(),f=is.getDataBlocks(u,r,s);let g=0;for(const S of f)g+=S.getNumDataCodewords();const w=new Uint8Array(g);let v=0;for(const S of f){const N=S.getCodewords(),I=S.getNumDataCodewords();this.correctErrors(N,I);for(let L=0;L<I;L++)w[v++]=N[L]}return jt.decode(w,r,s,i)}correctErrors(t,i){const r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-i)}catch{throw new P}for(let s=0;s<i;s++)t[s]=r[s]}}class ba extends Oe{constructor(t,i,r){super(t,i),this.estimatedModuleSize=r}aboutEquals(t,i,r){if(Math.abs(i-this.getY())<=t&&Math.abs(r-this.getX())<=t){const s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(t,i,r){const s=(this.getX()+i)/2,u=(this.getY()+t)/2,f=(this.estimatedModuleSize+r)/2;return new ba(s,u,f)}}class Dr{constructor(t,i,r,s,u,f,g){this.image=t,this.startX=i,this.startY=r,this.width=s,this.height=u,this.moduleSize=f,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,i=this.height,r=this.width,s=t+r,u=this.startY+i/2,f=new Int32Array(3),g=this.image;for(let w=0;w<i;w++){const v=u+((w&1)===0?Math.floor((w+1)/2):-Math.floor((w+1)/2));f[0]=0,f[1]=0,f[2]=0;let S=t;for(;S<s&&!g.get(S,v);)S++;let N=0;for(;S<s;){if(g.get(S,v))if(N===1)f[1]++;else if(N===2){if(this.foundPatternCross(f)){const I=this.handlePossibleCenter(f,v,S);if(I!==null)return I}f[0]=f[2],f[1]=1,f[2]=0,N=1}else f[++N]++;else N===1&&N++,f[N]++;S++}if(this.foundPatternCross(f)){const I=this.handlePossibleCenter(f,v,s);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ee}static centerFromEnd(t,i){return i-t[2]-t[1]/2}foundPatternCross(t){const i=this.moduleSize,r=i/2;for(let s=0;s<3;s++)if(Math.abs(i-t[s])>=r)return!1;return!0}crossCheckVertical(t,i,r,s){const u=this.image,f=u.getHeight(),g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;let w=t;for(;w>=0&&u.get(i,w)&&g[1]<=r;)g[1]++,w--;if(w<0||g[1]>r)return NaN;for(;w>=0&&!u.get(i,w)&&g[0]<=r;)g[0]++,w--;if(g[0]>r)return NaN;for(w=t+1;w<f&&u.get(i,w)&&g[1]<=r;)g[1]++,w++;if(w===f||g[1]>r)return NaN;for(;w<f&&!u.get(i,w)&&g[2]<=r;)g[2]++,w++;if(g[2]>r)return NaN;const v=g[0]+g[1]+g[2];return 5*Math.abs(v-s)>=2*s?NaN:this.foundPatternCross(g)?Dr.centerFromEnd(g,w):NaN}handlePossibleCenter(t,i,r){const s=t[0]+t[1]+t[2],u=Dr.centerFromEnd(t,r),f=this.crossCheckVertical(i,u,2*t[1],s);if(!isNaN(f)){const g=(t[0]+t[1]+t[2])/3;for(const v of this.possibleCenters)if(v.aboutEquals(g,f,u))return v.combineEstimate(f,u,g);const w=new ba(u,f,g);this.possibleCenters.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return null}}class Hi extends Oe{constructor(t,i,r,s){super(t,i),this.estimatedModuleSize=r,this.count=s,s===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,i,r){if(Math.abs(i-this.getY())<=t&&Math.abs(r-this.getX())<=t){const s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(t,i,r){const s=this.count+1,u=(this.count*this.getX()+i)/s,f=(this.count*this.getY()+t)/s,g=(this.count*this.estimatedModuleSize+r)/s;return new Hi(u,f,g,s)}}class Mr{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class an{constructor(t,i){this.image=t,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const i=t!=null&&t.get(Ce.TRY_HARDER)!==void 0,r=t!=null&&t.get(Ce.PURE_BARCODE)!==void 0,s=this.image,u=s.getHeight(),f=s.getWidth();let g=Math.floor(3*u/(4*an.MAX_MODULES));(g<an.MIN_SKIP||i)&&(g=an.MIN_SKIP);let w=!1;const v=new Int32Array(5);for(let N=g-1;N<u&&!w;N+=g){v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0;let I=0;for(let L=0;L<f;L++)if(s.get(L,N))(I&1)===1&&I++,v[I]++;else if((I&1)===0)if(I===4)if(an.foundPatternCross(v)){if(this.handlePossibleCenter(v,N,L,r)===!0)if(g=2,this.hasSkipped===!0)w=this.haveMultiplyConfirmedCenters();else{const j=this.findRowSkip();j>v[2]&&(N+=j-v[2]-g,L=f-1)}else{v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,I=3;continue}I=0,v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0}else v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,I=3;else v[++I]++;else v[I]++;an.foundPatternCross(v)&&this.handlePossibleCenter(v,N,f,r)===!0&&(g=v[0],this.hasSkipped&&(w=this.haveMultiplyConfirmedCenters()))}const S=this.selectBestPatterns();return Oe.orderBestPatterns(S),new Mr(S)}static centerFromEnd(t,i){return i-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let i=0;for(let u=0;u<5;u++){const f=t[u];if(f===0)return!1;i+=f}if(i<7)return!1;const r=i/7,s=r/2;return Math.abs(r-t[0])<s&&Math.abs(r-t[1])<s&&Math.abs(3*r-t[2])<3*s&&Math.abs(r-t[3])<s&&Math.abs(r-t[4])<s}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,i,r,s){const u=this.getCrossCheckStateCount();let f=0;const g=this.image;for(;t>=f&&i>=f&&g.get(i-f,t-f);)u[2]++,f++;if(t<f||i<f)return!1;for(;t>=f&&i>=f&&!g.get(i-f,t-f)&&u[1]<=r;)u[1]++,f++;if(t<f||i<f||u[1]>r)return!1;for(;t>=f&&i>=f&&g.get(i-f,t-f)&&u[0]<=r;)u[0]++,f++;if(u[0]>r)return!1;const w=g.getHeight(),v=g.getWidth();for(f=1;t+f<w&&i+f<v&&g.get(i+f,t+f);)u[2]++,f++;if(t+f>=w||i+f>=v)return!1;for(;t+f<w&&i+f<v&&!g.get(i+f,t+f)&&u[3]<r;)u[3]++,f++;if(t+f>=w||i+f>=v||u[3]>=r)return!1;for(;t+f<w&&i+f<v&&g.get(i+f,t+f)&&u[4]<r;)u[4]++,f++;if(u[4]>=r)return!1;const S=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(S-s)<2*s&&an.foundPatternCross(u)}crossCheckVertical(t,i,r,s){const u=this.image,f=u.getHeight(),g=this.getCrossCheckStateCount();let w=t;for(;w>=0&&u.get(i,w);)g[2]++,w--;if(w<0)return NaN;for(;w>=0&&!u.get(i,w)&&g[1]<=r;)g[1]++,w--;if(w<0||g[1]>r)return NaN;for(;w>=0&&u.get(i,w)&&g[0]<=r;)g[0]++,w--;if(g[0]>r)return NaN;for(w=t+1;w<f&&u.get(i,w);)g[2]++,w++;if(w===f)return NaN;for(;w<f&&!u.get(i,w)&&g[3]<r;)g[3]++,w++;if(w===f||g[3]>=r)return NaN;for(;w<f&&u.get(i,w)&&g[4]<r;)g[4]++,w++;if(g[4]>=r)return NaN;const v=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(v-s)>=2*s?NaN:an.foundPatternCross(g)?an.centerFromEnd(g,w):NaN}crossCheckHorizontal(t,i,r,s){const u=this.image,f=u.getWidth(),g=this.getCrossCheckStateCount();let w=t;for(;w>=0&&u.get(w,i);)g[2]++,w--;if(w<0)return NaN;for(;w>=0&&!u.get(w,i)&&g[1]<=r;)g[1]++,w--;if(w<0||g[1]>r)return NaN;for(;w>=0&&u.get(w,i)&&g[0]<=r;)g[0]++,w--;if(g[0]>r)return NaN;for(w=t+1;w<f&&u.get(w,i);)g[2]++,w++;if(w===f)return NaN;for(;w<f&&!u.get(w,i)&&g[3]<r;)g[3]++,w++;if(w===f||g[3]>=r)return NaN;for(;w<f&&u.get(w,i)&&g[4]<r;)g[4]++,w++;if(g[4]>=r)return NaN;const v=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(v-s)>=s?NaN:an.foundPatternCross(g)?an.centerFromEnd(g,w):NaN}handlePossibleCenter(t,i,r,s){const u=t[0]+t[1]+t[2]+t[3]+t[4];let f=an.centerFromEnd(t,r),g=this.crossCheckVertical(i,Math.floor(f),t[2],u);if(!isNaN(g)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(g),t[2],u),!isNaN(f)&&(!s||this.crossCheckDiagonal(Math.floor(g),Math.floor(f),t[2],u)))){const w=u/7;let v=!1;const S=this.possibleCenters;for(let N=0,I=S.length;N<I;N++){const L=S[N];if(L.aboutEquals(w,g,f)){S[N]=L.combineEstimate(g,f,w),v=!0;break}}if(!v){const N=new Hi(f,g,w);S.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const r of this.possibleCenters)if(r.getCount()>=an.CENTER_QUORUM)if(i==null)i=r;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-r.getX())-Math.abs(i.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,i=0;const r=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=an.CENTER_QUORUM&&(t++,i+=f.getEstimatedModuleSize());if(t<3)return!1;const s=i/r;let u=0;for(const f of this.possibleCenters)u+=Math.abs(f.getEstimatedModuleSize()-s);return u<=.05*i}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new ee;const i=this.possibleCenters;let r;if(t>3){let s=0,u=0;for(const w of this.possibleCenters){const v=w.getEstimatedModuleSize();s+=v,u+=v*v}r=s/t;let f=Math.sqrt(u/t-r*r);i.sort((w,v)=>{const S=Math.abs(v.getEstimatedModuleSize()-r),N=Math.abs(w.getEstimatedModuleSize()-r);return S<N?-1:S>N?1:0});const g=Math.max(.2*r,f);for(let w=0;w<i.length&&i.length>3;w++){const v=i[w];Math.abs(v.getEstimatedModuleSize()-r)>g&&(i.splice(w,1),w--)}}if(i.length>3){let s=0;for(const u of i)s+=u.getEstimatedModuleSize();r=s/i.length,i.sort((u,f)=>{if(f.getCount()===u.getCount()){const g=Math.abs(f.getEstimatedModuleSize()-r),w=Math.abs(u.getEstimatedModuleSize()-r);return g<w?1:g>w?-1:0}else return f.getCount()-u.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}an.CENTER_QUORUM=2,an.MIN_SKIP=3,an.MAX_MODULES=57;class lr{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(Ce.NEED_RESULT_POINT_CALLBACK);const r=new an(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(r)}processFinderPatternInfo(t){const i=t.getTopLeft(),r=t.getTopRight(),s=t.getBottomLeft(),u=this.calculateModuleSize(i,r,s);if(u<1)throw new ee("No pattern found in proccess finder.");const f=lr.computeDimension(i,r,s,u),g=Ie.getProvisionalVersionForDimension(f),w=g.getDimensionForVersion()-7;let v=null;if(g.getAlignmentPatternCenters().length>0){const L=r.getX()-i.getX()+s.getX(),U=r.getY()-i.getY()+s.getY(),j=1-3/w,q=Math.floor(i.getX()+j*(L-i.getX())),te=Math.floor(i.getY()+j*(U-i.getY()));for(let pe=4;pe<=16;pe<<=1)try{v=this.findAlignmentInRegion(u,q,te,pe);break}catch(Ee){if(!(Ee instanceof ee))throw Ee}}const S=lr.createTransform(i,r,s,v,f),N=lr.sampleGrid(this.image,S,f);let I;return v===null?I=[s,i,r]:I=[s,i,r,v],new Ka(N,I)}static createTransform(t,i,r,s,u){const f=u-3.5;let g,w,v,S;return s!==null?(g=s.getX(),w=s.getY(),v=f-3,S=v):(g=i.getX()-t.getX()+r.getX(),w=i.getY()-t.getY()+r.getY(),v=f,S=f),Dn.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,v,S,3.5,f,t.getX(),t.getY(),i.getX(),i.getY(),g,w,r.getX(),r.getY())}static sampleGrid(t,i,r){return Mn.getInstance().sampleGridWithTransform(t,r,r,i)}static computeDimension(t,i,r,s){const u=st.round(Oe.distance(t,i)/s),f=st.round(Oe.distance(t,r)/s);let g=Math.floor((u+f)/2)+7;switch(g&3){case 0:g++;break;case 2:g--;break;case 3:throw new ee("Dimensions could be not found.")}return g}calculateModuleSize(t,i,r){return(this.calculateModuleSizeOneWay(t,i)+this.calculateModuleSizeOneWay(t,r))/2}calculateModuleSizeOneWay(t,i){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(i.getX()),Math.floor(i.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(r)?s/7:isNaN(s)?r/7:(r+s)/14}sizeOfBlackWhiteBlackRunBothWays(t,i,r,s){let u=this.sizeOfBlackWhiteBlackRun(t,i,r,s),f=1,g=t-(r-t);g<0?(f=t/(t-g),g=0):g>=this.image.getWidth()&&(f=(this.image.getWidth()-1-t)/(g-t),g=this.image.getWidth()-1);let w=Math.floor(i-(s-i)*f);return f=1,w<0?(f=i/(i-w),w=0):w>=this.image.getHeight()&&(f=(this.image.getHeight()-1-i)/(w-i),w=this.image.getHeight()-1),g=Math.floor(t+(g-t)*f),u+=this.sizeOfBlackWhiteBlackRun(t,i,g,w),u-1}sizeOfBlackWhiteBlackRun(t,i,r,s){const u=Math.abs(s-i)>Math.abs(r-t);if(u){let L=t;t=i,i=L,L=r,r=s,s=L}const f=Math.abs(r-t),g=Math.abs(s-i);let w=-f/2;const v=t<r?1:-1,S=i<s?1:-1;let N=0;const I=r+v;for(let L=t,U=i;L!==I;L+=v){const j=u?U:L,q=u?L:U;if(N===1===this.image.get(j,q)){if(N===2)return st.distance(L,U,t,i);N++}if(w+=g,w>0){if(U===s)break;U+=S,w-=f}}return N===2?st.distance(r+v,s,t,i):NaN}findAlignmentInRegion(t,i,r,s){const u=Math.floor(s*t),f=Math.max(0,i-u),g=Math.min(this.image.getWidth()-1,i+u);if(g-f<t*3)throw new ee("Alignment top exceeds estimated module size.");const w=Math.max(0,r-u),v=Math.min(this.image.getHeight()-1,r+u);if(v-w<t*3)throw new ee("Alignment bottom exceeds estimated module size.");return new Dr(this.image,f,w,g-f,v-w,t,this.resultPointCallback).find()}}class Oi{constructor(){this.decoder=new rs}getDecoder(){return this.decoder}decode(t,i){let r,s;if(i!=null&&i.get(Ce.PURE_BARCODE)!==void 0){const w=Oi.extractPureBits(t.getBlackMatrix());r=this.decoder.decodeBitMatrix(w,i),s=Oi.NO_POINTS}else{const w=new lr(t.getBlackMatrix()).detect(i);r=this.decoder.decodeBitMatrix(w.getBits(),i),s=w.getPoints()}r.getOther()instanceof So&&r.getOther().applyMirroredCorrection(s);const u=new Se(r.getText(),r.getRawBytes(),void 0,s,ye.QR_CODE,void 0),f=r.getByteSegments();f!==null&&u.putMetadata(Xe.BYTE_SEGMENTS,f);const g=r.getECLevel();return g!==null&&u.putMetadata(Xe.ERROR_CORRECTION_LEVEL,g),r.hasStructuredAppend()&&(u.putMetadata(Xe.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),u.putMetadata(Xe.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),u}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(i===null||r===null)throw new ee;const s=this.moduleSize(i,t);let u=i[1],f=r[1],g=i[0],w=r[0];if(g>=w||u>=f)throw new ee;if(f-u!==w-g&&(w=g+(f-u),w>=t.getWidth()))throw new ee;const v=Math.round((w-g+1)/s),S=Math.round((f-u+1)/s);if(v<=0||S<=0)throw new ee;if(S!==v)throw new ee;const N=Math.floor(s/2);u+=N,g+=N;const I=g+Math.floor((v-1)*s)-w;if(I>0){if(I>N)throw new ee;g-=I}const L=u+Math.floor((S-1)*s)-f;if(L>0){if(L>N)throw new ee;u-=L}const U=new ft(v,S);for(let j=0;j<S;j++){const q=u+Math.floor(j*s);for(let te=0;te<v;te++)t.get(g+Math.floor(te*s),q)&&U.set(te,j)}return U}static moduleSize(t,i){const r=i.getHeight(),s=i.getWidth();let u=t[0],f=t[1],g=!0,w=0;for(;u<s&&f<r;){if(g!==i.get(u,f)){if(++w===5)break;g=!g}u++,f++}if(u===s||f===r)throw new ee;return(u-t[0])/7}}Oi.NO_POINTS=new Array;class ke{PDF417Common(){}static getBitCountSum(t){return st.sum(t)}static toIntArray(t){if(t==null||!t.length)return ke.EMPTY_INT_ARRAY;const i=new Int32Array(t.length);let r=0;for(const s of t)i[r++]=s;return i}static getCodeword(t){const i=xe.binarySearch(ke.SYMBOL_TABLE,t&262143);return i<0?-1:(ke.CODEWORD_TABLE[i]-1)%ke.NUMBER_OF_CODEWORDS}}ke.NUMBER_OF_CODEWORDS=929,ke.MAX_CODEWORDS_IN_BARCODE=ke.NUMBER_OF_CODEWORDS-1,ke.MIN_ROWS_IN_BARCODE=3,ke.MAX_ROWS_IN_BARCODE=90,ke.MODULES_IN_CODEWORD=17,ke.MODULES_IN_STOP_PATTERN=18,ke.BARS_IN_MODULE=8,ke.EMPTY_INT_ARRAY=new Int32Array([]),ke.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ke.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ri{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class He{static detectMultiple(t,i,r){let s=t.getBlackMatrix(),u=He.detect(r,s);return u.length||(s=s.clone(),s.rotate180(),u=He.detect(r,s)),new Ri(s,u)}static detect(t,i){const r=new Array;let s=0,u=0,f=!1;for(;s<i.getHeight();){const g=He.findVertices(i,s,u);if(g[0]==null&&g[3]==null){if(!f)break;f=!1,u=0;for(const w of r)w[1]!=null&&(s=Math.trunc(Math.max(s,w[1].getY()))),w[3]!=null&&(s=Math.max(s,Math.trunc(w[3].getY())));s+=He.ROW_STEP;continue}if(f=!0,r.push(g),!t)break;g[2]!=null?(u=Math.trunc(g[2].getX()),s=Math.trunc(g[2].getY())):(u=Math.trunc(g[4].getX()),s=Math.trunc(g[4].getY()))}return r}static findVertices(t,i,r){const s=t.getHeight(),u=t.getWidth(),f=new Array(8);return He.copyToResult(f,He.findRowsWithPattern(t,s,u,i,r,He.START_PATTERN),He.INDEXES_START_PATTERN),f[4]!=null&&(r=Math.trunc(f[4].getX()),i=Math.trunc(f[4].getY())),He.copyToResult(f,He.findRowsWithPattern(t,s,u,i,r,He.STOP_PATTERN),He.INDEXES_STOP_PATTERN),f}static copyToResult(t,i,r){for(let s=0;s<r.length;s++)t[r[s]]=i[s]}static findRowsWithPattern(t,i,r,s,u,f){const g=new Array(4);let w=!1;const v=new Int32Array(f.length);for(;s<i;s+=He.ROW_STEP){let N=He.findGuardPattern(t,u,s,r,!1,f,v);if(N!=null){for(;s>0;){const I=He.findGuardPattern(t,u,--s,r,!1,f,v);if(I!=null)N=I;else{s++;break}}g[0]=new Oe(N[0],s),g[1]=new Oe(N[1],s),w=!0;break}}let S=s+1;if(w){let N=0,I=Int32Array.from([Math.trunc(g[0].getX()),Math.trunc(g[1].getX())]);for(;S<i;S++){const L=He.findGuardPattern(t,I[0],S,r,!1,f,v);if(L!=null&&Math.abs(I[0]-L[0])<He.MAX_PATTERN_DRIFT&&Math.abs(I[1]-L[1])<He.MAX_PATTERN_DRIFT)I=L,N=0;else{if(N>He.SKIPPED_ROW_COUNT_MAX)break;N++}}S-=N+1,g[2]=new Oe(I[0],S),g[3]=new Oe(I[1],S)}return S-s<He.BARCODE_MIN_HEIGHT&&xe.fill(g,null),g}static findGuardPattern(t,i,r,s,u,f,g){xe.fillWithin(g,0,g.length,0);let w=i,v=0;for(;t.get(w,r)&&w>0&&v++<He.MAX_PIXEL_DRIFT;)w--;let S=w,N=0,I=f.length;for(let L=u;S<s;S++)if(t.get(S,r)!==L)g[N]++;else{if(N===I-1){if(He.patternMatchVariance(g,f,He.MAX_INDIVIDUAL_VARIANCE)<He.MAX_AVG_VARIANCE)return new Int32Array([w,S]);w+=g[0]+g[1],X.arraycopy(g,2,g,0,N-1),g[N-1]=0,g[N]=0,N--}else N++;g[N]=1,L=!L}return N===I-1&&He.patternMatchVariance(g,f,He.MAX_INDIVIDUAL_VARIANCE)<He.MAX_AVG_VARIANCE?new Int32Array([w,S-1]):null}static patternMatchVariance(t,i,r){let s=t.length,u=0,f=0;for(let v=0;v<s;v++)u+=t[v],f+=i[v];if(u<f)return 1/0;let g=u/f;r*=g;let w=0;for(let v=0;v<s;v++){let S=t[v],N=i[v]*g,I=S>N?S-N:N-S;if(I>r)return 1/0;w+=I}return w/u}}He.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),He.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),He.MAX_AVG_VARIANCE=.42,He.MAX_INDIVIDUAL_VARIANCE=.8,He.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),He.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),He.MAX_PIXEL_DRIFT=3,He.MAX_PATTERN_DRIFT=5,He.SKIPPED_ROW_COUNT_MAX=25,He.ROW_STEP=5,He.BARCODE_MIN_HEIGHT=10;class Yt{constructor(t,i){if(i.length===0)throw new O;this.field=t;let r=i.length;if(r>1&&i[0]===0){let s=1;for(;s<r&&i[s]===0;)s++;s===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-s),X.arraycopy(i,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let s=0;for(let u of this.coefficients)s=this.field.add(s,u);return s}let i=this.coefficients[0],r=this.coefficients.length;for(let s=1;s<r;s++)i=this.field.add(this.field.multiply(t,i),this.coefficients[s]);return i}add(t){if(!this.field.equals(t.field))throw new O("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,r=t.coefficients;if(i.length>r.length){let f=i;i=r,r=f}let s=new Int32Array(r.length),u=r.length-i.length;X.arraycopy(r,0,s,0,u);for(let f=u;f<r.length;f++)s[f]=this.field.add(i[f-u],r[f]);return new Yt(this.field,s)}subtract(t){if(!this.field.equals(t.field))throw new O("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Yt?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new O("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Yt(this.field,new Int32Array([0]));let i=this.coefficients,r=i.length,s=t.coefficients,u=s.length,f=new Int32Array(r+u-1);for(let g=0;g<r;g++){let w=i[g];for(let v=0;v<u;v++)f[g+v]=this.field.add(f[g+v],this.field.multiply(w,s[v]))}return new Yt(this.field,f)}negative(){let t=this.coefficients.length,i=new Int32Array(t);for(let r=0;r<t;r++)i[r]=this.field.subtract(0,this.coefficients[r]);return new Yt(this.field,i)}multiplyScalar(t){if(t===0)return new Yt(this.field,new Int32Array([0]));if(t===1)return this;let i=this.coefficients.length,r=new Int32Array(i);for(let s=0;s<i;s++)r[s]=this.field.multiply(this.coefficients[s],t);return new Yt(this.field,r)}multiplyByMonomial(t,i){if(t<0)throw new O;if(i===0)return new Yt(this.field,new Int32Array([0]));let r=this.coefficients.length,s=new Int32Array(r+t);for(let u=0;u<r;u++)s[u]=this.field.multiply(this.coefficients[u],i);return new Yt(this.field,s)}toString(){let t=new Ze;for(let i=this.getDegree();i>=0;i--){let r=this.getCoefficient(i);r!==0&&(r<0?(t.append(" - "),r=-r):t.length()>0&&t.append(" + "),(i===0||r!==1)&&t.append(r),i!==0&&(i===1?t.append("x"):(t.append("x^"),t.append(i))))}return t.toString()}}class Gi{add(t,i){return(t+i)%this.modulus}subtract(t,i){return(this.modulus+t-i)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new O;return this.logTable[t]}inverse(t){if(t===0)throw new Ir;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class Aa extends Gi{constructor(t,i){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let r=1;for(let s=0;s<t;s++)this.expTable[s]=r,r=r*i%t;for(let s=0;s<t-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new Yt(this,new Int32Array([0])),this.one=new Yt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new O;if(i===0)return this.zero;let r=new Int32Array(t+1);return r[0]=i,new Yt(this,r)}}Aa.PDF417_GF=new Aa(ke.NUMBER_OF_CODEWORDS,3);class Ca{constructor(){this.field=Aa.PDF417_GF}decode(t,i,r){let s=new Yt(this.field,t),u=new Int32Array(i),f=!1;for(let U=i;U>0;U--){let j=s.evaluateAt(this.field.exp(U));u[i-U]=j,j!==0&&(f=!0)}if(!f)return 0;let g=this.field.getOne();if(r!=null)for(const U of r){let j=this.field.exp(t.length-1-U),q=new Yt(this.field,new Int32Array([this.field.subtract(0,j),1]));g=g.multiply(q)}let w=new Yt(this.field,u),v=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),w,i),S=v[0],N=v[1],I=this.findErrorLocations(S),L=this.findErrorMagnitudes(N,S,I);for(let U=0;U<I.length;U++){let j=t.length-1-this.field.log(I[U]);if(j<0)throw P.getChecksumInstance();t[j]=this.field.subtract(t[j],L[U])}return I.length}runEuclideanAlgorithm(t,i,r){if(t.getDegree()<i.getDegree()){let I=t;t=i,i=I}let s=t,u=i,f=this.field.getZero(),g=this.field.getOne();for(;u.getDegree()>=Math.round(r/2);){let I=s,L=f;if(s=u,f=g,s.isZero())throw P.getChecksumInstance();u=I;let U=this.field.getZero(),j=s.getCoefficient(s.getDegree()),q=this.field.inverse(j);for(;u.getDegree()>=s.getDegree()&&!u.isZero();){let te=u.getDegree()-s.getDegree(),pe=this.field.multiply(u.getCoefficient(u.getDegree()),q);U=U.add(this.field.buildMonomial(te,pe)),u=u.subtract(s.multiplyByMonomial(te,pe))}g=U.multiply(f).subtract(L).negative()}let w=g.getCoefficient(0);if(w===0)throw P.getChecksumInstance();let v=this.field.inverse(w),S=g.multiply(v),N=u.multiply(v);return[S,N]}findErrorLocations(t){let i=t.getDegree(),r=new Int32Array(i),s=0;for(let u=1;u<this.field.getSize()&&s<i;u++)t.evaluateAt(u)===0&&(r[s]=this.field.inverse(u),s++);if(s!==i)throw P.getChecksumInstance();return r}findErrorMagnitudes(t,i,r){let s=i.getDegree(),u=new Int32Array(s);for(let v=1;v<=s;v++)u[s-v]=this.field.multiply(v,i.getCoefficient(v));let f=new Yt(this.field,u),g=r.length,w=new Int32Array(g);for(let v=0;v<g;v++){let S=this.field.inverse(r[v]),N=this.field.subtract(0,t.evaluateAt(S)),I=this.field.inverse(f.evaluateAt(S));w[v]=this.field.multiply(N,I)}return w}}class Vi{constructor(t,i,r,s,u){t instanceof Vi?this.constructor_2(t):this.constructor_1(t,i,r,s,u)}constructor_1(t,i,r,s,u){const f=i==null||r==null,g=s==null||u==null;if(f&&g)throw new ee;f?(i=new Oe(0,s.getY()),r=new Oe(0,u.getY())):g&&(s=new Oe(t.getWidth()-1,i.getY()),u=new Oe(t.getWidth()-1,r.getY())),this.image=t,this.topLeft=i,this.bottomLeft=r,this.topRight=s,this.bottomRight=u,this.minX=Math.trunc(Math.min(i.getX(),r.getX())),this.maxX=Math.trunc(Math.max(s.getX(),u.getX())),this.minY=Math.trunc(Math.min(i.getY(),s.getY())),this.maxY=Math.trunc(Math.max(r.getY(),u.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,i){return t==null?i:i==null?t:new Vi(t.image,t.topLeft,t.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(t,i,r){let s=this.topLeft,u=this.bottomLeft,f=this.topRight,g=this.bottomRight;if(t>0){let w=r?this.topLeft:this.topRight,v=Math.trunc(w.getY()-t);v<0&&(v=0);let S=new Oe(w.getX(),v);r?s=S:f=S}if(i>0){let w=r?this.bottomLeft:this.bottomRight,v=Math.trunc(w.getY()+i);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);let S=new Oe(w.getX(),v);r?u=S:g=S}return new Vi(this.image,s,u,f,g)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class as{constructor(t,i,r,s){this.columnCount=t,this.errorCorrectionLevel=s,this.rowCountUpperPart=i,this.rowCountLowerPart=r,this.rowCount=i+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Xi{constructor(){this.buffer=""}static form(t,i){let r=-1;function s(f,g,w,v,S,N){if(f==="%%")return"%";if(i[++r]===void 0)return;f=v?parseInt(v.substr(1)):void 0;let I=S?parseInt(S.substr(1)):void 0,L;switch(N){case"s":L=i[r];break;case"c":L=i[r][0];break;case"f":L=parseFloat(i[r]).toFixed(f);break;case"p":L=parseFloat(i[r]).toPrecision(f);break;case"e":L=parseFloat(i[r]).toExponential(f);break;case"x":L=parseInt(i[r]).toString(I||16);break;case"d":L=parseFloat(parseInt(i[r],I||10).toPrecision(f)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(I);let U=parseInt(w),j=w&&w[0]+""=="0"?"0":" ";for(;L.length<U;)L=g!==void 0?L+j:j+L;return L}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(u,s)}format(t,...i){this.buffer+=Xi.form(t,i)}toString(){return this.buffer}}class Br{constructor(t){this.boundingBox=new Vi(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let i=this.getCodeword(t);if(i!=null)return i;for(let r=1;r<Br.MAX_NEARBY_DISTANCE;r++){let s=this.imageRowToCodewordIndex(t)-r;if(s>=0&&(i=this.codewords[s],i!=null)||(s=this.imageRowToCodewordIndex(t)+r,s<this.codewords.length&&(i=this.codewords[s],i!=null)))return i}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,i){this.codewords[this.imageRowToCodewordIndex(t)]=i}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Xi;let i=0;for(const r of this.codewords){if(r==null){t.format("%3d:    |   %n",i++);continue}t.format("%3d: %3d|%3d%n",i++,r.getRowNumber(),r.getValue())}return t.toString()}}Br.MAX_NEARBY_DISTANCE=5;class cn{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let i=this.values.get(t);i==null&&(i=0),i++,this.values.set(t,i)}getValue(){let t=-1,i=new Array;for(const[r,s]of this.values.entries()){const u={getKey:()=>r,getValue:()=>s};u.getValue()>t?(t=u.getValue(),i=[],i.push(u.getKey())):u.getValue()===t&&i.push(u.getKey())}return ke.toIntArray(i)}getConfidence(t){return this.values.get(t)}}class qi extends Br{constructor(t,i){super(t),this._isLeft=i}setRowNumbers(){for(let t of this.getCodewords())t?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,t);let r=this.getBoundingBox(),s=this._isLeft?r.getTopLeft():r.getTopRight(),u=this._isLeft?r.getBottomLeft():r.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(s.getY())),g=this.imageRowToCodewordIndex(Math.trunc(u.getY())),w=-1,v=1,S=0;for(let N=f;N<g;N++){if(i[N]==null)continue;let I=i[N],L=I.getRowNumber()-w;if(L===0)S++;else if(L===1)v=Math.max(v,S),S=1,w=I.getRowNumber();else if(L<0||I.getRowNumber()>=t.getRowCount()||L>N)i[N]=null;else{let U;v>2?U=(v-2)*L:U=L;let j=U>=N;for(let q=1;q<=U&&!j;q++)j=i[N-q]!=null;j?i[N]=null:(w=I.getRowNumber(),S=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let i=new Int32Array(t.getRowCount());for(let r of this.getCodewords())if(r!=null){let s=r.getRowNumber();if(s>=i.length)continue;i[s]++}return i}adjustIncompleteIndicatorColumnRowNumbers(t){let i=this.getBoundingBox(),r=this._isLeft?i.getTopLeft():i.getTopRight(),s=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(r.getY())),f=this.imageRowToCodewordIndex(Math.trunc(s.getY())),g=this.getCodewords(),w=-1;for(let v=u;v<f;v++){if(g[v]==null)continue;let S=g[v];S.setRowNumberAsRowIndicatorColumn();let N=S.getRowNumber()-w;N===0||(N===1?w=S.getRowNumber():S.getRowNumber()>=t.getRowCount()?g[v]=null:w=S.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),i=new cn,r=new cn,s=new cn,u=new cn;for(let g of t){if(g==null)continue;g.setRowNumberAsRowIndicatorColumn();let w=g.getValue()%30,v=g.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:r.setValue(w*3+1);break;case 1:u.setValue(w/3),s.setValue(w%3);break;case 2:i.setValue(w+1);break}}if(i.getValue().length===0||r.getValue().length===0||s.getValue().length===0||u.getValue().length===0||i.getValue()[0]<1||r.getValue()[0]+s.getValue()[0]<ke.MIN_ROWS_IN_BARCODE||r.getValue()[0]+s.getValue()[0]>ke.MAX_ROWS_IN_BARCODE)return null;let f=new as(i.getValue()[0],r.getValue()[0],s.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(t,f),f}removeIncorrectCodewords(t,i){for(let r=0;r<t.length;r++){let s=t[r];if(t[r]==null)continue;let u=s.getValue()%30,f=s.getRowNumber();if(f>i.getRowCount()){t[r]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:u*3+1!==i.getRowCountUpperPart()&&(t[r]=null);break;case 1:(Math.trunc(u/3)!==i.getErrorCorrectionLevel()||u%3!==i.getRowCountLowerPart())&&(t[r]=null);break;case 2:u+1!==i.getColumnCount()&&(t[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Yi{constructor(t,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=ke.MAX_CODEWORDS_IN_BARCODE,i;do i=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let r=this.detectionResultColumns[i].getCodewords();for(let s=0;s<r.length;s++)r[s]!=null&&(r[s].hasValidRowNumber()||this.adjustRowNumbers(i,s,r))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<t.length;r++)if(t[r]!=null&&i[r]!=null&&t[r].getRowNumber()===i[r].getRowNumber())for(let s=1;s<=this.barcodeColumnCount;s++){let u=this.detectionResultColumns[s].getCodewords()[r];u!=null&&(u.setRowNumber(t[r].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<i.length;r++){if(i[r]==null)continue;let s=i[r].getRowNumber(),u=0;for(let f=this.barcodeColumnCount+1;f>0&&u<this.ADJUST_ROW_NUMBER_SKIP;f--){let g=this.detectionResultColumns[f].getCodewords()[r];g!=null&&(u=Yi.adjustRowNumberIfValid(s,u,g),g.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,i=this.detectionResultColumns[0].getCodewords();for(let r=0;r<i.length;r++){if(i[r]==null)continue;let s=i[r].getRowNumber(),u=0;for(let f=1;f<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;f++){let g=this.detectionResultColumns[f].getCodewords()[r];g!=null&&(u=Yi.adjustRowNumberIfValid(s,u,g),g.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,i,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(t)?(r.setRowNumber(t),i=0):++i),i}adjustRowNumbers(t,i,r){if(!this.detectionResultColumns[t-1])return;let s=r[i],u=this.detectionResultColumns[t-1].getCodewords(),f=u;this.detectionResultColumns[t+1]!=null&&(f=this.detectionResultColumns[t+1].getCodewords());let g=new Array(14);g[2]=u[i],g[3]=f[i],i>0&&(g[0]=r[i-1],g[4]=u[i-1],g[5]=f[i-1]),i>1&&(g[8]=r[i-2],g[10]=u[i-2],g[11]=f[i-2]),i<r.length-1&&(g[1]=r[i+1],g[6]=u[i+1],g[7]=f[i+1]),i<r.length-2&&(g[9]=r[i+2],g[12]=u[i+2],g[13]=f[i+2]);for(let w of g)if(Yi.adjustRowNumber(s,w))return}static adjustRowNumber(t,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===t.getBucket()?(t.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,i){this.detectionResultColumns[t]=i}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Xi;for(let r=0;r<t.getCodewords().length;r++){i.format("CW %3d:",r);for(let s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){i.format("    |   ");continue}let u=this.detectionResultColumns[s].getCodewords()[r];if(u==null){i.format("    |   ");continue}i.format(" %3d|%3d",u.getRowNumber(),u.getValue())}i.format("%n")}return i.toString()}}class Ni{constructor(t,i,r,s){this.rowNumber=Ni.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(i),this.bucket=Math.trunc(r),this.value=Math.trunc(s)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==Ni.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}Ni.BARCODE_ROW_UNKNOWN=-1;class jn{static initialize(){for(let t=0;t<ke.SYMBOL_TABLE.length;t++){let i=ke.SYMBOL_TABLE[t],r=i&1;for(let s=0;s<ke.BARS_IN_MODULE;s++){let u=0;for(;(i&1)===r;)u+=1,i>>=1;r=i&1,jn.RATIOS_TABLE[t]||(jn.RATIOS_TABLE[t]=new Array(ke.BARS_IN_MODULE)),jn.RATIOS_TABLE[t][ke.BARS_IN_MODULE-s-1]=Math.fround(u/ke.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let i=jn.getDecodedCodewordValue(jn.sampleBitCounts(t));return i!==-1?i:jn.getClosestDecodedValue(t)}static sampleBitCounts(t){let i=st.sum(t),r=new Int32Array(ke.BARS_IN_MODULE),s=0,u=0;for(let f=0;f<ke.MODULES_IN_CODEWORD;f++){let g=i/(2*ke.MODULES_IN_CODEWORD)+f*i/ke.MODULES_IN_CODEWORD;u+t[s]<=g&&(u+=t[s],s++),r[s]++}return r}static getDecodedCodewordValue(t){let i=jn.getBitValue(t);return ke.getCodeword(i)===-1?-1:i}static getBitValue(t){let i=0;for(let r=0;r<t.length;r++)for(let s=0;s<t[r];s++)i=i<<1|(r%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(t){let i=st.sum(t),r=new Array(ke.BARS_IN_MODULE);if(i>1)for(let f=0;f<r.length;f++)r[f]=Math.fround(t[f]/i);let s=wa.MAX_VALUE,u=-1;this.bSymbolTableReady||jn.initialize();for(let f=0;f<jn.RATIOS_TABLE.length;f++){let g=0,w=jn.RATIOS_TABLE[f];for(let v=0;v<ke.BARS_IN_MODULE;v++){let S=Math.fround(w[v]-r[v]);if(g+=Math.fround(S*S),g>=s)break}g<s&&(s=g,u=ke.SYMBOL_TABLE[f])}return u}}jn.bSymbolTableReady=!1,jn.RATIOS_TABLE=new Array(ke.SYMBOL_TABLE.length).map(R=>new Array(ke.BARS_IN_MODULE));class ss{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class ls{static parseLong(t,i=void 0){return parseInt(t,i)}}class Lr extends y{}Lr.kind="NullPointerException";class os{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,i,r){if(t==null)throw new Lr;if(i<0||i>t.length||r<0||i+r>t.length||i+r<0)throw new Y;if(r===0)return;for(let s=0;s<r;s++)this.write(t[i+s])}flush(){}close(){}}class To extends y{}class ic extends os{constructor(t=32){if(super(),this.count=0,t<0)throw new O("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let r=this.buf.length<<1;if(r-t<0&&(r=t),r<0){if(t<0)throw new To;r=G.MAX_VALUE}this.buf=xe.copyOfUint8Array(this.buf,r)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,i,r){if(i<0||i>t.length||r<0||i+r-t.length>0)throw new Y;this.ensureCapacity(this.count+r),X.arraycopy(t,i,this.buf,this.count,r),this.count+=r}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return xe.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var wt;(function(R){R[R.ALPHA=0]="ALPHA",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.PUNCT=3]="PUNCT",R[R.ALPHA_SHIFT=4]="ALPHA_SHIFT",R[R.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(wt||(wt={}));function Oo(){if(typeof window<"u")return window.BigInt||null;if(typeof Du<"u")return Du.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let kr;function Wi(R){if(typeof kr>"u"&&(kr=Oo()),kr===null)throw new Error("BigInt is not supported!");return kr(R)}function rc(){let R=[];R[0]=Wi(1);let t=Wi(900);R[1]=t;for(let i=2;i<16;i++)R[i]=R[i-1]*t;return R}class ie{static decode(t,i){let r=new Ze(""),s=ce.ISO8859_1;r.enableDecoding(s);let u=1,f=t[u++],g=new ss;for(;u<t[0];){switch(f){case ie.TEXT_COMPACTION_MODE_LATCH:u=ie.textCompaction(t,u,r);break;case ie.BYTE_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:u=ie.byteCompaction(f,t,s,u,r);break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[u++]);break;case ie.NUMERIC_COMPACTION_MODE_LATCH:u=ie.numericCompaction(t,u,r);break;case ie.ECI_CHARSET:ce.getCharacterSetECIByValue(t[u++]);break;case ie.ECI_GENERAL_PURPOSE:u+=2;break;case ie.ECI_USER_DEFINED:u++;break;case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=ie.decodeMacroBlock(t,u,g);break;case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:throw new ae;default:u--,u=ie.textCompaction(t,u,r);break}if(u<t.length)f=t[u++];else throw ae.getFormatInstance()}if(r.length()===0)throw ae.getFormatInstance();let w=new Zn(null,r.toString(),null,i);return w.setOther(g),w}static decodeMacroBlock(t,i,r){if(i+ie.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw ae.getFormatInstance();let s=new Int32Array(ie.NUMBER_OF_SEQUENCE_CODEWORDS);for(let g=0;g<ie.NUMBER_OF_SEQUENCE_CODEWORDS;g++,i++)s[g]=t[i];r.setSegmentIndex(G.parseInt(ie.decodeBase900toBase10(s,ie.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new Ze;i=ie.textCompaction(t,i,u),r.setFileId(u.toString());let f=-1;for(t[i]===ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=i+1);i<t[0];)switch(t[i]){case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,t[i]){case ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let g=new Ze;i=ie.textCompaction(t,i+1,g),r.setFileName(g.toString());break;case ie.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let w=new Ze;i=ie.textCompaction(t,i+1,w),r.setSender(w.toString());break;case ie.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let v=new Ze;i=ie.textCompaction(t,i+1,v),r.setAddressee(v.toString());break;case ie.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let S=new Ze;i=ie.numericCompaction(t,i+1,S),r.setSegmentCount(G.parseInt(S.toString()));break;case ie.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let N=new Ze;i=ie.numericCompaction(t,i+1,N),r.setTimestamp(ls.parseLong(N.toString()));break;case ie.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new Ze;i=ie.numericCompaction(t,i+1,I),r.setChecksum(G.parseInt(I.toString()));break;case ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let L=new Ze;i=ie.numericCompaction(t,i+1,L),r.setFileSize(ls.parseLong(L.toString()));break;default:throw ae.getFormatInstance()}break;case ie.MACRO_PDF417_TERMINATOR:i++,r.setLastSegment(!0);break;default:throw ae.getFormatInstance()}if(f!==-1){let g=i-f;r.isLastSegment()&&g--,r.setOptionalData(xe.copyOfRange(t,f,f+g))}return i}static textCompaction(t,i,r){let s=new Int32Array((t[0]-i)*2),u=new Int32Array((t[0]-i)*2),f=0,g=!1;for(;i<t[0]&&!g;){let w=t[i++];if(w<ie.TEXT_COMPACTION_MODE_LATCH)s[f]=w/30,s[f+1]=w%30,f+=2;else switch(w){case ie.TEXT_COMPACTION_MODE_LATCH:s[f++]=ie.TEXT_COMPACTION_MODE_LATCH;break;case ie.BYTE_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:case ie.NUMERIC_COMPACTION_MODE_LATCH:case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:i--,g=!0;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[f]=ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,w=t[i++],u[f]=w,f++;break}}return ie.decodeTextCompaction(s,u,f,r),i}static decodeTextCompaction(t,i,r,s){let u=wt.ALPHA,f=wt.ALPHA,g=0;for(;g<r;){let w=t[g],v="";switch(u){case wt.ALPHA:if(w<26)v=String.fromCharCode(65+w);else switch(w){case 26:v=" ";break;case ie.LL:u=wt.LOWER;break;case ie.ML:u=wt.MIXED;break;case ie.PS:f=u,u=wt.PUNCT_SHIFT;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[g]);break;case ie.TEXT_COMPACTION_MODE_LATCH:u=wt.ALPHA;break}break;case wt.LOWER:if(w<26)v=String.fromCharCode(97+w);else switch(w){case 26:v=" ";break;case ie.AS:f=u,u=wt.ALPHA_SHIFT;break;case ie.ML:u=wt.MIXED;break;case ie.PS:f=u,u=wt.PUNCT_SHIFT;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[g]);break;case ie.TEXT_COMPACTION_MODE_LATCH:u=wt.ALPHA;break}break;case wt.MIXED:if(w<ie.PL)v=ie.MIXED_CHARS[w];else switch(w){case ie.PL:u=wt.PUNCT;break;case 26:v=" ";break;case ie.LL:u=wt.LOWER;break;case ie.AL:u=wt.ALPHA;break;case ie.PS:f=u,u=wt.PUNCT_SHIFT;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[g]);break;case ie.TEXT_COMPACTION_MODE_LATCH:u=wt.ALPHA;break}break;case wt.PUNCT:if(w<ie.PAL)v=ie.PUNCT_CHARS[w];else switch(w){case ie.PAL:u=wt.ALPHA;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[g]);break;case ie.TEXT_COMPACTION_MODE_LATCH:u=wt.ALPHA;break}break;case wt.ALPHA_SHIFT:if(u=f,w<26)v=String.fromCharCode(65+w);else switch(w){case 26:v=" ";break;case ie.TEXT_COMPACTION_MODE_LATCH:u=wt.ALPHA;break}break;case wt.PUNCT_SHIFT:if(u=f,w<ie.PAL)v=ie.PUNCT_CHARS[w];else switch(w){case ie.PAL:u=wt.ALPHA;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[g]);break;case ie.TEXT_COMPACTION_MODE_LATCH:u=wt.ALPHA;break}break}v!==""&&s.append(v),g++}}static byteCompaction(t,i,r,s,u){let f=new ic,g=0,w=0,v=!1;switch(t){case ie.BYTE_COMPACTION_MODE_LATCH:let S=new Int32Array(6),N=i[s++];for(;s<i[0]&&!v;)switch(S[g++]=N,w=900*w+N,N=i[s++],N){case ie.TEXT_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH:case ie.NUMERIC_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:s--,v=!0;break;default:if(g%5===0&&g>0){for(let I=0;I<6;++I)f.write(Number(Wi(w)>>Wi(8*(5-I))));w=0,g=0}break}s===i[0]&&N<ie.TEXT_COMPACTION_MODE_LATCH&&(S[g++]=N);for(let I=0;I<g;I++)f.write(S[I]);break;case ie.BYTE_COMPACTION_MODE_LATCH_6:for(;s<i[0]&&!v;){let I=i[s++];if(I<ie.TEXT_COMPACTION_MODE_LATCH)g++,w=900*w+I;else switch(I){case ie.TEXT_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH:case ie.NUMERIC_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:s--,v=!0;break}if(g%5===0&&g>0){for(let L=0;L<6;++L)f.write(Number(Wi(w)>>Wi(8*(5-L))));w=0,g=0}}break}return u.append(Ve.decode(f.toByteArray(),r)),s}static numericCompaction(t,i,r){let s=0,u=!1,f=new Int32Array(ie.MAX_NUMERIC_CODEWORDS);for(;i<t[0]&&!u;){let g=t[i++];if(i===t[0]&&(u=!0),g<ie.TEXT_COMPACTION_MODE_LATCH)f[s]=g,s++;else switch(g){case ie.TEXT_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:i--,u=!0;break}(s%ie.MAX_NUMERIC_CODEWORDS===0||g===ie.NUMERIC_COMPACTION_MODE_LATCH||u)&&s>0&&(r.append(ie.decodeBase900toBase10(f,s)),s=0)}return i}static decodeBase900toBase10(t,i){let r=Wi(0);for(let u=0;u<i;u++)r+=ie.EXP900[i-u-1]*Wi(t[u]);let s=r.toString();if(s.charAt(0)!=="1")throw new ae;return s.substring(1)}}ie.TEXT_COMPACTION_MODE_LATCH=900,ie.BYTE_COMPACTION_MODE_LATCH=901,ie.NUMERIC_COMPACTION_MODE_LATCH=902,ie.BYTE_COMPACTION_MODE_LATCH_6=924,ie.ECI_USER_DEFINED=925,ie.ECI_GENERAL_PURPOSE=926,ie.ECI_CHARSET=927,ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ie.MACRO_PDF417_TERMINATOR=922,ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ie.MAX_NUMERIC_CODEWORDS=15,ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ie.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ie.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ie.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ie.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ie.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ie.PL=25,ie.LL=27,ie.AS=27,ie.ML=28,ie.AL=28,ie.PS=29,ie.PAL=29,ie.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ie.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ie.EXP900=Oo()?rc():[],ie.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ye{constructor(){}static decode(t,i,r,s,u,f,g){let w=new Vi(t,i,r,s,u),v=null,S=null,N;for(let U=!0;;U=!1){if(i!=null&&(v=Ye.getRowIndicatorColumn(t,w,i,!0,f,g)),s!=null&&(S=Ye.getRowIndicatorColumn(t,w,s,!1,f,g)),N=Ye.merge(v,S),N==null)throw ee.getNotFoundInstance();let j=N.getBoundingBox();if(U&&j!=null&&(j.getMinY()<w.getMinY()||j.getMaxY()>w.getMaxY()))w=j;else break}N.setBoundingBox(w);let I=N.getBarcodeColumnCount()+1;N.setDetectionResultColumn(0,v),N.setDetectionResultColumn(I,S);let L=v!=null;for(let U=1;U<=I;U++){let j=L?U:I-U;if(N.getDetectionResultColumn(j)!==void 0)continue;let q;j===0||j===I?q=new qi(w,j===0):q=new Br(w),N.setDetectionResultColumn(j,q);let te=-1,pe=te;for(let Ee=w.getMinY();Ee<=w.getMaxY();Ee++){if(te=Ye.getStartColumn(N,j,Ee,L),te<0||te>w.getMaxX()){if(pe===-1)continue;te=pe}let me=Ye.detectCodeword(t,w.getMinX(),w.getMaxX(),L,te,Ee,f,g);me!=null&&(q.setCodeword(Ee,me),pe=te,f=Math.min(f,me.getWidth()),g=Math.max(g,me.getWidth()))}}return Ye.createDecoderResult(N)}static merge(t,i){if(t==null&&i==null)return null;let r=Ye.getBarcodeMetadata(t,i);if(r==null)return null;let s=Vi.merge(Ye.adjustBoundingBox(t),Ye.adjustBoundingBox(i));return new Yi(r,s)}static adjustBoundingBox(t){if(t==null)return null;let i=t.getRowHeights();if(i==null)return null;let r=Ye.getMax(i),s=0;for(let g of i)if(s+=r-g,g>0)break;let u=t.getCodewords();for(let g=0;s>0&&u[g]==null;g++)s--;let f=0;for(let g=i.length-1;g>=0&&(f+=r-i[g],!(i[g]>0));g--);for(let g=u.length-1;f>0&&u[g]==null;g--)f--;return t.getBoundingBox().addMissingRows(s,f,t.isLeft())}static getMax(t){let i=-1;for(let r of t)i=Math.max(i,r);return i}static getBarcodeMetadata(t,i){let r;if(t==null||(r=t.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let s;return i==null||(s=i.getBarcodeMetadata())==null?r:r.getColumnCount()!==s.getColumnCount()&&r.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&r.getRowCount()!==s.getRowCount()?null:r}static getRowIndicatorColumn(t,i,r,s,u,f){let g=new qi(i,s);for(let w=0;w<2;w++){let v=w===0?1:-1,S=Math.trunc(Math.trunc(r.getX()));for(let N=Math.trunc(Math.trunc(r.getY()));N<=i.getMaxY()&&N>=i.getMinY();N+=v){let I=Ye.detectCodeword(t,0,t.getWidth(),s,S,N,u,f);I!=null&&(g.setCodeword(N,I),s?S=I.getStartX():S=I.getEndX())}}return g}static adjustCodewordCount(t,i){let r=i[0][1],s=r.getValue(),u=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-Ye.getNumberOfECCodeWords(t.getBarcodeECLevel());if(s.length===0){if(u<1||u>ke.MAX_CODEWORDS_IN_BARCODE)throw ee.getNotFoundInstance();r.setValue(u)}else s[0]!==u&&r.setValue(u)}static createDecoderResult(t){let i=Ye.createBarcodeMatrix(t);Ye.adjustCodewordCount(t,i);let r=new Array,s=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),u=[],f=new Array;for(let w=0;w<t.getBarcodeRowCount();w++)for(let v=0;v<t.getBarcodeColumnCount();v++){let S=i[w][v+1].getValue(),N=w*t.getBarcodeColumnCount()+v;S.length===0?r.push(N):S.length===1?s[N]=S[0]:(f.push(N),u.push(S))}let g=new Array(u.length);for(let w=0;w<g.length;w++)g[w]=u[w];return Ye.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),s,ke.toIntArray(r),ke.toIntArray(f),g)}static createDecoderResultFromAmbiguousValues(t,i,r,s,u){let f=new Int32Array(s.length),g=100;for(;g-- >0;){for(let w=0;w<f.length;w++)i[s[w]]=u[w][f[w]];try{return Ye.decodeCodewords(i,t,r)}catch(w){if(!(w instanceof P))throw w}if(f.length===0)throw P.getChecksumInstance();for(let w=0;w<f.length;w++)if(f[w]<u[w].length-1){f[w]++;break}else if(f[w]=0,w===f.length-1)throw P.getChecksumInstance()}throw P.getChecksumInstance()}static createBarcodeMatrix(t){let i=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let s=0;s<i.length;s++)for(let u=0;u<i[s].length;u++)i[s][u]=new cn;let r=0;for(let s of t.getDetectionResultColumns()){if(s!=null){for(let u of s.getCodewords())if(u!=null){let f=u.getRowNumber();if(f>=0){if(f>=i.length)continue;i[f][r].setValue(u.getValue())}}}r++}return i}static isValidBarcodeColumn(t,i){return i>=0&&i<=t.getBarcodeColumnCount()+1}static getStartColumn(t,i,r,s){let u=s?1:-1,f=null;if(Ye.isValidBarcodeColumn(t,i-u)&&(f=t.getDetectionResultColumn(i-u).getCodeword(r)),f!=null)return s?f.getEndX():f.getStartX();if(f=t.getDetectionResultColumn(i).getCodewordNearby(r),f!=null)return s?f.getStartX():f.getEndX();if(Ye.isValidBarcodeColumn(t,i-u)&&(f=t.getDetectionResultColumn(i-u).getCodewordNearby(r)),f!=null)return s?f.getEndX():f.getStartX();let g=0;for(;Ye.isValidBarcodeColumn(t,i-u);){i-=u;for(let w of t.getDetectionResultColumn(i).getCodewords())if(w!=null)return(s?w.getEndX():w.getStartX())+u*g*(w.getEndX()-w.getStartX());g++}return s?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,i,r,s,u,f,g,w){u=Ye.adjustCodewordStartColumn(t,i,r,s,u,f);let v=Ye.getModuleBitCount(t,i,r,s,u,f);if(v==null)return null;let S,N=st.sum(v);if(s)S=u+N;else{for(let U=0;U<v.length/2;U++){let j=v[U];v[U]=v[v.length-1-U],v[v.length-1-U]=j}S=u,u=S-N}if(!Ye.checkCodewordSkew(N,g,w))return null;let I=jn.getDecodedValue(v),L=ke.getCodeword(I);return L===-1?null:new Ni(u,S,Ye.getCodewordBucketNumber(I),L)}static getModuleBitCount(t,i,r,s,u,f){let g=u,w=new Int32Array(8),v=0,S=s?1:-1,N=s;for(;(s?g<r:g>=i)&&v<w.length;)t.get(g,f)===N?(w[v]++,g+=S):(v++,N=!N);return v===w.length||g===(s?r:i)&&v===w.length-1?w:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,i,r,s,u,f){let g=u,w=s?-1:1;for(let v=0;v<2;v++){for(;(s?g>=i:g<r)&&s===t.get(g,f);){if(Math.abs(u-g)>Ye.CODEWORD_SKEW_SIZE)return u;g+=w}w=-w,s=!s}return g}static checkCodewordSkew(t,i,r){return i-Ye.CODEWORD_SKEW_SIZE<=t&&t<=r+Ye.CODEWORD_SKEW_SIZE}static decodeCodewords(t,i,r){if(t.length===0)throw ae.getFormatInstance();let s=1<<i+1,u=Ye.correctErrors(t,r,s);Ye.verifyCodewordCount(t,s);let f=ie.decode(t,""+i);return f.setErrorsCorrected(u),f.setErasures(r.length),f}static correctErrors(t,i,r){if(i!=null&&i.length>r/2+Ye.MAX_ERRORS||r<0||r>Ye.MAX_EC_CODEWORDS)throw P.getChecksumInstance();return Ye.errorCorrection.decode(t,r,i)}static verifyCodewordCount(t,i){if(t.length<4)throw ae.getFormatInstance();let r=t[0];if(r>t.length)throw ae.getFormatInstance();if(r===0)if(i<t.length)t[0]=t.length-i;else throw ae.getFormatInstance()}static getBitCountForCodeword(t){let i=new Int32Array(8),r=0,s=i.length-1;for(;!((t&1)!==r&&(r=t&1,s--,s<0));)i[s]++,t>>=1;return i}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return Ye.getCodewordBucketNumber(Ye.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let i=new Xi;for(let r=0;r<t.length;r++){i.format("Row %2d: ",r);for(let s=0;s<t[r].length;s++){let u=t[r][s];u.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}i.format("%n")}return i.toString()}}Ye.CODEWORD_SKEW_SIZE=2,Ye.MAX_ERRORS=3,Ye.MAX_EC_CODEWORDS=512,Ye.errorCorrection=new Ca;class wn{decode(t,i=null){let r=wn.decode(t,i,!1);if(r==null||r.length===0||r[0]==null)throw ee.getNotFoundInstance();return r[0]}decodeMultiple(t,i=null){try{return wn.decode(t,i,!0)}catch(r){throw r instanceof ae||r instanceof P?ee.getNotFoundInstance():r}}static decode(t,i,r){const s=new Array,u=He.detectMultiple(t,i,r);for(const f of u.getPoints()){const g=Ye.decode(u.getBits(),f[4],f[5],f[6],f[7],wn.getMinCodewordWidth(f),wn.getMaxCodewordWidth(f)),w=new Se(g.getText(),g.getRawBytes(),void 0,f,ye.PDF_417);w.putMetadata(Xe.ERROR_CORRECTION_LEVEL,g.getECLevel());const v=g.getOther();v!=null&&w.putMetadata(Xe.PDF417_EXTRA_METADATA,v),s.push(w)}return s.map(f=>f)}static getMaxWidth(t,i){return t==null||i==null?0:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMinWidth(t,i){return t==null||i==null?G.MAX_VALUE:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(wn.getMaxWidth(t[0],t[4]),wn.getMaxWidth(t[6],t[2])*ke.MODULES_IN_CODEWORD/ke.MODULES_IN_STOP_PATTERN),Math.max(wn.getMaxWidth(t[1],t[5]),wn.getMaxWidth(t[7],t[3])*ke.MODULES_IN_CODEWORD/ke.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(wn.getMinWidth(t[0],t[4]),wn.getMinWidth(t[6],t[2])*ke.MODULES_IN_CODEWORD/ke.MODULES_IN_STOP_PATTERN),Math.min(wn.getMinWidth(t[1],t[5]),wn.getMinWidth(t[7],t[3])*ke.MODULES_IN_CODEWORD/ke.MODULES_IN_STOP_PATTERN)))}reset(){}}class _a extends y{}_a.kind="ReaderException";class Ro{constructor(t,i){this.verbose=t===!0,i&&this.setHints(i)}decode(t,i){return i&&this.setHints(i),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const i=!d(t)&&t.get(Ce.TRY_HARDER)===!0,r=d(t)?null:t.get(Ce.POSSIBLE_FORMATS),s=new Array;if(!d(r)){const u=r.some(f=>f===ye.UPC_A||f===ye.UPC_E||f===ye.EAN_13||f===ye.EAN_8||f===ye.CODABAR||f===ye.CODE_39||f===ye.CODE_93||f===ye.CODE_128||f===ye.ITF||f===ye.RSS_14||f===ye.RSS_EXPANDED);u&&!i&&s.push(new ji(t,this.verbose)),r.includes(ye.QR_CODE)&&s.push(new Oi),r.includes(ye.DATA_MATRIX)&&s.push(new si),r.includes(ye.AZTEC)&&s.push(new Qa),r.includes(ye.PDF_417)&&s.push(new wn),u&&i&&s.push(new ji(t,this.verbose))}s.length===0&&(i||s.push(new ji(t,this.verbose)),s.push(new Oi),s.push(new si),s.push(new Qa),s.push(new wn),i&&s.push(new ji(t,this.verbose))),this.readers=s}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new _a("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(t,this.hints)}catch(r){if(r instanceof _a)continue}throw new ee("No MultiFormat Readers were able to detect the code.")}}class ac extends Ae{constructor(t=null,i=500){const r=new Ro;r.setHints(t),super(r,i)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class sc extends Ae{constructor(t=500){super(new wn,t)}}class lc extends Ae{constructor(t=500){super(new Oi,t)}}var Sa;(function(R){R[R.ERROR_CORRECTION=0]="ERROR_CORRECTION",R[R.CHARACTER_SET=1]="CHARACTER_SET",R[R.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",R[R.MIN_SIZE=3]="MIN_SIZE",R[R.MAX_SIZE=4]="MAX_SIZE",R[R.MARGIN=5]="MARGIN",R[R.PDF417_COMPACT=6]="PDF417_COMPACT",R[R.PDF417_COMPACTION=7]="PDF417_COMPACTION",R[R.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",R[R.AZTEC_LAYERS=9]="AZTEC_LAYERS",R[R.QR_VERSION=10]="QR_VERSION"})(Sa||(Sa={}));var sn=Sa;class hl{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new dn(t,Int32Array.from([1])))}buildGenerator(t){const i=this.cachedGenerators;if(t>=i.length){let r=i[i.length-1];const s=this.field;for(let u=i.length;u<=t;u++){const f=r.multiply(new dn(s,Int32Array.from([1,s.exp(u-1+s.getGeneratorBase())])));i.push(f),r=f}}return i[t]}encode(t,i){if(i===0)throw new O("No error correction bytes");const r=t.length-i;if(r<=0)throw new O("No data bytes provided");const s=this.buildGenerator(i),u=new Int32Array(r);X.arraycopy(t,0,u,0,r);let f=new dn(this.field,u);f=f.multiplyByMonomial(i,1);const w=f.divide(s)[1].getCoefficients(),v=i-w.length;for(let S=0;S<v;S++)t[r+S]=0;X.arraycopy(w,0,t,r+v,w.length)}}class Gt{constructor(){}static applyMaskPenaltyRule1(t){return Gt.applyMaskPenaltyRule1Internal(t,!0)+Gt.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let i=0;const r=t.getArray(),s=t.getWidth(),u=t.getHeight();for(let f=0;f<u-1;f++){const g=r[f];for(let w=0;w<s-1;w++){const v=g[w];v===g[w+1]&&v===r[f+1][w]&&v===r[f+1][w+1]&&i++}}return Gt.N2*i}static applyMaskPenaltyRule3(t){let i=0;const r=t.getArray(),s=t.getWidth(),u=t.getHeight();for(let f=0;f<u;f++)for(let g=0;g<s;g++){const w=r[f];g+6<s&&w[g]===1&&w[g+1]===0&&w[g+2]===1&&w[g+3]===1&&w[g+4]===1&&w[g+5]===0&&w[g+6]===1&&(Gt.isWhiteHorizontal(w,g-4,g)||Gt.isWhiteHorizontal(w,g+7,g+11))&&i++,f+6<u&&r[f][g]===1&&r[f+1][g]===0&&r[f+2][g]===1&&r[f+3][g]===1&&r[f+4][g]===1&&r[f+5][g]===0&&r[f+6][g]===1&&(Gt.isWhiteVertical(r,g,f-4,f)||Gt.isWhiteVertical(r,g,f+7,f+11))&&i++}return i*Gt.N3}static isWhiteHorizontal(t,i,r){i=Math.max(i,0),r=Math.min(r,t.length);for(let s=i;s<r;s++)if(t[s]===1)return!1;return!0}static isWhiteVertical(t,i,r,s){r=Math.max(r,0),s=Math.min(s,t.length);for(let u=r;u<s;u++)if(t[u][i]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let i=0;const r=t.getArray(),s=t.getWidth(),u=t.getHeight();for(let w=0;w<u;w++){const v=r[w];for(let S=0;S<s;S++)v[S]===1&&i++}const f=t.getHeight()*t.getWidth();return Math.floor(Math.abs(i*2-f)*10/f)*Gt.N4}static getDataMaskBit(t,i,r){let s,u;switch(t){case 0:s=r+i&1;break;case 1:s=r&1;break;case 2:s=i%3;break;case 3:s=(r+i)%3;break;case 4:s=Math.floor(r/2)+Math.floor(i/3)&1;break;case 5:u=r*i,s=(u&1)+u%3;break;case 6:u=r*i,s=(u&1)+u%3&1;break;case 7:u=r*i,s=u%3+(r+i&1)&1;break;default:throw new O("Invalid mask pattern: "+t)}return s===0}static applyMaskPenaltyRule1Internal(t,i){let r=0;const s=i?t.getHeight():t.getWidth(),u=i?t.getWidth():t.getHeight(),f=t.getArray();for(let g=0;g<s;g++){let w=0,v=-1;for(let S=0;S<u;S++){const N=i?f[g][S]:f[S][g];N===v?w++:(w>=5&&(r+=Gt.N1+(w-5)),w=1,v=N)}w>=5&&(r+=Gt.N1+(w-5))}return r}}Gt.N1=3,Gt.N2=3,Gt.N3=40,Gt.N4=10;class Ta{constructor(t,i){this.width=t,this.height=i;const r=new Array(i);for(let s=0;s!==i;s++)r[s]=new Uint8Array(t);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(t,i){return this.bytes[i][t]}getArray(){return this.bytes}setNumber(t,i,r){this.bytes[i][t]=r}setBoolean(t,i,r){this.bytes[i][t]=r?1:0}clear(t){for(const i of this.bytes)xe.fill(i,t)}equals(t){if(!(t instanceof Ta))return!1;const i=t;if(this.width!==i.width||this.height!==i.height)return!1;for(let r=0,s=this.height;r<s;++r){const u=this.bytes[r],f=i.bytes[r];for(let g=0,w=this.width;g<w;++g)if(u[g]!==f[g])return!1}return!0}toString(){const t=new Ze;for(let i=0,r=this.height;i<r;++i){const s=this.bytes[i];for(let u=0,f=this.width;u<f;++u)switch(s[u]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class or{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Ze;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<or.NUM_MASK_PATTERNS}}or.NUM_MASK_PATTERNS=8;class vt extends y{}vt.kind="WriterException";class Pe{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,i,r,s,u){Pe.clearMatrix(u),Pe.embedBasicPatterns(r,u),Pe.embedTypeInfo(i,s,u),Pe.maybeEmbedVersionInfo(r,u),Pe.embedDataBits(t,s,u)}static embedBasicPatterns(t,i){Pe.embedPositionDetectionPatternsAndSeparators(i),Pe.embedDarkDotAtLeftBottomCorner(i),Pe.maybeEmbedPositionAdjustmentPatterns(t,i),Pe.embedTimingPatterns(i)}static embedTypeInfo(t,i,r){const s=new le;Pe.makeTypeInfoBits(t,i,s);for(let u=0,f=s.getSize();u<f;++u){const g=s.get(s.getSize()-1-u),w=Pe.TYPE_INFO_COORDINATES[u],v=w[0],S=w[1];if(r.setBoolean(v,S,g),u<8){const N=r.getWidth()-u-1;r.setBoolean(N,8,g)}else{const I=r.getHeight()-7+(u-8);r.setBoolean(8,I,g)}}}static maybeEmbedVersionInfo(t,i){if(t.getVersionNumber()<7)return;const r=new le;Pe.makeVersionInfoBits(t,r);let s=17;for(let u=0;u<6;++u)for(let f=0;f<3;++f){const g=r.get(s);s--,i.setBoolean(u,i.getHeight()-11+f,g),i.setBoolean(i.getHeight()-11+f,u,g)}}static embedDataBits(t,i,r){let s=0,u=-1,f=r.getWidth()-1,g=r.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);g>=0&&g<r.getHeight();){for(let w=0;w<2;++w){const v=f-w;if(!Pe.isEmpty(r.get(v,g)))continue;let S;s<t.getSize()?(S=t.get(s),++s):S=!1,i!==255&&Gt.getDataMaskBit(i,v,g)&&(S=!S),r.setBoolean(v,g,S)}g+=u}u=-u,g+=u,f-=2}if(s!==t.getSize())throw new vt("Not all bits consumed: "+s+"/"+t.getSize())}static findMSBSet(t){return 32-G.numberOfLeadingZeros(t)}static calculateBCHCode(t,i){if(i===0)throw new O("0 polynomial");const r=Pe.findMSBSet(i);for(t<<=r-1;Pe.findMSBSet(t)>=r;)t^=i<<Pe.findMSBSet(t)-r;return t}static makeTypeInfoBits(t,i,r){if(!or.isValidMaskPattern(i))throw new vt("Invalid mask pattern");const s=t.getBits()<<3|i;r.appendBits(s,5);const u=Pe.calculateBCHCode(s,Pe.TYPE_INFO_POLY);r.appendBits(u,10);const f=new le;if(f.appendBits(Pe.TYPE_INFO_MASK_PATTERN,15),r.xor(f),r.getSize()!==15)throw new vt("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(t,i){i.appendBits(t.getVersionNumber(),6);const r=Pe.calculateBCHCode(t.getVersionNumber(),Pe.VERSION_INFO_POLY);if(i.appendBits(r,12),i.getSize()!==18)throw new vt("should not happen but we got: "+i.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let i=8;i<t.getWidth()-8;++i){const r=(i+1)%2;Pe.isEmpty(t.get(i,6))&&t.setNumber(i,6,r),Pe.isEmpty(t.get(6,i))&&t.setNumber(6,i,r)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new vt;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,i,r){for(let s=0;s<8;++s){if(!Pe.isEmpty(r.get(t+s,i)))throw new vt;r.setNumber(t+s,i,0)}}static embedVerticalSeparationPattern(t,i,r){for(let s=0;s<7;++s){if(!Pe.isEmpty(r.get(t,i+s)))throw new vt;r.setNumber(t,i+s,0)}}static embedPositionAdjustmentPattern(t,i,r){for(let s=0;s<5;++s){const u=Pe.POSITION_ADJUSTMENT_PATTERN[s];for(let f=0;f<5;++f)r.setNumber(t+f,i+s,u[f])}}static embedPositionDetectionPattern(t,i,r){for(let s=0;s<7;++s){const u=Pe.POSITION_DETECTION_PATTERN[s];for(let f=0;f<7;++f)r.setNumber(t+f,i+s,u[f])}}static embedPositionDetectionPatternsAndSeparators(t){const i=Pe.POSITION_DETECTION_PATTERN[0].length;Pe.embedPositionDetectionPattern(0,0,t),Pe.embedPositionDetectionPattern(t.getWidth()-i,0,t),Pe.embedPositionDetectionPattern(0,t.getWidth()-i,t);const r=8;Pe.embedHorizontalSeparationPattern(0,r-1,t),Pe.embedHorizontalSeparationPattern(t.getWidth()-r,r-1,t),Pe.embedHorizontalSeparationPattern(0,t.getWidth()-r,t);const s=7;Pe.embedVerticalSeparationPattern(s,0,t),Pe.embedVerticalSeparationPattern(t.getHeight()-s-1,0,t),Pe.embedVerticalSeparationPattern(s,t.getHeight()-s,t)}static maybeEmbedPositionAdjustmentPatterns(t,i){if(t.getVersionNumber()<2)return;const r=t.getVersionNumber()-1,s=Pe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let u=0,f=s.length;u!==f;u++){const g=s[u];if(g>=0)for(let w=0;w!==f;w++){const v=s[w];v>=0&&Pe.isEmpty(i.get(v,g))&&Pe.embedPositionAdjustmentPattern(v-2,g-2,i)}}}}Pe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Pe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Pe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Pe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Pe.VERSION_INFO_POLY=7973,Pe.TYPE_INFO_POLY=1335,Pe.TYPE_INFO_MASK_PATTERN=21522;class oc{constructor(t,i){this.dataBytes=t,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Dt{constructor(){}static calculateMaskPenalty(t){return Gt.applyMaskPenaltyRule1(t)+Gt.applyMaskPenaltyRule2(t)+Gt.applyMaskPenaltyRule3(t)+Gt.applyMaskPenaltyRule4(t)}static encode(t,i,r=null){let s=Dt.DEFAULT_BYTE_MODE_ENCODING;const u=r!==null&&r.get(sn.CHARACTER_SET)!==void 0;u&&(s=r.get(sn.CHARACTER_SET).toString());const f=this.chooseMode(t,s),g=new le;if(f===Me.BYTE&&(u||Dt.DEFAULT_BYTE_MODE_ENCODING!==s)){const Ee=ce.getCharacterSetECIByName(s);Ee!==void 0&&this.appendECI(Ee,g)}this.appendModeInfo(f,g);const w=new le;this.appendBytes(t,f,w,s);let v;if(r!==null&&r.get(sn.QR_VERSION)!==void 0){const Ee=Number.parseInt(r.get(sn.QR_VERSION).toString(),10);v=Ie.getVersionForNumber(Ee);const me=this.calculateBitsNeeded(f,g,w,v);if(!this.willFit(me,v,i))throw new vt("Data too big for requested version")}else v=this.recommendVersion(i,f,g,w);const S=new le;S.appendBitArray(g);const N=f===Me.BYTE?w.getSizeInBytes():t.length;this.appendLengthInfo(N,v,f,S),S.appendBitArray(w);const I=v.getECBlocksForLevel(i),L=v.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(L,S);const U=this.interleaveWithECBytes(S,v.getTotalCodewords(),L,I.getNumBlocks()),j=new or;j.setECLevel(i),j.setMode(f),j.setVersion(v);const q=v.getDimensionForVersion(),te=new Ta(q,q),pe=this.chooseMaskPattern(U,i,v,te);return j.setMaskPattern(pe),Pe.buildMatrix(U,i,v,pe,te),j.setMatrix(te),j}static recommendVersion(t,i,r,s){const u=this.calculateBitsNeeded(i,r,s,Ie.getVersionForNumber(1)),f=this.chooseVersion(u,t),g=this.calculateBitsNeeded(i,r,s,f);return this.chooseVersion(g,t)}static calculateBitsNeeded(t,i,r,s){return i.getSize()+t.getCharacterCountBits(s)+r.getSize()}static getAlphanumericCode(t){return t<Dt.ALPHANUMERIC_TABLE.length?Dt.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,i=null){if(ce.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(t))return Me.KANJI;let r=!1,s=!1;for(let u=0,f=t.length;u<f;++u){const g=t.charAt(u);if(Dt.isDigit(g))r=!0;else if(this.getAlphanumericCode(g.charCodeAt(0))!==-1)s=!0;else return Me.BYTE}return s?Me.ALPHANUMERIC:r?Me.NUMERIC:Me.BYTE}static isOnlyDoubleByteKanji(t){let i;try{i=Ve.encode(t,ce.SJIS)}catch{return!1}const r=i.length;if(r%2!==0)return!1;for(let s=0;s<r;s+=2){const u=i[s]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(t,i,r,s){let u=Number.MAX_SAFE_INTEGER,f=-1;for(let g=0;g<or.NUM_MASK_PATTERNS;g++){Pe.buildMatrix(t,i,r,g,s);let w=this.calculateMaskPenalty(s);w<u&&(u=w,f=g)}return f}static chooseVersion(t,i){for(let r=1;r<=40;r++){const s=Ie.getVersionForNumber(r);if(Dt.willFit(t,s,i))return s}throw new vt("Data too big")}static willFit(t,i,r){const s=i.getTotalCodewords(),f=i.getECBlocksForLevel(r).getTotalECCodewords(),g=s-f,w=(t+7)/8;return g>=w}static terminateBits(t,i){const r=t*8;if(i.getSize()>r)throw new vt("data bits cannot fit in the QR Code"+i.getSize()+" > "+r);for(let f=0;f<4&&i.getSize()<r;++f)i.appendBit(!1);const s=i.getSize()&7;if(s>0)for(let f=s;f<8;f++)i.appendBit(!1);const u=t-i.getSizeInBytes();for(let f=0;f<u;++f)i.appendBits((f&1)===0?236:17,8);if(i.getSize()!==r)throw new vt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,i,r,s,u,f){if(s>=r)throw new vt("Block ID too large");const g=t%r,w=r-g,v=Math.floor(t/r),S=v+1,N=Math.floor(i/r),I=N+1,L=v-N,U=S-I;if(L!==U)throw new vt("EC bytes mismatch");if(r!==w+g)throw new vt("RS blocks mismatch");if(t!==(N+L)*w+(I+U)*g)throw new vt("Total bytes mismatch");s<w?(u[0]=N,f[0]=L):(u[0]=I,f[0]=U)}static interleaveWithECBytes(t,i,r,s){if(t.getSizeInBytes()!==r)throw new vt("Number of bits and data bytes does not match");let u=0,f=0,g=0;const w=new Array;for(let S=0;S<s;++S){const N=new Int32Array(1),I=new Int32Array(1);Dt.getNumDataBytesAndNumECBytesForBlockID(i,r,s,S,N,I);const L=N[0],U=new Uint8Array(L);t.toBytes(8*u,U,0,L);const j=Dt.generateECBytes(U,I[0]);w.push(new oc(U,j)),f=Math.max(f,L),g=Math.max(g,j.length),u+=N[0]}if(r!==u)throw new vt("Data bytes does not match offset");const v=new le;for(let S=0;S<f;++S)for(const N of w){const I=N.getDataBytes();S<I.length&&v.appendBits(I[S],8)}for(let S=0;S<g;++S)for(const N of w){const I=N.getErrorCorrectionBytes();S<I.length&&v.appendBits(I[S],8)}if(i!==v.getSizeInBytes())throw new vt("Interleaving error: "+i+" and "+v.getSizeInBytes()+" differ.");return v}static generateECBytes(t,i){const r=t.length,s=new Int32Array(r+i);for(let f=0;f<r;f++)s[f]=t[f]&255;new hl(ot.QR_CODE_FIELD_256).encode(s,i);const u=new Uint8Array(i);for(let f=0;f<i;f++)u[f]=s[r+f];return u}static appendModeInfo(t,i){i.appendBits(t.getBits(),4)}static appendLengthInfo(t,i,r,s){const u=r.getCharacterCountBits(i);if(t>=1<<u)throw new vt(t+" is bigger than "+((1<<u)-1));s.appendBits(t,u)}static appendBytes(t,i,r,s){switch(i){case Me.NUMERIC:Dt.appendNumericBytes(t,r);break;case Me.ALPHANUMERIC:Dt.appendAlphanumericBytes(t,r);break;case Me.BYTE:Dt.append8BitBytes(t,r,s);break;case Me.KANJI:Dt.appendKanjiBytes(t,r);break;default:throw new vt("Invalid mode: "+i)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const i=Dt.getDigit(t);return i>=0&&i<=9}static appendNumericBytes(t,i){const r=t.length;let s=0;for(;s<r;){const u=Dt.getDigit(t.charAt(s));if(s+2<r){const f=Dt.getDigit(t.charAt(s+1)),g=Dt.getDigit(t.charAt(s+2));i.appendBits(u*100+f*10+g,10),s+=3}else if(s+1<r){const f=Dt.getDigit(t.charAt(s+1));i.appendBits(u*10+f,7),s+=2}else i.appendBits(u,4),s++}}static appendAlphanumericBytes(t,i){const r=t.length;let s=0;for(;s<r;){const u=Dt.getAlphanumericCode(t.charCodeAt(s));if(u===-1)throw new vt;if(s+1<r){const f=Dt.getAlphanumericCode(t.charCodeAt(s+1));if(f===-1)throw new vt;i.appendBits(u*45+f,11),s+=2}else i.appendBits(u,6),s++}}static append8BitBytes(t,i,r){let s;try{s=Ve.encode(t,r)}catch(u){throw new vt(u)}for(let u=0,f=s.length;u!==f;u++){const g=s[u];i.appendBits(g,8)}}static appendKanjiBytes(t,i){let r;try{r=Ve.encode(t,ce.SJIS)}catch(u){throw new vt(u)}const s=r.length;for(let u=0;u<s;u+=2){const f=r[u]&255,g=r[u+1]&255,w=f<<8&4294967295|g;let v=-1;if(w>=33088&&w<=40956?v=w-33088:w>=57408&&w<=60351&&(v=w-49472),v===-1)throw new vt("Invalid byte sequence");const S=(v>>8)*192+(v&255);i.appendBits(S,13)}}static appendECI(t,i){i.appendBits(Me.ECI.getBits(),4),i.appendBits(t.getValue(),8)}}Dt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Dt.DEFAULT_BYTE_MODE_ENCODING=ce.UTF8.getName();class ur{write(t,i,r,s=null){if(t.length===0)throw new O("Found empty contents");if(i<0||r<0)throw new O("Requested dimensions are too small: "+i+"x"+r);let u=pt.L,f=ur.QUIET_ZONE_SIZE;s!==null&&(s.get(sn.ERROR_CORRECTION)!==void 0&&(u=pt.fromString(s.get(sn.ERROR_CORRECTION).toString())),s.get(sn.MARGIN)!==void 0&&(f=Number.parseInt(s.get(sn.MARGIN).toString(),10)));const g=Dt.encode(t,u,s);return this.renderResult(g,i,r,f)}writeToDom(t,i,r,s,u=null){typeof t=="string"&&(t=document.querySelector(t));const f=this.write(i,r,s,u);t&&t.appendChild(f)}renderResult(t,i,r,s){const u=t.getMatrix();if(u===null)throw new mi;const f=u.getWidth(),g=u.getHeight(),w=f+s*2,v=g+s*2,S=Math.max(i,w),N=Math.max(r,v),I=Math.min(Math.floor(S/w),Math.floor(N/v)),L=Math.floor((S-f*I)/2),U=Math.floor((N-g*I)/2),j=this.createSVGElement(S,N);for(let q=0,te=U;q<g;q++,te+=I)for(let pe=0,Ee=L;pe<f;pe++,Ee+=I)if(u.get(pe,q)===1){const me=this.createSvgRectElement(Ee,te,I,I);j.appendChild(me)}return j}createSVGElement(t,i){const r=document.createElementNS(ur.SVG_NS,"svg");return r.setAttributeNS(null,"height",t.toString()),r.setAttributeNS(null,"width",i.toString()),r}createSvgRectElement(t,i,r,s){const u=document.createElementNS(ur.SVG_NS,"rect");return u.setAttributeNS(null,"x",t.toString()),u.setAttributeNS(null,"y",i.toString()),u.setAttributeNS(null,"height",r.toString()),u.setAttributeNS(null,"width",s.toString()),u.setAttributeNS(null,"fill","#000000"),u}}ur.QUIET_ZONE_SIZE=4,ur.SVG_NS="http://www.w3.org/2000/svg";class Pr{encode(t,i,r,s,u){if(t.length===0)throw new O("Found empty contents");if(i!==ye.QR_CODE)throw new O("Can only encode QR_CODE, but got "+i);if(r<0||s<0)throw new O(`Requested dimensions are too small: ${r}x${s}`);let f=pt.L,g=Pr.QUIET_ZONE_SIZE;u!==null&&(u.get(sn.ERROR_CORRECTION)!==void 0&&(f=pt.fromString(u.get(sn.ERROR_CORRECTION).toString())),u.get(sn.MARGIN)!==void 0&&(g=Number.parseInt(u.get(sn.MARGIN).toString(),10)));const w=Dt.encode(t,f,u);return Pr.renderResult(w,r,s,g)}static renderResult(t,i,r,s){const u=t.getMatrix();if(u===null)throw new mi;const f=u.getWidth(),g=u.getHeight(),w=f+s*2,v=g+s*2,S=Math.max(i,w),N=Math.max(r,v),I=Math.min(Math.floor(S/w),Math.floor(N/v)),L=Math.floor((S-f*I)/2),U=Math.floor((N-g*I)/2),j=new ft(S,N);for(let q=0,te=U;q<g;q++,te+=I)for(let pe=0,Ee=L;pe<f;pe++,Ee+=I)u.get(pe,q)===1&&j.setRegion(Ee,te,I,I);return j}}Pr.QUIET_ZONE_SIZE=4;class uc{encode(t,i,r,s,u){let f;switch(i){case ye.QR_CODE:f=new Pr;break;default:throw new O("No encoder available for format "+i)}return f.encode(t,i,r,s,u)}}class pi extends De{constructor(t,i,r,s,u,f,g,w){if(super(f,g),this.yuvData=t,this.dataWidth=i,this.dataHeight=r,this.left=s,this.top=u,s+f>i||u+g>r)throw new O("Crop rectangle does not fit within image data.");w&&this.reverseHorizontal(f,g)}getRow(t,i){if(t<0||t>=this.getHeight())throw new O("Requested row is outside the image: "+t);const r=this.getWidth();(i==null||i.length<r)&&(i=new Uint8ClampedArray(r));const s=(t+this.top)*this.dataWidth+this.left;return X.arraycopy(this.yuvData,s,i,0,r),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.yuvData;const r=t*i,s=new Uint8ClampedArray(r);let u=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return X.arraycopy(this.yuvData,u,s,0,r),s;for(let f=0;f<i;f++){const g=f*t;X.arraycopy(this.yuvData,u,s,g,t),u+=this.dataWidth}return s}isCropSupported(){return!0}crop(t,i,r,s){return new pi(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+i,r,s,!1)}renderThumbnail(){const t=this.getWidth()/pi.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/pi.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(t*i),s=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let f=0;f<i;f++){const g=f*t;for(let w=0;w<t;w++){const v=s[u+w*pi.THUMBNAIL_SCALE_FACTOR]&255;r[g+w]=4278190080|v*65793}u+=this.dataWidth*pi.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/pi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/pi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,i){const r=this.yuvData;for(let s=0,u=this.top*this.dataWidth+this.left;s<i;s++,u+=this.dataWidth){const f=u+t/2;for(let g=u,w=u+t-1;g<f;g++,w--){const v=r[g];r[g]=r[w],r[w]=v}}}invert(){return new Ke(this)}}pi.THUMBNAIL_SCALE_FACTOR=2;class Oa extends De{constructor(t,i,r,s,u,f,g){if(super(i,r),this.dataWidth=s,this.dataHeight=u,this.left=f,this.top=g,t.BYTES_PER_ELEMENT===4){const w=i*r,v=new Uint8ClampedArray(w);for(let S=0;S<w;S++){const N=t[S],I=N>>16&255,L=N>>7&510,U=N&255;v[S]=(I+L+U)/4&255}this.luminances=v}else this.luminances=t;if(s===void 0&&(this.dataWidth=i),u===void 0&&(this.dataHeight=r),f===void 0&&(this.left=0),g===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+r>this.dataHeight)throw new O("Crop rectangle does not fit within image data.")}getRow(t,i){if(t<0||t>=this.getHeight())throw new O("Requested row is outside the image: "+t);const r=this.getWidth();(i==null||i.length<r)&&(i=new Uint8ClampedArray(r));const s=(t+this.top)*this.dataWidth+this.left;return X.arraycopy(this.luminances,s,i,0,r),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.luminances;const r=t*i,s=new Uint8ClampedArray(r);let u=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return X.arraycopy(this.luminances,u,s,0,r),s;for(let f=0;f<i;f++){const g=f*t;X.arraycopy(this.luminances,u,s,g,t),u+=this.dataWidth}return s}isCropSupported(){return!0}crop(t,i,r,s){return new Oa(this.luminances,r,s,this.dataWidth,this.dataHeight,this.left+t,this.top+i)}invert(){return new Ke(this)}}class Ur extends ce{static forName(t){return this.getCharacterSetECIByName(t)}}class dl{}dl.ISO_8859_1=ce.ISO8859_1;class gl{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class ml{static singletonList(t){return[t]}static min(t,i){return t.sort(i)[0]}}class No{constructor(t){this.previous=t}getPrevious(){return this.previous}}class cr extends No{constructor(t,i,r){super(t),this.value=i,this.bitCount=r}appendTo(t,i){t.appendBits(this.value,this.bitCount)}add(t,i){return new cr(this,t,i)}addBinaryShift(t,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new cr(this,t,i)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+G.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class us extends cr{constructor(t,i,r){super(t,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=r}appendTo(t,i){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):r===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(i[this.binaryShiftStart+r],8)}addBinaryShift(t,i){return new us(this,t,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Fr(R,t,i){return new us(R,t,i)}function Ra(R,t,i){return new cr(R,t,i)}const cc=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Zi=0,Na=1,Yn=2,jr=3,zn=4,fc=new cr(null,0,0),zr=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Io(R){for(let t of R)xe.fill(t,-1);return R[Zi][zn]=0,R[Na][zn]=0,R[Na][Zi]=28,R[jr][zn]=0,R[Yn][zn]=0,R[Yn][Zi]=15,R}const xl=Io(xe.createInt32Array(6,6));class Jn{constructor(t,i,r,s){this.token=t,this.mode=i,this.binaryShiftByteCount=r,this.bitCount=s}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,i){let r=this.bitCount,s=this.token;if(t!==this.mode){let f=zr[this.mode][t];s=Ra(s,f&65535,f>>16),r+=f>>16}let u=t===Yn?4:5;return s=Ra(s,i,u),new Jn(s,t,0,r+u)}shiftAndAppend(t,i){let r=this.token,s=this.mode===Yn?4:5;return r=Ra(r,xl[this.mode][t],s),r=Ra(r,i,5),new Jn(r,this.mode,0,this.bitCount+s+5)}addBinaryShiftChar(t){let i=this.token,r=this.mode,s=this.bitCount;if(this.mode===zn||this.mode===Yn){let g=zr[r][Zi];i=Ra(i,g&65535,g>>16),s+=g>>16,r=Zi}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new Jn(i,r,this.binaryShiftByteCount+1,s+u);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(t+1)),f}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=Fr(i,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Jn(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let i=this.bitCount+(zr[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?i+=Jn.calculateBinaryShiftCost(t)-Jn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(i+=10),i<=t.bitCount}toBitArray(t){let i=[];for(let s=this.endBinaryShift(t.length).token;s!==null;s=s.getPrevious())i.unshift(s);let r=new le;for(const s of i)s.appendTo(r,t);return r}toString(){return Re.format("%s bits=%d bytes=%d",cc[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Jn.INITIAL_STATE=new Jn(fc,Zi,0,0);function pl(R){const t=Re.getCharCode(" "),i=Re.getCharCode("."),r=Re.getCharCode(",");R[Zi][t]=1;const s=Re.getCharCode("Z"),u=Re.getCharCode("A");for(let I=u;I<=s;I++)R[Zi][I]=I-u+2;R[Na][t]=1;const f=Re.getCharCode("z"),g=Re.getCharCode("a");for(let I=g;I<=f;I++)R[Na][I]=I-g+2;R[Yn][t]=1;const w=Re.getCharCode("9"),v=Re.getCharCode("0");for(let I=v;I<=w;I++)R[Yn][I]=I-v+2;R[Yn][r]=12,R[Yn][i]=13;const S=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let I=0;I<S.length;I++)R[jr][Re.getCharCode(S[I])]=I;const N=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<N.length;I++)Re.getCharCode(N[I])>0&&(R[zn][Re.getCharCode(N[I])]=I);return R}const cs=pl(xe.createInt32Array(5,256));class Hr{constructor(t){this.text=t}encode(){const t=Re.getCharCode(" "),i=Re.getCharCode(`
`);let r=ml.singletonList(Jn.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let f,g=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case Re.getCharCode("\r"):f=g===i?2:0;break;case Re.getCharCode("."):f=g===t?3:0;break;case Re.getCharCode(","):f=g===t?4:0;break;case Re.getCharCode(":"):f=g===t?5:0;break;default:f=0}f>0?(r=Hr.updateStateListForPair(r,u,f),u++):r=this.updateStateListForChar(r,u)}return ml.min(r,(u,f)=>u.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,i){const r=[];for(let s of t)this.updateStateForChar(s,i,r);return Hr.simplifyStates(r)}updateStateForChar(t,i,r){let s=this.text[i]&255,u=cs[t.getMode()][s]>0,f=null;for(let g=0;g<=zn;g++){let w=cs[g][s];if(w>0){if(f==null&&(f=t.endBinaryShift(i)),!u||g===t.getMode()||g===Yn){const v=f.latchAndAppend(g,w);r.push(v)}if(!u&&xl[t.getMode()][g]>=0){const v=f.shiftAndAppend(g,w);r.push(v)}}}if(t.getBinaryShiftByteCount()>0||cs[t.getMode()][s]===0){let g=t.addBinaryShiftChar(i);r.push(g)}}static updateStateListForPair(t,i,r){const s=[];for(let u of t)this.updateStateForPair(u,i,r,s);return this.simplifyStates(s)}static updateStateForPair(t,i,r,s){let u=t.endBinaryShift(i);if(s.push(u.latchAndAppend(zn,r)),t.getMode()!==zn&&s.push(u.shiftAndAppend(zn,r)),r===3||r===4){let f=u.latchAndAppend(Yn,16-r).latchAndAppend(Yn,1);s.push(f)}if(t.getBinaryShiftByteCount()>0){let f=t.addBinaryShiftChar(i).addBinaryShiftChar(i+1);s.push(f)}}static simplifyStates(t){let i=[];for(const r of t){let s=!0;for(const u of i){if(u.isBetterThanOrEqualTo(r)){s=!1;break}r.isBetterThanOrEqualTo(u)&&(i=i.filter(f=>f!==u))}s&&i.push(r)}return i}}class lt{constructor(){}static encodeBytes(t){return lt.encode(t,lt.DEFAULT_EC_PERCENT,lt.DEFAULT_AZTEC_LAYERS)}static encode(t,i,r){let s=new Hr(t).encode(),u=G.truncDivision(s.getSize()*i,100)+11,f=s.getSize()+u,g,w,v,S,N;if(r!==lt.DEFAULT_AZTEC_LAYERS){if(g=r<0,w=Math.abs(r),w>(g?lt.MAX_NB_BITS_COMPACT:lt.MAX_NB_BITS))throw new O(Re.format("Illegal value %s for layers",r));v=lt.totalBitsInLayer(w,g),S=lt.WORD_SIZE[w];let me=v-v%S;if(N=lt.stuffBits(s,S),N.getSize()+u>me)throw new O("Data to large for user specified layer");if(g&&N.getSize()>S*64)throw new O("Data to large for user specified layer")}else{S=0,N=null;for(let me=0;;me++){if(me>lt.MAX_NB_BITS)throw new O("Data too large for an Aztec code");if(g=me<=3,w=g?me+1:me,v=lt.totalBitsInLayer(w,g),f>v)continue;(N==null||S!==lt.WORD_SIZE[w])&&(S=lt.WORD_SIZE[w],N=lt.stuffBits(s,S));let Ge=v-v%S;if(!(g&&N.getSize()>S*64)&&N.getSize()+u<=Ge)break}}let I=lt.generateCheckWords(N,v,S),L=N.getSize()/S,U=lt.generateModeMessage(g,w,L),j=(g?11:14)+w*4,q=new Int32Array(j),te;if(g){te=j;for(let me=0;me<q.length;me++)q[me]=me}else{te=j+1+2*G.truncDivision(G.truncDivision(j,2)-1,15);let me=G.truncDivision(j,2),Ge=G.truncDivision(te,2);for(let ze=0;ze<me;ze++){let Bn=ze+G.truncDivision(ze,15);q[me-ze-1]=Ge-Bn-1,q[me+ze]=Ge+Bn+1}}let pe=new ft(te);for(let me=0,Ge=0;me<w;me++){let ze=(w-me)*4+(g?9:12);for(let Bn=0;Bn<ze;Bn++){let $n=Bn*2;for(let Hn=0;Hn<2;Hn++)I.get(Ge+$n+Hn)&&pe.set(q[me*2+Hn],q[me*2+Bn]),I.get(Ge+ze*2+$n+Hn)&&pe.set(q[me*2+Bn],q[j-1-me*2-Hn]),I.get(Ge+ze*4+$n+Hn)&&pe.set(q[j-1-me*2-Hn],q[j-1-me*2-Bn]),I.get(Ge+ze*6+$n+Hn)&&pe.set(q[j-1-me*2-Bn],q[me*2+Hn])}Ge+=ze*8}if(lt.drawModeMessage(pe,g,te,U),g)lt.drawBullsEye(pe,G.truncDivision(te,2),5);else{lt.drawBullsEye(pe,G.truncDivision(te,2),7);for(let me=0,Ge=0;me<G.truncDivision(j,2)-1;me+=15,Ge+=16)for(let ze=G.truncDivision(te,2)&1;ze<te;ze+=2)pe.set(G.truncDivision(te,2)-Ge,ze),pe.set(G.truncDivision(te,2)+Ge,ze),pe.set(ze,G.truncDivision(te,2)-Ge),pe.set(ze,G.truncDivision(te,2)+Ge)}let Ee=new gl;return Ee.setCompact(g),Ee.setSize(te),Ee.setLayers(w),Ee.setCodeWords(L),Ee.setMatrix(pe),Ee}static drawBullsEye(t,i,r){for(let s=0;s<r;s+=2)for(let u=i-s;u<=i+s;u++)t.set(u,i-s),t.set(u,i+s),t.set(i-s,u),t.set(i+s,u);t.set(i-r,i-r),t.set(i-r+1,i-r),t.set(i-r,i-r+1),t.set(i+r,i-r),t.set(i+r,i-r+1),t.set(i+r,i+r-1)}static generateModeMessage(t,i,r){let s=new le;return t?(s.appendBits(i-1,2),s.appendBits(r-1,6),s=lt.generateCheckWords(s,28,4)):(s.appendBits(i-1,5),s.appendBits(r-1,11),s=lt.generateCheckWords(s,40,4)),s}static drawModeMessage(t,i,r,s){let u=G.truncDivision(r,2);if(i)for(let f=0;f<7;f++){let g=u-3+f;s.get(f)&&t.set(g,u-5),s.get(f+7)&&t.set(u+5,g),s.get(20-f)&&t.set(g,u+5),s.get(27-f)&&t.set(u-5,g)}else for(let f=0;f<10;f++){let g=u-5+f+G.truncDivision(f,5);s.get(f)&&t.set(g,u-7),s.get(f+10)&&t.set(u+7,g),s.get(29-f)&&t.set(g,u+7),s.get(39-f)&&t.set(u-7,g)}}static generateCheckWords(t,i,r){let s=t.getSize()/r,u=new hl(lt.getGF(r)),f=G.truncDivision(i,r),g=lt.bitsToWords(t,r,f);u.encode(g,f-s);let w=i%r,v=new le;v.appendBits(0,w);for(const S of Array.from(g))v.appendBits(S,r);return v}static bitsToWords(t,i,r){let s=new Int32Array(r),u,f;for(u=0,f=t.getSize()/i;u<f;u++){let g=0;for(let w=0;w<i;w++)g|=t.get(u*i+w)?1<<i-w-1:0;s[u]=g}return s}static getGF(t){switch(t){case 4:return ot.AZTEC_PARAM;case 6:return ot.AZTEC_DATA_6;case 8:return ot.AZTEC_DATA_8;case 10:return ot.AZTEC_DATA_10;case 12:return ot.AZTEC_DATA_12;default:throw new O("Unsupported word size "+t)}}static stuffBits(t,i){let r=new le,s=t.getSize(),u=(1<<i)-2;for(let f=0;f<s;f+=i){let g=0;for(let w=0;w<i;w++)(f+w>=s||t.get(f+w))&&(g|=1<<i-1-w);(g&u)===u?(r.appendBits(g&u,i),f--):(g&u)===0?(r.appendBits(g|1,i),f--):r.appendBits(g,i)}return r}static totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}lt.DEFAULT_EC_PERCENT=33,lt.DEFAULT_AZTEC_LAYERS=0,lt.MAX_NB_BITS=32,lt.MAX_NB_BITS_COMPACT=4,lt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class fs{encode(t,i,r,s){return this.encodeWithHints(t,i,r,s,null)}encodeWithHints(t,i,r,s,u){let f=dl.ISO_8859_1,g=lt.DEFAULT_EC_PERCENT,w=lt.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(sn.CHARACTER_SET)&&(f=Ur.forName(u.get(sn.CHARACTER_SET).toString())),u.has(sn.ERROR_CORRECTION)&&(g=G.parseInt(u.get(sn.ERROR_CORRECTION).toString())),u.has(sn.AZTEC_LAYERS)&&(w=G.parseInt(u.get(sn.AZTEC_LAYERS).toString()))),fs.encodeLayers(t,i,r,s,f,g,w)}static encodeLayers(t,i,r,s,u,f,g){if(i!==ye.AZTEC)throw new O("Can only encode AZTEC, but got "+i);let w=lt.encode(Re.getBytes(t,u),f,g);return fs.renderResult(w,r,s)}static renderResult(t,i,r){let s=t.getMatrix();if(s==null)throw new mi;let u=s.getWidth(),f=s.getHeight(),g=Math.max(i,u),w=Math.max(r,f),v=Math.min(g/u,w/f),S=(g-u*v)/2,N=(w-f*v)/2,I=new ft(g,w);for(let L=0,U=N;L<f;L++,U+=v)for(let j=0,q=S;j<u;j++,q+=v)s.get(j,L)&&I.setRegion(q,U,v,v);return I}}o.AbstractExpandedDecoder=va,o.ArgumentException=C,o.ArithmeticException=Ir,o.AztecCode=gl,o.AztecCodeReader=Qa,o.AztecCodeWriter=fs,o.AztecDecoder=St,o.AztecDetector=vo,o.AztecDetectorResult=al,o.AztecEncoder=lt,o.AztecHighLevelEncoder=Hr,o.AztecPoint=yt,o.BarcodeFormat=ye,o.Binarizer=z,o.BinaryBitmap=B,o.BitArray=le,o.BitMatrix=ft,o.BitSource=Fn,o.BrowserAztecCodeReader=ec,o.BrowserBarcodeReader=_o,o.BrowserCodeReader=Ae,o.BrowserDatamatrixCodeReader=tc,o.BrowserMultiFormatReader=ac,o.BrowserPDF417Reader=sc,o.BrowserQRCodeReader=lc,o.BrowserQRCodeSvgWriter=ur,o.CharacterSetECI=ce,o.ChecksumException=P,o.Code128Reader=be,o.Code39Reader=It,o.DataMatrixDecodedBitStreamParser=zi,o.DataMatrixReader=si,o.DecodeHintType=Ce,o.DecoderResult=Zn,o.DefaultGridSampler=Un,o.DetectorResult=Ka,o.EAN13Reader=ri,o.EncodeHintType=sn,o.Exception=y,o.FormatException=ae,o.GenericGF=ot,o.GenericGFPoly=dn,o.GlobalHistogramBinarizer=re,o.GridSampler=sl,o.GridSamplerInstance=Mn,o.HTMLCanvasElementLuminanceSource=F,o.HybridBinarizer=ue,o.ITFReader=dt,o.IllegalArgumentException=O,o.IllegalStateException=mi,o.InvertedLuminanceSource=Ke,o.LuminanceSource=De,o.MathUtils=st,o.MultiFormatOneDReader=ji,o.MultiFormatReader=Ro,o.MultiFormatWriter=uc,o.NotFoundException=ee,o.OneDReader=Ft,o.PDF417DecodedBitStreamParser=ie,o.PDF417DecoderErrorCorrection=Ca,o.PDF417Reader=wn,o.PDF417ResultMetadata=ss,o.PerspectiveTransform=Dn,o.PlanarYUVLuminanceSource=pi,o.QRCodeByteMatrix=Ta,o.QRCodeDataMask=pn,o.QRCodeDecodedBitStreamParser=jt,o.QRCodeDecoderErrorCorrectionLevel=pt,o.QRCodeDecoderFormatInformation=xn,o.QRCodeEncoder=Dt,o.QRCodeEncoderQRCode=or,o.QRCodeMaskUtil=Gt,o.QRCodeMatrixUtil=Pe,o.QRCodeMode=Me,o.QRCodeReader=Oi,o.QRCodeVersion=Ie,o.QRCodeWriter=Pr,o.RGBLuminanceSource=Oa,o.RSS14Reader=gt,o.RSSExpandedReader=de,o.ReaderException=_a,o.ReedSolomonDecoder=pa,o.ReedSolomonEncoder=hl,o.ReedSolomonException=Pi,o.Result=Se,o.ResultMetadataType=Xe,o.ResultPoint=Oe,o.StringUtils=Re,o.UnsupportedOperationException=Ut,o.VideoInputDevice=ge,o.WhiteRectangleDetector=_i,o.WriterException=vt,o.ZXingArrays=xe,o.ZXingCharset=Ur,o.ZXingInteger=G,o.ZXingStandardCharsets=dl,o.ZXingStringBuilder=Ze,o.ZXingStringEncoding=Ve,o.ZXingSystem=X,o.createAbstractExpandedDecoder=ul,Object.defineProperty(o,"__esModule",{value:!0})})}(uo,uo.exports)),uo.exports}var zt=Py();const Uy=T0(zt),Fy=rx({__proto__:null,default:Uy},[zt]);var I2=function(){function h(l,o,d){if(this.formatMap=new Map([[Te.QR_CODE,zt.BarcodeFormat.QR_CODE],[Te.AZTEC,zt.BarcodeFormat.AZTEC],[Te.CODABAR,zt.BarcodeFormat.CODABAR],[Te.CODE_39,zt.BarcodeFormat.CODE_39],[Te.CODE_93,zt.BarcodeFormat.CODE_93],[Te.CODE_128,zt.BarcodeFormat.CODE_128],[Te.DATA_MATRIX,zt.BarcodeFormat.DATA_MATRIX],[Te.MAXICODE,zt.BarcodeFormat.MAXICODE],[Te.ITF,zt.BarcodeFormat.ITF],[Te.EAN_13,zt.BarcodeFormat.EAN_13],[Te.EAN_8,zt.BarcodeFormat.EAN_8],[Te.PDF_417,zt.BarcodeFormat.PDF_417],[Te.RSS_14,zt.BarcodeFormat.RSS_14],[Te.RSS_EXPANDED,zt.BarcodeFormat.RSS_EXPANDED],[Te.UPC_A,zt.BarcodeFormat.UPC_A],[Te.UPC_E,zt.BarcodeFormat.UPC_E],[Te.UPC_EAN_EXTENSION,zt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Fy)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=o,this.logger=d;var m=this.createZXingFormats(l),x=new Map;x.set(zt.DecodeHintType.POSSIBLE_FORMATS,m),x.set(zt.DecodeHintType.TRY_HARDER,!1),this.hints=x}return h.prototype.decodeAsync=function(l){var o=this;return new Promise(function(d,m){try{d(o.decode(l))}catch(x){m(x)}})},h.prototype.decode=function(l){var o=new zt.MultiFormatReader(this.verbose,this.hints),d=new zt.HTMLCanvasElementLuminanceSource(l),m=new zt.BinaryBitmap(new zt.HybridBinarizer(d)),x=o.decode(m);return{text:x.text,format:Tg.create(this.toHtml5QrcodeSupportedFormats(x.format)),debugData:this.createDebugData()}},h.prototype.createReverseFormatMap=function(){var l=new Map;return this.formatMap.forEach(function(o,d,m){l.set(o,d)}),l},h.prototype.toHtml5QrcodeSupportedFormats=function(l){if(!this.reverseFormatMap.has(l))throw"reverseFormatMap doesn't have ".concat(l);return this.reverseFormatMap.get(l)},h.prototype.createZXingFormats=function(l){for(var o=[],d=0,m=l;d<m.length;d++){var x=m[d];this.formatMap.has(x)?o.push(this.formatMap.get(x)):this.logger.logError("".concat(x," is not supported by")+"ZXingHtml5QrcodeShim")}return o},h.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},h}(),jy=function(h,l,o,d){function m(x){return x instanceof o?x:new o(function(b){b(x)})}return new(o||(o=Promise))(function(x,b){function _(C){try{y(d.next(C))}catch(O){b(O)}}function A(C){try{y(d.throw(C))}catch(O){b(O)}}function y(C){C.done?x(C.value):m(C.value).then(_,A)}y((d=d.apply(h,l||[])).next())})},zy=function(h,l){var o={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},d,m,x,b;return b={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function _(y){return function(C){return A([y,C])}}function A(y){if(d)throw new TypeError("Generator is already executing.");for(;b&&(b=0,y[0]&&(o=0)),o;)try{if(d=1,m&&(x=y[0]&2?m.return:y[0]?m.throw||((x=m.return)&&x.call(m),0):m.next)&&!(x=x.call(m,y[1])).done)return x;switch(m=0,x&&(y=[y[0]&2,x.value]),y[0]){case 0:case 1:x=y;break;case 4:return o.label++,{value:y[1],done:!1};case 5:o.label++,m=y[1],y=[0];continue;case 7:y=o.ops.pop(),o.trys.pop();continue;default:if(x=o.trys,!(x=x.length>0&&x[x.length-1])&&(y[0]===6||y[0]===2)){o=0;continue}if(y[0]===3&&(!x||y[1]>x[0]&&y[1]<x[3])){o.label=y[1];break}if(y[0]===6&&o.label<x[1]){o.label=x[1],x=y;break}if(x&&o.label<x[2]){o.label=x[2],o.ops.push(y);break}x[2]&&o.ops.pop(),o.trys.pop();continue}y=l.call(h,o)}catch(C){y=[6,C],m=0}finally{d=x=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},D2=function(){function h(l,o,d){if(this.formatMap=new Map([[Te.QR_CODE,"qr_code"],[Te.AZTEC,"aztec"],[Te.CODABAR,"codabar"],[Te.CODE_39,"code_39"],[Te.CODE_93,"code_93"],[Te.CODE_128,"code_128"],[Te.DATA_MATRIX,"data_matrix"],[Te.ITF,"itf"],[Te.EAN_13,"ean_13"],[Te.EAN_8,"ean_8"],[Te.PDF_417,"pdf417"],[Te.UPC_A,"upc_a"],[Te.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!h.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=o,this.logger=d;var m=this.createBarcodeDetectorFormats(l);if(this.detector=new BarcodeDetector(m),!this.detector)throw"BarcodeDetector detector not supported"}return h.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var l=new BarcodeDetector({formats:["qr_code"]});return typeof l<"u"},h.prototype.decodeAsync=function(l){return jy(this,void 0,void 0,function(){var o,d;return zy(this,function(m){switch(m.label){case 0:return[4,this.detector.detect(l)];case 1:if(o=m.sent(),!o||o.length===0)throw"No barcode or QR code detected.";return d=this.selectLargestBarcode(o),[2,{text:d.rawValue,format:Tg.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}]}})})},h.prototype.selectLargestBarcode=function(l){for(var o=null,d=0,m=0,x=l;m<x.length;m++){var b=x[m],_=b.boundingBox.width*b.boundingBox.height;_>d&&(d=_,o=b)}if(!o)throw"No largest barcode found";return o},h.prototype.createBarcodeDetectorFormats=function(l){for(var o=[],d=0,m=l;d<m.length;d++){var x=m[d];this.formatMap.has(x)?o.push(this.formatMap.get(x)):this.logger.warn("".concat(x," is not supported by")+"BarcodeDetectorDelegate")}return{formats:o}},h.prototype.toHtml5QrcodeSupportedFormats=function(l){if(!this.reverseFormatMap.has(l))throw"reverseFormatMap doesn't have ".concat(l);return this.reverseFormatMap.get(l)},h.prototype.createReverseFormatMap=function(){var l=new Map;return this.formatMap.forEach(function(o,d,m){l.set(o,d)}),l},h.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},h}(),M2=function(h,l,o,d){function m(x){return x instanceof o?x:new o(function(b){b(x)})}return new(o||(o=Promise))(function(x,b){function _(C){try{y(d.next(C))}catch(O){b(O)}}function A(C){try{y(d.throw(C))}catch(O){b(O)}}function y(C){C.done?x(C.value):m(C.value).then(_,A)}y((d=d.apply(h,l||[])).next())})},B2=function(h,l){var o={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},d,m,x,b;return b={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function _(y){return function(C){return A([y,C])}}function A(y){if(d)throw new TypeError("Generator is already executing.");for(;b&&(b=0,y[0]&&(o=0)),o;)try{if(d=1,m&&(x=y[0]&2?m.return:y[0]?m.throw||((x=m.return)&&x.call(m),0):m.next)&&!(x=x.call(m,y[1])).done)return x;switch(m=0,x&&(y=[y[0]&2,x.value]),y[0]){case 0:case 1:x=y;break;case 4:return o.label++,{value:y[1],done:!1};case 5:o.label++,m=y[1],y=[0];continue;case 7:y=o.ops.pop(),o.trys.pop();continue;default:if(x=o.trys,!(x=x.length>0&&x[x.length-1])&&(y[0]===6||y[0]===2)){o=0;continue}if(y[0]===3&&(!x||y[1]>x[0]&&y[1]<x[3])){o.label=y[1];break}if(y[0]===6&&o.label<x[1]){o.label=x[1],x=y;break}if(x&&o.label<x[2]){o.label=x[2],o.ops.push(y);break}x[2]&&o.ops.pop(),o.trys.pop();continue}y=l.call(h,o)}catch(C){y=[6,C],m=0}finally{d=x=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Hy=function(){function h(l,o,d,m){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=d,o&&D2.isSupported()?(this.primaryDecoder=new D2(l,d,m),this.secondaryDecoder=new I2(l,d,m)):this.primaryDecoder=new I2(l,d,m)}return h.prototype.decodeAsync=function(l){return M2(this,void 0,void 0,function(){var o;return B2(this,function(d){switch(d.label){case 0:o=performance.now(),d.label=1;case 1:return d.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(l)];case 2:return[2,d.sent()];case 3:return this.possiblyLogPerformance(o),[7];case 4:return[2]}})})},h.prototype.decodeRobustlyAsync=function(l){return M2(this,void 0,void 0,function(){var o,d;return B2(this,function(m){switch(m.label){case 0:o=performance.now(),m.label=1;case 1:return m.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(l)];case 2:return[2,m.sent()];case 3:if(d=m.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(l)];throw d;case 4:return this.possiblyLogPerformance(o),[7];case 5:return[2]}})})},h.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},h.prototype.possiblyLogPerformance=function(l){if(this.verbose){var o=performance.now()-l;this.executionResults.push(o),this.executions++,this.possiblyFlushPerformanceReport()}},h.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var l=0,o=0,d=this.executionResults;o<d.length;o++){var m=d[o];l+=m}var x=l/this.executionResults.length;console.log("".concat(x," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},h}(),z0=function(){var h=function(l,o){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var x in m)Object.prototype.hasOwnProperty.call(m,x)&&(d[x]=m[x])},h(l,o)};return function(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");h(l,o);function d(){this.constructor=l}l.prototype=o===null?Object.create(o):(d.prototype=o.prototype,new d)}}(),Yu=function(h,l,o,d){function m(x){return x instanceof o?x:new o(function(b){b(x)})}return new(o||(o=Promise))(function(x,b){function _(C){try{y(d.next(C))}catch(O){b(O)}}function A(C){try{y(d.throw(C))}catch(O){b(O)}}function y(C){C.done?x(C.value):m(C.value).then(_,A)}y((d=d.apply(h,l||[])).next())})},Wu=function(h,l){var o={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},d,m,x,b;return b={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function _(y){return function(C){return A([y,C])}}function A(y){if(d)throw new TypeError("Generator is already executing.");for(;b&&(b=0,y[0]&&(o=0)),o;)try{if(d=1,m&&(x=y[0]&2?m.return:y[0]?m.throw||((x=m.return)&&x.call(m),0):m.next)&&!(x=x.call(m,y[1])).done)return x;switch(m=0,x&&(y=[y[0]&2,x.value]),y[0]){case 0:case 1:x=y;break;case 4:return o.label++,{value:y[1],done:!1};case 5:o.label++,m=y[1],y=[0];continue;case 7:y=o.ops.pop(),o.trys.pop();continue;default:if(x=o.trys,!(x=x.length>0&&x[x.length-1])&&(y[0]===6||y[0]===2)){o=0;continue}if(y[0]===3&&(!x||y[1]>x[0]&&y[1]<x[3])){o.label=y[1];break}if(y[0]===6&&o.label<x[1]){o.label=x[1],x=y;break}if(x&&o.label<x[2]){o.label=x[2],o.ops.push(y);break}x[2]&&o.ops.pop(),o.trys.pop();continue}y=l.call(h,o)}catch(C){y=[6,C],m=0}finally{d=x=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Rg=function(){function h(l,o){this.name=l,this.track=o}return h.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},h.prototype.apply=function(l){var o={};o[this.name]=l;var d={advanced:[o]};return this.track.applyConstraints(d)},h.prototype.value=function(){var l=this.track.getSettings();if(this.name in l){var o=l[this.name];return o}return null},h}(),Gy=function(h){z0(l,h);function l(o,d){return h.call(this,o,d)||this}return l.prototype.min=function(){return this.getCapabilities().min},l.prototype.max=function(){return this.getCapabilities().max},l.prototype.step=function(){return this.getCapabilities().step},l.prototype.apply=function(o){var d={};d[this.name]=o;var m={advanced:[d]};return this.track.applyConstraints(m)},l.prototype.getCapabilities=function(){this.failIfNotSupported();var o=this.track.getCapabilities(),d=o[this.name];return{min:d.min,max:d.max,step:d.step}},l.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},l}(Rg),Vy=function(h){z0(l,h);function l(o){return h.call(this,"zoom",o)||this}return l}(Gy),Xy=function(h){z0(l,h);function l(o){return h.call(this,"torch",o)||this}return l}(Rg),qy=function(){function h(l){this.track=l}return h.prototype.zoomFeature=function(){return new Vy(this.track)},h.prototype.torchFeature=function(){return new Xy(this.track)},h}(),Yy=function(){function h(l,o,d){this.isClosed=!1,this.parentElement=l,this.mediaStream=o,this.callbacks=d,this.surface=this.createVideoElement(this.parentElement.clientWidth),l.append(this.surface)}return h.prototype.createVideoElement=function(l){var o=document.createElement("video");return o.style.width="".concat(l,"px"),o.style.display="block",o.muted=!0,o.setAttribute("muted","true"),o.playsInline=!0,o},h.prototype.setupSurface=function(){var l=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var o=function(){var d=l.surface.clientWidth,m=l.surface.clientHeight;l.callbacks.onRenderSurfaceReady(d,m),l.surface.removeEventListener("playing",o)};this.surface.addEventListener("playing",o),this.surface.srcObject=this.mediaStream,this.surface.play()},h.create=function(l,o,d,m){return Yu(this,void 0,void 0,function(){var x,b;return Wu(this,function(_){switch(_.label){case 0:return x=new h(l,o,m),d.aspectRatio?(b={aspectRatio:d.aspectRatio},[4,x.getFirstTrackOrFail().applyConstraints(b)]):[3,2];case 1:_.sent(),_.label=2;case 2:return x.setupSurface(),[2,x]}})})},h.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},h.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},h.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},h.prototype.resume=function(l){this.failIfClosed();var o=this,d=function(){setTimeout(l,200),o.surface.removeEventListener("playing",d)};this.surface.addEventListener("playing",d),this.surface.play()},h.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},h.prototype.getSurface=function(){return this.failIfClosed(),this.surface},h.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},h.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},h.prototype.applyVideoConstraints=function(l){return Yu(this,void 0,void 0,function(){return Wu(this,function(o){if("aspectRatio"in l)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(l)]})})},h.prototype.close=function(){if(this.isClosed)return Promise.resolve();var l=this;return new Promise(function(o,d){var m=l.mediaStream.getVideoTracks(),x=m.length,b=0;l.mediaStream.getVideoTracks().forEach(function(_){l.mediaStream.removeTrack(_),_.stop(),++b,b>=x&&(l.isClosed=!0,l.parentElement.removeChild(l.surface),o())})})},h.prototype.getCapabilities=function(){return new qy(this.getFirstTrackOrFail())},h}(),Wy=function(){function h(l){this.mediaStream=l}return h.prototype.render=function(l,o,d){return Yu(this,void 0,void 0,function(){return Wu(this,function(m){return[2,Yy.create(l,this.mediaStream,o,d)]})})},h.create=function(l){return Yu(this,void 0,void 0,function(){var o,d;return Wu(this,function(m){switch(m.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return o={audio:!1,video:l},[4,navigator.mediaDevices.getUserMedia(o)];case 1:return d=m.sent(),[2,new h(d)]}})})},h}(),L2=function(h,l,o,d){function m(x){return x instanceof o?x:new o(function(b){b(x)})}return new(o||(o=Promise))(function(x,b){function _(C){try{y(d.next(C))}catch(O){b(O)}}function A(C){try{y(d.throw(C))}catch(O){b(O)}}function y(C){C.done?x(C.value):m(C.value).then(_,A)}y((d=d.apply(h,l||[])).next())})},k2=function(h,l){var o={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},d,m,x,b;return b={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function _(y){return function(C){return A([y,C])}}function A(y){if(d)throw new TypeError("Generator is already executing.");for(;b&&(b=0,y[0]&&(o=0)),o;)try{if(d=1,m&&(x=y[0]&2?m.return:y[0]?m.throw||((x=m.return)&&x.call(m),0):m.next)&&!(x=x.call(m,y[1])).done)return x;switch(m=0,x&&(y=[y[0]&2,x.value]),y[0]){case 0:case 1:x=y;break;case 4:return o.label++,{value:y[1],done:!1};case 5:o.label++,m=y[1],y=[0];continue;case 7:y=o.ops.pop(),o.trys.pop();continue;default:if(x=o.trys,!(x=x.length>0&&x[x.length-1])&&(y[0]===6||y[0]===2)){o=0;continue}if(y[0]===3&&(!x||y[1]>x[0]&&y[1]<x[3])){o.label=y[1];break}if(y[0]===6&&o.label<x[1]){o.label=x[1],x=y;break}if(x&&o.label<x[2]){o.label=x[2],o.ops.push(y);break}x[2]&&o.ops.pop(),o.trys.pop();continue}y=l.call(h,o)}catch(C){y=[6,C],m=0}finally{d=x=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Zy=function(){function h(){}return h.failIfNotSupported=function(){return L2(this,void 0,void 0,function(){return k2(this,function(l){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new h]})})},h.prototype.create=function(l){return L2(this,void 0,void 0,function(){return k2(this,function(o){return[2,Wy.create(l)]})})},h}(),Ky=function(h,l,o,d){function m(x){return x instanceof o?x:new o(function(b){b(x)})}return new(o||(o=Promise))(function(x,b){function _(C){try{y(d.next(C))}catch(O){b(O)}}function A(C){try{y(d.throw(C))}catch(O){b(O)}}function y(C){C.done?x(C.value):m(C.value).then(_,A)}y((d=d.apply(h,l||[])).next())})},Qy=function(h,l){var o={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},d,m,x,b;return b={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function _(y){return function(C){return A([y,C])}}function A(y){if(d)throw new TypeError("Generator is already executing.");for(;b&&(b=0,y[0]&&(o=0)),o;)try{if(d=1,m&&(x=y[0]&2?m.return:y[0]?m.throw||((x=m.return)&&x.call(m),0):m.next)&&!(x=x.call(m,y[1])).done)return x;switch(m=0,x&&(y=[y[0]&2,x.value]),y[0]){case 0:case 1:x=y;break;case 4:return o.label++,{value:y[1],done:!1};case 5:o.label++,m=y[1],y=[0];continue;case 7:y=o.ops.pop(),o.trys.pop();continue;default:if(x=o.trys,!(x=x.length>0&&x[x.length-1])&&(y[0]===6||y[0]===2)){o=0;continue}if(y[0]===3&&(!x||y[1]>x[0]&&y[1]<x[3])){o.label=y[1];break}if(y[0]===6&&o.label<x[1]){o.label=x[1],x=y;break}if(x&&o.label<x[2]){o.label=x[2],o.ops.push(y);break}x[2]&&o.ops.pop(),o.trys.pop();continue}y=l.call(h,o)}catch(C){y=[6,C],m=0}finally{d=x=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Jy=function(){function h(){}return h.retrieve=function(){if(navigator.mediaDevices)return h.getCamerasFromMediaDevices();var l=MediaStreamTrack;return MediaStreamTrack&&l.getSources?h.getCamerasFromMediaStreamTrack():h.rejectWithError()},h.rejectWithError=function(){var l=Ks.unableToQuerySupportedDevices();return h.isHttpsOrLocalhost()||(l=Ks.insecureContextCameraQueryError()),Promise.reject(l)},h.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var l=location.host.split(":")[0];return l==="127.0.0.1"||l==="localhost"},h.getCamerasFromMediaDevices=function(){return Ky(this,void 0,void 0,function(){var l,o,d,m,x,b,_;return Qy(this,function(A){switch(A.label){case 0:return l=function(y){for(var C=y.getVideoTracks(),O=0,B=C;O<B.length;O++){var P=B[O];P.enabled=!1,P.stop(),y.removeTrack(P)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return o=A.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(d=A.sent(),m=[],x=0,b=d;x<b.length;x++)_=b[x],_.kind==="videoinput"&&m.push({id:_.deviceId,label:_.label});return l(o),[2,m]}})})},h.getCamerasFromMediaStreamTrack=function(){return new Promise(function(l,o){var d=function(x){for(var b=[],_=0,A=x;_<A.length;_++){var y=A[_];y.kind==="video"&&b.push({id:y.id,label:y.label})}l(b)},m=MediaStreamTrack;m.getSources(d)})},h}(),tn;(function(h){h[h.UNKNOWN=0]="UNKNOWN",h[h.NOT_STARTED=1]="NOT_STARTED",h[h.SCANNING=2]="SCANNING",h[h.PAUSED=3]="PAUSED"})(tn||(tn={}));var $y=function(){function h(){this.state=tn.NOT_STARTED,this.onGoingTransactionNewState=tn.UNKNOWN}return h.prototype.directTransition=function(l){this.failIfTransitionOngoing(),this.validateTransition(l),this.state=l},h.prototype.startTransition=function(l){return this.failIfTransitionOngoing(),this.validateTransition(l),this.onGoingTransactionNewState=l,this},h.prototype.execute=function(){if(this.onGoingTransactionNewState===tn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var l=this.onGoingTransactionNewState;this.onGoingTransactionNewState=tn.UNKNOWN,this.directTransition(l)},h.prototype.cancel=function(){if(this.onGoingTransactionNewState===tn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=tn.UNKNOWN},h.prototype.getState=function(){return this.state},h.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==tn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},h.prototype.validateTransition=function(l){switch(this.state){case tn.UNKNOWN:throw"Transition from unknown is not allowed";case tn.NOT_STARTED:this.failIfNewStateIs(l,[tn.PAUSED]);break;case tn.SCANNING:break;case tn.PAUSED:break}},h.prototype.failIfNewStateIs=function(l,o){for(var d=0,m=o;d<m.length;d++){var x=m[d];if(l===x)throw"Cannot transition from ".concat(this.state," to ").concat(l)}},h}(),e4=function(){function h(l){this.stateManager=l}return h.prototype.startTransition=function(l){return this.stateManager.startTransition(l)},h.prototype.directTransition=function(l){this.stateManager.directTransition(l)},h.prototype.getState=function(){return this.stateManager.getState()},h.prototype.canScanFile=function(){return this.stateManager.getState()===tn.NOT_STARTED},h.prototype.isScanning=function(){return this.stateManager.getState()!==tn.NOT_STARTED},h.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===tn.SCANNING},h.prototype.isPaused=function(){return this.stateManager.getState()===tn.PAUSED},h}(),t4=function(){function h(){}return h.create=function(){return new e4(new $y)},h}(),n4=function(){var h=function(l,o){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var x in m)Object.prototype.hasOwnProperty.call(m,x)&&(d[x]=m[x])},h(l,o)};return function(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");h(l,o);function d(){this.constructor=l}l.prototype=o===null?Object.create(o):(d.prototype=o.prototype,new d)}}(),gi=function(h){n4(l,h);function l(){return h!==null&&h.apply(this,arguments)||this}return l.DEFAULT_WIDTH=300,l.DEFAULT_WIDTH_OFFSET=2,l.FILE_SCAN_MIN_HEIGHT=300,l.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,l.MIN_QR_BOX_SIZE=50,l.SHADED_LEFT=1,l.SHADED_RIGHT=2,l.SHADED_TOP=3,l.SHADED_BOTTOM=4,l.SHADED_REGION_ELEMENT_ID="qr-shaded-region",l.VERBOSE=!1,l.BORDER_SHADER_DEFAULT_COLOR="#ffffff",l.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",l}(My),i4=function(){function h(l,o){this.logger=o,this.fps=gi.SCAN_DEFAULT_FPS,l?(l.fps&&(this.fps=l.fps),this.disableFlip=l.disableFlip===!0,this.qrbox=l.qrbox,this.aspectRatio=l.aspectRatio,this.videoConstraints=l.videoConstraints):this.disableFlip=gi.DEFAULT_DISABLE_FLIP}return h.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Og.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},h.prototype.isShadedBoxEnabled=function(){return!Sr(this.qrbox)},h.create=function(l,o){return new h(l,o)},h}(),r4=function(){function h(l,o){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(l))throw"HTML Element with id=".concat(l," not found");this.elementId=l,this.verbose=!1;var d;typeof o=="boolean"?this.verbose=o===!0:o&&(d=o,this.verbose=d.verbose===!0,d.experimentalFeatures),this.logger=new Ly(this.verbose),this.qrcode=new Hy(this.getSupportedFormats(o),this.getUseBarCodeDetectorIfSupported(d),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=t4.create()}return h.prototype.start=function(l,o,d,m){var x=this;if(!l)throw"cameraIdOrConfig is required";if(!d||typeof d!="function")throw"qrCodeSuccessCallback is required and should be a function.";var b;m?b=m:b=this.verbose?this.logger.log:function(){};var _=i4.create(o,this.logger);this.clearElement();var A=!1;_.videoConstraints&&(_.isMediaStreamConstraintsValid()?A=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var y=A,C=document.getElementById(this.elementId);C.clientWidth?C.clientWidth:gi.DEFAULT_WIDTH,C.style.position="relative",this.shouldScan=!0,this.element=C;var O=this,B=this.stateManagerProxy.startTransition(tn.SCANNING);return new Promise(function(P,z){var X=y?_.videoConstraints:O.createVideoConstraints(l);if(!X){B.cancel(),z("videoConstraints should be defined");return}var Y={};(!y||_.aspectRatio)&&(Y.aspectRatio=_.aspectRatio);var se={onRenderSurfaceReady:function(xe,G){O.setupUi(xe,G,_),O.isScanning=!0,O.foreverScan(_,d,b)}};Zy.failIfNotSupported().then(function(xe){xe.create(X).then(function(G){return G.render(x.element,Y,se).then(function(le){O.renderedCamera=le,B.execute(),P(null)}).catch(function(le){B.cancel(),z(le)})}).catch(function(G){B.cancel(),z(Ks.errorGettingUserMedia(G))})}).catch(function(xe){B.cancel(),z(Ks.cameraStreamingNotSupported())})})},h.prototype.pause=function(l){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(tn.PAUSED),this.showPausedState(),(Sr(l)||l!==!0)&&(l=!1),l&&this.renderedCamera&&this.renderedCamera.pause()},h.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var l=this,o=function(){l.stateManagerProxy.directTransition(tn.SCANNING),l.hidePausedState()};if(!this.renderedCamera.isPaused()){o();return}this.renderedCamera.resume(function(){o()})},h.prototype.getState=function(){return this.stateManagerProxy.getState()},h.prototype.stop=function(){var l=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var o=this.stateManagerProxy.startTransition(tn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var d=function(){if(l.element){var x=document.getElementById(gi.SHADED_REGION_ELEMENT_ID);x&&l.element.removeChild(x)}},m=this;return this.renderedCamera.close().then(function(){return m.renderedCamera=null,m.element&&(m.element.removeChild(m.canvasElement),m.canvasElement=null),d(),m.qrRegion&&(m.qrRegion=null),m.context&&(m.context=null),o.execute(),m.hidePausedState(),m.isScanning=!1,Promise.resolve()})},h.prototype.scanFile=function(l,o){return this.scanFileV2(l,o).then(function(d){return d.decodedText})},h.prototype.scanFileV2=function(l,o){var d=this;if(!l||!(l instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Sr(o)&&(o=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(m,x){d.possiblyCloseLastScanImageFile(),d.clearElement(),d.lastScanImageFile=URL.createObjectURL(l);var b=new Image;b.onload=function(){var _=b.width,A=b.height,y=document.getElementById(d.elementId),C=y.clientWidth?y.clientWidth:gi.DEFAULT_WIDTH,O=Math.max(y.clientHeight?y.clientHeight:A,gi.FILE_SCAN_MIN_HEIGHT),B=d.computeCanvasDrawConfig(_,A,C,O);if(o){var P=d.createCanvasElement(C,O,"qr-canvas-visible");P.style.display="inline-block",y.appendChild(P);var z=P.getContext("2d");if(!z)throw"Unable to get 2d context from canvas";z.canvas.width=C,z.canvas.height=O,z.drawImage(b,0,0,_,A,B.x,B.y,B.width,B.height)}var X=gi.FILE_SCAN_HIDDEN_CANVAS_PADDING,Y=Math.max(b.width,B.width),se=Math.max(b.height,B.height),xe=Y+2*X,G=se+2*X,le=d.createCanvasElement(xe,G);y.appendChild(le);var we=le.getContext("2d");if(!we)throw"Unable to get 2d context from canvas";we.canvas.width=xe,we.canvas.height=G,we.drawImage(b,0,0,_,A,X,X,Y,se);try{d.qrcode.decodeRobustlyAsync(le).then(function(Ce){m(R2.createFromQrcodeResult(Ce))}).catch(x)}catch(Ce){x("QR code parse error, error = ".concat(Ce))}},b.onerror=x,b.onabort=x,b.onstalled=x,b.onsuspend=x,b.src=URL.createObjectURL(l)})},h.prototype.clear=function(){this.clearElement()},h.getCameras=function(){return Jy.retrieve()},h.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},h.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},h.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},h.prototype.applyVideoConstraints=function(l){if(l){if(!Og.isMediaStreamConstraintsValid(l,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(l)},h.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},h.prototype.getSupportedFormats=function(l){var o=[Te.QR_CODE,Te.AZTEC,Te.CODABAR,Te.CODE_39,Te.CODE_93,Te.CODE_128,Te.DATA_MATRIX,Te.MAXICODE,Te.ITF,Te.EAN_13,Te.EAN_8,Te.PDF_417,Te.RSS_14,Te.RSS_EXPANDED,Te.UPC_A,Te.UPC_E,Te.UPC_EAN_EXTENSION];if(!l||typeof l=="boolean"||!l.formatsToSupport)return o;if(!Array.isArray(l.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(l.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var d=[],m=0,x=l.formatsToSupport;m<x.length;m++){var b=x[m];Dy(b)?d.push(b):this.logger.warn("Invalid format: ".concat(b," passed in config, ignoring."))}if(d.length===0)throw"None of formatsToSupport match supported values.";return d},h.prototype.getUseBarCodeDetectorIfSupported=function(l){if(Sr(l))return!0;if(!Sr(l.useBarCodeDetectorIfSupported))return l.useBarCodeDetectorIfSupported!==!1;if(Sr(l.experimentalFeatures))return!0;var o=l.experimentalFeatures;return Sr(o.useBarCodeDetectorIfSupported)?!0:o.useBarCodeDetectorIfSupported!==!1},h.prototype.validateQrboxSize=function(l,o,d){var m=this,x=d.qrbox;this.validateQrboxConfig(x);var b=this.toQrdimensions(l,o,x),_=function(y){if(y<gi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(gi.MIN_QR_BOX_SIZE,"px.")},A=function(y){return y>l&&(m.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),y=l),y};_(b.width),_(b.height),b.width=A(b.width)},h.prototype.validateQrboxConfig=function(l){if(typeof l!="number"&&typeof l!="function"&&(l.width===void 0||l.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},h.prototype.toQrdimensions=function(l,o,d){if(typeof d=="number")return{width:d,height:d};if(typeof d=="function")try{return d(l,o)}catch(m){throw new Error("qrbox config was passed as a function but it failed with unknown error"+m)}return d},h.prototype.setupUi=function(l,o,d){d.isShadedBoxEnabled()&&this.validateQrboxSize(l,o,d);var m=Sr(d.qrbox)?{width:l,height:o}:d.qrbox;this.validateQrboxConfig(m);var x=this.toQrdimensions(l,o,m);x.height>o&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var b=d.isShadedBoxEnabled()&&x.height<=o,_={x:0,y:0,width:l,height:o},A=b?this.getShadedRegionBounds(l,o,x):_,y=this.createCanvasElement(A.width,A.height),C={willReadFrequently:!0},O=y.getContext("2d",C);O.canvas.width=A.width,O.canvas.height=A.height,this.element.append(y),b&&this.possiblyInsertShadingElement(this.element,l,o,x),this.createScannerPausedUiElement(this.element),this.qrRegion=A,this.context=O,this.canvasElement=y},h.prototype.createScannerPausedUiElement=function(l){var o=document.createElement("div");o.innerText=Ks.scannerPaused(),o.style.display="none",o.style.position="absolute",o.style.top="0px",o.style.zIndex="1",o.style.background="rgba(9, 9, 9, 0.46)",o.style.color="#FFECEC",o.style.textAlign="center",o.style.width="100%",l.appendChild(o),this.scannerPausedUiElement=o},h.prototype.scanContext=function(l,o){var d=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(m){return l(m.text,R2.createFromQrcodeResult(m)),d.possiblyUpdateShaders(!0),!0}).catch(function(m){d.possiblyUpdateShaders(!1);var x=Ks.codeParseError(m);return o(x,By.createFrom(x)),!1})},h.prototype.foreverScan=function(l,o,d){var m=this;if(this.shouldScan&&this.renderedCamera){var x=this.renderedCamera.getSurface(),b=x.videoWidth/x.clientWidth,_=x.videoHeight/x.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var A=this.qrRegion.width*b,y=this.qrRegion.height*_,C=this.qrRegion.x*b,O=this.qrRegion.y*_;this.context.drawImage(x,C,O,A,y,0,0,this.qrRegion.width,this.qrRegion.height);var B=function(){m.foreverScanTimeout=setTimeout(function(){m.foreverScan(l,o,d)},m.getTimeoutFps(l.fps))};this.scanContext(o,d).then(function(P){!P&&l.disableFlip!==!0?(m.context.translate(m.context.canvas.width,0),m.context.scale(-1,1),m.scanContext(o,d).finally(function(){B()})):B()}).catch(function(P){m.logger.logError("Error happend while scanning context",P),B()})}},h.prototype.createVideoConstraints=function(l){if(typeof l=="string")return{deviceId:{exact:l}};if(typeof l=="object"){var o="facingMode",d="deviceId",m={user:!0,environment:!0},x="exact",b=function(z){if(z in m)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(z,"'")},_=Object.keys(l);if(_.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(_.length," keys");var A=Object.keys(l)[0];if(A!==o&&A!==d)throw"Only '".concat(o,"' and '").concat(d,"' ")+" are supported for 'cameraIdOrConfig'";if(A===o){var y=l.facingMode;if(typeof y=="string"){if(b(y))return{facingMode:y}}else if(typeof y=="object")if(x in y){if(b(y["".concat(x)]))return{facingMode:{exact:y["".concat(x)]}}}else throw"'facingMode' should be string or object with"+" ".concat(x," as key.");else{var C=typeof y;throw"Invalid type of 'facingMode' = ".concat(C)}}else{var O=l.deviceId;if(typeof O=="string")return{deviceId:O};if(typeof O=="object"){if(x in O)return{deviceId:{exact:O["".concat(x)]}};throw"'deviceId' should be string or object with"+" ".concat(x," as key.")}else{var B=typeof O;throw"Invalid type of 'deviceId' = ".concat(B)}}}var P=typeof l;throw"Invalid type of 'cameraIdOrConfig' = ".concat(P)},h.prototype.computeCanvasDrawConfig=function(l,o,d,m){if(l<=d&&o<=m){var x=(d-l)/2,b=(m-o)/2;return{x,y:b,width:l,height:o}}else{var _=l,A=o;return l>d&&(o=d/l*o,l=d),o>m&&(l=m/o*l,o=m),this.logger.log("Image downsampled from "+"".concat(_,"X").concat(A)+" to ".concat(l,"X").concat(o,".")),this.computeCanvasDrawConfig(l,o,d,m)}},h.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var l=document.getElementById(this.elementId);l&&(l.innerHTML="")},h.prototype.possiblyUpdateShaders=function(l){this.qrMatch!==l&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(o){o.style.backgroundColor=l?gi.BORDER_SHADER_MATCH_COLOR:gi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=l)},h.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},h.prototype.createCanvasElement=function(l,o,d){var m=l,x=o,b=document.createElement("canvas");return b.style.width="".concat(m,"px"),b.style.height="".concat(x,"px"),b.style.display="none",b.id=Sr(d)?"qr-canvas":d,b},h.prototype.getShadedRegionBounds=function(l,o,d){if(d.width>l||d.height>o)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(l-d.width)/2,y:(o-d.height)/2,width:d.width,height:d.height}},h.prototype.possiblyInsertShadingElement=function(l,o,d,m){if(!(o-m.width<1||d-m.height<1)){var x=document.createElement("div");x.style.position="absolute";var b=(o-m.width)/2,_=(d-m.height)/2;if(x.style.borderLeft="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),x.style.borderRight="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),x.style.borderTop="".concat(_,"px solid rgba(0, 0, 0, 0.48)"),x.style.borderBottom="".concat(_,"px solid rgba(0, 0, 0, 0.48)"),x.style.boxSizing="border-box",x.style.top="0px",x.style.bottom="0px",x.style.left="0px",x.style.right="0px",x.id="".concat(gi.SHADED_REGION_ELEMENT_ID),o-m.width<11||d-m.height<11)this.hasBorderShaders=!1;else{var A=5,y=40;this.insertShaderBorders(x,y,A,-A,null,0,!0),this.insertShaderBorders(x,y,A,-A,null,0,!1),this.insertShaderBorders(x,y,A,null,-A,0,!0),this.insertShaderBorders(x,y,A,null,-A,0,!1),this.insertShaderBorders(x,A,y+A,-A,null,-A,!0),this.insertShaderBorders(x,A,y+A,null,-A,-A,!0),this.insertShaderBorders(x,A,y+A,-A,null,-A,!1),this.insertShaderBorders(x,A,y+A,null,-A,-A,!1),this.hasBorderShaders=!0}l.append(x)}},h.prototype.insertShaderBorders=function(l,o,d,m,x,b,_){var A=document.createElement("div");A.style.position="absolute",A.style.backgroundColor=gi.BORDER_SHADER_DEFAULT_COLOR,A.style.width="".concat(o,"px"),A.style.height="".concat(d,"px"),m!==null&&(A.style.top="".concat(m,"px")),x!==null&&(A.style.bottom="".concat(x,"px")),_?A.style.left="".concat(b,"px"):A.style.right="".concat(b,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(A),l.appendChild(A)},h.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},h.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},h.prototype.getTimeoutFps=function(l){return 1e3/l},h}(),P2;(function(h){h[h.STATUS_DEFAULT=0]="STATUS_DEFAULT",h[h.STATUS_SUCCESS=1]="STATUS_SUCCESS",h[h.STATUS_WARNING=2]="STATUS_WARNING",h[h.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(P2||(P2={}));function a4(){const h=J.useRef(null),[l,o]=J.useState(null);return J.useEffect(()=>{const d="reader",m=new r4(d,!1);return h.current=m,m.start({facingMode:"environment"},{fps:10,qrbox:250},async x=>{try{const b=JSON.parse(x);if(b.id){const _=await Ww(b.id);_&&o(_)}}catch(b){console.error("QR non valide",b)}},()=>{}).catch(x=>console.error("Impossible de démarrer le scanner :",x)),()=>{h.current?.getState().toString()==="SCANNING"&&h.current.stop().then(()=>h.current?.clear()).catch(x=>console.error("Erreur lors de l'arrêt :",x))}},[]),Q.jsxs("div",{className:"camera-container",children:[Q.jsx("div",{id:"reader"}),l&&Q.jsx("div",{className:"equipment-card-container",children:Q.jsx(_g,{equipment:l})})]})}function s4(){return Q.jsx("div",{children:Q.jsx(a4,{})})}var l4=Object.defineProperty,Zu=Object.getOwnPropertySymbols,Ng=Object.prototype.hasOwnProperty,Ig=Object.prototype.propertyIsEnumerable,U2=(h,l,o)=>l in h?l4(h,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):h[l]=o,_0=(h,l)=>{for(var o in l||(l={}))Ng.call(l,o)&&U2(h,o,l[o]);if(Zu)for(var o of Zu(l))Ig.call(l,o)&&U2(h,o,l[o]);return h},S0=(h,l)=>{var o={};for(var d in h)Ng.call(h,d)&&l.indexOf(d)<0&&(o[d]=h[d]);if(h!=null&&Zu)for(var d of Zu(h))l.indexOf(d)<0&&Ig.call(h,d)&&(o[d]=h[d]);return o};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Wa;(h=>{const l=class it{constructor(A,y,C,O){if(this.version=A,this.errorCorrectionLevel=y,this.modules=[],this.isFunction=[],A<it.MIN_VERSION||A>it.MAX_VERSION)throw new RangeError("Version value out of range");if(O<-1||O>7)throw new RangeError("Mask value out of range");this.size=A*4+17;let B=[];for(let z=0;z<this.size;z++)B.push(!1);for(let z=0;z<this.size;z++)this.modules.push(B.slice()),this.isFunction.push(B.slice());this.drawFunctionPatterns();const P=this.addEccAndInterleave(C);if(this.drawCodewords(P),O==-1){let z=1e9;for(let X=0;X<8;X++){this.applyMask(X),this.drawFormatBits(X);const Y=this.getPenaltyScore();Y<z&&(O=X,z=Y),this.applyMask(X)}}m(0<=O&&O<=7),this.mask=O,this.applyMask(O),this.drawFormatBits(O),this.isFunction=[]}static encodeText(A,y){const C=h.QrSegment.makeSegments(A);return it.encodeSegments(C,y)}static encodeBinary(A,y){const C=h.QrSegment.makeBytes(A);return it.encodeSegments([C],y)}static encodeSegments(A,y,C=1,O=40,B=-1,P=!0){if(!(it.MIN_VERSION<=C&&C<=O&&O<=it.MAX_VERSION)||B<-1||B>7)throw new RangeError("Invalid value");let z,X;for(z=C;;z++){const G=it.getNumDataCodewords(z,y)*8,le=b.getTotalBits(A,z);if(le<=G){X=le;break}if(z>=O)throw new RangeError("Data too long")}for(const G of[it.Ecc.MEDIUM,it.Ecc.QUARTILE,it.Ecc.HIGH])P&&X<=it.getNumDataCodewords(z,G)*8&&(y=G);let Y=[];for(const G of A){o(G.mode.modeBits,4,Y),o(G.numChars,G.mode.numCharCountBits(z),Y);for(const le of G.getData())Y.push(le)}m(Y.length==X);const se=it.getNumDataCodewords(z,y)*8;m(Y.length<=se),o(0,Math.min(4,se-Y.length),Y),o(0,(8-Y.length%8)%8,Y),m(Y.length%8==0);for(let G=236;Y.length<se;G^=253)o(G,8,Y);let xe=[];for(;xe.length*8<Y.length;)xe.push(0);return Y.forEach((G,le)=>xe[le>>>3]|=G<<7-(le&7)),new it(z,y,xe,B)}getModule(A,y){return 0<=A&&A<this.size&&0<=y&&y<this.size&&this.modules[y][A]}getModules(){return this.modules}drawFunctionPatterns(){for(let C=0;C<this.size;C++)this.setFunctionModule(6,C,C%2==0),this.setFunctionModule(C,6,C%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const A=this.getAlignmentPatternPositions(),y=A.length;for(let C=0;C<y;C++)for(let O=0;O<y;O++)C==0&&O==0||C==0&&O==y-1||C==y-1&&O==0||this.drawAlignmentPattern(A[C],A[O]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(A){const y=this.errorCorrectionLevel.formatBits<<3|A;let C=y;for(let B=0;B<10;B++)C=C<<1^(C>>>9)*1335;const O=(y<<10|C)^21522;m(O>>>15==0);for(let B=0;B<=5;B++)this.setFunctionModule(8,B,d(O,B));this.setFunctionModule(8,7,d(O,6)),this.setFunctionModule(8,8,d(O,7)),this.setFunctionModule(7,8,d(O,8));for(let B=9;B<15;B++)this.setFunctionModule(14-B,8,d(O,B));for(let B=0;B<8;B++)this.setFunctionModule(this.size-1-B,8,d(O,B));for(let B=8;B<15;B++)this.setFunctionModule(8,this.size-15+B,d(O,B));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let A=this.version;for(let C=0;C<12;C++)A=A<<1^(A>>>11)*7973;const y=this.version<<12|A;m(y>>>18==0);for(let C=0;C<18;C++){const O=d(y,C),B=this.size-11+C%3,P=Math.floor(C/3);this.setFunctionModule(B,P,O),this.setFunctionModule(P,B,O)}}drawFinderPattern(A,y){for(let C=-4;C<=4;C++)for(let O=-4;O<=4;O++){const B=Math.max(Math.abs(O),Math.abs(C)),P=A+O,z=y+C;0<=P&&P<this.size&&0<=z&&z<this.size&&this.setFunctionModule(P,z,B!=2&&B!=4)}}drawAlignmentPattern(A,y){for(let C=-2;C<=2;C++)for(let O=-2;O<=2;O++)this.setFunctionModule(A+O,y+C,Math.max(Math.abs(O),Math.abs(C))!=1)}setFunctionModule(A,y,C){this.modules[y][A]=C,this.isFunction[y][A]=!0}addEccAndInterleave(A){const y=this.version,C=this.errorCorrectionLevel;if(A.length!=it.getNumDataCodewords(y,C))throw new RangeError("Invalid argument");const O=it.NUM_ERROR_CORRECTION_BLOCKS[C.ordinal][y],B=it.ECC_CODEWORDS_PER_BLOCK[C.ordinal][y],P=Math.floor(it.getNumRawDataModules(y)/8),z=O-P%O,X=Math.floor(P/O);let Y=[];const se=it.reedSolomonComputeDivisor(B);for(let G=0,le=0;G<O;G++){let we=A.slice(le,le+X-B+(G<z?0:1));le+=we.length;const Ce=it.reedSolomonComputeRemainder(we,se);G<z&&we.push(0),Y.push(we.concat(Ce))}let xe=[];for(let G=0;G<Y[0].length;G++)Y.forEach((le,we)=>{(G!=X-B||we>=z)&&xe.push(le[G])});return m(xe.length==P),xe}drawCodewords(A){if(A.length!=Math.floor(it.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let y=0;for(let C=this.size-1;C>=1;C-=2){C==6&&(C=5);for(let O=0;O<this.size;O++)for(let B=0;B<2;B++){const P=C-B,X=(C+1&2)==0?this.size-1-O:O;!this.isFunction[X][P]&&y<A.length*8&&(this.modules[X][P]=d(A[y>>>3],7-(y&7)),y++)}}m(y==A.length*8)}applyMask(A){if(A<0||A>7)throw new RangeError("Mask value out of range");for(let y=0;y<this.size;y++)for(let C=0;C<this.size;C++){let O;switch(A){case 0:O=(C+y)%2==0;break;case 1:O=y%2==0;break;case 2:O=C%3==0;break;case 3:O=(C+y)%3==0;break;case 4:O=(Math.floor(C/3)+Math.floor(y/2))%2==0;break;case 5:O=C*y%2+C*y%3==0;break;case 6:O=(C*y%2+C*y%3)%2==0;break;case 7:O=((C+y)%2+C*y%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[y][C]&&O&&(this.modules[y][C]=!this.modules[y][C])}}getPenaltyScore(){let A=0;for(let B=0;B<this.size;B++){let P=!1,z=0,X=[0,0,0,0,0,0,0];for(let Y=0;Y<this.size;Y++)this.modules[B][Y]==P?(z++,z==5?A+=it.PENALTY_N1:z>5&&A++):(this.finderPenaltyAddHistory(z,X),P||(A+=this.finderPenaltyCountPatterns(X)*it.PENALTY_N3),P=this.modules[B][Y],z=1);A+=this.finderPenaltyTerminateAndCount(P,z,X)*it.PENALTY_N3}for(let B=0;B<this.size;B++){let P=!1,z=0,X=[0,0,0,0,0,0,0];for(let Y=0;Y<this.size;Y++)this.modules[Y][B]==P?(z++,z==5?A+=it.PENALTY_N1:z>5&&A++):(this.finderPenaltyAddHistory(z,X),P||(A+=this.finderPenaltyCountPatterns(X)*it.PENALTY_N3),P=this.modules[Y][B],z=1);A+=this.finderPenaltyTerminateAndCount(P,z,X)*it.PENALTY_N3}for(let B=0;B<this.size-1;B++)for(let P=0;P<this.size-1;P++){const z=this.modules[B][P];z==this.modules[B][P+1]&&z==this.modules[B+1][P]&&z==this.modules[B+1][P+1]&&(A+=it.PENALTY_N2)}let y=0;for(const B of this.modules)y=B.reduce((P,z)=>P+(z?1:0),y);const C=this.size*this.size,O=Math.ceil(Math.abs(y*20-C*10)/C)-1;return m(0<=O&&O<=9),A+=O*it.PENALTY_N4,m(0<=A&&A<=2568888),A}getAlignmentPatternPositions(){if(this.version==1)return[];{const A=Math.floor(this.version/7)+2,y=this.version==32?26:Math.ceil((this.version*4+4)/(A*2-2))*2;let C=[6];for(let O=this.size-7;C.length<A;O-=y)C.splice(1,0,O);return C}}static getNumRawDataModules(A){if(A<it.MIN_VERSION||A>it.MAX_VERSION)throw new RangeError("Version number out of range");let y=(16*A+128)*A+64;if(A>=2){const C=Math.floor(A/7)+2;y-=(25*C-10)*C-55,A>=7&&(y-=36)}return m(208<=y&&y<=29648),y}static getNumDataCodewords(A,y){return Math.floor(it.getNumRawDataModules(A)/8)-it.ECC_CODEWORDS_PER_BLOCK[y.ordinal][A]*it.NUM_ERROR_CORRECTION_BLOCKS[y.ordinal][A]}static reedSolomonComputeDivisor(A){if(A<1||A>255)throw new RangeError("Degree out of range");let y=[];for(let O=0;O<A-1;O++)y.push(0);y.push(1);let C=1;for(let O=0;O<A;O++){for(let B=0;B<y.length;B++)y[B]=it.reedSolomonMultiply(y[B],C),B+1<y.length&&(y[B]^=y[B+1]);C=it.reedSolomonMultiply(C,2)}return y}static reedSolomonComputeRemainder(A,y){let C=y.map(O=>0);for(const O of A){const B=O^C.shift();C.push(0),y.forEach((P,z)=>C[z]^=it.reedSolomonMultiply(P,B))}return C}static reedSolomonMultiply(A,y){if(A>>>8||y>>>8)throw new RangeError("Byte out of range");let C=0;for(let O=7;O>=0;O--)C=C<<1^(C>>>7)*285,C^=(y>>>O&1)*A;return m(C>>>8==0),C}finderPenaltyCountPatterns(A){const y=A[1];m(y<=this.size*3);const C=y>0&&A[2]==y&&A[3]==y*3&&A[4]==y&&A[5]==y;return(C&&A[0]>=y*4&&A[6]>=y?1:0)+(C&&A[6]>=y*4&&A[0]>=y?1:0)}finderPenaltyTerminateAndCount(A,y,C){return A&&(this.finderPenaltyAddHistory(y,C),y=0),y+=this.size,this.finderPenaltyAddHistory(y,C),this.finderPenaltyCountPatterns(C)}finderPenaltyAddHistory(A,y){y[0]==0&&(A+=this.size),y.pop(),y.unshift(A)}};l.MIN_VERSION=1,l.MAX_VERSION=40,l.PENALTY_N1=3,l.PENALTY_N2=3,l.PENALTY_N3=40,l.PENALTY_N4=10,l.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],l.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],h.QrCode=l;function o(_,A,y){if(A<0||A>31||_>>>A)throw new RangeError("Value out of range");for(let C=A-1;C>=0;C--)y.push(_>>>C&1)}function d(_,A){return(_>>>A&1)!=0}function m(_){if(!_)throw new Error("Assertion error")}const x=class en{constructor(A,y,C){if(this.mode=A,this.numChars=y,this.bitData=C,y<0)throw new RangeError("Invalid argument");this.bitData=C.slice()}static makeBytes(A){let y=[];for(const C of A)o(C,8,y);return new en(en.Mode.BYTE,A.length,y)}static makeNumeric(A){if(!en.isNumeric(A))throw new RangeError("String contains non-numeric characters");let y=[];for(let C=0;C<A.length;){const O=Math.min(A.length-C,3);o(parseInt(A.substring(C,C+O),10),O*3+1,y),C+=O}return new en(en.Mode.NUMERIC,A.length,y)}static makeAlphanumeric(A){if(!en.isAlphanumeric(A))throw new RangeError("String contains unencodable characters in alphanumeric mode");let y=[],C;for(C=0;C+2<=A.length;C+=2){let O=en.ALPHANUMERIC_CHARSET.indexOf(A.charAt(C))*45;O+=en.ALPHANUMERIC_CHARSET.indexOf(A.charAt(C+1)),o(O,11,y)}return C<A.length&&o(en.ALPHANUMERIC_CHARSET.indexOf(A.charAt(C)),6,y),new en(en.Mode.ALPHANUMERIC,A.length,y)}static makeSegments(A){return A==""?[]:en.isNumeric(A)?[en.makeNumeric(A)]:en.isAlphanumeric(A)?[en.makeAlphanumeric(A)]:[en.makeBytes(en.toUtf8ByteArray(A))]}static makeEci(A){let y=[];if(A<0)throw new RangeError("ECI assignment value out of range");if(A<128)o(A,8,y);else if(A<16384)o(2,2,y),o(A,14,y);else if(A<1e6)o(6,3,y),o(A,21,y);else throw new RangeError("ECI assignment value out of range");return new en(en.Mode.ECI,0,y)}static isNumeric(A){return en.NUMERIC_REGEX.test(A)}static isAlphanumeric(A){return en.ALPHANUMERIC_REGEX.test(A)}getData(){return this.bitData.slice()}static getTotalBits(A,y){let C=0;for(const O of A){const B=O.mode.numCharCountBits(y);if(O.numChars>=1<<B)return 1/0;C+=4+B+O.bitData.length}return C}static toUtf8ByteArray(A){A=encodeURI(A);let y=[];for(let C=0;C<A.length;C++)A.charAt(C)!="%"?y.push(A.charCodeAt(C)):(y.push(parseInt(A.substring(C+1,C+3),16)),C+=2);return y}};x.NUMERIC_REGEX=/^[0-9]*$/,x.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,x.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let b=x;h.QrSegment=x})(Wa||(Wa={}));(h=>{(l=>{const o=class{constructor(m,x){this.ordinal=m,this.formatBits=x}};o.LOW=new o(0,1),o.MEDIUM=new o(1,0),o.QUARTILE=new o(2,3),o.HIGH=new o(3,2),l.Ecc=o})(h.QrCode||(h.QrCode={}))})(Wa||(Wa={}));(h=>{(l=>{const o=class{constructor(m,x){this.modeBits=m,this.numBitsCharCount=x}numCharCountBits(m){return this.numBitsCharCount[Math.floor((m+7)/17)]}};o.NUMERIC=new o(1,[10,12,14]),o.ALPHANUMERIC=new o(2,[9,11,13]),o.BYTE=new o(4,[8,16,16]),o.KANJI=new o(8,[8,10,12]),o.ECI=new o(7,[0,0,0]),l.Mode=o})(h.QrSegment||(h.QrSegment={}))})(Wa||(Wa={}));var Qs=Wa;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var o4={L:Qs.QrCode.Ecc.LOW,M:Qs.QrCode.Ecc.MEDIUM,Q:Qs.QrCode.Ecc.QUARTILE,H:Qs.QrCode.Ecc.HIGH},Dg=128,Mg="L",Bg="#FFFFFF",Lg="#000000",kg=!1,Pg=1,u4=4,c4=0,f4=.1;function Ug(h,l=0){const o=[];return h.forEach(function(d,m){let x=null;d.forEach(function(b,_){if(!b&&x!==null){o.push(`M${x+l} ${m+l}h${_-x}v1H${x+l}z`),x=null;return}if(_===d.length-1){if(!b)return;x===null?o.push(`M${_+l},${m+l} h1v1H${_+l}z`):o.push(`M${x+l},${m+l} h${_+1-x}v1H${x+l}z`);return}b&&x===null&&(x=_)})}),o.join("")}function Fg(h,l){return h.slice().map((o,d)=>d<l.y||d>=l.y+l.h?o:o.map((m,x)=>x<l.x||x>=l.x+l.w?m:!1))}function h4(h,l,o,d){if(d==null)return null;const m=h.length+o*2,x=Math.floor(l*f4),b=m/l,_=(d.width||x)*b,A=(d.height||x)*b,y=d.x==null?h.length/2-_/2:d.x*b,C=d.y==null?h.length/2-A/2:d.y*b,O=d.opacity==null?1:d.opacity;let B=null;if(d.excavate){let z=Math.floor(y),X=Math.floor(C),Y=Math.ceil(_+y-z),se=Math.ceil(A+C-X);B={x:z,y:X,w:Y,h:se}}const P=d.crossOrigin;return{x:y,y:C,h:A,w:_,excavation:B,opacity:O,crossOrigin:P}}function d4(h,l){return l!=null?Math.max(Math.floor(l),0):h?u4:c4}function jg({value:h,level:l,minVersion:o,includeMargin:d,marginSize:m,imageSettings:x,size:b,boostLevel:_}){let A=Pt.useMemo(()=>{const z=(Array.isArray(h)?h:[h]).reduce((X,Y)=>(X.push(...Qs.QrSegment.makeSegments(Y)),X),[]);return Qs.QrCode.encodeSegments(z,o4[l],o,void 0,void 0,_)},[h,l,o,_]);const{cells:y,margin:C,numCells:O,calculatedImageSettings:B}=Pt.useMemo(()=>{let P=A.getModules();const z=d4(d,m),X=P.length+z*2,Y=h4(P,b,z,x);return{cells:P,margin:z,numCells:X,calculatedImageSettings:Y}},[A,b,x,d,m]);return{qrcode:A,margin:C,cells:y,numCells:O,calculatedImageSettings:B}}var g4=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),m4=Pt.forwardRef(function(l,o){const d=l,{value:m,size:x=Dg,level:b=Mg,bgColor:_=Bg,fgColor:A=Lg,includeMargin:y=kg,minVersion:C=Pg,boostLevel:O,marginSize:B,imageSettings:P}=d,X=S0(d,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:Y}=X,se=S0(X,["style"]),xe=P?.src,G=Pt.useRef(null),le=Pt.useRef(null),we=Pt.useCallback(ft=>{G.current=ft,typeof o=="function"?o(ft):o&&(o.current=ft)},[o]),[Ce,ae]=Pt.useState(!1),{margin:Le,cells:ce,numCells:Ut,calculatedImageSettings:Ve}=jg({value:m,level:b,minVersion:C,boostLevel:O,includeMargin:y,marginSize:B,imageSettings:P,size:x});Pt.useEffect(()=>{if(G.current!=null){const ft=G.current,ee=ft.getContext("2d");if(!ee)return;let re=ce;const ue=le.current,De=Ve!=null&&ue!==null&&ue.complete&&ue.naturalHeight!==0&&ue.naturalWidth!==0;De&&Ve.excavation!=null&&(re=Fg(ce,Ve.excavation));const Ke=window.devicePixelRatio||1;ft.height=ft.width=x*Ke;const F=x/Ut*Ke;ee.scale(F,F),ee.fillStyle=_,ee.fillRect(0,0,Ut,Ut),ee.fillStyle=A,g4?ee.fill(new Path2D(Ug(re,Le))):ce.forEach(function(ge,ve){ge.forEach(function(Ae,Se){Ae&&ee.fillRect(Se+Le,ve+Le,1,1)})}),Ve&&(ee.globalAlpha=Ve.opacity),De&&ee.drawImage(ue,Ve.x+Le,Ve.y+Le,Ve.w,Ve.h)}}),Pt.useEffect(()=>{ae(!1)},[xe]);const Re=_0({height:x,width:x},Y);let Ze=null;return xe!=null&&(Ze=Pt.createElement("img",{src:xe,key:xe,style:{display:"none"},onLoad:()=>{ae(!0)},ref:le,crossOrigin:Ve?.crossOrigin})),Pt.createElement(Pt.Fragment,null,Pt.createElement("canvas",_0({style:Re,height:x,width:x,ref:we,role:"img"},se)),Ze)});m4.displayName="QRCodeCanvas";var zg=Pt.forwardRef(function(l,o){const d=l,{value:m,size:x=Dg,level:b=Mg,bgColor:_=Bg,fgColor:A=Lg,includeMargin:y=kg,minVersion:C=Pg,boostLevel:O,title:B,marginSize:P,imageSettings:z}=d,X=S0(d,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:Y,cells:se,numCells:xe,calculatedImageSettings:G}=jg({value:m,level:b,minVersion:C,boostLevel:O,includeMargin:y,marginSize:P,imageSettings:z,size:x});let le=se,we=null;z!=null&&G!=null&&(G.excavation!=null&&(le=Fg(se,G.excavation)),we=Pt.createElement("image",{href:z.src,height:G.h,width:G.w,x:G.x+Y,y:G.y+Y,preserveAspectRatio:"none",opacity:G.opacity,crossOrigin:G.crossOrigin}));const Ce=Ug(le,Y);return Pt.createElement("svg",_0({height:x,width:x,viewBox:`0 0 ${xe} ${xe}`,ref:o,role:"img"},X),!!B&&Pt.createElement("title",null,B),Pt.createElement("path",{fill:_,d:`M0,0 h${xe}v${xe}H0z`,shapeRendering:"crispEdges"}),Pt.createElement("path",{fill:A,d:Ce,shapeRendering:"crispEdges"}),we)});zg.displayName="QRCodeSVG";const x4=({equipment:h})=>{const l=JSON.stringify({id:h.id,name:h.name});return Q.jsxs("div",{style:{textAlign:"center",margin:"1rem"},children:[Q.jsx(zg,{value:l,size:128}),Q.jsx("p",{children:h.name})]})};function p4(){const{user:h,signOut:l}=Eo(),{cart:o}=rl();return Q.jsxs("div",{className:"profile-container",children:[Q.jsx($u,{title:"Profil"}),Q.jsx("div",{className:"profile-card",children:h&&Q.jsxs(Q.Fragment,{children:[Q.jsx("p",{className:"profile-email",children:h.email}),Q.jsx("button",{className:"logout-btn",onClick:l,children:"Se déconnecter"})]})}),o.length>0&&Q.jsx(x4,{equipment:o[0]})]})}function w4(){return Q.jsxs("nav",{className:"navbar",children:[Q.jsx(Js,{to:"/ShelfTracker",className:({isActive:h})=>h?"nav-item active":"nav-item",end:!0,children:Q.jsx(py,{size:24})}),Q.jsx(Js,{to:"/ShelfTracker/scan",className:({isActive:h})=>h?"nav-item active":"nav-item",children:Q.jsx(Ey,{size:24})}),Q.jsx(Js,{to:"/ShelfTracker/profile",className:({isActive:h})=>h?"nav-item active":"nav-item",children:Q.jsx(wy,{size:24})})]})}function lo({children:h}){return Q.jsxs("div",{className:"protected-layout",children:[Q.jsx("div",{className:"content",children:h}),Q.jsx(w4,{})]})}const y4=()=>{const[h,l]=J.useState([]),[o,d]=J.useState(!0),[m,x]=J.useState(null),[b,_]=J.useState(""),{cart:A}=rl();return J.useEffect(()=>{try{l(A)}catch(y){x(y instanceof Error?y.message:"Erreur inconnue")}finally{d(!1)}},[A]),Q.jsx(Sg,{equipments:h,error:m,search:b,setSearch:_,loading:o})},E4=({onClick:h})=>Q.jsx("div",{className:"fab-checkout",onClick:h,children:Q.jsx(Cg,{})});function v4(){const{cart:h}=rl(),l=ma(),o=()=>{l("/ShelfTracker/checkout")};return Q.jsxs("div",{children:[Q.jsx($u,{title:"Panier"}),Q.jsx(y4,{}),h.length>0&&Q.jsx(E4,{onClick:o})]})}const Hg="bookings",b4=async()=>{const{data:h,error:l}=await nr.from(Hg).select("*").order("start_time",{ascending:!0});if(l)throw l;return h??[]},A4=async h=>{const{data:l,error:o}=await nr.from(Hg).insert(h).single();if(o)throw o;return l},C4="profiles",_4=async()=>{const{data:h,error:l}=await nr.from(C4).select("*").order("name",{ascending:!0});if(l)throw l;return h??[]};function S4(){const[h,l]=J.useState(""),[o,d]=J.useState(""),[m,x]=J.useState(!1),[b,_]=J.useState([]),[A,y]=J.useState(!1),[C,O]=J.useState([]),[B,P]=J.useState(""),z=ma(),{cart:X,clearCart:Y}=rl();J.useEffect(()=>{(async()=>{try{const we=await _4();O(we),we.length>0&&P(we[0].id)}catch(we){console.error("Erreur chargement profils",we)}})()},[]);const se=async()=>{if(!h||!o){alert("Veuillez sélectionner une date de début et de fin.");return}if(!B||B.toString()===""){alert("Veuillez sélectionner un profil.");return}const le=new Date,we=new Date(h),Ce=new Date(o);if(we<le){alert("La date de début ne peut pas être dans le passé.");return}if(Ce<le){alert("La date de fin ne peut pas être dans le passé.");return}if(we>=Ce){alert("La date de début doit être avant la date de fin.");return}x(!0),_([]),y(!1);try{const ae=[],Le=await b4();for(const ce of X)Le.filter(Ve=>Ve.equipment_id===ce.id&&new Date(Ve.start_time)<=Ce&&new Date(Ve.end_time)>=we).length>0&&ae.push(ce);if(ae.length>0){_(ae);return}for(const ce of X)await A4({equipment_id:ce.id,booker_id:C[Number(B)-1].id,rent:!0,start_time:we.toISOString(),end_time:Ce.toISOString()});Y(),y(!0)}catch(ae){console.error(ae),alert("Une erreur est survenue lors de la réservation.")}finally{x(!1)}},xe=new Date().toISOString().slice(0,16),G=le=>{const we=le.target.value;we==="create"?z("/create-profile"):P(Number(we))};return Q.jsxs("div",{children:[Q.jsx($u,{title:"Réservation"}),Q.jsxs("div",{className:"checkout-container",children:[Q.jsx("div",{className:"profile-selector",children:Q.jsxs("label",{children:["Profil",Q.jsxs("select",{value:B,onChange:G,children:[C.map(le=>Q.jsx("option",{value:le.id,children:le.name},le.id)),Q.jsx("option",{value:"create",children:"+ Ajouter un profil"})]})]})}),Q.jsxs("div",{className:"date-selectors",children:[Q.jsxs("label",{children:["Début",Q.jsx("input",{type:"datetime-local",value:h,min:xe,onChange:le=>l(le.target.value)})]}),Q.jsxs("label",{children:["Fin",Q.jsx("input",{type:"datetime-local",value:o,min:h||xe,onChange:le=>d(le.target.value)})]})]}),Q.jsx("button",{className:"btn",onClick:se,disabled:m,children:m?"Réservation...":"Réserver"}),b.length>0&&Q.jsxs("div",{className:"error-box",children:[Q.jsx(ry,{size:24,color:"red"}),Q.jsx("p",{children:"Impossible de réserver les équipements suivants :"}),Q.jsx("ul",{children:b.map(le=>Q.jsx("li",{children:le.name},le.id))})]}),A&&Q.jsx("div",{className:"success-box",children:Q.jsxs("div",{className:"success-box-text",children:[Q.jsx(Cg,{size:24,color:"black"}),Q.jsx("p",{children:"Réservation confirmée"}),Q.jsx("button",{className:"back-home-button",onClick:()=>z("/ShelfTracker"),children:"Retour à l'accueil"})]})})]})]})}function T4(){return Q.jsx(Vw,{children:Q.jsx(Zw,{children:Q.jsx(R3,{children:Q.jsxs(s3,{children:[Q.jsx(fa,{path:"/ShelfTracker/login",element:Q.jsx(qw,{})}),Q.jsx(fa,{path:"/ShelfTracker/signup",element:Q.jsx(Iy,{})}),Q.jsx(fa,{path:"/ShelfTracker",element:Q.jsx(so,{children:Q.jsx(lo,{children:Q.jsx(Ry,{})})})}),Q.jsx(fa,{path:"/ShelfTracker/scan",element:Q.jsx(so,{children:Q.jsx(lo,{children:Q.jsx(s4,{})})})}),Q.jsx(fa,{path:"/ShelfTracker/profile",element:Q.jsx(so,{children:Q.jsx(lo,{children:Q.jsx(p4,{})})})}),Q.jsx(fa,{path:"/ShelfTracker/cart",element:Q.jsx(so,{children:Q.jsx(lo,{children:Q.jsx(v4,{})})})}),Q.jsx(fa,{path:"/ShelfTracker/checkout",element:Q.jsx(so,{children:Q.jsx(lo,{children:Q.jsx(S4,{})})})})]})})})})}mx.createRoot(document.getElementById("root")).render(Q.jsx(T4,{}));
