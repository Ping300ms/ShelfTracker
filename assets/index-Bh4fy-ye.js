function BC(n,e){for(var t=0;t<e.length;t++){const a=e[t];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in n)){const c=Object.getOwnPropertyDescriptor(a,l);c&&Object.defineProperty(n,l,c.get?c:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const g of c.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function t(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=t(l);fetch(l.href,c)}})();var ss=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cr(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function LC(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function a(){var l=!1;try{l=this instanceof a}catch{}return l?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(a){var l=Object.getOwnPropertyDescriptor(n,a);Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:function(){return n[a]}})}),t}var z0={exports:{}},Su={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx;function PC(){if(fx)return Su;fx=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,l,c){var g=null;if(c!==void 0&&(g=""+c),l.key!==void 0&&(g=""+l.key),"key"in l){c={};for(var w in l)w!=="key"&&(c[w]=l[w])}else c=l;return l=c.ref,{$$typeof:n,type:a,key:g,ref:l!==void 0?l:null,props:c}}return Su.Fragment=e,Su.jsx=t,Su.jsxs=t,Su}var hx;function UC(){return hx||(hx=1,z0.exports=PC()),z0.exports}var V=UC(),H0={exports:{}},Cu={},G0={exports:{}},V0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dx;function jC(){return dx||(dx=1,function(n){function e(re,fe){var Ie=re.length;re.push(fe);e:for(;0<Ie;){var je=Ie-1>>>1,K=re[je];if(0<l(K,fe))re[je]=fe,re[Ie]=K,Ie=je;else break e}}function t(re){return re.length===0?null:re[0]}function a(re){if(re.length===0)return null;var fe=re[0],Ie=re.pop();if(Ie!==fe){re[0]=Ie;e:for(var je=0,K=re.length,ye=K>>>1;je<ye;){var Se=2*(je+1)-1,Oe=re[Se],ke=Se+1,$e=re[ke];if(0>l(Oe,Ie))ke<K&&0>l($e,Oe)?(re[je]=$e,re[ke]=Ie,je=ke):(re[je]=Oe,re[Se]=Ie,je=Se);else if(ke<K&&0>l($e,Ie))re[je]=$e,re[ke]=Ie,je=ke;else break e}}return fe}function l(re,fe){var Ie=re.sortIndex-fe.sortIndex;return Ie!==0?Ie:re.id-fe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var g=Date,w=g.now();n.unstable_now=function(){return g.now()-w}}var v=[],y=[],E=1,A=null,T=3,R=!1,M=!1,D=!1,B=!1,j=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function F(re){for(var fe=t(y);fe!==null;){if(fe.callback===null)a(y);else if(fe.startTime<=re)a(y),fe.sortIndex=fe.expirationTime,e(v,fe);else break;fe=t(y)}}function X(re){if(D=!1,F(re),!M)if(t(v)!==null)M=!0,$||($=!0,pe());else{var fe=t(y);fe!==null&&ne(X,fe.startTime-re)}}var $=!1,G=-1,le=5,W=-1;function xe(){return B?!0:!(n.unstable_now()-W<le)}function ce(){if(B=!1,$){var re=n.unstable_now();W=re;var fe=!0;try{e:{M=!1,D&&(D=!1,q(G),G=-1),R=!0;var Ie=T;try{t:{for(F(re),A=t(v);A!==null&&!(A.expirationTime>re&&xe());){var je=A.callback;if(typeof je=="function"){A.callback=null,T=A.priorityLevel;var K=je(A.expirationTime<=re);if(re=n.unstable_now(),typeof K=="function"){A.callback=K,F(re),fe=!0;break t}A===t(v)&&a(v),F(re)}else a(v);A=t(v)}if(A!==null)fe=!0;else{var ye=t(y);ye!==null&&ne(X,ye.startTime-re),fe=!1}}break e}finally{A=null,T=Ie,R=!1}fe=void 0}}finally{fe?pe():$=!1}}}var pe;if(typeof P=="function")pe=function(){P(ce)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Ne=ve.port2;ve.port1.onmessage=ce,pe=function(){Ne.postMessage(null)}}else pe=function(){j(ce,0)};function ne(re,fe){G=j(function(){re(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(re){switch(T){case 1:case 2:case 3:var fe=3;break;default:fe=T}var Ie=T;T=fe;try{return re()}finally{T=Ie}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(re,fe){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var Ie=T;T=re;try{return fe()}finally{T=Ie}},n.unstable_scheduleCallback=function(re,fe,Ie){var je=n.unstable_now();switch(typeof Ie=="object"&&Ie!==null?(Ie=Ie.delay,Ie=typeof Ie=="number"&&0<Ie?je+Ie:je):Ie=je,re){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=Ie+K,re={id:E++,callback:fe,priorityLevel:re,startTime:Ie,expirationTime:K,sortIndex:-1},Ie>je?(re.sortIndex=Ie,e(y,re),t(v)===null&&re===t(y)&&(D?(q(G),G=-1):D=!0,ne(X,Ie-je))):(re.sortIndex=K,e(v,re),M||R||(M=!0,$||($=!0,pe()))),re},n.unstable_shouldYield=xe,n.unstable_wrapCallback=function(re){var fe=T;return function(){var Ie=T;T=fe;try{return re.apply(this,arguments)}finally{T=Ie}}}}(V0)),V0}var gx;function FC(){return gx||(gx=1,G0.exports=jC()),G0.exports}var W0={exports:{}},it={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mx;function qC(){if(mx)return it;mx=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),g=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function T(K){return K===null||typeof K!="object"?null:(K=A&&K[A]||K["@@iterator"],typeof K=="function"?K:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,D={};function B(K,ye,Se){this.props=K,this.context=ye,this.refs=D,this.updater=Se||R}B.prototype.isReactComponent={},B.prototype.setState=function(K,ye){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,ye,"setState")},B.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function j(){}j.prototype=B.prototype;function q(K,ye,Se){this.props=K,this.context=ye,this.refs=D,this.updater=Se||R}var P=q.prototype=new j;P.constructor=q,M(P,B.prototype),P.isPureReactComponent=!0;var F=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function G(K,ye,Se,Oe,ke,$e){return Se=$e.ref,{$$typeof:n,type:K,key:ye,ref:Se!==void 0?Se:null,props:$e}}function le(K,ye){return G(K.type,ye,void 0,void 0,void 0,K.props)}function W(K){return typeof K=="object"&&K!==null&&K.$$typeof===n}function xe(K){var ye={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(Se){return ye[Se]})}var ce=/\/+/g;function pe(K,ye){return typeof K=="object"&&K!==null&&K.key!=null?xe(""+K.key):ye.toString(36)}function ve(){}function Ne(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(ve,ve):(K.status="pending",K.then(function(ye){K.status==="pending"&&(K.status="fulfilled",K.value=ye)},function(ye){K.status==="pending"&&(K.status="rejected",K.reason=ye)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function ne(K,ye,Se,Oe,ke){var $e=typeof K;($e==="undefined"||$e==="boolean")&&(K=null);var Ae=!1;if(K===null)Ae=!0;else switch($e){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(K.$$typeof){case n:case e:Ae=!0;break;case E:return Ae=K._init,ne(Ae(K._payload),ye,Se,Oe,ke)}}if(Ae)return ke=ke(K),Ae=Oe===""?"."+pe(K,0):Oe,F(ke)?(Se="",Ae!=null&&(Se=Ae.replace(ce,"$&/")+"/"),ne(ke,ye,Se,"",function(En){return En})):ke!=null&&(W(ke)&&(ke=le(ke,Se+(ke.key==null||K&&K.key===ke.key?"":(""+ke.key).replace(ce,"$&/")+"/")+Ae)),ye.push(ke)),1;Ae=0;var $t=Oe===""?".":Oe+":";if(F(K))for(var Ve=0;Ve<K.length;Ve++)Oe=K[Ve],$e=$t+pe(Oe,Ve),Ae+=ne(Oe,ye,Se,$e,ke);else if(Ve=T(K),typeof Ve=="function")for(K=Ve.call(K),Ve=0;!(Oe=K.next()).done;)Oe=Oe.value,$e=$t+pe(Oe,Ve++),Ae+=ne(Oe,ye,Se,$e,ke);else if($e==="object"){if(typeof K.then=="function")return ne(Ne(K),ye,Se,Oe,ke);throw ye=String(K),Error("Objects are not valid as a React child (found: "+(ye==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":ye)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function re(K,ye,Se){if(K==null)return K;var Oe=[],ke=0;return ne(K,Oe,"","",function($e){return ye.call(Se,$e,ke++)}),Oe}function fe(K){if(K._status===-1){var ye=K._result;ye=ye(),ye.then(function(Se){(K._status===0||K._status===-1)&&(K._status=1,K._result=Se)},function(Se){(K._status===0||K._status===-1)&&(K._status=2,K._result=Se)}),K._status===-1&&(K._status=0,K._result=ye)}if(K._status===1)return K._result.default;throw K._result}var Ie=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ye=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(ye))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)};function je(){}return it.Children={map:re,forEach:function(K,ye,Se){re(K,function(){ye.apply(this,arguments)},Se)},count:function(K){var ye=0;return re(K,function(){ye++}),ye},toArray:function(K){return re(K,function(ye){return ye})||[]},only:function(K){if(!W(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},it.Component=B,it.Fragment=t,it.Profiler=l,it.PureComponent=q,it.StrictMode=a,it.Suspense=v,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,it.__COMPILER_RUNTIME={__proto__:null,c:function(K){return X.H.useMemoCache(K)}},it.cache=function(K){return function(){return K.apply(null,arguments)}},it.cloneElement=function(K,ye,Se){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var Oe=M({},K.props),ke=K.key,$e=void 0;if(ye!=null)for(Ae in ye.ref!==void 0&&($e=void 0),ye.key!==void 0&&(ke=""+ye.key),ye)!$.call(ye,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ye.ref===void 0||(Oe[Ae]=ye[Ae]);var Ae=arguments.length-2;if(Ae===1)Oe.children=Se;else if(1<Ae){for(var $t=Array(Ae),Ve=0;Ve<Ae;Ve++)$t[Ve]=arguments[Ve+2];Oe.children=$t}return G(K.type,ke,void 0,void 0,$e,Oe)},it.createContext=function(K){return K={$$typeof:g,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:c,_context:K},K},it.createElement=function(K,ye,Se){var Oe,ke={},$e=null;if(ye!=null)for(Oe in ye.key!==void 0&&($e=""+ye.key),ye)$.call(ye,Oe)&&Oe!=="key"&&Oe!=="__self"&&Oe!=="__source"&&(ke[Oe]=ye[Oe]);var Ae=arguments.length-2;if(Ae===1)ke.children=Se;else if(1<Ae){for(var $t=Array(Ae),Ve=0;Ve<Ae;Ve++)$t[Ve]=arguments[Ve+2];ke.children=$t}if(K&&K.defaultProps)for(Oe in Ae=K.defaultProps,Ae)ke[Oe]===void 0&&(ke[Oe]=Ae[Oe]);return G(K,$e,void 0,void 0,null,ke)},it.createRef=function(){return{current:null}},it.forwardRef=function(K){return{$$typeof:w,render:K}},it.isValidElement=W,it.lazy=function(K){return{$$typeof:E,_payload:{_status:-1,_result:K},_init:fe}},it.memo=function(K,ye){return{$$typeof:y,type:K,compare:ye===void 0?null:ye}},it.startTransition=function(K){var ye=X.T,Se={};X.T=Se;try{var Oe=K(),ke=X.S;ke!==null&&ke(Se,Oe),typeof Oe=="object"&&Oe!==null&&typeof Oe.then=="function"&&Oe.then(je,Ie)}catch($e){Ie($e)}finally{X.T=ye}},it.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},it.use=function(K){return X.H.use(K)},it.useActionState=function(K,ye,Se){return X.H.useActionState(K,ye,Se)},it.useCallback=function(K,ye){return X.H.useCallback(K,ye)},it.useContext=function(K){return X.H.useContext(K)},it.useDebugValue=function(){},it.useDeferredValue=function(K,ye){return X.H.useDeferredValue(K,ye)},it.useEffect=function(K,ye,Se){var Oe=X.H;if(typeof Se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Oe.useEffect(K,ye)},it.useId=function(){return X.H.useId()},it.useImperativeHandle=function(K,ye,Se){return X.H.useImperativeHandle(K,ye,Se)},it.useInsertionEffect=function(K,ye){return X.H.useInsertionEffect(K,ye)},it.useLayoutEffect=function(K,ye){return X.H.useLayoutEffect(K,ye)},it.useMemo=function(K,ye){return X.H.useMemo(K,ye)},it.useOptimistic=function(K,ye){return X.H.useOptimistic(K,ye)},it.useReducer=function(K,ye,Se){return X.H.useReducer(K,ye,Se)},it.useRef=function(K){return X.H.useRef(K)},it.useState=function(K){return X.H.useState(K)},it.useSyncExternalStore=function(K,ye,Se){return X.H.useSyncExternalStore(K,ye,Se)},it.useTransition=function(){return X.H.useTransition()},it.version="19.1.1",it}var px;function g2(){return px||(px=1,W0.exports=qC()),W0.exports}var Y0={exports:{}},sr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vx;function zC(){if(vx)return sr;vx=1;var n=g2();function e(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:v,containerInfo:y,implementation:E}}var g=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function w(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,sr.createPortal=function(v,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(v,y,null,E)},sr.flushSync=function(v){var y=g.T,E=a.p;try{if(g.T=null,a.p=2,v)return v()}finally{g.T=y,a.p=E,a.d.f()}},sr.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},sr.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},sr.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var E=y.as,A=w(E,y.crossOrigin),T=typeof y.integrity=="string"?y.integrity:void 0,R=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:T,fetchPriority:R}):E==="script"&&a.d.X(v,{crossOrigin:A,integrity:T,fetchPriority:R,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},sr.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=w(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},sr.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=w(E,y.crossOrigin);a.d.L(v,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},sr.preloadModule=function(v,y){if(typeof v=="string")if(y){var E=w(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},sr.requestFormReset=function(v){a.d.r(v)},sr.unstable_batchedUpdates=function(v,y){return v(y)},sr.useFormState=function(v,y,E){return g.H.useFormState(v,y,E)},sr.useFormStatus=function(){return g.H.useHostTransitionStatus()},sr.version="19.1.1",sr}var yx;function qA(){if(yx)return Y0.exports;yx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Y0.exports=zC(),Y0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wx;function HC(){if(wx)return Cu;wx=1;var n=FC(),e=g2(),t=qA();function a(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)s+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function c(r){var s=r,f=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(f=s.return),r=s.return;while(r)}return s.tag===3?f:null}function g(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function w(r){if(c(r)!==r)throw Error(a(188))}function v(r){var s=r.alternate;if(!s){if(s=c(r),s===null)throw Error(a(188));return s!==r?null:r}for(var f=r,m=s;;){var b=f.return;if(b===null)break;var S=b.alternate;if(S===null){if(m=b.return,m!==null){f=m;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===f)return w(b),r;if(S===m)return w(b),s;S=S.sibling}throw Error(a(188))}if(f.return!==m.return)f=b,m=S;else{for(var N=!1,U=b.child;U;){if(U===f){N=!0,f=b,m=S;break}if(U===m){N=!0,m=b,f=S;break}U=U.sibling}if(!N){for(U=S.child;U;){if(U===f){N=!0,f=S,m=b;break}if(U===m){N=!0,m=S,f=b;break}U=U.sibling}if(!N)throw Error(a(189))}}if(f.alternate!==m)throw Error(a(190))}if(f.tag!==3)throw Error(a(188));return f.stateNode.current===f?r:s}function y(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=y(r),s!==null)return s;r=r.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),P=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),xe=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function pe(r){return r===null||typeof r!="object"?null:(r=ce&&r[ce]||r["@@iterator"],typeof r=="function"?r:null)}var ve=Symbol.for("react.client.reference");function Ne(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ve?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case M:return"Fragment";case B:return"Profiler";case D:return"StrictMode";case X:return"Suspense";case $:return"SuspenseList";case W:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case R:return"Portal";case P:return(r.displayName||"Context")+".Provider";case q:return(r._context.displayName||"Context")+".Consumer";case F:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case G:return s=r.displayName||null,s!==null?s:Ne(r.type)||"Memo";case le:s=r._payload,r=r._init;try{return Ne(r(s))}catch{}}return null}var ne=Array.isArray,re=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},je=[],K=-1;function ye(r){return{current:r}}function Se(r){0>K||(r.current=je[K],je[K]=null,K--)}function Oe(r,s){K++,je[K]=r.current,r.current=s}var ke=ye(null),$e=ye(null),Ae=ye(null),$t=ye(null);function Ve(r,s){switch(Oe(Ae,s),Oe($e,r),Oe(ke,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?jw(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=jw(s),r=Fw(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Se(ke),Oe(ke,r)}function En(){Se(ke),Se($e),Se(Ae)}function Dr(r){r.memoizedState!==null&&Oe($t,r);var s=ke.current,f=Fw(s,r.type);s!==f&&(Oe($e,r),Oe(ke,f))}function Wt(r){$e.current===r&&(Se(ke),Se($e)),$t.current===r&&(Se($t),xu._currentValue=Ie)}var Gr=Object.prototype.hasOwnProperty,at=n.unstable_scheduleCallback,vr=n.unstable_cancelCallback,nt=n.unstable_shouldYield,dr=n.unstable_requestPaint,Fe=n.unstable_now,ut=n.unstable_getCurrentPriorityLevel,Ze=n.unstable_ImmediatePriority,Xn=n.unstable_UserBlockingPriority,Be=n.unstable_NormalPriority,jn=n.unstable_LowPriority,tn=n.unstable_IdlePriority,_n=n.log,Nr=n.unstable_setDisableYieldValue,an=null,sn=null;function Pt(r){if(typeof _n=="function"&&Nr(r),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(an,r)}catch{}}var xt=Math.clz32?Math.clz32:oo,ps=Math.log,_a=Math.LN2;function oo(r){return r>>>=0,r===0?32:31-(ps(r)/_a|0)|0}var yt=256,De=4194304;function Ut(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function bt(r,s,f){var m=r.pendingLanes;if(m===0)return 0;var b=0,S=r.suspendedLanes,N=r.pingedLanes;r=r.warmLanes;var U=m&134217727;return U!==0?(m=U&~S,m!==0?b=Ut(m):(N&=U,N!==0?b=Ut(N):f||(f=U&~r,f!==0&&(b=Ut(f))))):(U=m&~S,U!==0?b=Ut(U):N!==0?b=Ut(N):f||(f=m&~r,f!==0&&(b=Ut(f)))),b===0?0:s!==0&&s!==b&&(s&S)===0&&(S=b&-b,f=s&-s,S>=f||S===32&&(f&4194048)!==0)?s:b}function It(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function vs(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lo(){var r=yt;return yt<<=1,(yt&4194048)===0&&(yt=256),r}function Nl(){var r=De;return De<<=1,(De&62914560)===0&&(De=4194304),r}function pt(r){for(var s=[],f=0;31>f;f++)s.push(r);return s}function Mr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ec(r,s,f,m,b,S){var N=r.pendingLanes;r.pendingLanes=f,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=f,r.entangledLanes&=f,r.errorRecoveryDisabledLanes&=f,r.shellSuspendCounter=0;var U=r.entanglements,Y=r.expirationTimes,ue=r.hiddenUpdates;for(f=N&~f;0<f;){var we=31-xt(f),Ee=1<<we;U[we]=0,Y[we]=-1;var he=ue[we];if(he!==null)for(ue[we]=null,we=0;we<he.length;we++){var ge=he[we];ge!==null&&(ge.lane&=-536870913)}f&=~Ee}m!==0&&Ml(r,m,0),S!==0&&b===0&&r.tag!==0&&(r.suspendedLanes|=S&~(N&~s))}function Ml(r,s,f){r.pendingLanes|=s,r.suspendedLanes&=~s;var m=31-xt(s);r.entangledLanes|=s,r.entanglements[m]=r.entanglements[m]|1073741824|f&4194090}function yr(r,s){var f=r.entangledLanes|=s;for(r=r.entanglements;f;){var m=31-xt(f),b=1<<m;b&s|r[m]&s&&(r[m]|=s),f&=~b}}function ys(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function An(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Yi(){var r=fe.p;return r!==0?r:(r=window.event,r===void 0?32:ax(r.type))}function uo(r,s){var f=fe.p;try{return fe.p=r,s()}finally{fe.p=f}}var On=Math.random().toString(36).slice(2),Fn="__reactFiber$"+On,on="__reactProps$"+On,xi="__reactContainer$"+On,qn="__reactEvents$"+On,Xi="__reactListeners$"+On,wr="__reactHandles$"+On,Le="__reactResources$"+On,Vr="__reactMarker$"+On;function ws(r){delete r[Fn],delete r[on],delete r[qn],delete r[Xi],delete r[wr]}function pn(r){var s=r[Fn];if(s)return s;for(var f=r.parentNode;f;){if(s=f[xi]||f[Fn]){if(f=s.alternate,s.child!==null||f!==null&&f.child!==null)for(r=Gw(r);r!==null;){if(f=r[Fn])return f;r=Gw(r)}return s}r=f,f=r.parentNode}return null}function Ir(r){if(r=r[Fn]||r[xi]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function bi(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(a(33))}function oi(r){var s=r[Le];return s||(s=r[Le]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Tt(r){r[Vr]=!0}var _c=new Set,Ac={};function zn(r,s){ln(r,s),ln(r+"Capture",s)}function ln(r,s){for(Ac[r]=s,r=0;r<s.length;r++)_c.add(s[r])}var Ht=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Il={},li={};function kl(r){return Gr.call(li,r)?!0:Gr.call(Il,r)?!1:Ht.test(r)?li[r]=!0:(Il[r]=!0,!1)}function _e(r,s,f){if(kl(s))if(f===null)r.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var m=s.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+f)}}function co(r,s,f){if(f===null)r.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+f)}}function Et(r,s,f,m){if(m===null)r.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(f);return}r.setAttributeNS(s,f,""+m)}}var Ei,Sc;function ct(r){if(Ei===void 0)try{throw Error()}catch(f){var s=f.stack.trim().match(/\n( *(at )?)/);Ei=s&&s[1]||"",Sc=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ei+r+Sc}var vt=!1;function st(r,s){if(!r||vt)return"";vt=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(s){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(ge){var he=ge}Reflect.construct(r,[],Ee)}else{try{Ee.call()}catch(ge){he=ge}r.call(Ee.prototype)}}else{try{throw Error()}catch(ge){he=ge}(Ee=r())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(ge){if(ge&&he&&typeof ge.stack=="string")return[ge.stack,he.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),N=S[0],U=S[1];if(N&&U){var Y=N.split(`
`),ue=U.split(`
`);for(b=m=0;m<Y.length&&!Y[m].includes("DetermineComponentFrameRoot");)m++;for(;b<ue.length&&!ue[b].includes("DetermineComponentFrameRoot");)b++;if(m===Y.length||b===ue.length)for(m=Y.length-1,b=ue.length-1;1<=m&&0<=b&&Y[m]!==ue[b];)b--;for(;1<=m&&0<=b;m--,b--)if(Y[m]!==ue[b]){if(m!==1||b!==1)do if(m--,b--,0>b||Y[m]!==ue[b]){var we=`
`+Y[m].replace(" at new "," at ");return r.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",r.displayName)),we}while(1<=m&&0<=b);break}}}finally{vt=!1,Error.prepareStackTrace=f}return(f=r?r.displayName||r.name:"")?ct(f):""}function Bl(r){switch(r.tag){case 26:case 27:case 5:return ct(r.type);case 16:return ct("Lazy");case 13:return ct("Suspense");case 19:return ct("SuspenseList");case 0:case 15:return st(r.type,!1);case 11:return st(r.type.render,!1);case 1:return st(r.type,!0);case 31:return ct("Activity");default:return""}}function fo(r){try{var s="";do s+=Bl(r),r=r.return;while(r);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function er(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function un(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function _i(r){var s=un(r)?"checked":"value",f=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),m=""+r[s];if(!r.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var b=f.get,S=f.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return b.call(this)},set:function(N){m=""+N,S.call(this,N)}}),Object.defineProperty(r,s,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(N){m=""+N},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ho(r){r._valueTracker||(r._valueTracker=_i(r))}function Zt(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var f=s.getValue(),m="";return r&&(m=un(r)?r.checked?"true":"false":r.value),r=m,r!==f?(s.setValue(r),!0):!1}function kr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Xh=/[\n"\\]/g;function Rn(r){return r.replace(Xh,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function St(r,s,f,m,b,S,N,U){r.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?r.type=N:r.removeAttribute("type"),s!=null?N==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+er(s)):r.value!==""+er(s)&&(r.value=""+er(s)):N!=="submit"&&N!=="reset"||r.removeAttribute("value"),s!=null?se(r,N,er(s)):f!=null?se(r,N,er(f)):m!=null&&r.removeAttribute("value"),b==null&&S!=null&&(r.defaultChecked=!!S),b!=null&&(r.checked=b&&typeof b!="function"&&typeof b!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?r.name=""+er(U):r.removeAttribute("name")}function Dn(r,s,f,m,b,S,N,U){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.type=S),s!=null||f!=null){if(!(S!=="submit"&&S!=="reset"||s!=null))return;f=f!=null?""+er(f):"",s=s!=null?""+er(s):f,U||s===r.value||(r.value=s),r.defaultValue=s}m=m??b,m=typeof m!="function"&&typeof m!="symbol"&&!!m,r.checked=U?r.checked:!!m,r.defaultChecked=!!m,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(r.name=N)}function se(r,s,f){s==="number"&&kr(r.ownerDocument)===r||r.defaultValue===""+f||(r.defaultValue=""+f)}function z(r,s,f,m){if(r=r.options,s){s={};for(var b=0;b<f.length;b++)s["$"+f[b]]=!0;for(f=0;f<r.length;f++)b=s.hasOwnProperty("$"+r[f].value),r[f].selected!==b&&(r[f].selected=b),b&&m&&(r[f].defaultSelected=!0)}else{for(f=""+er(f),s=null,b=0;b<r.length;b++){if(r[b].value===f){r[b].selected=!0,m&&(r[b].defaultSelected=!0);return}s!==null||r[b].disabled||(s=r[b])}s!==null&&(s.selected=!0)}}function qe(r,s,f){if(s!=null&&(s=""+er(s),s!==r.value&&(r.value=s),f==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=f!=null?""+er(f):""}function vn(r,s,f,m){if(s==null){if(m!=null){if(f!=null)throw Error(a(92));if(ne(m)){if(1<m.length)throw Error(a(93));m=m[0]}f=m}f==null&&(f=""),s=f}f=er(s),r.defaultValue=f,m=r.textContent,m===f&&m!==""&&m!==null&&(r.value=m)}function Nn(r,s){if(s){var f=r.firstChild;if(f&&f===r.lastChild&&f.nodeType===3){f.nodeValue=s;return}}r.textContent=s}var Kh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function go(r,s,f){var m=s.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":m?r.setProperty(s,f):typeof f!="number"||f===0||Kh.has(s)?s==="float"?r.cssFloat=f:r[s]=(""+f).trim():r[s]=f+"px"}function gr(r,s,f){if(s!=null&&typeof s!="object")throw Error(a(62));if(r=r.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||s!=null&&s.hasOwnProperty(m)||(m.indexOf("--")===0?r.setProperty(m,""):m==="float"?r.cssFloat="":r[m]="");for(var b in s)m=s[b],s.hasOwnProperty(b)&&f[b]!==m&&go(r,b,m)}else for(var S in s)s.hasOwnProperty(S)&&go(r,S,s[S])}function ze(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mo(r){return Cc.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var xs=null;function Aa(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ai=null,Sa=null;function yn(r){var s=Ir(r);if(s&&(r=s.stateNode)){var f=r[on]||null;e:switch(r=s.stateNode,s.type){case"input":if(St(r,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),s=f.name,f.type==="radio"&&s!=null){for(f=r;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Rn(""+s)+'"][type="radio"]'),s=0;s<f.length;s++){var m=f[s];if(m!==r&&m.form===r.form){var b=m[on]||null;if(!b)throw Error(a(90));St(m,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(s=0;s<f.length;s++)m=f[s],m.form===r.form&&Zt(m)}break e;case"textarea":qe(r,f.value,f.defaultValue);break e;case"select":s=f.value,s!=null&&z(r,!!f.multiple,s,!1)}}}var Ki=!1;function ui(r,s,f){if(Ki)return r(s,f);Ki=!0;try{var m=r(s);return m}finally{if(Ki=!1,(Ai!==null||Sa!==null)&&(hf(),Ai&&(s=Ai,r=Sa,Sa=Ai=null,yn(s),r)))for(s=0;s<r.length;s++)yn(r[s])}}function Ge(r,s){var f=r.stateNode;if(f===null)return null;var m=f[on]||null;if(m===null)return null;f=m[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(f&&typeof f!="function")throw Error(a(231,s,typeof f));return f}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Je=!1;if(ci)try{var nn={};Object.defineProperty(nn,"passive",{get:function(){Je=!0}}),window.addEventListener("test",nn,nn),window.removeEventListener("test",nn,nn)}catch{Je=!1}var Si=null,bs=null,Es=null;function Ci(){if(Es)return Es;var r,s=bs,f=s.length,m,b="value"in Si?Si.value:Si.textContent,S=b.length;for(r=0;r<f&&s[r]===b[r];r++);var N=f-r;for(m=1;m<=N&&s[f-m]===b[S-m];m++);return Es=b.slice(r,1<m?1-m:void 0)}function po(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Ti(){return!0}function Ca(){return!1}function Sn(r){function s(f,m,b,S,N){this._reactName=f,this._targetInst=b,this.type=m,this.nativeEvent=S,this.target=N,this.currentTarget=null;for(var U in r)r.hasOwnProperty(U)&&(f=r[U],this[U]=f?f(S):S[U]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Ti:Ca,this.isPropagationStopped=Ca,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),s}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Sn(Oi),fi=E({},Oi,{view:0,detail:0}),tr=Sn(fi),vo,yo,Ta,wo=E({},fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ta&&(Ta&&r.type==="mousemove"?(vo=r.screenX-Ta.screenX,yo=r.screenY-Ta.screenY):yo=vo=0,Ta=r),vo)},movementY:function(r){return"movementY"in r?r.movementY:yo}}),Tc=Sn(wo),$h=E({},wo,{dataTransfer:0}),Ct=Sn($h),Oc=E({},fi,{relatedTarget:0}),Oa=Sn(Oc),Di=E({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),Zh=Sn(Di),me=E({},Oi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),rt=Sn(me),Mn=E({},Oi,{data:0}),_s=Sn(Mn),Rc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ed(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Jh[r])?!!s[r]:!1}function As(){return ed}var wn=E({},fi,{key:function(r){if(r.key){var s=Rc[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=po(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Qh[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(r){return r.type==="keypress"?po(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?po(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ll=Sn(wn),Qt=E({},wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ss=Sn(Qt),$i=E({},fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),Ot=Sn($i),We=E({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),td=Sn(We),jt=E({},wo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Zi=Sn(jt),Ra=E({},Oi,{newState:0,oldState:0}),nd=Sn(Ra),Wr=[9,13,27,32],Cs=ci&&"CompositionEvent"in window,Da=null;ci&&"documentMode"in document&&(Da=document.documentMode);var Pl=ci&&"TextEvent"in window&&!Da,Ul=ci&&(!Cs||Da&&8<Da&&11>=Da),jl=" ",Dc=!1;function Qi(r,s){switch(r){case"keyup":return Wr.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Na=!1;function Ts(r,s){switch(r){case"compositionend":return xo(s);case"keypress":return s.which!==32?null:(Dc=!0,jl);case"textInput":return r=s.data,r===jl&&Dc?null:r;default:return null}}function rd(r,s){if(Na)return r==="compositionend"||!Cs&&Qi(r,s)?(r=Ci(),Es=bs=Si=null,Na=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ul&&s.locale!=="ko"?null:s.data;default:return null}}var Ni={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Os(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Ni[r.type]:s==="textarea"}function mr(r,s,f,m){Ai?Sa?Sa.push(m):Sa=[m]:Ai=m,s=yf(s,"onChange"),0<s.length&&(f=new Ri("onChange","change",null,f,m),r.push({event:f,listeners:s}))}var Ma=null,nr=null;function id(r){kw(r,0)}function Ia(r){var s=bi(r);if(Zt(s))return r}function Nc(r,s){if(r==="change")return s}var Fl=!1;if(ci){var xr;if(ci){var ql="oninput"in document;if(!ql){var bo=document.createElement("div");bo.setAttribute("oninput","return;"),ql=typeof bo.oninput=="function"}xr=ql}else xr=!1;Fl=xr&&(!document.documentMode||9<document.documentMode)}function ka(){Ma&&(Ma.detachEvent("onpropertychange",mt),nr=Ma=null)}function mt(r){if(r.propertyName==="value"&&Ia(nr)){var s=[];mr(s,nr,r,Aa(r)),ui(id,s)}}function Eo(r,s,f){r==="focusin"?(ka(),Ma=s,nr=f,Ma.attachEvent("onpropertychange",mt)):r==="focusout"&&ka()}function I(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ia(nr)}function i(r,s){if(r==="click")return Ia(s)}function o(r,s){if(r==="input"||r==="change")return Ia(s)}function u(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var h=typeof Object.is=="function"?Object.is:u;function d(r,s){if(h(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var f=Object.keys(r),m=Object.keys(s);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var b=f[m];if(!Gr.call(s,b)||!h(r[b],s[b]))return!1}return!0}function p(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function x(r,s){var f=p(r);r=0;for(var m;f;){if(f.nodeType===3){if(m=r+f.textContent.length,r<=s&&m>=s)return{node:f,offset:s-r};r=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=p(f)}}function _(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?_(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function C(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=kr(r.document);s instanceof r.HTMLIFrameElement;){try{var f=typeof s.contentWindow.location.href=="string"}catch{f=!1}if(f)r=s.contentWindow;else break;s=kr(r.document)}return s}function O(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var k=ci&&"documentMode"in document&&11>=document.documentMode,L=null,H=null,Z=null,J=!1;function ae(r,s,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;J||L==null||L!==kr(m)||(m=L,"selectionStart"in m&&O(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Z&&d(Z,m)||(Z=m,m=yf(H,"onSelect"),0<m.length&&(s=new Ri("onSelect","select",null,s,f),r.push({event:s,listeners:m}),s.target=L)))}function de(r,s){var f={};return f[r.toLowerCase()]=s.toLowerCase(),f["Webkit"+r]="webkit"+s,f["Moz"+r]="moz"+s,f}var Te={animationend:de("Animation","AnimationEnd"),animationiteration:de("Animation","AnimationIteration"),animationstart:de("Animation","AnimationStart"),transitionrun:de("Transition","TransitionRun"),transitionstart:de("Transition","TransitionStart"),transitioncancel:de("Transition","TransitionCancel"),transitionend:de("Transition","TransitionEnd")},Re={},Ce={};ci&&(Ce=document.createElement("div").style,"AnimationEvent"in window||(delete Te.animationend.animation,delete Te.animationiteration.animation,delete Te.animationstart.animation),"TransitionEvent"in window||delete Te.transitionend.transition);function et(r){if(Re[r])return Re[r];if(!Te[r])return r;var s=Te[r],f;for(f in s)if(s.hasOwnProperty(f)&&f in Ce)return Re[r]=s[f];return r}var Qe=et("animationend"),Kn=et("animationiteration"),br=et("animationstart"),rr=et("transitionrun"),Rt=et("transitionstart"),In=et("transitioncancel"),ir=et("transitionend"),Ji=new Map,Mi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mi.push("scrollEnd");function Br(r,s){Ji.set(r,s),zn(s,[r])}var Mc=new WeakMap;function Yr(r,s){if(typeof r=="object"&&r!==null){var f=Mc.get(r);return f!==void 0?f:(s={value:r,source:s,stack:fo(s)},Mc.set(r,s),s)}return{value:r,source:s,stack:fo(s)}}var Xr=[],_o=0,ad=0;function Ic(){for(var r=_o,s=ad=_o=0;s<r;){var f=Xr[s];Xr[s++]=null;var m=Xr[s];Xr[s++]=null;var b=Xr[s];Xr[s++]=null;var S=Xr[s];if(Xr[s++]=null,m!==null&&b!==null){var N=m.pending;N===null?b.next=b:(b.next=N.next,N.next=b),m.pending=b}S!==0&&yv(f,b,S)}}function kc(r,s,f,m){Xr[_o++]=r,Xr[_o++]=s,Xr[_o++]=f,Xr[_o++]=m,ad|=m,r.lanes|=m,r=r.alternate,r!==null&&(r.lanes|=m)}function sd(r,s,f,m){return kc(r,s,f,m),Bc(r)}function Ao(r,s){return kc(r,null,null,s),Bc(r)}function yv(r,s,f){r.lanes|=f;var m=r.alternate;m!==null&&(m.lanes|=f);for(var b=!1,S=r.return;S!==null;)S.childLanes|=f,m=S.alternate,m!==null&&(m.childLanes|=f),S.tag===22&&(r=S.stateNode,r===null||r._visibility&1||(b=!0)),r=S,S=S.return;return r.tag===3?(S=r.stateNode,b&&s!==null&&(b=31-xt(f),r=S.hiddenUpdates,m=r[b],m===null?r[b]=[s]:m.push(s),s.lane=f|536870912),S):null}function Bc(r){if(50<hu)throw hu=0,h0=null,Error(a(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var So={};function x8(r,s,f,m){this.tag=r,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(r,s,f,m){return new x8(r,s,f,m)}function od(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ea(r,s){var f=r.alternate;return f===null?(f=Lr(r.tag,s,r.key,r.mode),f.elementType=r.elementType,f.type=r.type,f.stateNode=r.stateNode,f.alternate=r,r.alternate=f):(f.pendingProps=s,f.type=r.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=r.flags&65011712,f.childLanes=r.childLanes,f.lanes=r.lanes,f.child=r.child,f.memoizedProps=r.memoizedProps,f.memoizedState=r.memoizedState,f.updateQueue=r.updateQueue,s=r.dependencies,f.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},f.sibling=r.sibling,f.index=r.index,f.ref=r.ref,f.refCleanup=r.refCleanup,f}function wv(r,s){r.flags&=65011714;var f=r.alternate;return f===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=f.childLanes,r.lanes=f.lanes,r.child=f.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=f.memoizedProps,r.memoizedState=f.memoizedState,r.updateQueue=f.updateQueue,r.type=f.type,s=f.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Lc(r,s,f,m,b,S){var N=0;if(m=r,typeof r=="function")od(r)&&(N=1);else if(typeof r=="string")N=EC(r,f,ke.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case W:return r=Lr(31,f,s,b),r.elementType=W,r.lanes=S,r;case M:return Rs(f.children,b,S,s);case D:N=8,b|=24;break;case B:return r=Lr(12,f,s,b|2),r.elementType=B,r.lanes=S,r;case X:return r=Lr(13,f,s,b),r.elementType=X,r.lanes=S,r;case $:return r=Lr(19,f,s,b),r.elementType=$,r.lanes=S,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case j:case P:N=10;break e;case q:N=9;break e;case F:N=11;break e;case G:N=14;break e;case le:N=16,m=null;break e}N=29,f=Error(a(130,r===null?"null":typeof r,"")),m=null}return s=Lr(N,f,s,b),s.elementType=r,s.type=m,s.lanes=S,s}function Rs(r,s,f,m){return r=Lr(7,r,m,s),r.lanes=f,r}function ld(r,s,f){return r=Lr(6,r,null,s),r.lanes=f,r}function ud(r,s,f){return s=Lr(4,r.children!==null?r.children:[],r.key,s),s.lanes=f,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Co=[],To=0,Pc=null,Uc=0,Kr=[],$r=0,Ds=null,ta=1,na="";function Ns(r,s){Co[To++]=Uc,Co[To++]=Pc,Pc=r,Uc=s}function xv(r,s,f){Kr[$r++]=ta,Kr[$r++]=na,Kr[$r++]=Ds,Ds=r;var m=ta;r=na;var b=32-xt(m)-1;m&=~(1<<b),f+=1;var S=32-xt(s)+b;if(30<S){var N=b-b%5;S=(m&(1<<N)-1).toString(32),m>>=N,b-=N,ta=1<<32-xt(s)+b|f<<b|m,na=S+r}else ta=1<<S|f<<b|m,na=r}function cd(r){r.return!==null&&(Ns(r,1),xv(r,1,0))}function fd(r){for(;r===Pc;)Pc=Co[--To],Co[To]=null,Uc=Co[--To],Co[To]=null;for(;r===Ds;)Ds=Kr[--$r],Kr[$r]=null,na=Kr[--$r],Kr[$r]=null,ta=Kr[--$r],Kr[$r]=null}var pr=null,cn=null,At=!1,Ms=null,Ii=!1,hd=Error(a(519));function Is(r){var s=Error(a(418,""));throw Gl(Yr(s,r)),hd}function bv(r){var s=r.stateNode,f=r.type,m=r.memoizedProps;switch(s[Fn]=r,s[on]=m,f){case"dialog":ht("cancel",s),ht("close",s);break;case"iframe":case"object":case"embed":ht("load",s);break;case"video":case"audio":for(f=0;f<gu.length;f++)ht(gu[f],s);break;case"source":ht("error",s);break;case"img":case"image":case"link":ht("error",s),ht("load",s);break;case"details":ht("toggle",s);break;case"input":ht("invalid",s),Dn(s,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),ho(s);break;case"select":ht("invalid",s);break;case"textarea":ht("invalid",s),vn(s,m.value,m.defaultValue,m.children),ho(s)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||s.textContent===""+f||m.suppressHydrationWarning===!0||Uw(s.textContent,f)?(m.popover!=null&&(ht("beforetoggle",s),ht("toggle",s)),m.onScroll!=null&&ht("scroll",s),m.onScrollEnd!=null&&ht("scrollend",s),m.onClick!=null&&(s.onclick=wf),s=!0):s=!1,s||Is(r)}function Ev(r){for(pr=r.return;pr;)switch(pr.tag){case 5:case 13:Ii=!1;return;case 27:case 3:Ii=!0;return;default:pr=pr.return}}function zl(r){if(r!==pr)return!1;if(!At)return Ev(r),At=!0,!1;var s=r.tag,f;if((f=s!==3&&s!==27)&&((f=s===5)&&(f=r.type,f=!(f!=="form"&&f!=="button")||O0(r.type,r.memoizedProps)),f=!f),f&&cn&&Is(r),Ev(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(f=r.data,f==="/$"){if(s===0){cn=di(r.nextSibling);break e}s--}else f!=="$"&&f!=="$!"&&f!=="$?"||s++;r=r.nextSibling}cn=null}}else s===27?(s=cn,$a(r.type)?(r=M0,M0=null,cn=r):cn=s):cn=pr?di(r.stateNode.nextSibling):null;return!0}function Hl(){cn=pr=null,At=!1}function _v(){var r=Ms;return r!==null&&(Ar===null?Ar=r:Ar.push.apply(Ar,r),Ms=null),r}function Gl(r){Ms===null?Ms=[r]:Ms.push(r)}var dd=ye(null),ks=null,ra=null;function Ba(r,s,f){Oe(dd,s._currentValue),s._currentValue=f}function ia(r){r._currentValue=dd.current,Se(dd)}function gd(r,s,f){for(;r!==null;){var m=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,m!==null&&(m.childLanes|=s)):m!==null&&(m.childLanes&s)!==s&&(m.childLanes|=s),r===f)break;r=r.return}}function md(r,s,f,m){var b=r.child;for(b!==null&&(b.return=r);b!==null;){var S=b.dependencies;if(S!==null){var N=b.child;S=S.firstContext;e:for(;S!==null;){var U=S;S=b;for(var Y=0;Y<s.length;Y++)if(U.context===s[Y]){S.lanes|=f,U=S.alternate,U!==null&&(U.lanes|=f),gd(S.return,f,r),m||(N=null);break e}S=U.next}}else if(b.tag===18){if(N=b.return,N===null)throw Error(a(341));N.lanes|=f,S=N.alternate,S!==null&&(S.lanes|=f),gd(N,f,r),N=null}else N=b.child;if(N!==null)N.return=b;else for(N=b;N!==null;){if(N===r){N=null;break}if(b=N.sibling,b!==null){b.return=N.return,N=b;break}N=N.return}b=N}}function Vl(r,s,f,m){r=null;for(var b=s,S=!1;b!==null;){if(!S){if((b.flags&524288)!==0)S=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var N=b.alternate;if(N===null)throw Error(a(387));if(N=N.memoizedProps,N!==null){var U=b.type;h(b.pendingProps.value,N.value)||(r!==null?r.push(U):r=[U])}}else if(b===$t.current){if(N=b.alternate,N===null)throw Error(a(387));N.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(r!==null?r.push(xu):r=[xu])}b=b.return}r!==null&&md(s,r,f,m),s.flags|=262144}function jc(r){for(r=r.firstContext;r!==null;){if(!h(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Bs(r){ks=r,ra=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function ar(r){return Av(ks,r)}function Fc(r,s){return ks===null&&Bs(r),Av(r,s)}function Av(r,s){var f=s._currentValue;if(s={context:s,memoizedValue:f,next:null},ra===null){if(r===null)throw Error(a(308));ra=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else ra=ra.next=s;return f}var b8=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(f,m){r.push(m)}};this.abort=function(){s.aborted=!0,r.forEach(function(f){return f()})}},E8=n.unstable_scheduleCallback,_8=n.unstable_NormalPriority,kn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pd(){return{controller:new b8,data:new Map,refCount:0}}function Wl(r){r.refCount--,r.refCount===0&&E8(_8,function(){r.controller.abort()})}var Yl=null,vd=0,Oo=0,Ro=null;function A8(r,s){if(Yl===null){var f=Yl=[];vd=0,Oo=w0(),Ro={status:"pending",value:void 0,then:function(m){f.push(m)}}}return vd++,s.then(Sv,Sv),s}function Sv(){if(--vd===0&&Yl!==null){Ro!==null&&(Ro.status="fulfilled");var r=Yl;Yl=null,Oo=0,Ro=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function S8(r,s){var f=[],m={status:"pending",value:null,reason:null,then:function(b){f.push(b)}};return r.then(function(){m.status="fulfilled",m.value=s;for(var b=0;b<f.length;b++)(0,f[b])(s)},function(b){for(m.status="rejected",m.reason=b,b=0;b<f.length;b++)(0,f[b])(void 0)}),m}var Cv=re.S;re.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&A8(r,s),Cv!==null&&Cv(r,s)};var Ls=ye(null);function yd(){var r=Ls.current;return r!==null?r:Gt.pooledCache}function qc(r,s){s===null?Oe(Ls,Ls.current):Oe(Ls,s.pool)}function Tv(){var r=yd();return r===null?null:{parent:kn._currentValue,pool:r}}var Xl=Error(a(460)),Ov=Error(a(474)),zc=Error(a(542)),wd={then:function(){}};function Rv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Hc(){}function Dv(r,s,f){switch(f=r[f],f===void 0?r.push(s):f!==s&&(s.then(Hc,Hc),s=f),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Mv(r),r;default:if(typeof s.status=="string")s.then(Hc,Hc);else{if(r=Gt,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=s,r.status="pending",r.then(function(m){if(s.status==="pending"){var b=s;b.status="fulfilled",b.value=m}},function(m){if(s.status==="pending"){var b=s;b.status="rejected",b.reason=m}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Mv(r),r}throw Kl=s,Xl}}var Kl=null;function Nv(){if(Kl===null)throw Error(a(459));var r=Kl;return Kl=null,r}function Mv(r){if(r===Xl||r===zc)throw Error(a(483))}var La=!1;function xd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bd(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Pa(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ua(r,s,f){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(Dt&2)!==0){var b=m.pending;return b===null?s.next=s:(s.next=b.next,b.next=s),m.pending=s,s=Bc(r),yv(r,null,f),s}return kc(r,m,s,f),Bc(r)}function $l(r,s,f){if(s=s.updateQueue,s!==null&&(s=s.shared,(f&4194048)!==0)){var m=s.lanes;m&=r.pendingLanes,f|=m,s.lanes=f,yr(r,f)}}function Ed(r,s){var f=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var b=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var N={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};S===null?b=S=N:S=S.next=N,f=f.next}while(f!==null);S===null?b=S=s:S=S.next=s}else b=S=s;f={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},r.updateQueue=f;return}r=f.lastBaseUpdate,r===null?f.firstBaseUpdate=s:r.next=s,f.lastBaseUpdate=s}var _d=!1;function Zl(){if(_d){var r=Ro;if(r!==null)throw r}}function Ql(r,s,f,m){_d=!1;var b=r.updateQueue;La=!1;var S=b.firstBaseUpdate,N=b.lastBaseUpdate,U=b.shared.pending;if(U!==null){b.shared.pending=null;var Y=U,ue=Y.next;Y.next=null,N===null?S=ue:N.next=ue,N=Y;var we=r.alternate;we!==null&&(we=we.updateQueue,U=we.lastBaseUpdate,U!==N&&(U===null?we.firstBaseUpdate=ue:U.next=ue,we.lastBaseUpdate=Y))}if(S!==null){var Ee=b.baseState;N=0,we=ue=Y=null,U=S;do{var he=U.lane&-536870913,ge=he!==U.lane;if(ge?(wt&he)===he:(m&he)===he){he!==0&&he===Oo&&(_d=!0),we!==null&&(we=we.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var Ke=r,Ye=U;he=s;var Lt=f;switch(Ye.tag){case 1:if(Ke=Ye.payload,typeof Ke=="function"){Ee=Ke.call(Lt,Ee,he);break e}Ee=Ke;break e;case 3:Ke.flags=Ke.flags&-65537|128;case 0:if(Ke=Ye.payload,he=typeof Ke=="function"?Ke.call(Lt,Ee,he):Ke,he==null)break e;Ee=E({},Ee,he);break e;case 2:La=!0}}he=U.callback,he!==null&&(r.flags|=64,ge&&(r.flags|=8192),ge=b.callbacks,ge===null?b.callbacks=[he]:ge.push(he))}else ge={lane:he,tag:U.tag,payload:U.payload,callback:U.callback,next:null},we===null?(ue=we=ge,Y=Ee):we=we.next=ge,N|=he;if(U=U.next,U===null){if(U=b.shared.pending,U===null)break;ge=U,U=ge.next,ge.next=null,b.lastBaseUpdate=ge,b.shared.pending=null}}while(!0);we===null&&(Y=Ee),b.baseState=Y,b.firstBaseUpdate=ue,b.lastBaseUpdate=we,S===null&&(b.shared.lanes=0),Wa|=N,r.lanes=N,r.memoizedState=Ee}}function Iv(r,s){if(typeof r!="function")throw Error(a(191,r));r.call(s)}function kv(r,s){var f=r.callbacks;if(f!==null)for(r.callbacks=null,r=0;r<f.length;r++)Iv(f[r],s)}var Do=ye(null),Gc=ye(0);function Bv(r,s){r=fa,Oe(Gc,r),Oe(Do,s),fa=r|s.baseLanes}function Ad(){Oe(Gc,fa),Oe(Do,Do.current)}function Sd(){fa=Gc.current,Se(Do),Se(Gc)}var ja=0,ot=null,kt=null,Cn=null,Vc=!1,No=!1,Ps=!1,Wc=0,Jl=0,Mo=null,C8=0;function xn(){throw Error(a(321))}function Cd(r,s){if(s===null)return!1;for(var f=0;f<s.length&&f<r.length;f++)if(!h(r[f],s[f]))return!1;return!0}function Td(r,s,f,m,b,S){return ja=S,ot=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,re.H=r===null||r.memoizedState===null?yy:wy,Ps=!1,S=f(m,b),Ps=!1,No&&(S=Pv(s,f,m,b)),Lv(r),S}function Lv(r){re.H=Qc;var s=kt!==null&&kt.next!==null;if(ja=0,Cn=kt=ot=null,Vc=!1,Jl=0,Mo=null,s)throw Error(a(300));r===null||Hn||(r=r.dependencies,r!==null&&jc(r)&&(Hn=!0))}function Pv(r,s,f,m){ot=r;var b=0;do{if(No&&(Mo=null),Jl=0,No=!1,25<=b)throw Error(a(301));if(b+=1,Cn=kt=null,r.updateQueue!=null){var S=r.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}re.H=I8,S=s(f,m)}while(No);return S}function T8(){var r=re.H,s=r.useState()[0];return s=typeof s.then=="function"?eu(s):s,r=r.useState()[0],(kt!==null?kt.memoizedState:null)!==r&&(ot.flags|=1024),s}function Od(){var r=Wc!==0;return Wc=0,r}function Rd(r,s,f){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f}function Dd(r){if(Vc){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Vc=!1}ja=0,Cn=kt=ot=null,No=!1,Jl=Wc=0,Mo=null}function Er(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?ot.memoizedState=Cn=r:Cn=Cn.next=r,Cn}function Tn(){if(kt===null){var r=ot.alternate;r=r!==null?r.memoizedState:null}else r=kt.next;var s=Cn===null?ot.memoizedState:Cn.next;if(s!==null)Cn=s,kt=r;else{if(r===null)throw ot.alternate===null?Error(a(467)):Error(a(310));kt=r,r={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Cn===null?ot.memoizedState=Cn=r:Cn=Cn.next=r}return Cn}function Nd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eu(r){var s=Jl;return Jl+=1,Mo===null&&(Mo=[]),r=Dv(Mo,r,s),s=ot,(Cn===null?s.memoizedState:Cn.next)===null&&(s=s.alternate,re.H=s===null||s.memoizedState===null?yy:wy),r}function Yc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return eu(r);if(r.$$typeof===P)return ar(r)}throw Error(a(438,String(r)))}function Md(r){var s=null,f=ot.updateQueue;if(f!==null&&(s=f.memoCache),s==null){var m=ot.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(s={data:m.data.map(function(b){return b.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),f===null&&(f=Nd(),ot.updateQueue=f),f.memoCache=s,f=s.data[s.index],f===void 0)for(f=s.data[s.index]=Array(r),m=0;m<r;m++)f[m]=xe;return s.index++,f}function aa(r,s){return typeof s=="function"?s(r):s}function Xc(r){var s=Tn();return Id(s,kt,r)}function Id(r,s,f){var m=r.queue;if(m===null)throw Error(a(311));m.lastRenderedReducer=f;var b=r.baseQueue,S=m.pending;if(S!==null){if(b!==null){var N=b.next;b.next=S.next,S.next=N}s.baseQueue=b=S,m.pending=null}if(S=r.baseState,b===null)r.memoizedState=S;else{s=b.next;var U=N=null,Y=null,ue=s,we=!1;do{var Ee=ue.lane&-536870913;if(Ee!==ue.lane?(wt&Ee)===Ee:(ja&Ee)===Ee){var he=ue.revertLane;if(he===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),Ee===Oo&&(we=!0);else if((ja&he)===he){ue=ue.next,he===Oo&&(we=!0);continue}else Ee={lane:0,revertLane:ue.revertLane,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Y===null?(U=Y=Ee,N=S):Y=Y.next=Ee,ot.lanes|=he,Wa|=he;Ee=ue.action,Ps&&f(S,Ee),S=ue.hasEagerState?ue.eagerState:f(S,Ee)}else he={lane:Ee,revertLane:ue.revertLane,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Y===null?(U=Y=he,N=S):Y=Y.next=he,ot.lanes|=Ee,Wa|=Ee;ue=ue.next}while(ue!==null&&ue!==s);if(Y===null?N=S:Y.next=U,!h(S,r.memoizedState)&&(Hn=!0,we&&(f=Ro,f!==null)))throw f;r.memoizedState=S,r.baseState=N,r.baseQueue=Y,m.lastRenderedState=S}return b===null&&(m.lanes=0),[r.memoizedState,m.dispatch]}function kd(r){var s=Tn(),f=s.queue;if(f===null)throw Error(a(311));f.lastRenderedReducer=r;var m=f.dispatch,b=f.pending,S=s.memoizedState;if(b!==null){f.pending=null;var N=b=b.next;do S=r(S,N.action),N=N.next;while(N!==b);h(S,s.memoizedState)||(Hn=!0),s.memoizedState=S,s.baseQueue===null&&(s.baseState=S),f.lastRenderedState=S}return[S,m]}function Uv(r,s,f){var m=ot,b=Tn(),S=At;if(S){if(f===void 0)throw Error(a(407));f=f()}else f=s();var N=!h((kt||b).memoizedState,f);N&&(b.memoizedState=f,Hn=!0),b=b.queue;var U=qv.bind(null,m,b,r);if(tu(2048,8,U,[r]),b.getSnapshot!==s||N||Cn!==null&&Cn.memoizedState.tag&1){if(m.flags|=2048,Io(9,Kc(),Fv.bind(null,m,b,f,s),null),Gt===null)throw Error(a(349));S||(ja&124)!==0||jv(m,s,f)}return f}function jv(r,s,f){r.flags|=16384,r={getSnapshot:s,value:f},s=ot.updateQueue,s===null?(s=Nd(),ot.updateQueue=s,s.stores=[r]):(f=s.stores,f===null?s.stores=[r]:f.push(r))}function Fv(r,s,f,m){s.value=f,s.getSnapshot=m,zv(s)&&Hv(r)}function qv(r,s,f){return f(function(){zv(s)&&Hv(r)})}function zv(r){var s=r.getSnapshot;r=r.value;try{var f=s();return!h(r,f)}catch{return!0}}function Hv(r){var s=Ao(r,2);s!==null&&qr(s,r,2)}function Bd(r){var s=Er();if(typeof r=="function"){var f=r;if(r=f(),Ps){Pt(!0);try{f()}finally{Pt(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:r},s}function Gv(r,s,f,m){return r.baseState=f,Id(r,kt,typeof m=="function"?m:aa)}function O8(r,s,f,m,b){if(Zc(r))throw Error(a(485));if(r=s.action,r!==null){var S={payload:b,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){S.listeners.push(N)}};re.T!==null?f(!0):S.isTransition=!1,m(S),f=s.pending,f===null?(S.next=s.pending=S,Vv(s,S)):(S.next=f.next,s.pending=f.next=S)}}function Vv(r,s){var f=s.action,m=s.payload,b=r.state;if(s.isTransition){var S=re.T,N={};re.T=N;try{var U=f(b,m),Y=re.S;Y!==null&&Y(N,U),Wv(r,s,U)}catch(ue){Ld(r,s,ue)}finally{re.T=S}}else try{S=f(b,m),Wv(r,s,S)}catch(ue){Ld(r,s,ue)}}function Wv(r,s,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){Yv(r,s,m)},function(m){return Ld(r,s,m)}):Yv(r,s,f)}function Yv(r,s,f){s.status="fulfilled",s.value=f,Xv(s),r.state=f,s=r.pending,s!==null&&(f=s.next,f===s?r.pending=null:(f=f.next,s.next=f,Vv(r,f)))}function Ld(r,s,f){var m=r.pending;if(r.pending=null,m!==null){m=m.next;do s.status="rejected",s.reason=f,Xv(s),s=s.next;while(s!==m)}r.action=null}function Xv(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Kv(r,s){return s}function $v(r,s){if(At){var f=Gt.formState;if(f!==null){e:{var m=ot;if(At){if(cn){t:{for(var b=cn,S=Ii;b.nodeType!==8;){if(!S){b=null;break t}if(b=di(b.nextSibling),b===null){b=null;break t}}S=b.data,b=S==="F!"||S==="F"?b:null}if(b){cn=di(b.nextSibling),m=b.data==="F!";break e}}Is(m)}m=!1}m&&(s=f[0])}}return f=Er(),f.memoizedState=f.baseState=s,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kv,lastRenderedState:s},f.queue=m,f=my.bind(null,ot,m),m.dispatch=f,m=Bd(!1),S=qd.bind(null,ot,!1,m.queue),m=Er(),b={state:s,dispatch:null,action:r,pending:null},m.queue=b,f=O8.bind(null,ot,b,S,f),b.dispatch=f,m.memoizedState=r,[s,f,!1]}function Zv(r){var s=Tn();return Qv(s,kt,r)}function Qv(r,s,f){if(s=Id(r,s,Kv)[0],r=Xc(aa)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var m=eu(s)}catch(N){throw N===Xl?zc:N}else m=s;s=Tn();var b=s.queue,S=b.dispatch;return f!==s.memoizedState&&(ot.flags|=2048,Io(9,Kc(),R8.bind(null,b,f),null)),[m,S,r]}function R8(r,s){r.action=s}function Jv(r){var s=Tn(),f=kt;if(f!==null)return Qv(s,f,r);Tn(),s=s.memoizedState,f=Tn();var m=f.queue.dispatch;return f.memoizedState=r,[s,m,!1]}function Io(r,s,f,m){return r={tag:r,create:f,deps:m,inst:s,next:null},s=ot.updateQueue,s===null&&(s=Nd(),ot.updateQueue=s),f=s.lastEffect,f===null?s.lastEffect=r.next=r:(m=f.next,f.next=r,r.next=m,s.lastEffect=r),r}function Kc(){return{destroy:void 0,resource:void 0}}function ey(){return Tn().memoizedState}function $c(r,s,f,m){var b=Er();m=m===void 0?null:m,ot.flags|=r,b.memoizedState=Io(1|s,Kc(),f,m)}function tu(r,s,f,m){var b=Tn();m=m===void 0?null:m;var S=b.memoizedState.inst;kt!==null&&m!==null&&Cd(m,kt.memoizedState.deps)?b.memoizedState=Io(s,S,f,m):(ot.flags|=r,b.memoizedState=Io(1|s,S,f,m))}function ty(r,s){$c(8390656,8,r,s)}function ny(r,s){tu(2048,8,r,s)}function ry(r,s){return tu(4,2,r,s)}function iy(r,s){return tu(4,4,r,s)}function ay(r,s){if(typeof s=="function"){r=r();var f=s(r);return function(){typeof f=="function"?f():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function sy(r,s,f){f=f!=null?f.concat([r]):null,tu(4,4,ay.bind(null,s,r),f)}function Pd(){}function oy(r,s){var f=Tn();s=s===void 0?null:s;var m=f.memoizedState;return s!==null&&Cd(s,m[1])?m[0]:(f.memoizedState=[r,s],r)}function ly(r,s){var f=Tn();s=s===void 0?null:s;var m=f.memoizedState;if(s!==null&&Cd(s,m[1]))return m[0];if(m=r(),Ps){Pt(!0);try{r()}finally{Pt(!1)}}return f.memoizedState=[m,s],m}function Ud(r,s,f){return f===void 0||(ja&1073741824)!==0?r.memoizedState=s:(r.memoizedState=f,r=fw(),ot.lanes|=r,Wa|=r,f)}function uy(r,s,f,m){return h(f,s)?f:Do.current!==null?(r=Ud(r,f,m),h(r,s)||(Hn=!0),r):(ja&42)===0?(Hn=!0,r.memoizedState=f):(r=fw(),ot.lanes|=r,Wa|=r,s)}function cy(r,s,f,m,b){var S=fe.p;fe.p=S!==0&&8>S?S:8;var N=re.T,U={};re.T=U,qd(r,!1,s,f);try{var Y=b(),ue=re.S;if(ue!==null&&ue(U,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var we=S8(Y,m);nu(r,s,we,Fr(r))}else nu(r,s,m,Fr(r))}catch(Ee){nu(r,s,{then:function(){},status:"rejected",reason:Ee},Fr())}finally{fe.p=S,re.T=N}}function D8(){}function jd(r,s,f,m){if(r.tag!==5)throw Error(a(476));var b=fy(r).queue;cy(r,b,s,Ie,f===null?D8:function(){return hy(r),f(m)})}function fy(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:Ie},next:null};var f={};return s.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:f},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function hy(r){var s=fy(r).next.queue;nu(r,s,{},Fr())}function Fd(){return ar(xu)}function dy(){return Tn().memoizedState}function gy(){return Tn().memoizedState}function N8(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var f=Fr();r=Pa(f);var m=Ua(s,r,f);m!==null&&(qr(m,s,f),$l(m,s,f)),s={cache:pd()},r.payload=s;return}s=s.return}}function M8(r,s,f){var m=Fr();f={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},Zc(r)?py(s,f):(f=sd(r,s,f,m),f!==null&&(qr(f,r,m),vy(f,s,m)))}function my(r,s,f){var m=Fr();nu(r,s,f,m)}function nu(r,s,f,m){var b={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(Zc(r))py(s,b);else{var S=r.alternate;if(r.lanes===0&&(S===null||S.lanes===0)&&(S=s.lastRenderedReducer,S!==null))try{var N=s.lastRenderedState,U=S(N,f);if(b.hasEagerState=!0,b.eagerState=U,h(U,N))return kc(r,s,b,0),Gt===null&&Ic(),!1}catch{}finally{}if(f=sd(r,s,b,m),f!==null)return qr(f,r,m),vy(f,s,m),!0}return!1}function qd(r,s,f,m){if(m={lane:2,revertLane:w0(),action:m,hasEagerState:!1,eagerState:null,next:null},Zc(r)){if(s)throw Error(a(479))}else s=sd(r,f,m,2),s!==null&&qr(s,r,2)}function Zc(r){var s=r.alternate;return r===ot||s!==null&&s===ot}function py(r,s){No=Vc=!0;var f=r.pending;f===null?s.next=s:(s.next=f.next,f.next=s),r.pending=s}function vy(r,s,f){if((f&4194048)!==0){var m=s.lanes;m&=r.pendingLanes,f|=m,s.lanes=f,yr(r,f)}}var Qc={readContext:ar,use:Yc,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useLayoutEffect:xn,useInsertionEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useSyncExternalStore:xn,useId:xn,useHostTransitionStatus:xn,useFormState:xn,useActionState:xn,useOptimistic:xn,useMemoCache:xn,useCacheRefresh:xn},yy={readContext:ar,use:Yc,useCallback:function(r,s){return Er().memoizedState=[r,s===void 0?null:s],r},useContext:ar,useEffect:ty,useImperativeHandle:function(r,s,f){f=f!=null?f.concat([r]):null,$c(4194308,4,ay.bind(null,s,r),f)},useLayoutEffect:function(r,s){return $c(4194308,4,r,s)},useInsertionEffect:function(r,s){$c(4,2,r,s)},useMemo:function(r,s){var f=Er();s=s===void 0?null:s;var m=r();if(Ps){Pt(!0);try{r()}finally{Pt(!1)}}return f.memoizedState=[m,s],m},useReducer:function(r,s,f){var m=Er();if(f!==void 0){var b=f(s);if(Ps){Pt(!0);try{f(s)}finally{Pt(!1)}}}else b=s;return m.memoizedState=m.baseState=b,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:b},m.queue=r,r=r.dispatch=M8.bind(null,ot,r),[m.memoizedState,r]},useRef:function(r){var s=Er();return r={current:r},s.memoizedState=r},useState:function(r){r=Bd(r);var s=r.queue,f=my.bind(null,ot,s);return s.dispatch=f,[r.memoizedState,f]},useDebugValue:Pd,useDeferredValue:function(r,s){var f=Er();return Ud(f,r,s)},useTransition:function(){var r=Bd(!1);return r=cy.bind(null,ot,r.queue,!0,!1),Er().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,f){var m=ot,b=Er();if(At){if(f===void 0)throw Error(a(407));f=f()}else{if(f=s(),Gt===null)throw Error(a(349));(wt&124)!==0||jv(m,s,f)}b.memoizedState=f;var S={value:f,getSnapshot:s};return b.queue=S,ty(qv.bind(null,m,S,r),[r]),m.flags|=2048,Io(9,Kc(),Fv.bind(null,m,S,f,s),null),f},useId:function(){var r=Er(),s=Gt.identifierPrefix;if(At){var f=na,m=ta;f=(m&~(1<<32-xt(m)-1)).toString(32)+f,s=""+s+"R"+f,f=Wc++,0<f&&(s+="H"+f.toString(32)),s+=""}else f=C8++,s=""+s+"r"+f.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:Fd,useFormState:$v,useActionState:$v,useOptimistic:function(r){var s=Er();s.memoizedState=s.baseState=r;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=f,s=qd.bind(null,ot,!0,f),f.dispatch=s,[r,s]},useMemoCache:Md,useCacheRefresh:function(){return Er().memoizedState=N8.bind(null,ot)}},wy={readContext:ar,use:Yc,useCallback:oy,useContext:ar,useEffect:ny,useImperativeHandle:sy,useInsertionEffect:ry,useLayoutEffect:iy,useMemo:ly,useReducer:Xc,useRef:ey,useState:function(){return Xc(aa)},useDebugValue:Pd,useDeferredValue:function(r,s){var f=Tn();return uy(f,kt.memoizedState,r,s)},useTransition:function(){var r=Xc(aa)[0],s=Tn().memoizedState;return[typeof r=="boolean"?r:eu(r),s]},useSyncExternalStore:Uv,useId:dy,useHostTransitionStatus:Fd,useFormState:Zv,useActionState:Zv,useOptimistic:function(r,s){var f=Tn();return Gv(f,kt,r,s)},useMemoCache:Md,useCacheRefresh:gy},I8={readContext:ar,use:Yc,useCallback:oy,useContext:ar,useEffect:ny,useImperativeHandle:sy,useInsertionEffect:ry,useLayoutEffect:iy,useMemo:ly,useReducer:kd,useRef:ey,useState:function(){return kd(aa)},useDebugValue:Pd,useDeferredValue:function(r,s){var f=Tn();return kt===null?Ud(f,r,s):uy(f,kt.memoizedState,r,s)},useTransition:function(){var r=kd(aa)[0],s=Tn().memoizedState;return[typeof r=="boolean"?r:eu(r),s]},useSyncExternalStore:Uv,useId:dy,useHostTransitionStatus:Fd,useFormState:Jv,useActionState:Jv,useOptimistic:function(r,s){var f=Tn();return kt!==null?Gv(f,kt,r,s):(f.baseState=r,[r,f.queue.dispatch])},useMemoCache:Md,useCacheRefresh:gy},ko=null,ru=0;function Jc(r){var s=ru;return ru+=1,ko===null&&(ko=[]),Dv(ko,r,s)}function iu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function ef(r,s){throw s.$$typeof===A?Error(a(525)):(r=Object.prototype.toString.call(s),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function xy(r){var s=r._init;return s(r._payload)}function by(r){function s(ie,ee){if(r){var oe=ie.deletions;oe===null?(ie.deletions=[ee],ie.flags|=16):oe.push(ee)}}function f(ie,ee){if(!r)return null;for(;ee!==null;)s(ie,ee),ee=ee.sibling;return null}function m(ie){for(var ee=new Map;ie!==null;)ie.key!==null?ee.set(ie.key,ie):ee.set(ie.index,ie),ie=ie.sibling;return ee}function b(ie,ee){return ie=ea(ie,ee),ie.index=0,ie.sibling=null,ie}function S(ie,ee,oe){return ie.index=oe,r?(oe=ie.alternate,oe!==null?(oe=oe.index,oe<ee?(ie.flags|=67108866,ee):oe):(ie.flags|=67108866,ee)):(ie.flags|=1048576,ee)}function N(ie){return r&&ie.alternate===null&&(ie.flags|=67108866),ie}function U(ie,ee,oe,be){return ee===null||ee.tag!==6?(ee=ld(oe,ie.mode,be),ee.return=ie,ee):(ee=b(ee,oe),ee.return=ie,ee)}function Y(ie,ee,oe,be){var Ue=oe.type;return Ue===M?we(ie,ee,oe.props.children,be,oe.key):ee!==null&&(ee.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===le&&xy(Ue)===ee.type)?(ee=b(ee,oe.props),iu(ee,oe),ee.return=ie,ee):(ee=Lc(oe.type,oe.key,oe.props,null,ie.mode,be),iu(ee,oe),ee.return=ie,ee)}function ue(ie,ee,oe,be){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==oe.containerInfo||ee.stateNode.implementation!==oe.implementation?(ee=ud(oe,ie.mode,be),ee.return=ie,ee):(ee=b(ee,oe.children||[]),ee.return=ie,ee)}function we(ie,ee,oe,be,Ue){return ee===null||ee.tag!==7?(ee=Rs(oe,ie.mode,be,Ue),ee.return=ie,ee):(ee=b(ee,oe),ee.return=ie,ee)}function Ee(ie,ee,oe){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=ld(""+ee,ie.mode,oe),ee.return=ie,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case T:return oe=Lc(ee.type,ee.key,ee.props,null,ie.mode,oe),iu(oe,ee),oe.return=ie,oe;case R:return ee=ud(ee,ie.mode,oe),ee.return=ie,ee;case le:var be=ee._init;return ee=be(ee._payload),Ee(ie,ee,oe)}if(ne(ee)||pe(ee))return ee=Rs(ee,ie.mode,oe,null),ee.return=ie,ee;if(typeof ee.then=="function")return Ee(ie,Jc(ee),oe);if(ee.$$typeof===P)return Ee(ie,Fc(ie,ee),oe);ef(ie,ee)}return null}function he(ie,ee,oe,be){var Ue=ee!==null?ee.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Ue!==null?null:U(ie,ee,""+oe,be);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case T:return oe.key===Ue?Y(ie,ee,oe,be):null;case R:return oe.key===Ue?ue(ie,ee,oe,be):null;case le:return Ue=oe._init,oe=Ue(oe._payload),he(ie,ee,oe,be)}if(ne(oe)||pe(oe))return Ue!==null?null:we(ie,ee,oe,be,null);if(typeof oe.then=="function")return he(ie,ee,Jc(oe),be);if(oe.$$typeof===P)return he(ie,ee,Fc(ie,oe),be);ef(ie,oe)}return null}function ge(ie,ee,oe,be,Ue){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return ie=ie.get(oe)||null,U(ee,ie,""+be,Ue);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case T:return ie=ie.get(be.key===null?oe:be.key)||null,Y(ee,ie,be,Ue);case R:return ie=ie.get(be.key===null?oe:be.key)||null,ue(ee,ie,be,Ue);case le:var lt=be._init;return be=lt(be._payload),ge(ie,ee,oe,be,Ue)}if(ne(be)||pe(be))return ie=ie.get(oe)||null,we(ee,ie,be,Ue,null);if(typeof be.then=="function")return ge(ie,ee,oe,Jc(be),Ue);if(be.$$typeof===P)return ge(ie,ee,oe,Fc(ee,be),Ue);ef(ee,be)}return null}function Ke(ie,ee,oe,be){for(var Ue=null,lt=null,He=ee,Xe=ee=0,Vn=null;He!==null&&Xe<oe.length;Xe++){He.index>Xe?(Vn=He,He=null):Vn=He.sibling;var _t=he(ie,He,oe[Xe],be);if(_t===null){He===null&&(He=Vn);break}r&&He&&_t.alternate===null&&s(ie,He),ee=S(_t,ee,Xe),lt===null?Ue=_t:lt.sibling=_t,lt=_t,He=Vn}if(Xe===oe.length)return f(ie,He),At&&Ns(ie,Xe),Ue;if(He===null){for(;Xe<oe.length;Xe++)He=Ee(ie,oe[Xe],be),He!==null&&(ee=S(He,ee,Xe),lt===null?Ue=He:lt.sibling=He,lt=He);return At&&Ns(ie,Xe),Ue}for(He=m(He);Xe<oe.length;Xe++)Vn=ge(He,ie,Xe,oe[Xe],be),Vn!==null&&(r&&Vn.alternate!==null&&He.delete(Vn.key===null?Xe:Vn.key),ee=S(Vn,ee,Xe),lt===null?Ue=Vn:lt.sibling=Vn,lt=Vn);return r&&He.forEach(function(ts){return s(ie,ts)}),At&&Ns(ie,Xe),Ue}function Ye(ie,ee,oe,be){if(oe==null)throw Error(a(151));for(var Ue=null,lt=null,He=ee,Xe=ee=0,Vn=null,_t=oe.next();He!==null&&!_t.done;Xe++,_t=oe.next()){He.index>Xe?(Vn=He,He=null):Vn=He.sibling;var ts=he(ie,He,_t.value,be);if(ts===null){He===null&&(He=Vn);break}r&&He&&ts.alternate===null&&s(ie,He),ee=S(ts,ee,Xe),lt===null?Ue=ts:lt.sibling=ts,lt=ts,He=Vn}if(_t.done)return f(ie,He),At&&Ns(ie,Xe),Ue;if(He===null){for(;!_t.done;Xe++,_t=oe.next())_t=Ee(ie,_t.value,be),_t!==null&&(ee=S(_t,ee,Xe),lt===null?Ue=_t:lt.sibling=_t,lt=_t);return At&&Ns(ie,Xe),Ue}for(He=m(He);!_t.done;Xe++,_t=oe.next())_t=ge(He,ie,Xe,_t.value,be),_t!==null&&(r&&_t.alternate!==null&&He.delete(_t.key===null?Xe:_t.key),ee=S(_t,ee,Xe),lt===null?Ue=_t:lt.sibling=_t,lt=_t);return r&&He.forEach(function(kC){return s(ie,kC)}),At&&Ns(ie,Xe),Ue}function Lt(ie,ee,oe,be){if(typeof oe=="object"&&oe!==null&&oe.type===M&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case T:e:{for(var Ue=oe.key;ee!==null;){if(ee.key===Ue){if(Ue=oe.type,Ue===M){if(ee.tag===7){f(ie,ee.sibling),be=b(ee,oe.props.children),be.return=ie,ie=be;break e}}else if(ee.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===le&&xy(Ue)===ee.type){f(ie,ee.sibling),be=b(ee,oe.props),iu(be,oe),be.return=ie,ie=be;break e}f(ie,ee);break}else s(ie,ee);ee=ee.sibling}oe.type===M?(be=Rs(oe.props.children,ie.mode,be,oe.key),be.return=ie,ie=be):(be=Lc(oe.type,oe.key,oe.props,null,ie.mode,be),iu(be,oe),be.return=ie,ie=be)}return N(ie);case R:e:{for(Ue=oe.key;ee!==null;){if(ee.key===Ue)if(ee.tag===4&&ee.stateNode.containerInfo===oe.containerInfo&&ee.stateNode.implementation===oe.implementation){f(ie,ee.sibling),be=b(ee,oe.children||[]),be.return=ie,ie=be;break e}else{f(ie,ee);break}else s(ie,ee);ee=ee.sibling}be=ud(oe,ie.mode,be),be.return=ie,ie=be}return N(ie);case le:return Ue=oe._init,oe=Ue(oe._payload),Lt(ie,ee,oe,be)}if(ne(oe))return Ke(ie,ee,oe,be);if(pe(oe)){if(Ue=pe(oe),typeof Ue!="function")throw Error(a(150));return oe=Ue.call(oe),Ye(ie,ee,oe,be)}if(typeof oe.then=="function")return Lt(ie,ee,Jc(oe),be);if(oe.$$typeof===P)return Lt(ie,ee,Fc(ie,oe),be);ef(ie,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,ee!==null&&ee.tag===6?(f(ie,ee.sibling),be=b(ee,oe),be.return=ie,ie=be):(f(ie,ee),be=ld(oe,ie.mode,be),be.return=ie,ie=be),N(ie)):f(ie,ee)}return function(ie,ee,oe,be){try{ru=0;var Ue=Lt(ie,ee,oe,be);return ko=null,Ue}catch(He){if(He===Xl||He===zc)throw He;var lt=Lr(29,He,null,ie.mode);return lt.lanes=be,lt.return=ie,lt}finally{}}}var Bo=by(!0),Ey=by(!1),Zr=ye(null),ki=null;function Fa(r){var s=r.alternate;Oe(Bn,Bn.current&1),Oe(Zr,r),ki===null&&(s===null||Do.current!==null||s.memoizedState!==null)&&(ki=r)}function _y(r){if(r.tag===22){if(Oe(Bn,Bn.current),Oe(Zr,r),ki===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(ki=r)}}else qa()}function qa(){Oe(Bn,Bn.current),Oe(Zr,Zr.current)}function sa(r){Se(Zr),ki===r&&(ki=null),Se(Bn)}var Bn=ye(0);function tf(r){for(var s=r;s!==null;){if(s.tag===13){var f=s.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||N0(f)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function zd(r,s,f,m){s=r.memoizedState,f=f(m,s),f=f==null?s:E({},s,f),r.memoizedState=f,r.lanes===0&&(r.updateQueue.baseState=f)}var Hd={enqueueSetState:function(r,s,f){r=r._reactInternals;var m=Fr(),b=Pa(m);b.payload=s,f!=null&&(b.callback=f),s=Ua(r,b,m),s!==null&&(qr(s,r,m),$l(s,r,m))},enqueueReplaceState:function(r,s,f){r=r._reactInternals;var m=Fr(),b=Pa(m);b.tag=1,b.payload=s,f!=null&&(b.callback=f),s=Ua(r,b,m),s!==null&&(qr(s,r,m),$l(s,r,m))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var f=Fr(),m=Pa(f);m.tag=2,s!=null&&(m.callback=s),s=Ua(r,m,f),s!==null&&(qr(s,r,f),$l(s,r,f))}};function Ay(r,s,f,m,b,S,N){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,S,N):s.prototype&&s.prototype.isPureReactComponent?!d(f,m)||!d(b,S):!0}function Sy(r,s,f,m){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(f,m),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(f,m),s.state!==r&&Hd.enqueueReplaceState(s,s.state,null)}function Us(r,s){var f=s;if("ref"in s){f={};for(var m in s)m!=="ref"&&(f[m]=s[m])}if(r=r.defaultProps){f===s&&(f=E({},f));for(var b in r)f[b]===void 0&&(f[b]=r[b])}return f}var nf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Cy(r){nf(r)}function Ty(r){console.error(r)}function Oy(r){nf(r)}function rf(r,s){try{var f=r.onUncaughtError;f(s.value,{componentStack:s.stack})}catch(m){setTimeout(function(){throw m})}}function Ry(r,s,f){try{var m=r.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Gd(r,s,f){return f=Pa(f),f.tag=3,f.payload={element:null},f.callback=function(){rf(r,s)},f}function Dy(r){return r=Pa(r),r.tag=3,r}function Ny(r,s,f,m){var b=f.type.getDerivedStateFromError;if(typeof b=="function"){var S=m.value;r.payload=function(){return b(S)},r.callback=function(){Ry(s,f,m)}}var N=f.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(r.callback=function(){Ry(s,f,m),typeof b!="function"&&(Ya===null?Ya=new Set([this]):Ya.add(this));var U=m.stack;this.componentDidCatch(m.value,{componentStack:U!==null?U:""})})}function k8(r,s,f,m,b){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(s=f.alternate,s!==null&&Vl(s,f,b,!0),f=Zr.current,f!==null){switch(f.tag){case 13:return ki===null?g0():f.alternate===null&&fn===0&&(fn=3),f.flags&=-257,f.flags|=65536,f.lanes=b,m===wd?f.flags|=16384:(s=f.updateQueue,s===null?f.updateQueue=new Set([m]):s.add(m),p0(r,m,b)),!1;case 22:return f.flags|=65536,m===wd?f.flags|=16384:(s=f.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=s):(f=s.retryQueue,f===null?s.retryQueue=new Set([m]):f.add(m)),p0(r,m,b)),!1}throw Error(a(435,f.tag))}return p0(r,m,b),g0(),!1}if(At)return s=Zr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=b,m!==hd&&(r=Error(a(422),{cause:m}),Gl(Yr(r,f)))):(m!==hd&&(s=Error(a(423),{cause:m}),Gl(Yr(s,f))),r=r.current.alternate,r.flags|=65536,b&=-b,r.lanes|=b,m=Yr(m,f),b=Gd(r.stateNode,m,b),Ed(r,b),fn!==4&&(fn=2)),!1;var S=Error(a(520),{cause:m});if(S=Yr(S,f),fu===null?fu=[S]:fu.push(S),fn!==4&&(fn=2),s===null)return!0;m=Yr(m,f),f=s;do{switch(f.tag){case 3:return f.flags|=65536,r=b&-b,f.lanes|=r,r=Gd(f.stateNode,m,r),Ed(f,r),!1;case 1:if(s=f.type,S=f.stateNode,(f.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ya===null||!Ya.has(S))))return f.flags|=65536,b&=-b,f.lanes|=b,b=Dy(b),Ny(b,r,f,m),Ed(f,b),!1}f=f.return}while(f!==null);return!1}var My=Error(a(461)),Hn=!1;function $n(r,s,f,m){s.child=r===null?Ey(s,null,f,m):Bo(s,r.child,f,m)}function Iy(r,s,f,m,b){f=f.render;var S=s.ref;if("ref"in m){var N={};for(var U in m)U!=="ref"&&(N[U]=m[U])}else N=m;return Bs(s),m=Td(r,s,f,N,S,b),U=Od(),r!==null&&!Hn?(Rd(r,s,b),oa(r,s,b)):(At&&U&&cd(s),s.flags|=1,$n(r,s,m,b),s.child)}function ky(r,s,f,m,b){if(r===null){var S=f.type;return typeof S=="function"&&!od(S)&&S.defaultProps===void 0&&f.compare===null?(s.tag=15,s.type=S,By(r,s,S,m,b)):(r=Lc(f.type,null,m,s,s.mode,b),r.ref=s.ref,r.return=s,s.child=r)}if(S=r.child,!Qd(r,b)){var N=S.memoizedProps;if(f=f.compare,f=f!==null?f:d,f(N,m)&&r.ref===s.ref)return oa(r,s,b)}return s.flags|=1,r=ea(S,m),r.ref=s.ref,r.return=s,s.child=r}function By(r,s,f,m,b){if(r!==null){var S=r.memoizedProps;if(d(S,m)&&r.ref===s.ref)if(Hn=!1,s.pendingProps=m=S,Qd(r,b))(r.flags&131072)!==0&&(Hn=!0);else return s.lanes=r.lanes,oa(r,s,b)}return Vd(r,s,f,m,b)}function Ly(r,s,f){var m=s.pendingProps,b=m.children,S=r!==null?r.memoizedState:null;if(m.mode==="hidden"){if((s.flags&128)!==0){if(m=S!==null?S.baseLanes|f:f,r!==null){for(b=s.child=r.child,S=0;b!==null;)S=S|b.lanes|b.childLanes,b=b.sibling;s.childLanes=S&~m}else s.childLanes=0,s.child=null;return Py(r,s,m,f)}if((f&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&qc(s,S!==null?S.cachePool:null),S!==null?Bv(s,S):Ad(),_y(s);else return s.lanes=s.childLanes=536870912,Py(r,s,S!==null?S.baseLanes|f:f,f)}else S!==null?(qc(s,S.cachePool),Bv(s,S),qa(),s.memoizedState=null):(r!==null&&qc(s,null),Ad(),qa());return $n(r,s,b,f),s.child}function Py(r,s,f,m){var b=yd();return b=b===null?null:{parent:kn._currentValue,pool:b},s.memoizedState={baseLanes:f,cachePool:b},r!==null&&qc(s,null),Ad(),_y(s),r!==null&&Vl(r,s,m,!0),null}function af(r,s){var f=s.ref;if(f===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(a(284));(r===null||r.ref!==f)&&(s.flags|=4194816)}}function Vd(r,s,f,m,b){return Bs(s),f=Td(r,s,f,m,void 0,b),m=Od(),r!==null&&!Hn?(Rd(r,s,b),oa(r,s,b)):(At&&m&&cd(s),s.flags|=1,$n(r,s,f,b),s.child)}function Uy(r,s,f,m,b,S){return Bs(s),s.updateQueue=null,f=Pv(s,m,f,b),Lv(r),m=Od(),r!==null&&!Hn?(Rd(r,s,S),oa(r,s,S)):(At&&m&&cd(s),s.flags|=1,$n(r,s,f,S),s.child)}function jy(r,s,f,m,b){if(Bs(s),s.stateNode===null){var S=So,N=f.contextType;typeof N=="object"&&N!==null&&(S=ar(N)),S=new f(m,S),s.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Hd,s.stateNode=S,S._reactInternals=s,S=s.stateNode,S.props=m,S.state=s.memoizedState,S.refs={},xd(s),N=f.contextType,S.context=typeof N=="object"&&N!==null?ar(N):So,S.state=s.memoizedState,N=f.getDerivedStateFromProps,typeof N=="function"&&(zd(s,f,N,m),S.state=s.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(N=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),N!==S.state&&Hd.enqueueReplaceState(S,S.state,null),Ql(s,m,S,b),Zl(),S.state=s.memoizedState),typeof S.componentDidMount=="function"&&(s.flags|=4194308),m=!0}else if(r===null){S=s.stateNode;var U=s.memoizedProps,Y=Us(f,U);S.props=Y;var ue=S.context,we=f.contextType;N=So,typeof we=="object"&&we!==null&&(N=ar(we));var Ee=f.getDerivedStateFromProps;we=typeof Ee=="function"||typeof S.getSnapshotBeforeUpdate=="function",U=s.pendingProps!==U,we||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(U||ue!==N)&&Sy(s,S,m,N),La=!1;var he=s.memoizedState;S.state=he,Ql(s,m,S,b),Zl(),ue=s.memoizedState,U||he!==ue||La?(typeof Ee=="function"&&(zd(s,f,Ee,m),ue=s.memoizedState),(Y=La||Ay(s,f,Y,m,he,ue,N))?(we||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=m,s.memoizedState=ue),S.props=m,S.state=ue,S.context=N,m=Y):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),m=!1)}else{S=s.stateNode,bd(r,s),N=s.memoizedProps,we=Us(f,N),S.props=we,Ee=s.pendingProps,he=S.context,ue=f.contextType,Y=So,typeof ue=="object"&&ue!==null&&(Y=ar(ue)),U=f.getDerivedStateFromProps,(ue=typeof U=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(N!==Ee||he!==Y)&&Sy(s,S,m,Y),La=!1,he=s.memoizedState,S.state=he,Ql(s,m,S,b),Zl();var ge=s.memoizedState;N!==Ee||he!==ge||La||r!==null&&r.dependencies!==null&&jc(r.dependencies)?(typeof U=="function"&&(zd(s,f,U,m),ge=s.memoizedState),(we=La||Ay(s,f,we,m,he,ge,Y)||r!==null&&r.dependencies!==null&&jc(r.dependencies))?(ue||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,ge,Y),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,ge,Y)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||N===r.memoizedProps&&he===r.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&he===r.memoizedState||(s.flags|=1024),s.memoizedProps=m,s.memoizedState=ge),S.props=m,S.state=ge,S.context=Y,m=we):(typeof S.componentDidUpdate!="function"||N===r.memoizedProps&&he===r.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&he===r.memoizedState||(s.flags|=1024),m=!1)}return S=m,af(r,s),m=(s.flags&128)!==0,S||m?(S=s.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:S.render(),s.flags|=1,r!==null&&m?(s.child=Bo(s,r.child,null,b),s.child=Bo(s,null,f,b)):$n(r,s,f,b),s.memoizedState=S.state,r=s.child):r=oa(r,s,b),r}function Fy(r,s,f,m){return Hl(),s.flags|=256,$n(r,s,f,m),s.child}var Wd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yd(r){return{baseLanes:r,cachePool:Tv()}}function Xd(r,s,f){return r=r!==null?r.childLanes&~f:0,s&&(r|=Qr),r}function qy(r,s,f){var m=s.pendingProps,b=!1,S=(s.flags&128)!==0,N;if((N=S)||(N=r!==null&&r.memoizedState===null?!1:(Bn.current&2)!==0),N&&(b=!0,s.flags&=-129),N=(s.flags&32)!==0,s.flags&=-33,r===null){if(At){if(b?Fa(s):qa(),At){var U=cn,Y;if(Y=U){e:{for(Y=U,U=Ii;Y.nodeType!==8;){if(!U){U=null;break e}if(Y=di(Y.nextSibling),Y===null){U=null;break e}}U=Y}U!==null?(s.memoizedState={dehydrated:U,treeContext:Ds!==null?{id:ta,overflow:na}:null,retryLane:536870912,hydrationErrors:null},Y=Lr(18,null,null,0),Y.stateNode=U,Y.return=s,s.child=Y,pr=s,cn=null,Y=!0):Y=!1}Y||Is(s)}if(U=s.memoizedState,U!==null&&(U=U.dehydrated,U!==null))return N0(U)?s.lanes=32:s.lanes=536870912,null;sa(s)}return U=m.children,m=m.fallback,b?(qa(),b=s.mode,U=sf({mode:"hidden",children:U},b),m=Rs(m,b,f,null),U.return=s,m.return=s,U.sibling=m,s.child=U,b=s.child,b.memoizedState=Yd(f),b.childLanes=Xd(r,N,f),s.memoizedState=Wd,m):(Fa(s),Kd(s,U))}if(Y=r.memoizedState,Y!==null&&(U=Y.dehydrated,U!==null)){if(S)s.flags&256?(Fa(s),s.flags&=-257,s=$d(r,s,f)):s.memoizedState!==null?(qa(),s.child=r.child,s.flags|=128,s=null):(qa(),b=m.fallback,U=s.mode,m=sf({mode:"visible",children:m.children},U),b=Rs(b,U,f,null),b.flags|=2,m.return=s,b.return=s,m.sibling=b,s.child=m,Bo(s,r.child,null,f),m=s.child,m.memoizedState=Yd(f),m.childLanes=Xd(r,N,f),s.memoizedState=Wd,s=b);else if(Fa(s),N0(U)){if(N=U.nextSibling&&U.nextSibling.dataset,N)var ue=N.dgst;N=ue,m=Error(a(419)),m.stack="",m.digest=N,Gl({value:m,source:null,stack:null}),s=$d(r,s,f)}else if(Hn||Vl(r,s,f,!1),N=(f&r.childLanes)!==0,Hn||N){if(N=Gt,N!==null&&(m=f&-f,m=(m&42)!==0?1:ys(m),m=(m&(N.suspendedLanes|f))!==0?0:m,m!==0&&m!==Y.retryLane))throw Y.retryLane=m,Ao(r,m),qr(N,r,m),My;U.data==="$?"||g0(),s=$d(r,s,f)}else U.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=Y.treeContext,cn=di(U.nextSibling),pr=s,At=!0,Ms=null,Ii=!1,r!==null&&(Kr[$r++]=ta,Kr[$r++]=na,Kr[$r++]=Ds,ta=r.id,na=r.overflow,Ds=s),s=Kd(s,m.children),s.flags|=4096);return s}return b?(qa(),b=m.fallback,U=s.mode,Y=r.child,ue=Y.sibling,m=ea(Y,{mode:"hidden",children:m.children}),m.subtreeFlags=Y.subtreeFlags&65011712,ue!==null?b=ea(ue,b):(b=Rs(b,U,f,null),b.flags|=2),b.return=s,m.return=s,m.sibling=b,s.child=m,m=b,b=s.child,U=r.child.memoizedState,U===null?U=Yd(f):(Y=U.cachePool,Y!==null?(ue=kn._currentValue,Y=Y.parent!==ue?{parent:ue,pool:ue}:Y):Y=Tv(),U={baseLanes:U.baseLanes|f,cachePool:Y}),b.memoizedState=U,b.childLanes=Xd(r,N,f),s.memoizedState=Wd,m):(Fa(s),f=r.child,r=f.sibling,f=ea(f,{mode:"visible",children:m.children}),f.return=s,f.sibling=null,r!==null&&(N=s.deletions,N===null?(s.deletions=[r],s.flags|=16):N.push(r)),s.child=f,s.memoizedState=null,f)}function Kd(r,s){return s=sf({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function sf(r,s){return r=Lr(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function $d(r,s,f){return Bo(s,r.child,null,f),r=Kd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function zy(r,s,f){r.lanes|=s;var m=r.alternate;m!==null&&(m.lanes|=s),gd(r.return,s,f)}function Zd(r,s,f,m,b){var S=r.memoizedState;S===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:b}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=f,S.tailMode=b)}function Hy(r,s,f){var m=s.pendingProps,b=m.revealOrder,S=m.tail;if($n(r,s,m.children,f),m=Bn.current,(m&2)!==0)m=m&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&zy(r,f,s);else if(r.tag===19)zy(r,f,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}m&=1}switch(Oe(Bn,m),b){case"forwards":for(f=s.child,b=null;f!==null;)r=f.alternate,r!==null&&tf(r)===null&&(b=f),f=f.sibling;f=b,f===null?(b=s.child,s.child=null):(b=f.sibling,f.sibling=null),Zd(s,!1,b,f,S);break;case"backwards":for(f=null,b=s.child,s.child=null;b!==null;){if(r=b.alternate,r!==null&&tf(r)===null){s.child=b;break}r=b.sibling,b.sibling=f,f=b,b=r}Zd(s,!0,f,null,S);break;case"together":Zd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function oa(r,s,f){if(r!==null&&(s.dependencies=r.dependencies),Wa|=s.lanes,(f&s.childLanes)===0)if(r!==null){if(Vl(r,s,f,!1),(f&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(a(153));if(s.child!==null){for(r=s.child,f=ea(r,r.pendingProps),s.child=f,f.return=s;r.sibling!==null;)r=r.sibling,f=f.sibling=ea(r,r.pendingProps),f.return=s;f.sibling=null}return s.child}function Qd(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&jc(r)))}function B8(r,s,f){switch(s.tag){case 3:Ve(s,s.stateNode.containerInfo),Ba(s,kn,r.memoizedState.cache),Hl();break;case 27:case 5:Dr(s);break;case 4:Ve(s,s.stateNode.containerInfo);break;case 10:Ba(s,s.type,s.memoizedProps.value);break;case 13:var m=s.memoizedState;if(m!==null)return m.dehydrated!==null?(Fa(s),s.flags|=128,null):(f&s.child.childLanes)!==0?qy(r,s,f):(Fa(s),r=oa(r,s,f),r!==null?r.sibling:null);Fa(s);break;case 19:var b=(r.flags&128)!==0;if(m=(f&s.childLanes)!==0,m||(Vl(r,s,f,!1),m=(f&s.childLanes)!==0),b){if(m)return Hy(r,s,f);s.flags|=128}if(b=s.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Oe(Bn,Bn.current),m)break;return null;case 22:case 23:return s.lanes=0,Ly(r,s,f);case 24:Ba(s,kn,r.memoizedState.cache)}return oa(r,s,f)}function Gy(r,s,f){if(r!==null)if(r.memoizedProps!==s.pendingProps)Hn=!0;else{if(!Qd(r,f)&&(s.flags&128)===0)return Hn=!1,B8(r,s,f);Hn=(r.flags&131072)!==0}else Hn=!1,At&&(s.flags&1048576)!==0&&xv(s,Uc,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var m=s.elementType,b=m._init;if(m=b(m._payload),s.type=m,typeof m=="function")od(m)?(r=Us(m,r),s.tag=1,s=jy(null,s,m,r,f)):(s.tag=0,s=Vd(null,s,m,r,f));else{if(m!=null){if(b=m.$$typeof,b===F){s.tag=11,s=Iy(null,s,m,r,f);break e}else if(b===G){s.tag=14,s=ky(null,s,m,r,f);break e}}throw s=Ne(m)||m,Error(a(306,s,""))}}return s;case 0:return Vd(r,s,s.type,s.pendingProps,f);case 1:return m=s.type,b=Us(m,s.pendingProps),jy(r,s,m,b,f);case 3:e:{if(Ve(s,s.stateNode.containerInfo),r===null)throw Error(a(387));m=s.pendingProps;var S=s.memoizedState;b=S.element,bd(r,s),Ql(s,m,null,f);var N=s.memoizedState;if(m=N.cache,Ba(s,kn,m),m!==S.cache&&md(s,[kn],f,!0),Zl(),m=N.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:N.cache},s.updateQueue.baseState=S,s.memoizedState=S,s.flags&256){s=Fy(r,s,m,f);break e}else if(m!==b){b=Yr(Error(a(424)),s),Gl(b),s=Fy(r,s,m,f);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(cn=di(r.firstChild),pr=s,At=!0,Ms=null,Ii=!0,f=Ey(s,null,m,f),s.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Hl(),m===b){s=oa(r,s,f);break e}$n(r,s,m,f)}s=s.child}return s;case 26:return af(r,s),r===null?(f=Xw(s.type,null,s.pendingProps,null))?s.memoizedState=f:At||(f=s.type,r=s.pendingProps,m=xf(Ae.current).createElement(f),m[Fn]=s,m[on]=r,Qn(m,f,r),Tt(m),s.stateNode=m):s.memoizedState=Xw(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Dr(s),r===null&&At&&(m=s.stateNode=Vw(s.type,s.pendingProps,Ae.current),pr=s,Ii=!0,b=cn,$a(s.type)?(M0=b,cn=di(m.firstChild)):cn=b),$n(r,s,s.pendingProps.children,f),af(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&At&&((b=m=cn)&&(m=uC(m,s.type,s.pendingProps,Ii),m!==null?(s.stateNode=m,pr=s,cn=di(m.firstChild),Ii=!1,b=!0):b=!1),b||Is(s)),Dr(s),b=s.type,S=s.pendingProps,N=r!==null?r.memoizedProps:null,m=S.children,O0(b,S)?m=null:N!==null&&O0(b,N)&&(s.flags|=32),s.memoizedState!==null&&(b=Td(r,s,T8,null,null,f),xu._currentValue=b),af(r,s),$n(r,s,m,f),s.child;case 6:return r===null&&At&&((r=f=cn)&&(f=cC(f,s.pendingProps,Ii),f!==null?(s.stateNode=f,pr=s,cn=null,r=!0):r=!1),r||Is(s)),null;case 13:return qy(r,s,f);case 4:return Ve(s,s.stateNode.containerInfo),m=s.pendingProps,r===null?s.child=Bo(s,null,m,f):$n(r,s,m,f),s.child;case 11:return Iy(r,s,s.type,s.pendingProps,f);case 7:return $n(r,s,s.pendingProps,f),s.child;case 8:return $n(r,s,s.pendingProps.children,f),s.child;case 12:return $n(r,s,s.pendingProps.children,f),s.child;case 10:return m=s.pendingProps,Ba(s,s.type,m.value),$n(r,s,m.children,f),s.child;case 9:return b=s.type._context,m=s.pendingProps.children,Bs(s),b=ar(b),m=m(b),s.flags|=1,$n(r,s,m,f),s.child;case 14:return ky(r,s,s.type,s.pendingProps,f);case 15:return By(r,s,s.type,s.pendingProps,f);case 19:return Hy(r,s,f);case 31:return m=s.pendingProps,f=s.mode,m={mode:m.mode,children:m.children},r===null?(f=sf(m,f),f.ref=s.ref,s.child=f,f.return=s,s=f):(f=ea(r.child,m),f.ref=s.ref,s.child=f,f.return=s,s=f),s;case 22:return Ly(r,s,f);case 24:return Bs(s),m=ar(kn),r===null?(b=yd(),b===null&&(b=Gt,S=pd(),b.pooledCache=S,S.refCount++,S!==null&&(b.pooledCacheLanes|=f),b=S),s.memoizedState={parent:m,cache:b},xd(s),Ba(s,kn,b)):((r.lanes&f)!==0&&(bd(r,s),Ql(s,null,null,f),Zl()),b=r.memoizedState,S=s.memoizedState,b.parent!==m?(b={parent:m,cache:m},s.memoizedState=b,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=b),Ba(s,kn,m)):(m=S.cache,Ba(s,kn,m),m!==b.cache&&md(s,[kn],f,!0))),$n(r,s,s.pendingProps.children,f),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function la(r){r.flags|=4}function Vy(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Jw(s)){if(s=Zr.current,s!==null&&((wt&4194048)===wt?ki!==null:(wt&62914560)!==wt&&(wt&536870912)===0||s!==ki))throw Kl=wd,Ov;r.flags|=8192}}function of(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Nl():536870912,r.lanes|=s,jo|=s)}function au(r,s){if(!At)switch(r.tailMode){case"hidden":s=r.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?r.tail=null:f.sibling=null;break;case"collapsed":f=r.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function rn(r){var s=r.alternate!==null&&r.alternate.child===r.child,f=0,m=0;if(s)for(var b=r.child;b!==null;)f|=b.lanes|b.childLanes,m|=b.subtreeFlags&65011712,m|=b.flags&65011712,b.return=r,b=b.sibling;else for(b=r.child;b!==null;)f|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=r,b=b.sibling;return r.subtreeFlags|=m,r.childLanes=f,s}function L8(r,s,f){var m=s.pendingProps;switch(fd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(s),null;case 1:return rn(s),null;case 3:return f=s.stateNode,m=null,r!==null&&(m=r.memoizedState.cache),s.memoizedState.cache!==m&&(s.flags|=2048),ia(kn),En(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(zl(s)?la(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,_v())),rn(s),null;case 26:return f=s.memoizedState,r===null?(la(s),f!==null?(rn(s),Vy(s,f)):(rn(s),s.flags&=-16777217)):f?f!==r.memoizedState?(la(s),rn(s),Vy(s,f)):(rn(s),s.flags&=-16777217):(r.memoizedProps!==m&&la(s),rn(s),s.flags&=-16777217),null;case 27:Wt(s),f=Ae.current;var b=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==m&&la(s);else{if(!m){if(s.stateNode===null)throw Error(a(166));return rn(s),null}r=ke.current,zl(s)?bv(s):(r=Vw(b,m,f),s.stateNode=r,la(s))}return rn(s),null;case 5:if(Wt(s),f=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==m&&la(s);else{if(!m){if(s.stateNode===null)throw Error(a(166));return rn(s),null}if(r=ke.current,zl(s))bv(s);else{switch(b=xf(Ae.current),r){case 1:r=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:r=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":r=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":r=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":r=b.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof m.is=="string"?b.createElement("select",{is:m.is}):b.createElement("select"),m.multiple?r.multiple=!0:m.size&&(r.size=m.size);break;default:r=typeof m.is=="string"?b.createElement(f,{is:m.is}):b.createElement(f)}}r[Fn]=s,r[on]=m;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)r.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=r;e:switch(Qn(r,f,m),f){case"button":case"input":case"select":case"textarea":r=!!m.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&la(s)}}return rn(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==m&&la(s);else{if(typeof m!="string"&&s.stateNode===null)throw Error(a(166));if(r=Ae.current,zl(s)){if(r=s.stateNode,f=s.memoizedProps,m=null,b=pr,b!==null)switch(b.tag){case 27:case 5:m=b.memoizedProps}r[Fn]=s,r=!!(r.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||Uw(r.nodeValue,f)),r||Is(s)}else r=xf(r).createTextNode(m),r[Fn]=s,s.stateNode=r}return rn(s),null;case 13:if(m=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(b=zl(s),m!==null&&m.dehydrated!==null){if(r===null){if(!b)throw Error(a(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(a(317));b[Fn]=s}else Hl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rn(s),b=!1}else b=_v(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=b),b=!0;if(!b)return s.flags&256?(sa(s),s):(sa(s),null)}if(sa(s),(s.flags&128)!==0)return s.lanes=f,s;if(f=m!==null,r=r!==null&&r.memoizedState!==null,f){m=s.child,b=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(b=m.alternate.memoizedState.cachePool.pool);var S=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==b&&(m.flags|=2048)}return f!==r&&f&&(s.child.flags|=8192),of(s,s.updateQueue),rn(s),null;case 4:return En(),r===null&&_0(s.stateNode.containerInfo),rn(s),null;case 10:return ia(s.type),rn(s),null;case 19:if(Se(Bn),b=s.memoizedState,b===null)return rn(s),null;if(m=(s.flags&128)!==0,S=b.rendering,S===null)if(m)au(b,!1);else{if(fn!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(S=tf(r),S!==null){for(s.flags|=128,au(b,!1),r=S.updateQueue,s.updateQueue=r,of(s,r),s.subtreeFlags=0,r=f,f=s.child;f!==null;)wv(f,r),f=f.sibling;return Oe(Bn,Bn.current&1|2),s.child}r=r.sibling}b.tail!==null&&Fe()>cf&&(s.flags|=128,m=!0,au(b,!1),s.lanes=4194304)}else{if(!m)if(r=tf(S),r!==null){if(s.flags|=128,m=!0,r=r.updateQueue,s.updateQueue=r,of(s,r),au(b,!0),b.tail===null&&b.tailMode==="hidden"&&!S.alternate&&!At)return rn(s),null}else 2*Fe()-b.renderingStartTime>cf&&f!==536870912&&(s.flags|=128,m=!0,au(b,!1),s.lanes=4194304);b.isBackwards?(S.sibling=s.child,s.child=S):(r=b.last,r!==null?r.sibling=S:s.child=S,b.last=S)}return b.tail!==null?(s=b.tail,b.rendering=s,b.tail=s.sibling,b.renderingStartTime=Fe(),s.sibling=null,r=Bn.current,Oe(Bn,m?r&1|2:r&1),s):(rn(s),null);case 22:case 23:return sa(s),Sd(),m=s.memoizedState!==null,r!==null?r.memoizedState!==null!==m&&(s.flags|=8192):m&&(s.flags|=8192),m?(f&536870912)!==0&&(s.flags&128)===0&&(rn(s),s.subtreeFlags&6&&(s.flags|=8192)):rn(s),f=s.updateQueue,f!==null&&of(s,f.retryQueue),f=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==f&&(s.flags|=2048),r!==null&&Se(Ls),null;case 24:return f=null,r!==null&&(f=r.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),ia(kn),rn(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function P8(r,s){switch(fd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ia(kn),En(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Wt(s),null;case 13:if(sa(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(a(340));Hl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Se(Bn),null;case 4:return En(),null;case 10:return ia(s.type),null;case 22:case 23:return sa(s),Sd(),r!==null&&Se(Ls),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return ia(kn),null;case 25:return null;default:return null}}function Wy(r,s){switch(fd(s),s.tag){case 3:ia(kn),En();break;case 26:case 27:case 5:Wt(s);break;case 4:En();break;case 13:sa(s);break;case 19:Se(Bn);break;case 10:ia(s.type);break;case 22:case 23:sa(s),Sd(),r!==null&&Se(Ls);break;case 24:ia(kn)}}function su(r,s){try{var f=s.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var b=m.next;f=b;do{if((f.tag&r)===r){m=void 0;var S=f.create,N=f.inst;m=S(),N.destroy=m}f=f.next}while(f!==b)}}catch(U){Ft(s,s.return,U)}}function za(r,s,f){try{var m=s.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var S=b.next;m=S;do{if((m.tag&r)===r){var N=m.inst,U=N.destroy;if(U!==void 0){N.destroy=void 0,b=s;var Y=f,ue=U;try{ue()}catch(we){Ft(b,Y,we)}}}m=m.next}while(m!==S)}}catch(we){Ft(s,s.return,we)}}function Yy(r){var s=r.updateQueue;if(s!==null){var f=r.stateNode;try{kv(s,f)}catch(m){Ft(r,r.return,m)}}}function Xy(r,s,f){f.props=Us(r.type,r.memoizedProps),f.state=r.memoizedState;try{f.componentWillUnmount()}catch(m){Ft(r,s,m)}}function ou(r,s){try{var f=r.ref;if(f!==null){switch(r.tag){case 26:case 27:case 5:var m=r.stateNode;break;case 30:m=r.stateNode;break;default:m=r.stateNode}typeof f=="function"?r.refCleanup=f(m):f.current=m}}catch(b){Ft(r,s,b)}}function Bi(r,s){var f=r.ref,m=r.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(b){Ft(r,s,b)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(b){Ft(r,s,b)}else f.current=null}function Ky(r){var s=r.type,f=r.memoizedProps,m=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(b){Ft(r,r.return,b)}}function Jd(r,s,f){try{var m=r.stateNode;iC(m,r.type,f,s),m[on]=s}catch(b){Ft(r,r.return,b)}}function $y(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&$a(r.type)||r.tag===4}function e0(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||$y(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&$a(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function t0(r,s,f){var m=r.tag;if(m===5||m===6)r=r.stateNode,s?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(r,s):(s=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,s.appendChild(r),f=f._reactRootContainer,f!=null||s.onclick!==null||(s.onclick=wf));else if(m!==4&&(m===27&&$a(r.type)&&(f=r.stateNode,s=null),r=r.child,r!==null))for(t0(r,s,f),r=r.sibling;r!==null;)t0(r,s,f),r=r.sibling}function lf(r,s,f){var m=r.tag;if(m===5||m===6)r=r.stateNode,s?f.insertBefore(r,s):f.appendChild(r);else if(m!==4&&(m===27&&$a(r.type)&&(f=r.stateNode),r=r.child,r!==null))for(lf(r,s,f),r=r.sibling;r!==null;)lf(r,s,f),r=r.sibling}function Zy(r){var s=r.stateNode,f=r.memoizedProps;try{for(var m=r.type,b=s.attributes;b.length;)s.removeAttributeNode(b[0]);Qn(s,m,f),s[Fn]=r,s[on]=f}catch(S){Ft(r,r.return,S)}}var ua=!1,bn=!1,n0=!1,Qy=typeof WeakSet=="function"?WeakSet:Set,Gn=null;function U8(r,s){if(r=r.containerInfo,C0=Cf,r=C(r),O(r)){if("selectionStart"in r)var f={start:r.selectionStart,end:r.selectionEnd};else e:{f=(f=r.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var b=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var N=0,U=-1,Y=-1,ue=0,we=0,Ee=r,he=null;t:for(;;){for(var ge;Ee!==f||b!==0&&Ee.nodeType!==3||(U=N+b),Ee!==S||m!==0&&Ee.nodeType!==3||(Y=N+m),Ee.nodeType===3&&(N+=Ee.nodeValue.length),(ge=Ee.firstChild)!==null;)he=Ee,Ee=ge;for(;;){if(Ee===r)break t;if(he===f&&++ue===b&&(U=N),he===S&&++we===m&&(Y=N),(ge=Ee.nextSibling)!==null)break;Ee=he,he=Ee.parentNode}Ee=ge}f=U===-1||Y===-1?null:{start:U,end:Y}}else f=null}f=f||{start:0,end:0}}else f=null;for(T0={focusedElem:r,selectionRange:f},Cf=!1,Gn=s;Gn!==null;)if(s=Gn,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Gn=r;else for(;Gn!==null;){switch(s=Gn,S=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&S!==null){r=void 0,f=s,b=S.memoizedProps,S=S.memoizedState,m=f.stateNode;try{var Ke=Us(f.type,b,f.elementType===f.type);r=m.getSnapshotBeforeUpdate(Ke,S),m.__reactInternalSnapshotBeforeUpdate=r}catch(Ye){Ft(f,f.return,Ye)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,f=r.nodeType,f===9)D0(r);else if(f===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":D0(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=s.sibling,r!==null){r.return=s.return,Gn=r;break}Gn=s.return}}function Jy(r,s,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:Ha(r,f),m&4&&su(5,f);break;case 1:if(Ha(r,f),m&4)if(r=f.stateNode,s===null)try{r.componentDidMount()}catch(N){Ft(f,f.return,N)}else{var b=Us(f.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(b,s,r.__reactInternalSnapshotBeforeUpdate)}catch(N){Ft(f,f.return,N)}}m&64&&Yy(f),m&512&&ou(f,f.return);break;case 3:if(Ha(r,f),m&64&&(r=f.updateQueue,r!==null)){if(s=null,f.child!==null)switch(f.child.tag){case 27:case 5:s=f.child.stateNode;break;case 1:s=f.child.stateNode}try{kv(r,s)}catch(N){Ft(f,f.return,N)}}break;case 27:s===null&&m&4&&Zy(f);case 26:case 5:Ha(r,f),s===null&&m&4&&Ky(f),m&512&&ou(f,f.return);break;case 12:Ha(r,f);break;case 13:Ha(r,f),m&4&&nw(r,f),m&64&&(r=f.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(f=Y8.bind(null,f),fC(r,f))));break;case 22:if(m=f.memoizedState!==null||ua,!m){s=s!==null&&s.memoizedState!==null||bn,b=ua;var S=bn;ua=m,(bn=s)&&!S?Ga(r,f,(f.subtreeFlags&8772)!==0):Ha(r,f),ua=b,bn=S}break;case 30:break;default:Ha(r,f)}}function ew(r){var s=r.alternate;s!==null&&(r.alternate=null,ew(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&ws(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Jt=null,_r=!1;function ca(r,s,f){for(f=f.child;f!==null;)tw(r,s,f),f=f.sibling}function tw(r,s,f){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(an,f)}catch{}switch(f.tag){case 26:bn||Bi(f,s),ca(r,s,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:bn||Bi(f,s);var m=Jt,b=_r;$a(f.type)&&(Jt=f.stateNode,_r=!1),ca(r,s,f),pu(f.stateNode),Jt=m,_r=b;break;case 5:bn||Bi(f,s);case 6:if(m=Jt,b=_r,Jt=null,ca(r,s,f),Jt=m,_r=b,Jt!==null)if(_r)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(f.stateNode)}catch(S){Ft(f,s,S)}else try{Jt.removeChild(f.stateNode)}catch(S){Ft(f,s,S)}break;case 18:Jt!==null&&(_r?(r=Jt,Hw(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,f.stateNode),Au(r)):Hw(Jt,f.stateNode));break;case 4:m=Jt,b=_r,Jt=f.stateNode.containerInfo,_r=!0,ca(r,s,f),Jt=m,_r=b;break;case 0:case 11:case 14:case 15:bn||za(2,f,s),bn||za(4,f,s),ca(r,s,f);break;case 1:bn||(Bi(f,s),m=f.stateNode,typeof m.componentWillUnmount=="function"&&Xy(f,s,m)),ca(r,s,f);break;case 21:ca(r,s,f);break;case 22:bn=(m=bn)||f.memoizedState!==null,ca(r,s,f),bn=m;break;default:ca(r,s,f)}}function nw(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Au(r)}catch(f){Ft(s,s.return,f)}}function j8(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new Qy),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new Qy),s;default:throw Error(a(435,r.tag))}}function r0(r,s){var f=j8(r);s.forEach(function(m){var b=X8.bind(null,r,m);f.has(m)||(f.add(m),m.then(b,b))})}function Pr(r,s){var f=s.deletions;if(f!==null)for(var m=0;m<f.length;m++){var b=f[m],S=r,N=s,U=N;e:for(;U!==null;){switch(U.tag){case 27:if($a(U.type)){Jt=U.stateNode,_r=!1;break e}break;case 5:Jt=U.stateNode,_r=!1;break e;case 3:case 4:Jt=U.stateNode.containerInfo,_r=!0;break e}U=U.return}if(Jt===null)throw Error(a(160));tw(S,N,b),Jt=null,_r=!1,S=b.alternate,S!==null&&(S.return=null),b.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)rw(s,r),s=s.sibling}var hi=null;function rw(r,s){var f=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Pr(s,r),Ur(r),m&4&&(za(3,r,r.return),su(3,r),za(5,r,r.return));break;case 1:Pr(s,r),Ur(r),m&512&&(bn||f===null||Bi(f,f.return)),m&64&&ua&&(r=r.updateQueue,r!==null&&(m=r.callbacks,m!==null&&(f=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var b=hi;if(Pr(s,r),Ur(r),m&512&&(bn||f===null||Bi(f,f.return)),m&4){var S=f!==null?f.memoizedState:null;if(m=r.memoizedState,f===null)if(m===null)if(r.stateNode===null){e:{m=r.type,f=r.memoizedProps,b=b.ownerDocument||b;t:switch(m){case"title":S=b.getElementsByTagName("title")[0],(!S||S[Vr]||S[Fn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=b.createElement(m),b.head.insertBefore(S,b.querySelector("head > title"))),Qn(S,m,f),S[Fn]=r,Tt(S),m=S;break e;case"link":var N=Zw("link","href",b).get(m+(f.href||""));if(N){for(var U=0;U<N.length;U++)if(S=N[U],S.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&S.getAttribute("rel")===(f.rel==null?null:f.rel)&&S.getAttribute("title")===(f.title==null?null:f.title)&&S.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){N.splice(U,1);break t}}S=b.createElement(m),Qn(S,m,f),b.head.appendChild(S);break;case"meta":if(N=Zw("meta","content",b).get(m+(f.content||""))){for(U=0;U<N.length;U++)if(S=N[U],S.getAttribute("content")===(f.content==null?null:""+f.content)&&S.getAttribute("name")===(f.name==null?null:f.name)&&S.getAttribute("property")===(f.property==null?null:f.property)&&S.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&S.getAttribute("charset")===(f.charSet==null?null:f.charSet)){N.splice(U,1);break t}}S=b.createElement(m),Qn(S,m,f),b.head.appendChild(S);break;default:throw Error(a(468,m))}S[Fn]=r,Tt(S),m=S}r.stateNode=m}else Qw(b,r.type,r.stateNode);else r.stateNode=$w(b,m,r.memoizedProps);else S!==m?(S===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):S.count--,m===null?Qw(b,r.type,r.stateNode):$w(b,m,r.memoizedProps)):m===null&&r.stateNode!==null&&Jd(r,r.memoizedProps,f.memoizedProps)}break;case 27:Pr(s,r),Ur(r),m&512&&(bn||f===null||Bi(f,f.return)),f!==null&&m&4&&Jd(r,r.memoizedProps,f.memoizedProps);break;case 5:if(Pr(s,r),Ur(r),m&512&&(bn||f===null||Bi(f,f.return)),r.flags&32){b=r.stateNode;try{Nn(b,"")}catch(ge){Ft(r,r.return,ge)}}m&4&&r.stateNode!=null&&(b=r.memoizedProps,Jd(r,b,f!==null?f.memoizedProps:b)),m&1024&&(n0=!0);break;case 6:if(Pr(s,r),Ur(r),m&4){if(r.stateNode===null)throw Error(a(162));m=r.memoizedProps,f=r.stateNode;try{f.nodeValue=m}catch(ge){Ft(r,r.return,ge)}}break;case 3:if(_f=null,b=hi,hi=bf(s.containerInfo),Pr(s,r),hi=b,Ur(r),m&4&&f!==null&&f.memoizedState.isDehydrated)try{Au(s.containerInfo)}catch(ge){Ft(r,r.return,ge)}n0&&(n0=!1,iw(r));break;case 4:m=hi,hi=bf(r.stateNode.containerInfo),Pr(s,r),Ur(r),hi=m;break;case 12:Pr(s,r),Ur(r);break;case 13:Pr(s,r),Ur(r),r.child.flags&8192&&r.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(u0=Fe()),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,r0(r,m)));break;case 22:b=r.memoizedState!==null;var Y=f!==null&&f.memoizedState!==null,ue=ua,we=bn;if(ua=ue||b,bn=we||Y,Pr(s,r),bn=we,ua=ue,Ur(r),m&8192)e:for(s=r.stateNode,s._visibility=b?s._visibility&-2:s._visibility|1,b&&(f===null||Y||ua||bn||js(r)),f=null,s=r;;){if(s.tag===5||s.tag===26){if(f===null){Y=f=s;try{if(S=Y.stateNode,b)N=S.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{U=Y.stateNode;var Ee=Y.memoizedProps.style,he=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;U.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(ge){Ft(Y,Y.return,ge)}}}else if(s.tag===6){if(f===null){Y=s;try{Y.stateNode.nodeValue=b?"":Y.memoizedProps}catch(ge){Ft(Y,Y.return,ge)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;f===s&&(f=null),s=s.return}f===s&&(f=null),s.sibling.return=s.return,s=s.sibling}m&4&&(m=r.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,r0(r,f))));break;case 19:Pr(s,r),Ur(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,r0(r,m)));break;case 30:break;case 21:break;default:Pr(s,r),Ur(r)}}function Ur(r){var s=r.flags;if(s&2){try{for(var f,m=r.return;m!==null;){if($y(m)){f=m;break}m=m.return}if(f==null)throw Error(a(160));switch(f.tag){case 27:var b=f.stateNode,S=e0(r);lf(r,S,b);break;case 5:var N=f.stateNode;f.flags&32&&(Nn(N,""),f.flags&=-33);var U=e0(r);lf(r,U,N);break;case 3:case 4:var Y=f.stateNode.containerInfo,ue=e0(r);t0(r,ue,Y);break;default:throw Error(a(161))}}catch(we){Ft(r,r.return,we)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function iw(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;iw(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Ha(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Jy(r,s.alternate,s),s=s.sibling}function js(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:za(4,s,s.return),js(s);break;case 1:Bi(s,s.return);var f=s.stateNode;typeof f.componentWillUnmount=="function"&&Xy(s,s.return,f),js(s);break;case 27:pu(s.stateNode);case 26:case 5:Bi(s,s.return),js(s);break;case 22:s.memoizedState===null&&js(s);break;case 30:js(s);break;default:js(s)}r=r.sibling}}function Ga(r,s,f){for(f=f&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var m=s.alternate,b=r,S=s,N=S.flags;switch(S.tag){case 0:case 11:case 15:Ga(b,S,f),su(4,S);break;case 1:if(Ga(b,S,f),m=S,b=m.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(ue){Ft(m,m.return,ue)}if(m=S,b=m.updateQueue,b!==null){var U=m.stateNode;try{var Y=b.shared.hiddenCallbacks;if(Y!==null)for(b.shared.hiddenCallbacks=null,b=0;b<Y.length;b++)Iv(Y[b],U)}catch(ue){Ft(m,m.return,ue)}}f&&N&64&&Yy(S),ou(S,S.return);break;case 27:Zy(S);case 26:case 5:Ga(b,S,f),f&&m===null&&N&4&&Ky(S),ou(S,S.return);break;case 12:Ga(b,S,f);break;case 13:Ga(b,S,f),f&&N&4&&nw(b,S);break;case 22:S.memoizedState===null&&Ga(b,S,f),ou(S,S.return);break;case 30:break;default:Ga(b,S,f)}s=s.sibling}}function i0(r,s){var f=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==f&&(r!=null&&r.refCount++,f!=null&&Wl(f))}function a0(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Wl(r))}function Li(r,s,f,m){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)aw(r,s,f,m),s=s.sibling}function aw(r,s,f,m){var b=s.flags;switch(s.tag){case 0:case 11:case 15:Li(r,s,f,m),b&2048&&su(9,s);break;case 1:Li(r,s,f,m);break;case 3:Li(r,s,f,m),b&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Wl(r)));break;case 12:if(b&2048){Li(r,s,f,m),r=s.stateNode;try{var S=s.memoizedProps,N=S.id,U=S.onPostCommit;typeof U=="function"&&U(N,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(Y){Ft(s,s.return,Y)}}else Li(r,s,f,m);break;case 13:Li(r,s,f,m);break;case 23:break;case 22:S=s.stateNode,N=s.alternate,s.memoizedState!==null?S._visibility&2?Li(r,s,f,m):lu(r,s):S._visibility&2?Li(r,s,f,m):(S._visibility|=2,Lo(r,s,f,m,(s.subtreeFlags&10256)!==0)),b&2048&&i0(N,s);break;case 24:Li(r,s,f,m),b&2048&&a0(s.alternate,s);break;default:Li(r,s,f,m)}}function Lo(r,s,f,m,b){for(b=b&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var S=r,N=s,U=f,Y=m,ue=N.flags;switch(N.tag){case 0:case 11:case 15:Lo(S,N,U,Y,b),su(8,N);break;case 23:break;case 22:var we=N.stateNode;N.memoizedState!==null?we._visibility&2?Lo(S,N,U,Y,b):lu(S,N):(we._visibility|=2,Lo(S,N,U,Y,b)),b&&ue&2048&&i0(N.alternate,N);break;case 24:Lo(S,N,U,Y,b),b&&ue&2048&&a0(N.alternate,N);break;default:Lo(S,N,U,Y,b)}s=s.sibling}}function lu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var f=r,m=s,b=m.flags;switch(m.tag){case 22:lu(f,m),b&2048&&i0(m.alternate,m);break;case 24:lu(f,m),b&2048&&a0(m.alternate,m);break;default:lu(f,m)}s=s.sibling}}var uu=8192;function Po(r){if(r.subtreeFlags&uu)for(r=r.child;r!==null;)sw(r),r=r.sibling}function sw(r){switch(r.tag){case 26:Po(r),r.flags&uu&&r.memoizedState!==null&&AC(hi,r.memoizedState,r.memoizedProps);break;case 5:Po(r);break;case 3:case 4:var s=hi;hi=bf(r.stateNode.containerInfo),Po(r),hi=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=uu,uu=16777216,Po(r),uu=s):Po(r));break;default:Po(r)}}function ow(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function cu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var f=0;f<s.length;f++){var m=s[f];Gn=m,uw(m,r)}ow(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)lw(r),r=r.sibling}function lw(r){switch(r.tag){case 0:case 11:case 15:cu(r),r.flags&2048&&za(9,r,r.return);break;case 3:cu(r);break;case 12:cu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,uf(r)):cu(r);break;default:cu(r)}}function uf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var f=0;f<s.length;f++){var m=s[f];Gn=m,uw(m,r)}ow(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:za(8,s,s.return),uf(s);break;case 22:f=s.stateNode,f._visibility&2&&(f._visibility&=-3,uf(s));break;default:uf(s)}r=r.sibling}}function uw(r,s){for(;Gn!==null;){var f=Gn;switch(f.tag){case 0:case 11:case 15:za(8,f,s);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Wl(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,Gn=m;else e:for(f=r;Gn!==null;){m=Gn;var b=m.sibling,S=m.return;if(ew(m),m===f){Gn=null;break e}if(b!==null){b.return=S,Gn=b;break e}Gn=S}}}var F8={getCacheForType:function(r){var s=ar(kn),f=s.data.get(r);return f===void 0&&(f=r(),s.data.set(r,f)),f}},q8=typeof WeakMap=="function"?WeakMap:Map,Dt=0,Gt=null,ft=null,wt=0,Nt=0,jr=null,Va=!1,Uo=!1,s0=!1,fa=0,fn=0,Wa=0,Fs=0,o0=0,Qr=0,jo=0,fu=null,Ar=null,l0=!1,u0=0,cf=1/0,ff=null,Ya=null,Zn=0,Xa=null,Fo=null,qo=0,c0=0,f0=null,cw=null,hu=0,h0=null;function Fr(){if((Dt&2)!==0&&wt!==0)return wt&-wt;if(re.T!==null){var r=Oo;return r!==0?r:w0()}return Yi()}function fw(){Qr===0&&(Qr=(wt&536870912)===0||At?lo():536870912);var r=Zr.current;return r!==null&&(r.flags|=32),Qr}function qr(r,s,f){(r===Gt&&(Nt===2||Nt===9)||r.cancelPendingCommit!==null)&&(zo(r,0),Ka(r,wt,Qr,!1)),Mr(r,f),((Dt&2)===0||r!==Gt)&&(r===Gt&&((Dt&2)===0&&(Fs|=f),fn===4&&Ka(r,wt,Qr,!1)),Pi(r))}function hw(r,s,f){if((Dt&6)!==0)throw Error(a(327));var m=!f&&(s&124)===0&&(s&r.expiredLanes)===0||It(r,s),b=m?G8(r,s):m0(r,s,!0),S=m;do{if(b===0){Uo&&!m&&Ka(r,s,0,!1);break}else{if(f=r.current.alternate,S&&!z8(f)){b=m0(r,s,!1),S=!1;continue}if(b===2){if(S=s,r.errorRecoveryDisabledLanes&S)var N=0;else N=r.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){s=N;e:{var U=r;b=fu;var Y=U.current.memoizedState.isDehydrated;if(Y&&(zo(U,N).flags|=256),N=m0(U,N,!1),N!==2){if(s0&&!Y){U.errorRecoveryDisabledLanes|=S,Fs|=S,b=4;break e}S=Ar,Ar=b,S!==null&&(Ar===null?Ar=S:Ar.push.apply(Ar,S))}b=N}if(S=!1,b!==2)continue}}if(b===1){zo(r,0),Ka(r,s,0,!0);break}e:{switch(m=r,S=b,S){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:Ka(m,s,Qr,!Va);break e;case 2:Ar=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(b=u0+300-Fe(),10<b)){if(Ka(m,s,Qr,!Va),bt(m,0,!0)!==0)break e;m.timeoutHandle=qw(dw.bind(null,m,f,Ar,ff,l0,s,Qr,Fs,jo,Va,S,2,-0,0),b);break e}dw(m,f,Ar,ff,l0,s,Qr,Fs,jo,Va,S,0,-0,0)}}break}while(!0);Pi(r)}function dw(r,s,f,m,b,S,N,U,Y,ue,we,Ee,he,ge){if(r.timeoutHandle=-1,Ee=s.subtreeFlags,(Ee&8192||(Ee&16785408)===16785408)&&(wu={stylesheets:null,count:0,unsuspend:_C},sw(s),Ee=SC(),Ee!==null)){r.cancelPendingCommit=Ee(xw.bind(null,r,s,S,f,m,b,N,U,Y,we,1,he,ge)),Ka(r,S,N,!ue);return}xw(r,s,S,f,m,b,N,U,Y)}function z8(r){for(var s=r;;){var f=s.tag;if((f===0||f===11||f===15)&&s.flags&16384&&(f=s.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var b=f[m],S=b.getSnapshot;b=b.value;try{if(!h(S(),b))return!1}catch{return!1}}if(f=s.child,s.subtreeFlags&16384&&f!==null)f.return=s,s=f;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ka(r,s,f,m){s&=~o0,s&=~Fs,r.suspendedLanes|=s,r.pingedLanes&=~s,m&&(r.warmLanes|=s),m=r.expirationTimes;for(var b=s;0<b;){var S=31-xt(b),N=1<<S;m[S]=-1,b&=~N}f!==0&&Ml(r,f,s)}function hf(){return(Dt&6)===0?(du(0),!1):!0}function d0(){if(ft!==null){if(Nt===0)var r=ft.return;else r=ft,ra=ks=null,Dd(r),ko=null,ru=0,r=ft;for(;r!==null;)Wy(r.alternate,r),r=r.return;ft=null}}function zo(r,s){var f=r.timeoutHandle;f!==-1&&(r.timeoutHandle=-1,sC(f)),f=r.cancelPendingCommit,f!==null&&(r.cancelPendingCommit=null,f()),d0(),Gt=r,ft=f=ea(r.current,null),wt=s,Nt=0,jr=null,Va=!1,Uo=It(r,s),s0=!1,jo=Qr=o0=Fs=Wa=fn=0,Ar=fu=null,l0=!1,(s&8)!==0&&(s|=s&32);var m=r.entangledLanes;if(m!==0)for(r=r.entanglements,m&=s;0<m;){var b=31-xt(m),S=1<<b;s|=r[b],m&=~S}return fa=s,Ic(),f}function gw(r,s){ot=null,re.H=Qc,s===Xl||s===zc?(s=Nv(),Nt=3):s===Ov?(s=Nv(),Nt=4):Nt=s===My?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,jr=s,ft===null&&(fn=1,rf(r,Yr(s,r.current)))}function mw(){var r=re.H;return re.H=Qc,r===null?Qc:r}function pw(){var r=re.A;return re.A=F8,r}function g0(){fn=4,Va||(wt&4194048)!==wt&&Zr.current!==null||(Uo=!0),(Wa&134217727)===0&&(Fs&134217727)===0||Gt===null||Ka(Gt,wt,Qr,!1)}function m0(r,s,f){var m=Dt;Dt|=2;var b=mw(),S=pw();(Gt!==r||wt!==s)&&(ff=null,zo(r,s)),s=!1;var N=fn;e:do try{if(Nt!==0&&ft!==null){var U=ft,Y=jr;switch(Nt){case 8:d0(),N=6;break e;case 3:case 2:case 9:case 6:Zr.current===null&&(s=!0);var ue=Nt;if(Nt=0,jr=null,Ho(r,U,Y,ue),f&&Uo){N=0;break e}break;default:ue=Nt,Nt=0,jr=null,Ho(r,U,Y,ue)}}H8(),N=fn;break}catch(we){gw(r,we)}while(!0);return s&&r.shellSuspendCounter++,ra=ks=null,Dt=m,re.H=b,re.A=S,ft===null&&(Gt=null,wt=0,Ic()),N}function H8(){for(;ft!==null;)vw(ft)}function G8(r,s){var f=Dt;Dt|=2;var m=mw(),b=pw();Gt!==r||wt!==s?(ff=null,cf=Fe()+500,zo(r,s)):Uo=It(r,s);e:do try{if(Nt!==0&&ft!==null){s=ft;var S=jr;t:switch(Nt){case 1:Nt=0,jr=null,Ho(r,s,S,1);break;case 2:case 9:if(Rv(S)){Nt=0,jr=null,yw(s);break}s=function(){Nt!==2&&Nt!==9||Gt!==r||(Nt=7),Pi(r)},S.then(s,s);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:Rv(S)?(Nt=0,jr=null,yw(s)):(Nt=0,jr=null,Ho(r,s,S,7));break;case 5:var N=null;switch(ft.tag){case 26:N=ft.memoizedState;case 5:case 27:var U=ft;if(!N||Jw(N)){Nt=0,jr=null;var Y=U.sibling;if(Y!==null)ft=Y;else{var ue=U.return;ue!==null?(ft=ue,df(ue)):ft=null}break t}}Nt=0,jr=null,Ho(r,s,S,5);break;case 6:Nt=0,jr=null,Ho(r,s,S,6);break;case 8:d0(),fn=6;break e;default:throw Error(a(462))}}V8();break}catch(we){gw(r,we)}while(!0);return ra=ks=null,re.H=m,re.A=b,Dt=f,ft!==null?0:(Gt=null,wt=0,Ic(),fn)}function V8(){for(;ft!==null&&!nt();)vw(ft)}function vw(r){var s=Gy(r.alternate,r,fa);r.memoizedProps=r.pendingProps,s===null?df(r):ft=s}function yw(r){var s=r,f=s.alternate;switch(s.tag){case 15:case 0:s=Uy(f,s,s.pendingProps,s.type,void 0,wt);break;case 11:s=Uy(f,s,s.pendingProps,s.type.render,s.ref,wt);break;case 5:Dd(s);default:Wy(f,s),s=ft=wv(s,fa),s=Gy(f,s,fa)}r.memoizedProps=r.pendingProps,s===null?df(r):ft=s}function Ho(r,s,f,m){ra=ks=null,Dd(s),ko=null,ru=0;var b=s.return;try{if(k8(r,b,s,f,wt)){fn=1,rf(r,Yr(f,r.current)),ft=null;return}}catch(S){if(b!==null)throw ft=b,S;fn=1,rf(r,Yr(f,r.current)),ft=null;return}s.flags&32768?(At||m===1?r=!0:Uo||(wt&536870912)!==0?r=!1:(Va=r=!0,(m===2||m===9||m===3||m===6)&&(m=Zr.current,m!==null&&m.tag===13&&(m.flags|=16384))),ww(s,r)):df(s)}function df(r){var s=r;do{if((s.flags&32768)!==0){ww(s,Va);return}r=s.return;var f=L8(s.alternate,s,fa);if(f!==null){ft=f;return}if(s=s.sibling,s!==null){ft=s;return}ft=s=r}while(s!==null);fn===0&&(fn=5)}function ww(r,s){do{var f=P8(r.alternate,r);if(f!==null){f.flags&=32767,ft=f;return}if(f=r.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!s&&(r=r.sibling,r!==null)){ft=r;return}ft=r=f}while(r!==null);fn=6,ft=null}function xw(r,s,f,m,b,S,N,U,Y){r.cancelPendingCommit=null;do gf();while(Zn!==0);if((Dt&6)!==0)throw Error(a(327));if(s!==null){if(s===r.current)throw Error(a(177));if(S=s.lanes|s.childLanes,S|=ad,Ec(r,f,S,N,U,Y),r===Gt&&(ft=Gt=null,wt=0),Fo=s,Xa=r,qo=f,c0=S,f0=b,cw=m,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,K8(Be,function(){return Sw(),null})):(r.callbackNode=null,r.callbackPriority=0),m=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||m){m=re.T,re.T=null,b=fe.p,fe.p=2,N=Dt,Dt|=4;try{U8(r,s,f)}finally{Dt=N,fe.p=b,re.T=m}}Zn=1,bw(),Ew(),_w()}}function bw(){if(Zn===1){Zn=0;var r=Xa,s=Fo,f=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||f){f=re.T,re.T=null;var m=fe.p;fe.p=2;var b=Dt;Dt|=4;try{rw(s,r);var S=T0,N=C(r.containerInfo),U=S.focusedElem,Y=S.selectionRange;if(N!==U&&U&&U.ownerDocument&&_(U.ownerDocument.documentElement,U)){if(Y!==null&&O(U)){var ue=Y.start,we=Y.end;if(we===void 0&&(we=ue),"selectionStart"in U)U.selectionStart=ue,U.selectionEnd=Math.min(we,U.value.length);else{var Ee=U.ownerDocument||document,he=Ee&&Ee.defaultView||window;if(he.getSelection){var ge=he.getSelection(),Ke=U.textContent.length,Ye=Math.min(Y.start,Ke),Lt=Y.end===void 0?Ye:Math.min(Y.end,Ke);!ge.extend&&Ye>Lt&&(N=Lt,Lt=Ye,Ye=N);var ie=x(U,Ye),ee=x(U,Lt);if(ie&&ee&&(ge.rangeCount!==1||ge.anchorNode!==ie.node||ge.anchorOffset!==ie.offset||ge.focusNode!==ee.node||ge.focusOffset!==ee.offset)){var oe=Ee.createRange();oe.setStart(ie.node,ie.offset),ge.removeAllRanges(),Ye>Lt?(ge.addRange(oe),ge.extend(ee.node,ee.offset)):(oe.setEnd(ee.node,ee.offset),ge.addRange(oe))}}}}for(Ee=[],ge=U;ge=ge.parentNode;)ge.nodeType===1&&Ee.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<Ee.length;U++){var be=Ee[U];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}Cf=!!C0,T0=C0=null}finally{Dt=b,fe.p=m,re.T=f}}r.current=s,Zn=2}}function Ew(){if(Zn===2){Zn=0;var r=Xa,s=Fo,f=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||f){f=re.T,re.T=null;var m=fe.p;fe.p=2;var b=Dt;Dt|=4;try{Jy(r,s.alternate,s)}finally{Dt=b,fe.p=m,re.T=f}}Zn=3}}function _w(){if(Zn===4||Zn===3){Zn=0,dr();var r=Xa,s=Fo,f=qo,m=cw;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Zn=5:(Zn=0,Fo=Xa=null,Aw(r,r.pendingLanes));var b=r.pendingLanes;if(b===0&&(Ya=null),An(f),s=s.stateNode,sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(an,s,void 0,(s.current.flags&128)===128)}catch{}if(m!==null){s=re.T,b=fe.p,fe.p=2,re.T=null;try{for(var S=r.onRecoverableError,N=0;N<m.length;N++){var U=m[N];S(U.value,{componentStack:U.stack})}}finally{re.T=s,fe.p=b}}(qo&3)!==0&&gf(),Pi(r),b=r.pendingLanes,(f&4194090)!==0&&(b&42)!==0?r===h0?hu++:(hu=0,h0=r):hu=0,du(0)}}function Aw(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Wl(s)))}function gf(r){return bw(),Ew(),_w(),Sw()}function Sw(){if(Zn!==5)return!1;var r=Xa,s=c0;c0=0;var f=An(qo),m=re.T,b=fe.p;try{fe.p=32>f?32:f,re.T=null,f=f0,f0=null;var S=Xa,N=qo;if(Zn=0,Fo=Xa=null,qo=0,(Dt&6)!==0)throw Error(a(331));var U=Dt;if(Dt|=4,lw(S.current),aw(S,S.current,N,f),Dt=U,du(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(an,S)}catch{}return!0}finally{fe.p=b,re.T=m,Aw(r,s)}}function Cw(r,s,f){s=Yr(f,s),s=Gd(r.stateNode,s,2),r=Ua(r,s,2),r!==null&&(Mr(r,2),Pi(r))}function Ft(r,s,f){if(r.tag===3)Cw(r,r,f);else for(;s!==null;){if(s.tag===3){Cw(s,r,f);break}else if(s.tag===1){var m=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ya===null||!Ya.has(m))){r=Yr(f,r),f=Dy(2),m=Ua(s,f,2),m!==null&&(Ny(f,m,s,r),Mr(m,2),Pi(m));break}}s=s.return}}function p0(r,s,f){var m=r.pingCache;if(m===null){m=r.pingCache=new q8;var b=new Set;m.set(s,b)}else b=m.get(s),b===void 0&&(b=new Set,m.set(s,b));b.has(f)||(s0=!0,b.add(f),r=W8.bind(null,r,s,f),s.then(r,r))}function W8(r,s,f){var m=r.pingCache;m!==null&&m.delete(s),r.pingedLanes|=r.suspendedLanes&f,r.warmLanes&=~f,Gt===r&&(wt&f)===f&&(fn===4||fn===3&&(wt&62914560)===wt&&300>Fe()-u0?(Dt&2)===0&&zo(r,0):o0|=f,jo===wt&&(jo=0)),Pi(r)}function Tw(r,s){s===0&&(s=Nl()),r=Ao(r,s),r!==null&&(Mr(r,s),Pi(r))}function Y8(r){var s=r.memoizedState,f=0;s!==null&&(f=s.retryLane),Tw(r,f)}function X8(r,s){var f=0;switch(r.tag){case 13:var m=r.stateNode,b=r.memoizedState;b!==null&&(f=b.retryLane);break;case 19:m=r.stateNode;break;case 22:m=r.stateNode._retryCache;break;default:throw Error(a(314))}m!==null&&m.delete(s),Tw(r,f)}function K8(r,s){return at(r,s)}var mf=null,Go=null,v0=!1,pf=!1,y0=!1,qs=0;function Pi(r){r!==Go&&r.next===null&&(Go===null?mf=Go=r:Go=Go.next=r),pf=!0,v0||(v0=!0,Z8())}function du(r,s){if(!y0&&pf){y0=!0;do for(var f=!1,m=mf;m!==null;){if(r!==0){var b=m.pendingLanes;if(b===0)var S=0;else{var N=m.suspendedLanes,U=m.pingedLanes;S=(1<<31-xt(42|r)+1)-1,S&=b&~(N&~U),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(f=!0,Nw(m,S))}else S=wt,S=bt(m,m===Gt?S:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(S&3)===0||It(m,S)||(f=!0,Nw(m,S));m=m.next}while(f);y0=!1}}function $8(){Ow()}function Ow(){pf=v0=!1;var r=0;qs!==0&&(aC()&&(r=qs),qs=0);for(var s=Fe(),f=null,m=mf;m!==null;){var b=m.next,S=Rw(m,s);S===0?(m.next=null,f===null?mf=b:f.next=b,b===null&&(Go=f)):(f=m,(r!==0||(S&3)!==0)&&(pf=!0)),m=b}du(r)}function Rw(r,s){for(var f=r.suspendedLanes,m=r.pingedLanes,b=r.expirationTimes,S=r.pendingLanes&-62914561;0<S;){var N=31-xt(S),U=1<<N,Y=b[N];Y===-1?((U&f)===0||(U&m)!==0)&&(b[N]=vs(U,s)):Y<=s&&(r.expiredLanes|=U),S&=~U}if(s=Gt,f=wt,f=bt(r,r===s?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m=r.callbackNode,f===0||r===s&&(Nt===2||Nt===9)||r.cancelPendingCommit!==null)return m!==null&&m!==null&&vr(m),r.callbackNode=null,r.callbackPriority=0;if((f&3)===0||It(r,f)){if(s=f&-f,s===r.callbackPriority)return s;switch(m!==null&&vr(m),An(f)){case 2:case 8:f=Xn;break;case 32:f=Be;break;case 268435456:f=tn;break;default:f=Be}return m=Dw.bind(null,r),f=at(f,m),r.callbackPriority=s,r.callbackNode=f,s}return m!==null&&m!==null&&vr(m),r.callbackPriority=2,r.callbackNode=null,2}function Dw(r,s){if(Zn!==0&&Zn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var f=r.callbackNode;if(gf()&&r.callbackNode!==f)return null;var m=wt;return m=bt(r,r===Gt?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m===0?null:(hw(r,m,s),Rw(r,Fe()),r.callbackNode!=null&&r.callbackNode===f?Dw.bind(null,r):null)}function Nw(r,s){if(gf())return null;hw(r,s,!0)}function Z8(){oC(function(){(Dt&6)!==0?at(Ze,$8):Ow()})}function w0(){return qs===0&&(qs=lo()),qs}function Mw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:mo(""+r)}function Iw(r,s){var f=s.ownerDocument.createElement("input");return f.name=s.name,f.value=s.value,r.id&&f.setAttribute("form",r.id),s.parentNode.insertBefore(f,s),r=new FormData(r),f.parentNode.removeChild(f),r}function Q8(r,s,f,m,b){if(s==="submit"&&f&&f.stateNode===b){var S=Mw((b[on]||null).action),N=m.submitter;N&&(s=(s=N[on]||null)?Mw(s.formAction):N.getAttribute("formAction"),s!==null&&(S=s,N=null));var U=new Ri("action","action",null,m,b);r.push({event:U,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(qs!==0){var Y=N?Iw(b,N):new FormData(b);jd(f,{pending:!0,data:Y,method:b.method,action:S},null,Y)}}else typeof S=="function"&&(U.preventDefault(),Y=N?Iw(b,N):new FormData(b),jd(f,{pending:!0,data:Y,method:b.method,action:S},S,Y))},currentTarget:b}]})}}for(var x0=0;x0<Mi.length;x0++){var b0=Mi[x0],J8=b0.toLowerCase(),eC=b0[0].toUpperCase()+b0.slice(1);Br(J8,"on"+eC)}Br(Qe,"onAnimationEnd"),Br(Kn,"onAnimationIteration"),Br(br,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(rr,"onTransitionRun"),Br(Rt,"onTransitionStart"),Br(In,"onTransitionCancel"),Br(ir,"onTransitionEnd"),ln("onMouseEnter",["mouseout","mouseover"]),ln("onMouseLeave",["mouseout","mouseover"]),ln("onPointerEnter",["pointerout","pointerover"]),ln("onPointerLeave",["pointerout","pointerover"]),zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gu));function kw(r,s){s=(s&4)!==0;for(var f=0;f<r.length;f++){var m=r[f],b=m.event;m=m.listeners;e:{var S=void 0;if(s)for(var N=m.length-1;0<=N;N--){var U=m[N],Y=U.instance,ue=U.currentTarget;if(U=U.listener,Y!==S&&b.isPropagationStopped())break e;S=U,b.currentTarget=ue;try{S(b)}catch(we){nf(we)}b.currentTarget=null,S=Y}else for(N=0;N<m.length;N++){if(U=m[N],Y=U.instance,ue=U.currentTarget,U=U.listener,Y!==S&&b.isPropagationStopped())break e;S=U,b.currentTarget=ue;try{S(b)}catch(we){nf(we)}b.currentTarget=null,S=Y}}}}function ht(r,s){var f=s[qn];f===void 0&&(f=s[qn]=new Set);var m=r+"__bubble";f.has(m)||(Bw(s,r,2,!1),f.add(m))}function E0(r,s,f){var m=0;s&&(m|=4),Bw(f,r,m,s)}var vf="_reactListening"+Math.random().toString(36).slice(2);function _0(r){if(!r[vf]){r[vf]=!0,_c.forEach(function(f){f!=="selectionchange"&&(tC.has(f)||E0(f,!1,r),E0(f,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[vf]||(s[vf]=!0,E0("selectionchange",!1,s))}}function Bw(r,s,f,m){switch(ax(s)){case 2:var b=OC;break;case 8:b=RC;break;default:b=P0}f=b.bind(null,s,f,r),b=void 0,!Je||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(b=!0),m?b!==void 0?r.addEventListener(s,f,{capture:!0,passive:b}):r.addEventListener(s,f,!0):b!==void 0?r.addEventListener(s,f,{passive:b}):r.addEventListener(s,f,!1)}function A0(r,s,f,m,b){var S=m;if((s&1)===0&&(s&2)===0&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var U=m.stateNode.containerInfo;if(U===b)break;if(N===4)for(N=m.return;N!==null;){var Y=N.tag;if((Y===3||Y===4)&&N.stateNode.containerInfo===b)return;N=N.return}for(;U!==null;){if(N=pn(U),N===null)return;if(Y=N.tag,Y===5||Y===6||Y===26||Y===27){m=S=N;continue e}U=U.parentNode}}m=m.return}ui(function(){var ue=S,we=Aa(f),Ee=[];e:{var he=Ji.get(r);if(he!==void 0){var ge=Ri,Ke=r;switch(r){case"keypress":if(po(f)===0)break e;case"keydown":case"keyup":ge=Ll;break;case"focusin":Ke="focus",ge=Oa;break;case"focusout":Ke="blur",ge=Oa;break;case"beforeblur":case"afterblur":ge=Oa;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Tc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Ct;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=Ot;break;case Qe:case Kn:case br:ge=Zh;break;case ir:ge=td;break;case"scroll":case"scrollend":ge=tr;break;case"wheel":ge=Zi;break;case"copy":case"cut":case"paste":ge=rt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=Ss;break;case"toggle":case"beforetoggle":ge=nd}var Ye=(s&4)!==0,Lt=!Ye&&(r==="scroll"||r==="scrollend"),ie=Ye?he!==null?he+"Capture":null:he;Ye=[];for(var ee=ue,oe;ee!==null;){var be=ee;if(oe=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||oe===null||ie===null||(be=Ge(ee,ie),be!=null&&Ye.push(mu(ee,be,oe))),Lt)break;ee=ee.return}0<Ye.length&&(he=new ge(he,Ke,null,f,we),Ee.push({event:he,listeners:Ye}))}}if((s&7)===0){e:{if(he=r==="mouseover"||r==="pointerover",ge=r==="mouseout"||r==="pointerout",he&&f!==xs&&(Ke=f.relatedTarget||f.fromElement)&&(pn(Ke)||Ke[xi]))break e;if((ge||he)&&(he=we.window===we?we:(he=we.ownerDocument)?he.defaultView||he.parentWindow:window,ge?(Ke=f.relatedTarget||f.toElement,ge=ue,Ke=Ke?pn(Ke):null,Ke!==null&&(Lt=c(Ke),Ye=Ke.tag,Ke!==Lt||Ye!==5&&Ye!==27&&Ye!==6)&&(Ke=null)):(ge=null,Ke=ue),ge!==Ke)){if(Ye=Tc,be="onMouseLeave",ie="onMouseEnter",ee="mouse",(r==="pointerout"||r==="pointerover")&&(Ye=Ss,be="onPointerLeave",ie="onPointerEnter",ee="pointer"),Lt=ge==null?he:bi(ge),oe=Ke==null?he:bi(Ke),he=new Ye(be,ee+"leave",ge,f,we),he.target=Lt,he.relatedTarget=oe,be=null,pn(we)===ue&&(Ye=new Ye(ie,ee+"enter",Ke,f,we),Ye.target=oe,Ye.relatedTarget=Lt,be=Ye),Lt=be,ge&&Ke)t:{for(Ye=ge,ie=Ke,ee=0,oe=Ye;oe;oe=Vo(oe))ee++;for(oe=0,be=ie;be;be=Vo(be))oe++;for(;0<ee-oe;)Ye=Vo(Ye),ee--;for(;0<oe-ee;)ie=Vo(ie),oe--;for(;ee--;){if(Ye===ie||ie!==null&&Ye===ie.alternate)break t;Ye=Vo(Ye),ie=Vo(ie)}Ye=null}else Ye=null;ge!==null&&Lw(Ee,he,ge,Ye,!1),Ke!==null&&Lt!==null&&Lw(Ee,Lt,Ke,Ye,!0)}}e:{if(he=ue?bi(ue):window,ge=he.nodeName&&he.nodeName.toLowerCase(),ge==="select"||ge==="input"&&he.type==="file")var Ue=Nc;else if(Os(he))if(Fl)Ue=o;else{Ue=I;var lt=Eo}else ge=he.nodeName,!ge||ge.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?ue&&ze(ue.elementType)&&(Ue=Nc):Ue=i;if(Ue&&(Ue=Ue(r,ue))){mr(Ee,Ue,f,we);break e}lt&&lt(r,he,ue),r==="focusout"&&ue&&he.type==="number"&&ue.memoizedProps.value!=null&&se(he,"number",he.value)}switch(lt=ue?bi(ue):window,r){case"focusin":(Os(lt)||lt.contentEditable==="true")&&(L=lt,H=ue,Z=null);break;case"focusout":Z=H=L=null;break;case"mousedown":J=!0;break;case"contextmenu":case"mouseup":case"dragend":J=!1,ae(Ee,f,we);break;case"selectionchange":if(k)break;case"keydown":case"keyup":ae(Ee,f,we)}var He;if(Cs)e:{switch(r){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Na?Qi(r,f)&&(Xe="onCompositionEnd"):r==="keydown"&&f.keyCode===229&&(Xe="onCompositionStart");Xe&&(Ul&&f.locale!=="ko"&&(Na||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Na&&(He=Ci()):(Si=we,bs="value"in Si?Si.value:Si.textContent,Na=!0)),lt=yf(ue,Xe),0<lt.length&&(Xe=new _s(Xe,r,null,f,we),Ee.push({event:Xe,listeners:lt}),He?Xe.data=He:(He=xo(f),He!==null&&(Xe.data=He)))),(He=Pl?Ts(r,f):rd(r,f))&&(Xe=yf(ue,"onBeforeInput"),0<Xe.length&&(lt=new _s("onBeforeInput","beforeinput",null,f,we),Ee.push({event:lt,listeners:Xe}),lt.data=He)),Q8(Ee,r,ue,f,we)}kw(Ee,s)})}function mu(r,s,f){return{instance:r,listener:s,currentTarget:f}}function yf(r,s){for(var f=s+"Capture",m=[];r!==null;){var b=r,S=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||S===null||(b=Ge(r,f),b!=null&&m.unshift(mu(r,b,S)),b=Ge(r,s),b!=null&&m.push(mu(r,b,S))),r.tag===3)return m;r=r.return}return[]}function Vo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Lw(r,s,f,m,b){for(var S=s._reactName,N=[];f!==null&&f!==m;){var U=f,Y=U.alternate,ue=U.stateNode;if(U=U.tag,Y!==null&&Y===m)break;U!==5&&U!==26&&U!==27||ue===null||(Y=ue,b?(ue=Ge(f,S),ue!=null&&N.unshift(mu(f,ue,Y))):b||(ue=Ge(f,S),ue!=null&&N.push(mu(f,ue,Y)))),f=f.return}N.length!==0&&r.push({event:s,listeners:N})}var nC=/\r\n?/g,rC=/\u0000|\uFFFD/g;function Pw(r){return(typeof r=="string"?r:""+r).replace(nC,`
`).replace(rC,"")}function Uw(r,s){return s=Pw(s),Pw(r)===s}function wf(){}function Bt(r,s,f,m,b,S){switch(f){case"children":typeof m=="string"?s==="body"||s==="textarea"&&m===""||Nn(r,m):(typeof m=="number"||typeof m=="bigint")&&s!=="body"&&Nn(r,""+m);break;case"className":co(r,"class",m);break;case"tabIndex":co(r,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":co(r,f,m);break;case"style":gr(r,m,S);break;case"data":if(s!=="object"){co(r,"data",m);break}case"src":case"href":if(m===""&&(s!=="a"||f!=="href")){r.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(f);break}m=mo(""+m),r.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){r.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(f==="formAction"?(s!=="input"&&Bt(r,s,"name",b.name,b,null),Bt(r,s,"formEncType",b.formEncType,b,null),Bt(r,s,"formMethod",b.formMethod,b,null),Bt(r,s,"formTarget",b.formTarget,b,null)):(Bt(r,s,"encType",b.encType,b,null),Bt(r,s,"method",b.method,b,null),Bt(r,s,"target",b.target,b,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(f);break}m=mo(""+m),r.setAttribute(f,m);break;case"onClick":m!=null&&(r.onclick=wf);break;case"onScroll":m!=null&&ht("scroll",r);break;case"onScrollEnd":m!=null&&ht("scrollend",r);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(a(61));if(f=m.__html,f!=null){if(b.children!=null)throw Error(a(60));r.innerHTML=f}}break;case"multiple":r.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":r.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){r.removeAttribute("xlink:href");break}f=mo(""+m),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(f,""+m):r.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(f,""):r.removeAttribute(f);break;case"capture":case"download":m===!0?r.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(f,m):r.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?r.setAttribute(f,m):r.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?r.removeAttribute(f):r.setAttribute(f,m);break;case"popover":ht("beforetoggle",r),ht("toggle",r),_e(r,"popover",m);break;case"xlinkActuate":Et(r,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Et(r,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Et(r,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Et(r,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Et(r,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Et(r,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Et(r,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Et(r,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Et(r,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":_e(r,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=Yt.get(f)||f,_e(r,f,m))}}function S0(r,s,f,m,b,S){switch(f){case"style":gr(r,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(a(61));if(f=m.__html,f!=null){if(b.children!=null)throw Error(a(60));r.innerHTML=f}}break;case"children":typeof m=="string"?Nn(r,m):(typeof m=="number"||typeof m=="bigint")&&Nn(r,""+m);break;case"onScroll":m!=null&&ht("scroll",r);break;case"onScrollEnd":m!=null&&ht("scrollend",r);break;case"onClick":m!=null&&(r.onclick=wf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ac.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(b=f.endsWith("Capture"),s=f.slice(2,b?f.length-7:void 0),S=r[on]||null,S=S!=null?S[f]:null,typeof S=="function"&&r.removeEventListener(s,S,b),typeof m=="function")){typeof S!="function"&&S!==null&&(f in r?r[f]=null:r.hasAttribute(f)&&r.removeAttribute(f)),r.addEventListener(s,m,b);break e}f in r?r[f]=m:m===!0?r.setAttribute(f,""):_e(r,f,m)}}}function Qn(r,s,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",r),ht("load",r);var m=!1,b=!1,S;for(S in f)if(f.hasOwnProperty(S)){var N=f[S];if(N!=null)switch(S){case"src":m=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Bt(r,s,S,N,f,null)}}b&&Bt(r,s,"srcSet",f.srcSet,f,null),m&&Bt(r,s,"src",f.src,f,null);return;case"input":ht("invalid",r);var U=S=N=b=null,Y=null,ue=null;for(m in f)if(f.hasOwnProperty(m)){var we=f[m];if(we!=null)switch(m){case"name":b=we;break;case"type":N=we;break;case"checked":Y=we;break;case"defaultChecked":ue=we;break;case"value":S=we;break;case"defaultValue":U=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(a(137,s));break;default:Bt(r,s,m,we,f,null)}}Dn(r,S,U,Y,ue,N,b,!1),ho(r);return;case"select":ht("invalid",r),m=N=S=null;for(b in f)if(f.hasOwnProperty(b)&&(U=f[b],U!=null))switch(b){case"value":S=U;break;case"defaultValue":N=U;break;case"multiple":m=U;default:Bt(r,s,b,U,f,null)}s=S,f=N,r.multiple=!!m,s!=null?z(r,!!m,s,!1):f!=null&&z(r,!!m,f,!0);return;case"textarea":ht("invalid",r),S=b=m=null;for(N in f)if(f.hasOwnProperty(N)&&(U=f[N],U!=null))switch(N){case"value":m=U;break;case"defaultValue":b=U;break;case"children":S=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(91));break;default:Bt(r,s,N,U,f,null)}vn(r,m,b,S),ho(r);return;case"option":for(Y in f)if(f.hasOwnProperty(Y)&&(m=f[Y],m!=null))switch(Y){case"selected":r.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Bt(r,s,Y,m,f,null)}return;case"dialog":ht("beforetoggle",r),ht("toggle",r),ht("cancel",r),ht("close",r);break;case"iframe":case"object":ht("load",r);break;case"video":case"audio":for(m=0;m<gu.length;m++)ht(gu[m],r);break;case"image":ht("error",r),ht("load",r);break;case"details":ht("toggle",r);break;case"embed":case"source":case"link":ht("error",r),ht("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in f)if(f.hasOwnProperty(ue)&&(m=f[ue],m!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Bt(r,s,ue,m,f,null)}return;default:if(ze(s)){for(we in f)f.hasOwnProperty(we)&&(m=f[we],m!==void 0&&S0(r,s,we,m,f,void 0));return}}for(U in f)f.hasOwnProperty(U)&&(m=f[U],m!=null&&Bt(r,s,U,m,f,null))}function iC(r,s,f,m){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,S=null,N=null,U=null,Y=null,ue=null,we=null;for(ge in f){var Ee=f[ge];if(f.hasOwnProperty(ge)&&Ee!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":Y=Ee;default:m.hasOwnProperty(ge)||Bt(r,s,ge,null,m,Ee)}}for(var he in m){var ge=m[he];if(Ee=f[he],m.hasOwnProperty(he)&&(ge!=null||Ee!=null))switch(he){case"type":S=ge;break;case"name":b=ge;break;case"checked":ue=ge;break;case"defaultChecked":we=ge;break;case"value":N=ge;break;case"defaultValue":U=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(a(137,s));break;default:ge!==Ee&&Bt(r,s,he,ge,m,Ee)}}St(r,N,U,Y,ue,we,S,b);return;case"select":ge=N=U=he=null;for(S in f)if(Y=f[S],f.hasOwnProperty(S)&&Y!=null)switch(S){case"value":break;case"multiple":ge=Y;default:m.hasOwnProperty(S)||Bt(r,s,S,null,m,Y)}for(b in m)if(S=m[b],Y=f[b],m.hasOwnProperty(b)&&(S!=null||Y!=null))switch(b){case"value":he=S;break;case"defaultValue":U=S;break;case"multiple":N=S;default:S!==Y&&Bt(r,s,b,S,m,Y)}s=U,f=N,m=ge,he!=null?z(r,!!f,he,!1):!!m!=!!f&&(s!=null?z(r,!!f,s,!0):z(r,!!f,f?[]:"",!1));return;case"textarea":ge=he=null;for(U in f)if(b=f[U],f.hasOwnProperty(U)&&b!=null&&!m.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:Bt(r,s,U,null,m,b)}for(N in m)if(b=m[N],S=f[N],m.hasOwnProperty(N)&&(b!=null||S!=null))switch(N){case"value":he=b;break;case"defaultValue":ge=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:b!==S&&Bt(r,s,N,b,m,S)}qe(r,he,ge);return;case"option":for(var Ke in f)if(he=f[Ke],f.hasOwnProperty(Ke)&&he!=null&&!m.hasOwnProperty(Ke))switch(Ke){case"selected":r.selected=!1;break;default:Bt(r,s,Ke,null,m,he)}for(Y in m)if(he=m[Y],ge=f[Y],m.hasOwnProperty(Y)&&he!==ge&&(he!=null||ge!=null))switch(Y){case"selected":r.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:Bt(r,s,Y,he,m,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in f)he=f[Ye],f.hasOwnProperty(Ye)&&he!=null&&!m.hasOwnProperty(Ye)&&Bt(r,s,Ye,null,m,he);for(ue in m)if(he=m[ue],ge=f[ue],m.hasOwnProperty(ue)&&he!==ge&&(he!=null||ge!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(a(137,s));break;default:Bt(r,s,ue,he,m,ge)}return;default:if(ze(s)){for(var Lt in f)he=f[Lt],f.hasOwnProperty(Lt)&&he!==void 0&&!m.hasOwnProperty(Lt)&&S0(r,s,Lt,void 0,m,he);for(we in m)he=m[we],ge=f[we],!m.hasOwnProperty(we)||he===ge||he===void 0&&ge===void 0||S0(r,s,we,he,m,ge);return}}for(var ie in f)he=f[ie],f.hasOwnProperty(ie)&&he!=null&&!m.hasOwnProperty(ie)&&Bt(r,s,ie,null,m,he);for(Ee in m)he=m[Ee],ge=f[Ee],!m.hasOwnProperty(Ee)||he===ge||he==null&&ge==null||Bt(r,s,Ee,he,m,ge)}var C0=null,T0=null;function xf(r){return r.nodeType===9?r:r.ownerDocument}function jw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fw(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function O0(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var R0=null;function aC(){var r=window.event;return r&&r.type==="popstate"?r===R0?!1:(R0=r,!0):(R0=null,!1)}var qw=typeof setTimeout=="function"?setTimeout:void 0,sC=typeof clearTimeout=="function"?clearTimeout:void 0,zw=typeof Promise=="function"?Promise:void 0,oC=typeof queueMicrotask=="function"?queueMicrotask:typeof zw<"u"?function(r){return zw.resolve(null).then(r).catch(lC)}:qw;function lC(r){setTimeout(function(){throw r})}function $a(r){return r==="head"}function Hw(r,s){var f=s,m=0,b=0;do{var S=f.nextSibling;if(r.removeChild(f),S&&S.nodeType===8)if(f=S.data,f==="/$"){if(0<m&&8>m){f=m;var N=r.ownerDocument;if(f&1&&pu(N.documentElement),f&2&&pu(N.body),f&4)for(f=N.head,pu(f),N=f.firstChild;N;){var U=N.nextSibling,Y=N.nodeName;N[Vr]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&N.rel.toLowerCase()==="stylesheet"||f.removeChild(N),N=U}}if(b===0){r.removeChild(S),Au(s);return}b--}else f==="$"||f==="$?"||f==="$!"?b++:m=f.charCodeAt(0)-48;else m=0;f=S}while(f);Au(s)}function D0(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var f=s;switch(s=s.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":D0(f),ws(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}r.removeChild(f)}}function uC(r,s,f,m){for(;r.nodeType===1;){var b=f;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!m&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(m){if(!r[Vr])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(S=r.getAttribute("rel"),S==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(S!==b.rel||r.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||r.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||r.getAttribute("title")!==(b.title==null?null:b.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(S=r.getAttribute("src"),(S!==(b.src==null?null:b.src)||r.getAttribute("type")!==(b.type==null?null:b.type)||r.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&S&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var S=b.name==null?null:""+b.name;if(b.type==="hidden"&&r.getAttribute("name")===S)return r}else return r;if(r=di(r.nextSibling),r===null)break}return null}function cC(r,s,f){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!f||(r=di(r.nextSibling),r===null))return null;return r}function N0(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function fC(r,s){var f=r.ownerDocument;if(r.data!=="$?"||f.readyState==="complete")s();else{var m=function(){s(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),r._reactRetry=m}}function di(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var M0=null;function Gw(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var f=r.data;if(f==="$"||f==="$!"||f==="$?"){if(s===0)return r;s--}else f==="/$"&&s++}r=r.previousSibling}return null}function Vw(r,s,f){switch(s=xf(f),r){case"html":if(r=s.documentElement,!r)throw Error(a(452));return r;case"head":if(r=s.head,!r)throw Error(a(453));return r;case"body":if(r=s.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function pu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);ws(r)}var Jr=new Map,Ww=new Set;function bf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ha=fe.d;fe.d={f:hC,r:dC,D:gC,C:mC,L:pC,m:vC,X:wC,S:yC,M:xC};function hC(){var r=ha.f(),s=hf();return r||s}function dC(r){var s=Ir(r);s!==null&&s.tag===5&&s.type==="form"?hy(s):ha.r(r)}var Wo=typeof document>"u"?null:document;function Yw(r,s,f){var m=Wo;if(m&&typeof s=="string"&&s){var b=Rn(s);b='link[rel="'+r+'"][href="'+b+'"]',typeof f=="string"&&(b+='[crossorigin="'+f+'"]'),Ww.has(b)||(Ww.add(b),r={rel:r,crossOrigin:f,href:s},m.querySelector(b)===null&&(s=m.createElement("link"),Qn(s,"link",r),Tt(s),m.head.appendChild(s)))}}function gC(r){ha.D(r),Yw("dns-prefetch",r,null)}function mC(r,s){ha.C(r,s),Yw("preconnect",r,s)}function pC(r,s,f){ha.L(r,s,f);var m=Wo;if(m&&r&&s){var b='link[rel="preload"][as="'+Rn(s)+'"]';s==="image"&&f&&f.imageSrcSet?(b+='[imagesrcset="'+Rn(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(b+='[imagesizes="'+Rn(f.imageSizes)+'"]')):b+='[href="'+Rn(r)+'"]';var S=b;switch(s){case"style":S=Yo(r);break;case"script":S=Xo(r)}Jr.has(S)||(r=E({rel:"preload",href:s==="image"&&f&&f.imageSrcSet?void 0:r,as:s},f),Jr.set(S,r),m.querySelector(b)!==null||s==="style"&&m.querySelector(vu(S))||s==="script"&&m.querySelector(yu(S))||(s=m.createElement("link"),Qn(s,"link",r),Tt(s),m.head.appendChild(s)))}}function vC(r,s){ha.m(r,s);var f=Wo;if(f&&r){var m=s&&typeof s.as=="string"?s.as:"script",b='link[rel="modulepreload"][as="'+Rn(m)+'"][href="'+Rn(r)+'"]',S=b;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Xo(r)}if(!Jr.has(S)&&(r=E({rel:"modulepreload",href:r},s),Jr.set(S,r),f.querySelector(b)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(yu(S)))return}m=f.createElement("link"),Qn(m,"link",r),Tt(m),f.head.appendChild(m)}}}function yC(r,s,f){ha.S(r,s,f);var m=Wo;if(m&&r){var b=oi(m).hoistableStyles,S=Yo(r);s=s||"default";var N=b.get(S);if(!N){var U={loading:0,preload:null};if(N=m.querySelector(vu(S)))U.loading=5;else{r=E({rel:"stylesheet",href:r,"data-precedence":s},f),(f=Jr.get(S))&&I0(r,f);var Y=N=m.createElement("link");Tt(Y),Qn(Y,"link",r),Y._p=new Promise(function(ue,we){Y.onload=ue,Y.onerror=we}),Y.addEventListener("load",function(){U.loading|=1}),Y.addEventListener("error",function(){U.loading|=2}),U.loading|=4,Ef(N,s,m)}N={type:"stylesheet",instance:N,count:1,state:U},b.set(S,N)}}}function wC(r,s){ha.X(r,s);var f=Wo;if(f&&r){var m=oi(f).hoistableScripts,b=Xo(r),S=m.get(b);S||(S=f.querySelector(yu(b)),S||(r=E({src:r,async:!0},s),(s=Jr.get(b))&&k0(r,s),S=f.createElement("script"),Tt(S),Qn(S,"link",r),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(b,S))}}function xC(r,s){ha.M(r,s);var f=Wo;if(f&&r){var m=oi(f).hoistableScripts,b=Xo(r),S=m.get(b);S||(S=f.querySelector(yu(b)),S||(r=E({src:r,async:!0,type:"module"},s),(s=Jr.get(b))&&k0(r,s),S=f.createElement("script"),Tt(S),Qn(S,"link",r),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(b,S))}}function Xw(r,s,f,m){var b=(b=Ae.current)?bf(b):null;if(!b)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(s=Yo(f.href),f=oi(b).hoistableStyles,m=f.get(s),m||(m={type:"style",instance:null,count:0,state:null},f.set(s,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){r=Yo(f.href);var S=oi(b).hoistableStyles,N=S.get(r);if(N||(b=b.ownerDocument||b,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(r,N),(S=b.querySelector(vu(r)))&&!S._p&&(N.instance=S,N.state.loading=5),Jr.has(r)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Jr.set(r,f),S||bC(b,r,f,N.state))),s&&m===null)throw Error(a(528,""));return N}if(s&&m!==null)throw Error(a(529,""));return null;case"script":return s=f.async,f=f.src,typeof f=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Xo(f),f=oi(b).hoistableScripts,m=f.get(s),m||(m={type:"script",instance:null,count:0,state:null},f.set(s,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function Yo(r){return'href="'+Rn(r)+'"'}function vu(r){return'link[rel="stylesheet"]['+r+"]"}function Kw(r){return E({},r,{"data-precedence":r.precedence,precedence:null})}function bC(r,s,f,m){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?m.loading=1:(s=r.createElement("link"),m.preload=s,s.addEventListener("load",function(){return m.loading|=1}),s.addEventListener("error",function(){return m.loading|=2}),Qn(s,"link",f),Tt(s),r.head.appendChild(s))}function Xo(r){return'[src="'+Rn(r)+'"]'}function yu(r){return"script[async]"+r}function $w(r,s,f){if(s.count++,s.instance===null)switch(s.type){case"style":var m=r.querySelector('style[data-href~="'+Rn(f.href)+'"]');if(m)return s.instance=m,Tt(m),m;var b=E({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(r.ownerDocument||r).createElement("style"),Tt(m),Qn(m,"style",b),Ef(m,f.precedence,r),s.instance=m;case"stylesheet":b=Yo(f.href);var S=r.querySelector(vu(b));if(S)return s.state.loading|=4,s.instance=S,Tt(S),S;m=Kw(f),(b=Jr.get(b))&&I0(m,b),S=(r.ownerDocument||r).createElement("link"),Tt(S);var N=S;return N._p=new Promise(function(U,Y){N.onload=U,N.onerror=Y}),Qn(S,"link",m),s.state.loading|=4,Ef(S,f.precedence,r),s.instance=S;case"script":return S=Xo(f.src),(b=r.querySelector(yu(S)))?(s.instance=b,Tt(b),b):(m=f,(b=Jr.get(S))&&(m=E({},f),k0(m,b)),r=r.ownerDocument||r,b=r.createElement("script"),Tt(b),Qn(b,"link",m),r.head.appendChild(b),s.instance=b);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(m=s.instance,s.state.loading|=4,Ef(m,f.precedence,r));return s.instance}function Ef(r,s,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=m.length?m[m.length-1]:null,S=b,N=0;N<m.length;N++){var U=m[N];if(U.dataset.precedence===s)S=U;else if(S!==b)break}S?S.parentNode.insertBefore(r,S.nextSibling):(s=f.nodeType===9?f.head:f,s.insertBefore(r,s.firstChild))}function I0(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function k0(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var _f=null;function Zw(r,s,f){if(_f===null){var m=new Map,b=_f=new Map;b.set(f,m)}else b=_f,m=b.get(f),m||(m=new Map,b.set(f,m));if(m.has(r))return m;for(m.set(r,null),f=f.getElementsByTagName(r),b=0;b<f.length;b++){var S=f[b];if(!(S[Vr]||S[Fn]||r==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var N=S.getAttribute(s)||"";N=r+N;var U=m.get(N);U?U.push(S):m.set(N,[S])}}return m}function Qw(r,s,f){r=r.ownerDocument||r,r.head.insertBefore(f,s==="title"?r.querySelector("head > title"):null)}function EC(r,s,f){if(f===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Jw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var wu=null;function _C(){}function AC(r,s,f){if(wu===null)throw Error(a(475));var m=wu;if(s.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var b=Yo(f.href),S=r.querySelector(vu(b));if(S){r=S._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(m.count++,m=Af.bind(m),r.then(m,m)),s.state.loading|=4,s.instance=S,Tt(S);return}S=r.ownerDocument||r,f=Kw(f),(b=Jr.get(b))&&I0(f,b),S=S.createElement("link"),Tt(S);var N=S;N._p=new Promise(function(U,Y){N.onload=U,N.onerror=Y}),Qn(S,"link",f),s.instance=S}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(m.count++,s=Af.bind(m),r.addEventListener("load",s),r.addEventListener("error",s))}}function SC(){if(wu===null)throw Error(a(475));var r=wu;return r.stylesheets&&r.count===0&&B0(r,r.stylesheets),0<r.count?function(s){var f=setTimeout(function(){if(r.stylesheets&&B0(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(f)}}:null}function Af(){if(this.count--,this.count===0){if(this.stylesheets)B0(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Sf=null;function B0(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Sf=new Map,s.forEach(CC,r),Sf=null,Af.call(r))}function CC(r,s){if(!(s.state.loading&4)){var f=Sf.get(r);if(f)var m=f.get(null);else{f=new Map,Sf.set(r,f);for(var b=r.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<b.length;S++){var N=b[S];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(f.set(N.dataset.precedence,N),m=N)}m&&f.set(null,m)}b=s.instance,N=b.getAttribute("data-precedence"),S=f.get(N)||m,S===m&&f.set(null,b),f.set(N,b),this.count++,m=Af.bind(this),b.addEventListener("load",m),b.addEventListener("error",m),S?S.parentNode.insertBefore(b,S.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(b,r.firstChild)),s.state.loading|=4}}var xu={$$typeof:P,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function TC(r,s,f,m,b,S,N,U){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.hiddenUpdates=pt(null),this.identifierPrefix=m,this.onUncaughtError=b,this.onCaughtError=S,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function ex(r,s,f,m,b,S,N,U,Y,ue,we,Ee){return r=new TC(r,s,f,N,U,Y,ue,Ee),s=1,S===!0&&(s|=24),S=Lr(3,null,null,s),r.current=S,S.stateNode=r,s=pd(),s.refCount++,r.pooledCache=s,s.refCount++,S.memoizedState={element:m,isDehydrated:f,cache:s},xd(S),r}function tx(r){return r?(r=So,r):So}function nx(r,s,f,m,b,S){b=tx(b),m.context===null?m.context=b:m.pendingContext=b,m=Pa(s),m.payload={element:f},S=S===void 0?null:S,S!==null&&(m.callback=S),f=Ua(r,m,s),f!==null&&(qr(f,r,s),$l(f,r,s))}function rx(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var f=r.retryLane;r.retryLane=f!==0&&f<s?f:s}}function L0(r,s){rx(r,s),(r=r.alternate)&&rx(r,s)}function ix(r){if(r.tag===13){var s=Ao(r,67108864);s!==null&&qr(s,r,67108864),L0(r,67108864)}}var Cf=!0;function OC(r,s,f,m){var b=re.T;re.T=null;var S=fe.p;try{fe.p=2,P0(r,s,f,m)}finally{fe.p=S,re.T=b}}function RC(r,s,f,m){var b=re.T;re.T=null;var S=fe.p;try{fe.p=8,P0(r,s,f,m)}finally{fe.p=S,re.T=b}}function P0(r,s,f,m){if(Cf){var b=U0(m);if(b===null)A0(r,s,m,Tf,f),sx(r,m);else if(NC(b,r,s,f,m))m.stopPropagation();else if(sx(r,m),s&4&&-1<DC.indexOf(r)){for(;b!==null;){var S=Ir(b);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var N=Ut(S.pendingLanes);if(N!==0){var U=S;for(U.pendingLanes|=2,U.entangledLanes|=2;N;){var Y=1<<31-xt(N);U.entanglements[1]|=Y,N&=~Y}Pi(S),(Dt&6)===0&&(cf=Fe()+500,du(0))}}break;case 13:U=Ao(S,2),U!==null&&qr(U,S,2),hf(),L0(S,2)}if(S=U0(m),S===null&&A0(r,s,m,Tf,f),S===b)break;b=S}b!==null&&m.stopPropagation()}else A0(r,s,m,null,f)}}function U0(r){return r=Aa(r),j0(r)}var Tf=null;function j0(r){if(Tf=null,r=pn(r),r!==null){var s=c(r);if(s===null)r=null;else{var f=s.tag;if(f===13){if(r=g(s),r!==null)return r;r=null}else if(f===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Tf=r,null}function ax(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ut()){case Ze:return 2;case Xn:return 8;case Be:case jn:return 32;case tn:return 268435456;default:return 32}default:return 32}}var F0=!1,Za=null,Qa=null,Ja=null,bu=new Map,Eu=new Map,es=[],DC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sx(r,s){switch(r){case"focusin":case"focusout":Za=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Ja=null;break;case"pointerover":case"pointerout":bu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eu.delete(s.pointerId)}}function _u(r,s,f,m,b,S){return r===null||r.nativeEvent!==S?(r={blockedOn:s,domEventName:f,eventSystemFlags:m,nativeEvent:S,targetContainers:[b]},s!==null&&(s=Ir(s),s!==null&&ix(s)),r):(r.eventSystemFlags|=m,s=r.targetContainers,b!==null&&s.indexOf(b)===-1&&s.push(b),r)}function NC(r,s,f,m,b){switch(s){case"focusin":return Za=_u(Za,r,s,f,m,b),!0;case"dragenter":return Qa=_u(Qa,r,s,f,m,b),!0;case"mouseover":return Ja=_u(Ja,r,s,f,m,b),!0;case"pointerover":var S=b.pointerId;return bu.set(S,_u(bu.get(S)||null,r,s,f,m,b)),!0;case"gotpointercapture":return S=b.pointerId,Eu.set(S,_u(Eu.get(S)||null,r,s,f,m,b)),!0}return!1}function ox(r){var s=pn(r.target);if(s!==null){var f=c(s);if(f!==null){if(s=f.tag,s===13){if(s=g(f),s!==null){r.blockedOn=s,uo(r.priority,function(){if(f.tag===13){var m=Fr();m=ys(m);var b=Ao(f,m);b!==null&&qr(b,f,m),L0(f,m)}});return}}else if(s===3&&f.stateNode.current.memoizedState.isDehydrated){r.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Of(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var f=U0(r.nativeEvent);if(f===null){f=r.nativeEvent;var m=new f.constructor(f.type,f);xs=m,f.target.dispatchEvent(m),xs=null}else return s=Ir(f),s!==null&&ix(s),r.blockedOn=f,!1;s.shift()}return!0}function lx(r,s,f){Of(r)&&f.delete(s)}function MC(){F0=!1,Za!==null&&Of(Za)&&(Za=null),Qa!==null&&Of(Qa)&&(Qa=null),Ja!==null&&Of(Ja)&&(Ja=null),bu.forEach(lx),Eu.forEach(lx)}function Rf(r,s){r.blockedOn===s&&(r.blockedOn=null,F0||(F0=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,MC)))}var Df=null;function ux(r){Df!==r&&(Df=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Df===r&&(Df=null);for(var s=0;s<r.length;s+=3){var f=r[s],m=r[s+1],b=r[s+2];if(typeof m!="function"){if(j0(m||f)===null)continue;break}var S=Ir(f);S!==null&&(r.splice(s,3),s-=3,jd(S,{pending:!0,data:b,method:f.method,action:m},m,b))}}))}function Au(r){function s(Y){return Rf(Y,r)}Za!==null&&Rf(Za,r),Qa!==null&&Rf(Qa,r),Ja!==null&&Rf(Ja,r),bu.forEach(s),Eu.forEach(s);for(var f=0;f<es.length;f++){var m=es[f];m.blockedOn===r&&(m.blockedOn=null)}for(;0<es.length&&(f=es[0],f.blockedOn===null);)ox(f),f.blockedOn===null&&es.shift();if(f=(r.ownerDocument||r).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var b=f[m],S=f[m+1],N=b[on]||null;if(typeof S=="function")N||ux(f);else if(N){var U=null;if(S&&S.hasAttribute("formAction")){if(b=S,N=S[on]||null)U=N.formAction;else if(j0(b)!==null)continue}else U=N.action;typeof U=="function"?f[m+1]=U:(f.splice(m,3),m-=3),ux(f)}}}function q0(r){this._internalRoot=r}Nf.prototype.render=q0.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(a(409));var f=s.current,m=Fr();nx(f,m,r,s,null,null)},Nf.prototype.unmount=q0.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;nx(r.current,2,null,r,null,null),hf(),s[xi]=null}};function Nf(r){this._internalRoot=r}Nf.prototype.unstable_scheduleHydration=function(r){if(r){var s=Yi();r={blockedOn:null,target:r,priority:s};for(var f=0;f<es.length&&s!==0&&s<es[f].priority;f++);es.splice(f,0,r),f===0&&ox(r)}};var cx=e.version;if(cx!=="19.1.1")throw Error(a(527,cx,"19.1.1"));fe.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=v(s),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var IC={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mf.isDisabled&&Mf.supportsFiber)try{an=Mf.inject(IC),sn=Mf}catch{}}return Cu.createRoot=function(r,s){if(!l(r))throw Error(a(299));var f=!1,m="",b=Cy,S=Ty,N=Oy,U=null;return s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(U=s.unstable_transitionCallbacks)),s=ex(r,1,!1,null,null,f,m,b,S,N,U,null),r[xi]=s.current,_0(r),new q0(s)},Cu.hydrateRoot=function(r,s,f){if(!l(r))throw Error(a(299));var m=!1,b="",S=Cy,N=Ty,U=Oy,Y=null,ue=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onUncaughtError!==void 0&&(S=f.onUncaughtError),f.onCaughtError!==void 0&&(N=f.onCaughtError),f.onRecoverableError!==void 0&&(U=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(Y=f.unstable_transitionCallbacks),f.formState!==void 0&&(ue=f.formState)),s=ex(r,1,!0,s,f??null,m,b,S,N,U,Y,ue),s.context=tx(null),f=s.current,m=Fr(),m=ys(m),b=Pa(m),b.callback=null,Ua(f,b,m),f=m,s.current.lanes=f,Mr(s,f),Pi(s),r[xi]=s.current,_0(r),new Nf(s)},Cu.version="19.1.1",Cu}var xx;function GC(){if(xx)return H0.exports;xx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),H0.exports=HC(),H0.exports}var VC=GC(),Q=g2();const te=cr(Q);/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bx="popstate";function WC(n={}){function e(a,l){let{pathname:c,search:g,hash:w}=a.location;return Fp("",{pathname:c,search:g,hash:w},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){return typeof l=="string"?l:Gu(l)}return XC(e,t,null,n)}function en(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function pi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YC(){return Math.random().toString(36).substring(2,10)}function Ex(n,e){return{usr:n.state,key:n.key,idx:e}}function Fp(n,e,t=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?xl(e):e,state:t,key:e&&e.key||a||YC()}}function Gu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function xl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let a=n.indexOf("?");a>=0&&(e.search=n.substring(a),n=n.substring(0,a)),n&&(e.pathname=n)}return e}function XC(n,e,t,a={}){let{window:l=document.defaultView,v5Compat:c=!1}=a,g=l.history,w="POP",v=null,y=E();y==null&&(y=0,g.replaceState({...g.state,idx:y},""));function E(){return(g.state||{idx:null}).idx}function A(){w="POP";let B=E(),j=B==null?null:B-y;y=B,v&&v({action:w,location:D.location,delta:j})}function T(B,j){w="PUSH";let q=Fp(D.location,B,j);y=E()+1;let P=Ex(q,y),F=D.createHref(q);try{g.pushState(P,"",F)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;l.location.assign(F)}c&&v&&v({action:w,location:D.location,delta:1})}function R(B,j){w="REPLACE";let q=Fp(D.location,B,j);y=E();let P=Ex(q,y),F=D.createHref(q);g.replaceState(P,"",F),c&&v&&v({action:w,location:D.location,delta:0})}function M(B){return KC(B)}let D={get action(){return w},get location(){return n(l,g)},listen(B){if(v)throw new Error("A history only accepts one active listener");return l.addEventListener(bx,A),v=B,()=>{l.removeEventListener(bx,A),v=null}},createHref(B){return e(l,B)},createURL:M,encodeLocation(B){let j=M(B);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:T,replace:R,go(B){return g.go(B)}};return D}function KC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),en(t,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:Gu(n);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}function zA(n,e,t="/"){return $C(n,e,t,!1)}function $C(n,e,t,a){let l=typeof e=="string"?xl(e):e,c=wa(l.pathname||"/",t);if(c==null)return null;let g=HA(n);ZC(g);let w=null;for(let v=0;w==null&&v<g.length;++v){let y=l6(c);w=s6(g[v],y,a)}return w}function HA(n,e=[],t=[],a=""){let l=(c,g,w)=>{let v={relativePath:w===void 0?c.path||"":w,caseSensitive:c.caseSensitive===!0,childrenIndex:g,route:c};v.relativePath.startsWith("/")&&(en(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length));let y=ya([a,v.relativePath]),E=t.concat(v);c.children&&c.children.length>0&&(en(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),HA(c.children,e,E,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:i6(y,c.index),routesMeta:E})};return n.forEach((c,g)=>{if(c.path===""||!c.path?.includes("?"))l(c,g);else for(let w of GA(c.path))l(c,g,w)}),e}function GA(n){let e=n.split("/");if(e.length===0)return[];let[t,...a]=e,l=t.endsWith("?"),c=t.replace(/\?$/,"");if(a.length===0)return l?[c,""]:[c];let g=GA(a.join("/")),w=[];return w.push(...g.map(v=>v===""?c:[c,v].join("/"))),l&&w.push(...g),w.map(v=>n.startsWith("/")&&v===""?"/":v)}function ZC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:a6(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var QC=/^:[\w-]+$/,JC=3,e6=2,t6=1,n6=10,r6=-2,_x=n=>n==="*";function i6(n,e){let t=n.split("/"),a=t.length;return t.some(_x)&&(a+=r6),e&&(a+=e6),t.filter(l=>!_x(l)).reduce((l,c)=>l+(QC.test(c)?JC:c===""?t6:n6),a)}function a6(n,e){return n.length===e.length&&n.slice(0,-1).every((a,l)=>a===e[l])?n[n.length-1]-e[e.length-1]:0}function s6(n,e,t=!1){let{routesMeta:a}=n,l={},c="/",g=[];for(let w=0;w<a.length;++w){let v=a[w],y=w===a.length-1,E=c==="/"?e:e.slice(c.length)||"/",A=rh({path:v.relativePath,caseSensitive:v.caseSensitive,end:y},E),T=v.route;if(!A&&y&&t&&!a[a.length-1].route.index&&(A=rh({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},E)),!A)return null;Object.assign(l,A.params),g.push({params:l,pathname:ya([c,A.pathname]),pathnameBase:h6(ya([c,A.pathnameBase])),route:T}),A.pathnameBase!=="/"&&(c=ya([c,A.pathnameBase]))}return g}function rh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,a]=o6(n.path,n.caseSensitive,n.end),l=e.match(t);if(!l)return null;let c=l[0],g=c.replace(/(.)\/+$/,"$1"),w=l.slice(1);return{params:a.reduce((y,{paramName:E,isOptional:A},T)=>{if(E==="*"){let M=w[T]||"";g=c.slice(0,c.length-M.length).replace(/(.)\/+$/,"$1")}const R=w[T];return A&&!R?y[E]=void 0:y[E]=(R||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:g,pattern:n}}function o6(n,e=!1,t=!0){pi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,w,v)=>(a.push({paramName:w,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(a.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),a]}function l6(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function wa(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=n.charAt(t);return a&&a!=="/"?null:n.slice(t)||"/"}function u6(n,e="/"){let{pathname:t,search:a="",hash:l=""}=typeof n=="string"?xl(n):n;return{pathname:t?t.startsWith("/")?t:c6(t,e):e,search:d6(a),hash:g6(l)}}function c6(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?t.length>1&&t.pop():l!=="."&&t.push(l)}),t.length>1?t.join("/"):"/"}function X0(n,e,t,a){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function f6(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function m2(n){let e=f6(n);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function p2(n,e,t,a=!1){let l;typeof n=="string"?l=xl(n):(l={...n},en(!l.pathname||!l.pathname.includes("?"),X0("?","pathname","search",l)),en(!l.pathname||!l.pathname.includes("#"),X0("#","pathname","hash",l)),en(!l.search||!l.search.includes("#"),X0("#","search","hash",l)));let c=n===""||l.pathname==="",g=c?"/":l.pathname,w;if(g==null)w=t;else{let A=e.length-1;if(!a&&g.startsWith("..")){let T=g.split("/");for(;T[0]==="..";)T.shift(),A-=1;l.pathname=T.join("/")}w=A>=0?e[A]:"/"}let v=u6(l,w),y=g&&g!=="/"&&g.endsWith("/"),E=(c||g===".")&&t.endsWith("/");return!v.pathname.endsWith("/")&&(y||E)&&(v.pathname+="/"),v}var ya=n=>n.join("/").replace(/\/\/+/g,"/"),h6=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),d6=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,g6=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function m6(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var VA=["POST","PUT","PATCH","DELETE"];new Set(VA);var p6=["GET",...VA];new Set(p6);var bl=Q.createContext(null);bl.displayName="DataRouter";var xh=Q.createContext(null);xh.displayName="DataRouterState";Q.createContext(!1);var WA=Q.createContext({isTransitioning:!1});WA.displayName="ViewTransition";var v6=Q.createContext(new Map);v6.displayName="Fetchers";var y6=Q.createContext(null);y6.displayName="Await";var yi=Q.createContext(null);yi.displayName="Navigation";var sc=Q.createContext(null);sc.displayName="Location";var wi=Q.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var v2=Q.createContext(null);v2.displayName="RouteError";function w6(n,{relative:e}={}){en(El(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=Q.useContext(yi),{hash:l,pathname:c,search:g}=oc(n,{relative:e}),w=c;return t!=="/"&&(w=c==="/"?t:ya([t,c])),a.createHref({pathname:w,search:g,hash:l})}function El(){return Q.useContext(sc)!=null}function fs(){return en(El(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(sc).location}var YA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function XA(n){Q.useContext(yi).static||Q.useLayoutEffect(n)}function Rr(){let{isDataRoute:n}=Q.useContext(wi);return n?M6():x6()}function x6(){en(El(),"useNavigate() may be used only in the context of a <Router> component.");let n=Q.useContext(bl),{basename:e,navigator:t}=Q.useContext(yi),{matches:a}=Q.useContext(wi),{pathname:l}=fs(),c=JSON.stringify(m2(a)),g=Q.useRef(!1);return XA(()=>{g.current=!0}),Q.useCallback((v,y={})=>{if(pi(g.current,YA),!g.current)return;if(typeof v=="number"){t.go(v);return}let E=p2(v,JSON.parse(c),l,y.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ya([e,E.pathname])),(y.replace?t.replace:t.push)(E,y.state,y)},[e,t,c,l,n])}Q.createContext(null);function KA(){let{matches:n}=Q.useContext(wi),e=n[n.length-1];return e?e.params:{}}function oc(n,{relative:e}={}){let{matches:t}=Q.useContext(wi),{pathname:a}=fs(),l=JSON.stringify(m2(t));return Q.useMemo(()=>p2(n,JSON.parse(l),a,e==="path"),[n,l,a,e])}function b6(n,e){return $A(n,e)}function $A(n,e,t,a){en(El(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=Q.useContext(yi),{matches:c}=Q.useContext(wi),g=c[c.length-1],w=g?g.params:{},v=g?g.pathname:"/",y=g?g.pathnameBase:"/",E=g&&g.route;{let j=E&&E.path||"";ZA(v,!E||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let A=fs(),T;if(e){let j=typeof e=="string"?xl(e):e;en(y==="/"||j.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${j.pathname}" was given in the \`location\` prop.`),T=j}else T=A;let R=T.pathname||"/",M=R;if(y!=="/"){let j=y.replace(/^\//,"").split("/");M="/"+R.replace(/^\//,"").split("/").slice(j.length).join("/")}let D=zA(n,{pathname:M});pi(E||D!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),pi(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=C6(D&&D.map(j=>Object.assign({},j,{params:Object.assign({},w,j.params),pathname:ya([y,l.encodeLocation?l.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?y:ya([y,l.encodeLocation?l.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),c,t,a);return e&&B?Q.createElement(sc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},B):B}function E6(){let n=N6(),e=m6(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},g=null;return console.error("Error handled by React Router default ErrorBoundary:",n),g=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:c},"ErrorBoundary")," or"," ",Q.createElement("code",{style:c},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),t?Q.createElement("pre",{style:l},t):null,g)}var _6=Q.createElement(E6,null),A6=class extends Q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?Q.createElement(wi.Provider,{value:this.props.routeContext},Q.createElement(v2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function S6({routeContext:n,match:e,children:t}){let a=Q.useContext(bl);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(wi.Provider,{value:n},t)}function C6(n,e=[],t=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t?.errors;if(c!=null){let v=l.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);en(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let g=!1,w=-1;if(t)for(let v=0;v<l.length;v++){let y=l[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(w=v),y.route.id){let{loaderData:E,errors:A}=t,T=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||T){g=!0,w>=0?l=l.slice(0,w+1):l=[l[0]];break}}}return l.reduceRight((v,y,E)=>{let A,T=!1,R=null,M=null;t&&(A=c&&y.route.id?c[y.route.id]:void 0,R=y.route.errorElement||_6,g&&(w<0&&E===0?(ZA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,M=null):w===E&&(T=!0,M=y.route.hydrateFallbackElement||null)));let D=e.concat(l.slice(0,E+1)),B=()=>{let j;return A?j=R:T?j=M:y.route.Component?j=Q.createElement(y.route.Component,null):y.route.element?j=y.route.element:j=v,Q.createElement(S6,{match:y,routeContext:{outlet:v,matches:D,isDataRoute:t!=null},children:j})};return t&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?Q.createElement(A6,{location:t.location,revalidation:t.revalidation,component:R,error:A,children:B(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):B()},null)}function y2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T6(n){let e=Q.useContext(bl);return en(e,y2(n)),e}function O6(n){let e=Q.useContext(xh);return en(e,y2(n)),e}function R6(n){let e=Q.useContext(wi);return en(e,y2(n)),e}function w2(n){let e=R6(n),t=e.matches[e.matches.length-1];return en(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function D6(){return w2("useRouteId")}function N6(){let n=Q.useContext(v2),e=O6("useRouteError"),t=w2("useRouteError");return n!==void 0?n:e.errors?.[t]}function M6(){let{router:n}=T6("useNavigate"),e=w2("useNavigate"),t=Q.useRef(!1);return XA(()=>{t.current=!0}),Q.useCallback(async(l,c={})=>{pi(t.current,YA),t.current&&(typeof l=="number"?n.navigate(l):await n.navigate(l,{fromRouteId:e,...c}))},[n,e])}var Ax={};function ZA(n,e,t){!e&&!Ax[n]&&(Ax[n]=!0,pi(!1,t))}Q.memo(I6);function I6({routes:n,future:e,state:t}){return $A(n,void 0,t,e)}function k6({to:n,replace:e,state:t,relative:a}){en(El(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=Q.useContext(yi);pi(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=Q.useContext(wi),{pathname:g}=fs(),w=Rr(),v=p2(n,m2(c),g,a==="path"),y=JSON.stringify(v);return Q.useEffect(()=>{w(JSON.parse(y),{replace:e,state:t,relative:a})},[w,y,a,e,t]),null}function ei(n){en(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function B6({basename:n="/",children:e=null,location:t,navigationType:a="POP",navigator:l,static:c=!1}){en(!El(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=n.replace(/^\/*/,"/"),w=Q.useMemo(()=>({basename:g,navigator:l,static:c,future:{}}),[g,l,c]);typeof t=="string"&&(t=xl(t));let{pathname:v="/",search:y="",hash:E="",state:A=null,key:T="default"}=t,R=Q.useMemo(()=>{let M=wa(v,g);return M==null?null:{location:{pathname:M,search:y,hash:E,state:A,key:T},navigationType:a}},[g,v,y,E,A,T,a]);return pi(R!=null,`<Router basename="${g}"> is not able to match the URL "${v}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:Q.createElement(yi.Provider,{value:w},Q.createElement(sc.Provider,{children:e,value:R}))}function L6({children:n,location:e}){return b6(qp(n),e)}function qp(n,e=[]){let t=[];return Q.Children.forEach(n,(a,l)=>{if(!Q.isValidElement(a))return;let c=[...e,l];if(a.type===Q.Fragment){t.push.apply(t,qp(a.props.children,c));return}en(a.type===ei,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),en(!a.props.index||!a.props.children,"An index route cannot have child routes.");let g={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(g.children=qp(a.props.children,c)),t.push(g)}),t}var Hf="get",Gf="application/x-www-form-urlencoded";function bh(n){return n!=null&&typeof n.tagName=="string"}function P6(n){return bh(n)&&n.tagName.toLowerCase()==="button"}function U6(n){return bh(n)&&n.tagName.toLowerCase()==="form"}function j6(n){return bh(n)&&n.tagName.toLowerCase()==="input"}function F6(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function q6(n,e){return n.button===0&&(!e||e==="_self")&&!F6(n)}var If=null;function z6(){if(If===null)try{new FormData(document.createElement("form"),0),If=!1}catch{If=!0}return If}var H6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function K0(n){return n!=null&&!H6.has(n)?(pi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gf}"`),null):n}function G6(n,e){let t,a,l,c,g;if(U6(n)){let w=n.getAttribute("action");a=w?wa(w,e):null,t=n.getAttribute("method")||Hf,l=K0(n.getAttribute("enctype"))||Gf,c=new FormData(n)}else if(P6(n)||j6(n)&&(n.type==="submit"||n.type==="image")){let w=n.form;if(w==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=n.getAttribute("formaction")||w.getAttribute("action");if(a=v?wa(v,e):null,t=n.getAttribute("formmethod")||w.getAttribute("method")||Hf,l=K0(n.getAttribute("formenctype"))||K0(w.getAttribute("enctype"))||Gf,c=new FormData(w,n),!z6()){let{name:y,type:E,value:A}=n;if(E==="image"){let T=y?`${y}.`:"";c.append(`${T}x`,"0"),c.append(`${T}y`,"0")}else y&&c.append(y,A)}}else{if(bh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Hf,a=null,l=Gf,g=n}return c&&l==="text/plain"&&(g=c,c=void 0),{action:a,method:t.toLowerCase(),encType:l,formData:c,body:g}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function x2(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function V6(n,e,t){let a=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return a.pathname==="/"?a.pathname=`_root.${t}`:e&&wa(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${t}`,a}async function W6(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Y6(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function X6(n,e,t){let a=await Promise.all(n.map(async l=>{let c=e.routes[l.route.id];if(c){let g=await W6(c,t);return g.links?g.links():[]}return[]}));return Q6(a.flat(1).filter(Y6).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Sx(n,e,t,a,l,c){let g=(v,y)=>t[y]?v.route.id!==t[y].route.id:!0,w=(v,y)=>t[y].pathname!==v.pathname||t[y].route.path?.endsWith("*")&&t[y].params["*"]!==v.params["*"];return c==="assets"?e.filter((v,y)=>g(v,y)||w(v,y)):c==="data"?e.filter((v,y)=>{let E=a.routes[v.route.id];if(!E||!E.hasLoader)return!1;if(g(v,y)||w(v,y))return!0;if(v.route.shouldRevalidate){let A=v.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function K6(n,e,{includeHydrateFallback:t}={}){return $6(n.map(a=>{let l=e.routes[a.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),t&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function $6(n){return[...new Set(n)]}function Z6(n){let e={},t=Object.keys(n).sort();for(let a of t)e[a]=n[a];return e}function Q6(n,e){let t=new Set;return new Set(e),n.reduce((a,l)=>{let c=JSON.stringify(Z6(l));return t.has(c)||(t.add(c),a.push({key:c,link:l})),a},[])}function QA(){let n=Q.useContext(bl);return x2(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function J6(){let n=Q.useContext(xh);return x2(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var b2=Q.createContext(void 0);b2.displayName="FrameworkContext";function JA(){let n=Q.useContext(b2);return x2(n,"You must render this element inside a <HydratedRouter> element"),n}function eT(n,e){let t=Q.useContext(b2),[a,l]=Q.useState(!1),[c,g]=Q.useState(!1),{onFocus:w,onBlur:v,onMouseEnter:y,onMouseLeave:E,onTouchStart:A}=e,T=Q.useRef(null);Q.useEffect(()=>{if(n==="render"&&g(!0),n==="viewport"){let D=j=>{j.forEach(q=>{g(q.isIntersecting)})},B=new IntersectionObserver(D,{threshold:.5});return T.current&&B.observe(T.current),()=>{B.disconnect()}}},[n]),Q.useEffect(()=>{if(a){let D=setTimeout(()=>{g(!0)},100);return()=>{clearTimeout(D)}}},[a]);let R=()=>{l(!0)},M=()=>{l(!1),g(!1)};return t?n!=="intent"?[c,T,{}]:[c,T,{onFocus:Tu(w,R),onBlur:Tu(v,M),onMouseEnter:Tu(y,R),onMouseLeave:Tu(E,M),onTouchStart:Tu(A,R)}]:[!1,T,{}]}function Tu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function tT({page:n,...e}){let{router:t}=QA(),a=Q.useMemo(()=>zA(t.routes,n,t.basename),[t.routes,n,t.basename]);return a?Q.createElement(rT,{page:n,matches:a,...e}):null}function nT(n){let{manifest:e,routeModules:t}=JA(),[a,l]=Q.useState([]);return Q.useEffect(()=>{let c=!1;return X6(n,e,t).then(g=>{c||l(g)}),()=>{c=!0}},[n,e,t]),a}function rT({page:n,matches:e,...t}){let a=fs(),{manifest:l,routeModules:c}=JA(),{basename:g}=QA(),{loaderData:w,matches:v}=J6(),y=Q.useMemo(()=>Sx(n,e,v,l,a,"data"),[n,e,v,l,a]),E=Q.useMemo(()=>Sx(n,e,v,l,a,"assets"),[n,e,v,l,a]),A=Q.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let M=new Set,D=!1;if(e.forEach(j=>{let q=l.routes[j.route.id];!q||!q.hasLoader||(!y.some(P=>P.route.id===j.route.id)&&j.route.id in w&&c[j.route.id]?.shouldRevalidate||q.hasClientLoader?D=!0:M.add(j.route.id))}),M.size===0)return[];let B=V6(n,g,"data");return D&&M.size>0&&B.searchParams.set("_routes",e.filter(j=>M.has(j.route.id)).map(j=>j.route.id).join(",")),[B.pathname+B.search]},[g,w,a,l,y,e,n,c]),T=Q.useMemo(()=>K6(E,l),[E,l]),R=nT(E);return Q.createElement(Q.Fragment,null,A.map(M=>Q.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),T.map(M=>Q.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),R.map(({key:M,link:D})=>Q.createElement("link",{key:M,nonce:t.nonce,...D})))}function iT(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var e4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{e4&&(window.__reactRouterVersion="7.8.0")}catch{}function aT({basename:n,children:e,window:t}){let a=Q.useRef();a.current==null&&(a.current=WC({window:t,v5Compat:!0}));let l=a.current,[c,g]=Q.useState({action:l.action,location:l.location}),w=Q.useCallback(v=>{Q.startTransition(()=>g(v))},[g]);return Q.useLayoutEffect(()=>l.listen(w),[l,w]),Q.createElement(B6,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:l})}var t4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,n4=Q.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:l,reloadDocument:c,replace:g,state:w,target:v,to:y,preventScrollReset:E,viewTransition:A,...T},R){let{basename:M}=Q.useContext(yi),D=typeof y=="string"&&t4.test(y),B,j=!1;if(typeof y=="string"&&D&&(B=y,e4))try{let W=new URL(window.location.href),xe=y.startsWith("//")?new URL(W.protocol+y):new URL(y),ce=wa(xe.pathname,M);xe.origin===W.origin&&ce!=null?y=ce+xe.search+xe.hash:j=!0}catch{pi(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=w6(y,{relative:l}),[P,F,X]=eT(a,T),$=lT(y,{replace:g,state:w,target:v,preventScrollReset:E,relative:l,viewTransition:A});function G(W){e&&e(W),W.defaultPrevented||$(W)}let le=Q.createElement("a",{...T,...X,href:B||q,onClick:j||c?e:G,ref:iT(R,F),target:v,"data-discover":!D&&t==="render"?"true":void 0});return P&&!D?Q.createElement(Q.Fragment,null,le,Q.createElement(tT,{page:q})):le});n4.displayName="Link";var Mu=Q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:l=!1,style:c,to:g,viewTransition:w,children:v,...y},E){let A=oc(g,{relative:y.relative}),T=fs(),R=Q.useContext(xh),{navigator:M,basename:D}=Q.useContext(yi),B=R!=null&&dT(A)&&w===!0,j=M.encodeLocation?M.encodeLocation(A).pathname:A.pathname,q=T.pathname,P=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(q=q.toLowerCase(),P=P?P.toLowerCase():null,j=j.toLowerCase()),P&&D&&(P=wa(P,D)||P);const F=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let X=q===j||!l&&q.startsWith(j)&&q.charAt(F)==="/",$=P!=null&&(P===j||!l&&P.startsWith(j)&&P.charAt(j.length)==="/"),G={isActive:X,isPending:$,isTransitioning:B},le=X?e:void 0,W;typeof a=="function"?W=a(G):W=[a,X?"active":null,$?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let xe=typeof c=="function"?c(G):c;return Q.createElement(n4,{...y,"aria-current":le,className:W,ref:E,style:xe,to:g,viewTransition:w},typeof v=="function"?v(G):v)});Mu.displayName="NavLink";var sT=Q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:l,state:c,method:g=Hf,action:w,onSubmit:v,relative:y,preventScrollReset:E,viewTransition:A,...T},R)=>{let M=fT(),D=hT(w,{relative:y}),B=g.toLowerCase()==="get"?"get":"post",j=typeof w=="string"&&t4.test(w),q=P=>{if(v&&v(P),P.defaultPrevented)return;P.preventDefault();let F=P.nativeEvent.submitter,X=F?.getAttribute("formmethod")||g;M(F||P.currentTarget,{fetcherKey:e,method:X,navigate:t,replace:l,state:c,relative:y,preventScrollReset:E,viewTransition:A})};return Q.createElement("form",{ref:R,method:B,action:D,onSubmit:a?v:q,...T,"data-discover":!j&&n==="render"?"true":void 0})});sT.displayName="Form";function oT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r4(n){let e=Q.useContext(bl);return en(e,oT(n)),e}function lT(n,{target:e,replace:t,state:a,preventScrollReset:l,relative:c,viewTransition:g}={}){let w=Rr(),v=fs(),y=oc(n,{relative:c});return Q.useCallback(E=>{if(q6(E,e)){E.preventDefault();let A=t!==void 0?t:Gu(v)===Gu(y);w(n,{replace:A,state:a,preventScrollReset:l,relative:c,viewTransition:g})}},[v,w,y,t,a,e,n,l,c,g])}var uT=0,cT=()=>`__${String(++uT)}__`;function fT(){let{router:n}=r4("useSubmit"),{basename:e}=Q.useContext(yi),t=D6();return Q.useCallback(async(a,l={})=>{let{action:c,method:g,encType:w,formData:v,body:y}=G6(a,e);if(l.navigate===!1){let E=l.fetcherKey||cT();await n.fetch(E,t,l.action||c,{preventScrollReset:l.preventScrollReset,formData:v,body:y,formMethod:l.method||g,formEncType:l.encType||w,flushSync:l.flushSync})}else await n.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:v,body:y,formMethod:l.method||g,formEncType:l.encType||w,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,e,t])}function hT(n,{relative:e}={}){let{basename:t}=Q.useContext(yi),a=Q.useContext(wi);en(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),c={...oc(n||".",{relative:e})},g=fs();if(n==null){c.search=g.search;let w=new URLSearchParams(c.search),v=w.getAll("index");if(v.some(E=>E==="")){w.delete("index"),v.filter(A=>A).forEach(A=>w.append("index",A));let E=w.toString();c.search=E?`?${E}`:""}}return(!n||n===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:ya([t,c.pathname])),Gu(c)}function dT(n,{relative:e}={}){let t=Q.useContext(WA);en(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=r4("useViewTransitionState"),l=oc(n,{relative:e});if(!t.isTransitioning)return!1;let c=wa(t.currentLocation.pathname,a)||t.currentLocation.pathname,g=wa(t.nextLocation.pathname,a)||t.nextLocation.pathname;return rh(l.pathname,g)!=null||rh(l.pathname,c)!=null}var gT=qA();const i4=cr(gT),mT="modulepreload",pT=function(n){return"/ShelfTracker/"+n},Cx={},lc=function(e,t,a){let l=Promise.resolve();if(t&&t.length>0){let y=function(E){return Promise.all(E.map(A=>Promise.resolve(A).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};var g=y;document.getElementsByTagName("link");const w=document.querySelector("meta[property=csp-nonce]"),v=w?.nonce||w?.getAttribute("nonce");l=y(t.map(E=>{if(E=pT(E),E in Cx)return;Cx[E]=!0;const A=E.endsWith(".css"),T=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${T}`))return;const R=document.createElement("link");if(R.rel=A?"stylesheet":mT,A||(R.as="script"),R.crossOrigin="",R.href=E,v&&R.setAttribute("nonce",v),document.head.appendChild(R),A)return new Promise((M,D)=>{R.addEventListener("load",M),R.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${E}`)))})}))}function c(w){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=w,window.dispatchEvent(v),!v.defaultPrevented)throw w}return l.then(w=>{for(const v of w||[])v.status==="rejected"&&c(v.reason);return e().catch(c)})},vT=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>lc(async()=>{const{default:a}=await Promise.resolve().then(()=>_l);return{default:a}},[]).then(({default:a})=>a(...t)):e=fetch,(...t)=>e(...t)};class E2 extends Error{constructor(e,t="FunctionsError",a){super(e),this.name=t,this.context=a}}class yT extends E2{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Tx extends E2{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ox extends E2{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var zp;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(zp||(zp={}));var wT=function(n,e,t,a){function l(c){return c instanceof t?c:new t(function(g){g(c)})}return new(t||(t=Promise))(function(c,g){function w(E){try{y(a.next(E))}catch(A){g(A)}}function v(E){try{y(a.throw(E))}catch(A){g(A)}}function y(E){E.done?c(E.value):l(E.value).then(w,v)}y((a=a.apply(n,e||[])).next())})};class xT{constructor(e,{headers:t={},customFetch:a,region:l=zp.Any}={}){this.url=e,this.headers=t,this.region=l,this.fetch=vT(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var a;return wT(this,void 0,void 0,function*(){try{const{headers:l,method:c,body:g}=t;let w={},{region:v}=t;v||(v=this.region);const y=new URL(`${this.url}/${e}`);v&&v!=="any"&&(w["x-region"]=v,y.searchParams.set("forceFunctionRegion",v));let E;g&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",E=g):typeof g=="string"?(w["Content-Type"]="text/plain",E=g):typeof FormData<"u"&&g instanceof FormData?E=g:(w["Content-Type"]="application/json",E=JSON.stringify(g)));const A=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),l),body:E}).catch(D=>{throw new yT(D)}),T=A.headers.get("x-relay-error");if(T&&T==="true")throw new Tx(A);if(!A.ok)throw new Ox(A);let R=((a=A.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),M;return R==="application/json"?M=yield A.json():R==="application/octet-stream"?M=yield A.blob():R==="text/event-stream"?M=A:R==="multipart/form-data"?M=yield A.formData():M=yield A.text(),{data:M,error:null,response:A}}catch(l){return{data:null,error:l,response:l instanceof Ox||l instanceof Tx?l.context:void 0}}})}}var Wn={},Ko={},$o={},Zo={},Qo={},Jo={},bT=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},hl=bT();const ET=hl.fetch,a4=hl.fetch.bind(hl),s4=hl.Headers,_T=hl.Request,AT=hl.Response,_l=Object.freeze(Object.defineProperty({__proto__:null,Headers:s4,Request:_T,Response:AT,default:a4,fetch:ET},Symbol.toStringTag,{value:"Module"})),ST=LC(_l);var kf={},Rx;function o4(){if(Rx)return kf;Rx=1,Object.defineProperty(kf,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return kf.default=n,kf}var Dx;function l4(){if(Dx)return Jo;Dx=1;var n=Jo&&Jo.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Jo,"__esModule",{value:!0});const e=n(ST),t=n(o4());class a{constructor(c){this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=c.headers,this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=c.shouldThrowOnError,this.signal=c.signal,this.isMaybeSingle=c.isMaybeSingle,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,g){return this.headers=Object.assign({},this.headers),this.headers[c]=g,this}then(c,g){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const w=this.fetch;let v=w(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var E,A,T;let R=null,M=null,D=null,B=y.status,j=y.statusText;if(y.ok){if(this.method!=="HEAD"){const X=await y.text();X===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?M=X:M=JSON.parse(X))}const P=(E=this.headers.Prefer)===null||E===void 0?void 0:E.match(/count=(exact|planned|estimated)/),F=(A=y.headers.get("content-range"))===null||A===void 0?void 0:A.split("/");P&&F&&F.length>1&&(D=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(M)&&(M.length>1?(R={code:"PGRST116",details:`Results contain ${M.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},M=null,D=null,B=406,j="Not Acceptable"):M.length===1?M=M[0]:M=null)}else{const P=await y.text();try{R=JSON.parse(P),Array.isArray(R)&&y.status===404&&(M=[],R=null,B=200,j="OK")}catch{y.status===404&&P===""?(B=204,j="No Content"):R={message:P}}if(R&&this.isMaybeSingle&&(!((T=R?.details)===null||T===void 0)&&T.includes("0 rows"))&&(R=null,B=200,j="OK"),R&&this.shouldThrowOnError)throw new t.default(R)}return{error:R,data:M,count:D,status:B,statusText:j}});return this.shouldThrowOnError||(v=v.catch(y=>{var E,A,T;return{error:{message:`${(E=y?.name)!==null&&E!==void 0?E:"FetchError"}: ${y?.message}`,details:`${(A=y?.stack)!==null&&A!==void 0?A:""}`,hint:"",code:`${(T=y?.code)!==null&&T!==void 0?T:""}`},data:null,count:null,status:0,statusText:""}})),v.then(c,g)}returns(){return this}overrideTypes(){return this}}return Jo.default=a,Jo}var Nx;function u4(){if(Nx)return Qo;Nx=1;var n=Qo&&Qo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Qo,"__esModule",{value:!0});const e=n(l4());class t extends e.default{select(l){let c=!1;const g=(l??"*").split("").map(w=>/\s/.test(w)&&!c?"":(w==='"'&&(c=!c),w)).join("");return this.url.searchParams.set("select",g),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(l,{ascending:c=!0,nullsFirst:g,foreignTable:w,referencedTable:v=w}={}){const y=v?`${v}.order`:"order",E=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${E?`${E},`:""}${l}.${c?"asc":"desc"}${g===void 0?"":g?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:c,referencedTable:g=c}={}){const w=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(w,`${l}`),this}range(l,c,{foreignTable:g,referencedTable:w=g}={}){const v=typeof w>"u"?"offset":`${w}.offset`,y=typeof w>"u"?"limit":`${w}.limit`;return this.url.searchParams.set(v,`${l}`),this.url.searchParams.set(y,`${c-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:l=!1,verbose:c=!1,settings:g=!1,buffers:w=!1,wal:v=!1,format:y="text"}={}){var E;const A=[l?"analyze":null,c?"verbose":null,g?"settings":null,w?"buffers":null,v?"wal":null].filter(Boolean).join("|"),T=(E=this.headers.Accept)!==null&&E!==void 0?E:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${y}; for="${T}"; options=${A};`,y==="json"?this:this}rollback(){var l;return((l=this.headers.Prefer)!==null&&l!==void 0?l:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Qo.default=t,Qo}var Mx;function _2(){if(Mx)return Zo;Mx=1;var n=Zo&&Zo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Zo,"__esModule",{value:!0});const e=n(u4());class t extends e.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}in(l,c){const g=Array.from(new Set(c)).map(w=>typeof w=="string"&&new RegExp("[,()]").test(w)?`"${w}"`:`${w}`).join(",");return this.url.searchParams.append(l,`in.(${g})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:g,type:w}={}){let v="";w==="plain"?v="pl":w==="phrase"?v="ph":w==="websearch"&&(v="w");const y=g===void 0?"":`(${g})`;return this.url.searchParams.append(l,`${v}fts${y}.${c}`),this}match(l){return Object.entries(l).forEach(([c,g])=>{this.url.searchParams.append(c,`eq.${g}`)}),this}not(l,c,g){return this.url.searchParams.append(l,`not.${c}.${g}`),this}or(l,{foreignTable:c,referencedTable:g=c}={}){const w=g?`${g}.or`:"or";return this.url.searchParams.append(w,`(${l})`),this}filter(l,c,g){return this.url.searchParams.append(l,`${c}.${g}`),this}}return Zo.default=t,Zo}var Ix;function c4(){if(Ix)return $o;Ix=1;var n=$o&&$o.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty($o,"__esModule",{value:!0});const e=n(_2());class t{constructor(l,{headers:c={},schema:g,fetch:w}){this.url=l,this.headers=c,this.schema=g,this.fetch=w}select(l,{head:c=!1,count:g}={}){const w=c?"HEAD":"GET";let v=!1;const y=(l??"*").split("").map(E=>/\s/.test(E)&&!v?"":(E==='"'&&(v=!v),E)).join("");return this.url.searchParams.set("select",y),g&&(this.headers.Prefer=`count=${g}`),new e.default({method:w,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(l,{count:c,defaultToNull:g=!0}={}){const w="POST",v=[];if(this.headers.Prefer&&v.push(this.headers.Prefer),c&&v.push(`count=${c}`),g||v.push("missing=default"),this.headers.Prefer=v.join(","),Array.isArray(l)){const y=l.reduce((E,A)=>E.concat(Object.keys(A)),[]);if(y.length>0){const E=[...new Set(y)].map(A=>`"${A}"`);this.url.searchParams.set("columns",E.join(","))}}return new e.default({method:w,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}upsert(l,{onConflict:c,ignoreDuplicates:g=!1,count:w,defaultToNull:v=!0}={}){const y="POST",E=[`resolution=${g?"ignore":"merge"}-duplicates`];if(c!==void 0&&this.url.searchParams.set("on_conflict",c),this.headers.Prefer&&E.push(this.headers.Prefer),w&&E.push(`count=${w}`),v||E.push("missing=default"),this.headers.Prefer=E.join(","),Array.isArray(l)){const A=l.reduce((T,R)=>T.concat(Object.keys(R)),[]);if(A.length>0){const T=[...new Set(A)].map(R=>`"${R}"`);this.url.searchParams.set("columns",T.join(","))}}return new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}update(l,{count:c}={}){const g="PATCH",w=[];return this.headers.Prefer&&w.push(this.headers.Prefer),c&&w.push(`count=${c}`),this.headers.Prefer=w.join(","),new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}delete({count:l}={}){const c="DELETE",g=[];return l&&g.push(`count=${l}`),this.headers.Prefer&&g.unshift(this.headers.Prefer),this.headers.Prefer=g.join(","),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return $o.default=t,$o}var Ou={},Ru={},kx;function CT(){return kx||(kx=1,Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.version=void 0,Ru.version="0.0.0-automated"),Ru}var Bx;function TT(){if(Bx)return Ou;Bx=1,Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.DEFAULT_HEADERS=void 0;const n=CT();return Ou.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`},Ou}var Lx;function OT(){if(Lx)return Ko;Lx=1;var n=Ko&&Ko.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Ko,"__esModule",{value:!0});const e=n(c4()),t=n(_2()),a=TT();class l{constructor(g,{headers:w={},schema:v,fetch:y}={}){this.url=g,this.headers=Object.assign(Object.assign({},a.DEFAULT_HEADERS),w),this.schemaName=v,this.fetch=y}from(g){const w=new URL(`${this.url}/${g}`);return new e.default(w,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(g){return new l(this.url,{headers:this.headers,schema:g,fetch:this.fetch})}rpc(g,w={},{head:v=!1,get:y=!1,count:E}={}){let A;const T=new URL(`${this.url}/rpc/${g}`);let R;v||y?(A=v?"HEAD":"GET",Object.entries(w).filter(([D,B])=>B!==void 0).map(([D,B])=>[D,Array.isArray(B)?`{${B.join(",")}}`:`${B}`]).forEach(([D,B])=>{T.searchParams.append(D,B)})):(A="POST",R=w);const M=Object.assign({},this.headers);return E&&(M.Prefer=`count=${E}`),new t.default({method:A,url:T,headers:M,schema:this.schemaName,body:R,fetch:this.fetch,allowEmpty:!1})}}return Ko.default=l,Ko}var Px;function RT(){if(Px)return Wn;Px=1;var n=Wn&&Wn.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.PostgrestError=Wn.PostgrestBuilder=Wn.PostgrestTransformBuilder=Wn.PostgrestFilterBuilder=Wn.PostgrestQueryBuilder=Wn.PostgrestClient=void 0;const e=n(OT());Wn.PostgrestClient=e.default;const t=n(c4());Wn.PostgrestQueryBuilder=t.default;const a=n(_2());Wn.PostgrestFilterBuilder=a.default;const l=n(u4());Wn.PostgrestTransformBuilder=l.default;const c=n(l4());Wn.PostgrestBuilder=c.default;const g=n(o4());return Wn.PostgrestError=g.default,Wn.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:c.default,PostgrestError:g.default},Wn}var DT=RT();const NT=cr(DT),{PostgrestClient:MT,PostgrestQueryBuilder:HL,PostgrestFilterBuilder:GL,PostgrestTransformBuilder:VL,PostgrestBuilder:WL,PostgrestError:YL}=NT;class IT{static dynamicRequire(e){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(e):null}catch{return null}}static detectEnvironment(){var e,t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const a=parseInt(process.versions.node.split(".")[0]);if(a>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const l=this.dynamicRequire("undici");if(l&&l.WebSocket)return{type:"native",constructor:l.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const l=this.dynamicRequire("ws");if(l)return{type:"ws",constructor:(t=l.WebSocket)!==null&&t!==void 0?t:l};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${a} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const a=this.getWebSocketConstructor();return new a(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const kT="2.15.0",BT=`realtime-js/${kT}`,LT="1.0.0",Hp=1e4,PT=1e3,UT=100;var ju;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(ju||(ju={}));var Ln;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Ln||(Ln={}));var mi;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(mi||(mi={}));var Gp;(function(n){n.websocket="websocket"})(Gp||(Gp={}));var Ws;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ws||(Ws={}));class jT{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),a=new TextDecoder;return this._decodeBroadcast(e,t,a)}_decodeBroadcast(e,t,a){const l=t.getUint8(1),c=t.getUint8(2);let g=this.HEADER_LENGTH+2;const w=a.decode(e.slice(g,g+l));g=g+l;const v=a.decode(e.slice(g,g+c));g=g+c;const y=JSON.parse(a.decode(e.slice(g,e.byteLength)));return{ref:null,topic:w,event:v,payload:y}}}class f4{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Vt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Vt||(Vt={}));const Ux=(n,e,t={})=>{var a;const l=(a=t.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(e).reduce((c,g)=>(c[g]=FT(g,n,e,l),c),{})},FT=(n,e,t,a)=>{const l=e.find(w=>w.name===n),c=l?.type,g=t[n];return c&&!a.includes(c)?h4(c,g):Vp(g)},h4=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return GT(e,t)}switch(n){case Vt.bool:return qT(e);case Vt.float4:case Vt.float8:case Vt.int2:case Vt.int4:case Vt.int8:case Vt.numeric:case Vt.oid:return zT(e);case Vt.json:case Vt.jsonb:return HT(e);case Vt.timestamp:return VT(e);case Vt.abstime:case Vt.date:case Vt.daterange:case Vt.int4range:case Vt.int8range:case Vt.money:case Vt.reltime:case Vt.text:case Vt.time:case Vt.timestamptz:case Vt.timetz:case Vt.tsrange:case Vt.tstzrange:return Vp(e);default:return Vp(e)}},Vp=n=>n,qT=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},zT=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},HT=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},GT=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,a=n[t];if(n[0]==="{"&&a==="}"){let c;const g=n.slice(1,t);try{c=JSON.parse("["+g+"]")}catch{c=g?g.split(","):[]}return c.map(w=>h4(e,w))}return n},VT=n=>typeof n=="string"?n.replace(" ","T"):n,d4=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class $0{constructor(e,t,a={},l=Hp){this.channel=e,this.event=t,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var a;return this._hasReceived(e)&&t((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var jx;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(jx||(jx={}));class Fu{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:c,onLeave:g,onSync:w}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fu.syncState(this.state,l,c,g),this.pendingDiffs.forEach(v=>{this.state=Fu.syncDiff(this.state,v,c,g)}),this.pendingDiffs=[],w()}),this.channel._on(a.diff,{},l=>{const{onJoin:c,onLeave:g,onSync:w}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Fu.syncDiff(this.state,l,c,g),w())}),this.onJoin((l,c,g)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:g})}),this.onLeave((l,c,g)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:g})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,a,l){const c=this.cloneDeep(e),g=this.transformState(t),w={},v={};return this.map(c,(y,E)=>{g[y]||(v[y]=E)}),this.map(g,(y,E)=>{const A=c[y];if(A){const T=E.map(B=>B.presence_ref),R=A.map(B=>B.presence_ref),M=E.filter(B=>R.indexOf(B.presence_ref)<0),D=A.filter(B=>T.indexOf(B.presence_ref)<0);M.length>0&&(w[y]=M),D.length>0&&(v[y]=D)}else w[y]=E}),this.syncDiff(c,{joins:w,leaves:v},a,l)}static syncDiff(e,t,a,l){const{joins:c,leaves:g}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(c,(w,v)=>{var y;const E=(y=e[w])!==null&&y!==void 0?y:[];if(e[w]=this.cloneDeep(v),E.length>0){const A=e[w].map(R=>R.presence_ref),T=E.filter(R=>A.indexOf(R.presence_ref)<0);e[w].unshift(...T)}a(w,E,v)}),this.map(g,(w,v)=>{let y=e[w];if(!y)return;const E=v.map(A=>A.presence_ref);y=y.filter(A=>E.indexOf(A.presence_ref)<0),e[w]=y,l(w,y,v),y.length===0&&delete e[w]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(a=>t(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,a)=>{const l=e[a];return"metas"in l?t[a]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):t[a]=l,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fx;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Fx||(Fx={}));var qu;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(qu||(qu={}));var pa;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(pa||(pa={}));class A2{constructor(e,t={config:{}},a){this.topic=e,this.params=t,this.socket=a,this.bindings={},this.state=Ln.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new $0(this,mi.join,this.params,this.timeout),this.rejoinTimer=new f4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ln.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ln.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ln.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ln.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ln.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mi.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new Fu(this),this.broadcastEndpointURL=d4(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Ln.closed){const{config:{broadcast:c,presence:g,private:w}}=this.params,v=(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(T=>T.filter))!==null&&l!==void 0?l:[],y=!!this.bindings[qu.PRESENCE]&&this.bindings[qu.PRESENCE].length>0,E={},A={broadcast:c,presence:Object.assign(Object.assign({},g),{enabled:y}),postgres_changes:v,private:w};this.socket.accessTokenValue&&(E.access_token=this.socket.accessTokenValue),this._onError(T=>e?.(pa.CHANNEL_ERROR,T)),this._onClose(()=>e?.(pa.CLOSED)),this.updateJoinPayload(Object.assign({config:A},E)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:T})=>{var R;if(this.socket.setAuth(),T===void 0){e?.(pa.SUBSCRIBED);return}else{const M=this.bindings.postgres_changes,D=(R=M?.length)!==null&&R!==void 0?R:0,B=[];for(let j=0;j<D;j++){const q=M[j],{filter:{event:P,schema:F,table:X,filter:$}}=q,G=T&&T[j];if(G&&G.event===P&&G.schema===F&&G.table===X&&G.filter===$)B.push(Object.assign(Object.assign({},q),{id:G.id}));else{this.unsubscribe(),this.state=Ln.errored,e?.(pa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=B,e&&e(pa.SUBSCRIBED);return}}).receive("error",T=>{this.state=Ln.errored,e?.(pa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(T).join(", ")||"error")))}).receive("timeout",()=>{e?.(pa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,a){return this.state===Ln.joined&&e===qu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,a)}async send(e,t={}){var a,l;if(!this._canPush()&&e.type==="broadcast"){const{event:c,payload:g}=e,v={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:g,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(a=t.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=y.body)===null||l===void 0?void 0:l.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var g,w,v;const y=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((v=(w=(g=this.params)===null||g===void 0?void 0:g.config)===null||w===void 0?void 0:w.broadcast)===null||v===void 0)&&v.ack)&&c("ok"),y.receive("ok",()=>c("ok")),y.receive("error",()=>c("error")),y.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ln.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mi.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(l=>{a=new $0(this,mi.leave,{},e),a.receive("ok",()=>{t(),l("ok")}).receive("timeout",()=>{t(),l("timed out")}).receive("error",()=>{l("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ln.closed,this.bindings={}}async _fetchWithTimeout(e,t,a){const l=new AbortController,c=setTimeout(()=>l.abort(),a),g=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:l.signal}));return clearTimeout(c),g}_push(e,t,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new $0(this,e,t,a);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>UT){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,a){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,a){var l,c;const g=e.toLocaleLowerCase(),{close:w,error:v,leave:y,join:E}=mi;if(a&&[w,v,y,E].indexOf(g)>=0&&a!==this._joinRef())return;let T=this._onMessage(g,t,a);if(t&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(g)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(R=>{var M,D,B;return((M=R.filter)===null||M===void 0?void 0:M.event)==="*"||((B=(D=R.filter)===null||D===void 0?void 0:D.event)===null||B===void 0?void 0:B.toLocaleLowerCase())===g}).map(R=>R.callback(T,a)):(c=this.bindings[g])===null||c===void 0||c.filter(R=>{var M,D,B,j,q,P;if(["broadcast","presence","postgres_changes"].includes(g))if("id"in R){const F=R.id,X=(M=R.filter)===null||M===void 0?void 0:M.event;return F&&((D=t.ids)===null||D===void 0?void 0:D.includes(F))&&(X==="*"||X?.toLocaleLowerCase()===((B=t.data)===null||B===void 0?void 0:B.type.toLocaleLowerCase()))}else{const F=(q=(j=R?.filter)===null||j===void 0?void 0:j.event)===null||q===void 0?void 0:q.toLocaleLowerCase();return F==="*"||F===((P=t?.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return R.type.toLocaleLowerCase()===g}).map(R=>{if(typeof T=="object"&&"ids"in T){const M=T.data,{schema:D,table:B,commit_timestamp:j,type:q,errors:P}=M;T=Object.assign(Object.assign({},{schema:D,table:B,commit_timestamp:j,eventType:q,new:{},old:{},errors:P}),this._getPayloadRecords(M))}R.callback(T,a)})}_isClosed(){return this.state===Ln.closed}_isJoined(){return this.state===Ln.joined}_isJoining(){return this.state===Ln.joining}_isLeaving(){return this.state===Ln.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,a){const l=e.toLocaleLowerCase(),c={type:l,filter:t,callback:a};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(e,t){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===a&&A2.isEqual(l.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const a in e)if(e[a]!==t[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(mi.close,{},e)}_onError(e){this._on(mi.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ln.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Ux(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Ux(e.columns,e.old_record)),t}}const qx=()=>{},Bf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},WT=[1e3,2e3,5e3,1e4],YT=1e4,XT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class KT{constructor(e,t){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Hp,this.transport=null,this.heartbeatIntervalMs=Bf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qx,this.ref=0,this.reconnectTimer=null,this.logger=qx,this.conn=null,this.sendBuffer=[],this.serializer=new jT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let c;return l?c=l:typeof fetch>"u"?c=(...g)=>lc(async()=>{const{default:w}=await Promise.resolve().then(()=>_l);return{default:w}},void 0).then(({default:w})=>w(...g)).catch(w=>{throw new Error(`Failed to load @supabase/node-fetch: ${w.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...g)=>c(...g)},!(!((a=t?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Gp.websocket}`,this.httpEndpoint=d4(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=IT.createWebSocket(this.endpointURL())}catch(e){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${e.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:LT}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,a){this.logger(e,t,a)}connectionState(){switch(this.conn&&this.conn.readyState){case ju.connecting:return Ws.Connecting;case ju.open:return Ws.Open;case ju.closing:return Ws.Closing;default:return Ws.Closed}}isConnected(){return this.connectionState()===Ws.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const a=`realtime:${e}`,l=this.getChannels().find(c=>c.topic===a);if(l)return l;{const c=new A2(`realtime:${e}`,t,this);return this.channels.push(c),c}}push(e){const{topic:t,event:a,payload:l,ref:c}=e,g=()=>{this.encode(e,w=>{var v;(v=this.conn)===null||v===void 0||v.send(w)})};this.log("push",`${t} ${a} (${c})`,l),this.isConnected()?g():this.sendBuffer.push(g)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(PT,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Bf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{t.topic==="phoenix"&&t.event==="phx_reply"&&this.heartbeatCallback(t.payload.status==="ok"?"ok":"error"),t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:l,payload:c,ref:g}=t,w=g?`(${g})`:"",v=c.status||"";this.log("receive",`${v} ${a} ${l} ${w}`.trim(),c),this.channels.filter(y=>y._isMember(a)).forEach(y=>y._trigger(l,c,g)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(mi.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const a=e.match(/\?/)?"&":"?",l=new URLSearchParams(t);return`${e}${a}${l}`}_workerObjectUrl(e){let t;if(e)t=e;else{const a=new Blob([XT],{type:"application/javascript"});t=URL.createObjectURL(a)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(a=>{const l={access_token:t,version:BT};t&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(mi.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(t)}catch(l){this.log("error",`error in ${e} callback`,l)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new f4(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,a,l,c,g,w,v,y;if(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:Hp,this.heartbeatIntervalMs=(l=e?.heartbeatIntervalMs)!==null&&l!==void 0?l:Bf.HEARTBEAT_INTERVAL,this.worker=(c=e?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(g=e?.accessToken)!==null&&g!==void 0?g:null,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(w=e?.reconnectAfterMs)!==null&&w!==void 0?w:E=>WT[E-1]||YT,this.encode=(v=e?.encode)!==null&&v!==void 0?v:(E,A)=>A(JSON.stringify(E)),this.decode=(y=e?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class S2 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Yn(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class $T extends S2{constructor(e,t,a){super(e),this.name="StorageApiError",this.status=t,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Wp extends S2{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var ZT=function(n,e,t,a){function l(c){return c instanceof t?c:new t(function(g){g(c)})}return new(t||(t=Promise))(function(c,g){function w(E){try{y(a.next(E))}catch(A){g(A)}}function v(E){try{y(a.throw(E))}catch(A){g(A)}}function y(E){E.done?c(E.value):l(E.value).then(w,v)}y((a=a.apply(n,e||[])).next())})};const g4=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>lc(async()=>{const{default:a}=await Promise.resolve().then(()=>_l);return{default:a}},void 0).then(({default:a})=>a(...t)):e=fetch,(...t)=>e(...t)},QT=()=>ZT(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield lc(()=>Promise.resolve().then(()=>_l),void 0)).Response:Response}),Yp=n=>{if(Array.isArray(n))return n.map(t=>Yp(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,a])=>{const l=t.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[l]=Yp(a)}),e},JT=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var ao=function(n,e,t,a){function l(c){return c instanceof t?c:new t(function(g){g(c)})}return new(t||(t=Promise))(function(c,g){function w(E){try{y(a.next(E))}catch(A){g(A)}}function v(E){try{y(a.throw(E))}catch(A){g(A)}}function y(E){E.done?c(E.value):l(E.value).then(w,v)}y((a=a.apply(n,e||[])).next())})};const Z0=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),eO=(n,e,t)=>ao(void 0,void 0,void 0,function*(){const a=yield QT();n instanceof a&&!t?.noResolveJson?n.json().then(l=>{const c=n.status||500,g=l?.statusCode||c+"";e(new $T(Z0(l),c,g))}).catch(l=>{e(new Wp(Z0(l),l))}):e(new Wp(Z0(n),n))}),tO=(n,e,t,a)=>{const l={method:n,headers:e?.headers||{}};return n==="GET"||!a?l:(JT(a)?(l.headers=Object.assign({"Content-Type":"application/json"},e?.headers),l.body=JSON.stringify(a)):l.body=a,Object.assign(Object.assign({},l),t))};function uc(n,e,t,a,l,c){return ao(this,void 0,void 0,function*(){return new Promise((g,w)=>{n(t,tO(e,a,l,c)).then(v=>{if(!v.ok)throw v;return a?.noResolveJson?v:v.json()}).then(v=>g(v)).catch(v=>eO(v,w,a))})})}function ih(n,e,t,a){return ao(this,void 0,void 0,function*(){return uc(n,"GET",e,t,a)})}function va(n,e,t,a,l){return ao(this,void 0,void 0,function*(){return uc(n,"POST",e,a,l,t)})}function Xp(n,e,t,a,l){return ao(this,void 0,void 0,function*(){return uc(n,"PUT",e,a,l,t)})}function nO(n,e,t,a){return ao(this,void 0,void 0,function*(){return uc(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),a)})}function m4(n,e,t,a,l){return ao(this,void 0,void 0,function*(){return uc(n,"DELETE",e,a,l,t)})}var Sr=function(n,e,t,a){function l(c){return c instanceof t?c:new t(function(g){g(c)})}return new(t||(t=Promise))(function(c,g){function w(E){try{y(a.next(E))}catch(A){g(A)}}function v(E){try{y(a.throw(E))}catch(A){g(A)}}function y(E){E.done?c(E.value):l(E.value).then(w,v)}y((a=a.apply(n,e||[])).next())})};const rO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class iO{constructor(e,t={},a,l){this.url=e,this.headers=t,this.bucketId=a,this.fetch=g4(l)}uploadOrUpdate(e,t,a,l){return Sr(this,void 0,void 0,function*(){try{let c;const g=Object.assign(Object.assign({},zx),l);let w=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(g.upsert)});const v=g.metadata;typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",g.cacheControl),v&&c.append("metadata",this.encodeMetadata(v)),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.append("cacheControl",g.cacheControl),v&&c.append("metadata",this.encodeMetadata(v))):(c=a,w["cache-control"]=`max-age=${g.cacheControl}`,w["content-type"]=g.contentType,v&&(w["x-metadata"]=this.toBase64(this.encodeMetadata(v)))),l?.headers&&(w=Object.assign(Object.assign({},w),l.headers));const y=this._removeEmptyFolders(t),E=this._getFinalPath(y),A=yield(e=="PUT"?Xp:va)(this.fetch,`${this.url}/object/${E}`,c,Object.assign({headers:w},g?.duplex?{duplex:g.duplex}:{}));return{data:{path:y,id:A.Id,fullPath:A.Key},error:null}}catch(c){if(Yn(c))return{data:null,error:c};throw c}})}upload(e,t,a){return Sr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,a)})}uploadToSignedUrl(e,t,a,l){return Sr(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(e),g=this._getFinalPath(c),w=new URL(this.url+`/object/upload/sign/${g}`);w.searchParams.set("token",t);try{let v;const y=Object.assign({upsert:zx.upsert},l),E=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&a instanceof Blob?(v=new FormData,v.append("cacheControl",y.cacheControl),v.append("",a)):typeof FormData<"u"&&a instanceof FormData?(v=a,v.append("cacheControl",y.cacheControl)):(v=a,E["cache-control"]=`max-age=${y.cacheControl}`,E["content-type"]=y.contentType);const A=yield Xp(this.fetch,w.toString(),v,{headers:E});return{data:{path:c,fullPath:A.Key},error:null}}catch(v){if(Yn(v))return{data:null,error:v};throw v}})}createSignedUploadUrl(e,t){return Sr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const l=Object.assign({},this.headers);t?.upsert&&(l["x-upsert"]="true");const c=yield va(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:l}),g=new URL(this.url+c.url),w=g.searchParams.get("token");if(!w)throw new S2("No token returned by API");return{data:{signedUrl:g.toString(),path:e,token:w},error:null}}catch(a){if(Yn(a))return{data:null,error:a};throw a}})}update(e,t,a){return Sr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,a)})}move(e,t,a){return Sr(this,void 0,void 0,function*(){try{return{data:yield va(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(Yn(l))return{data:null,error:l};throw l}})}copy(e,t,a){return Sr(this,void 0,void 0,function*(){try{return{data:{path:(yield va(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(Yn(l))return{data:null,error:l};throw l}})}createSignedUrl(e,t,a){return Sr(this,void 0,void 0,function*(){try{let l=this._getFinalPath(e),c=yield va(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:t},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const g=a?.download?`&download=${a.download===!0?"":a.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${g}`)},{data:c,error:null}}catch(l){if(Yn(l))return{data:null,error:l};throw l}})}createSignedUrls(e,t,a){return Sr(this,void 0,void 0,function*(){try{const l=yield va(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),c=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:l.map(g=>Object.assign(Object.assign({},g),{signedUrl:g.signedURL?encodeURI(`${this.url}${g.signedURL}${c}`):null})),error:null}}catch(l){if(Yn(l))return{data:null,error:l};throw l}})}download(e,t){return Sr(this,void 0,void 0,function*(){const l=typeof t?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(t?.transform||{}),g=c?`?${c}`:"";try{const w=this._getFinalPath(e);return{data:yield(yield ih(this.fetch,`${this.url}/${l}/${w}${g}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(w){if(Yn(w))return{data:null,error:w};throw w}})}info(e){return Sr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const a=yield ih(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Yp(a),error:null}}catch(a){if(Yn(a))return{data:null,error:a};throw a}})}exists(e){return Sr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield nO(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(Yn(a)&&a instanceof Wp){const l=a.originalError;if([400,404].includes(l?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,t){const a=this._getFinalPath(e),l=[],c=t?.download?`download=${t.download===!0?"":t.download}`:"";c!==""&&l.push(c);const w=typeof t?.transform<"u"?"render/image":"object",v=this.transformOptsToQueryString(t?.transform||{});v!==""&&l.push(v);let y=l.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${w}/public/${a}${y}`)}}}remove(e){return Sr(this,void 0,void 0,function*(){try{return{data:yield m4(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Yn(t))return{data:null,error:t};throw t}})}list(e,t,a){return Sr(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},rO),t),{prefix:e||""});return{data:yield va(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},a),error:null}}catch(l){if(Yn(l))return{data:null,error:l};throw l}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const aO="2.10.4",sO={"X-Client-Info":`storage-js/${aO}`};var el=function(n,e,t,a){function l(c){return c instanceof t?c:new t(function(g){g(c)})}return new(t||(t=Promise))(function(c,g){function w(E){try{y(a.next(E))}catch(A){g(A)}}function v(E){try{y(a.throw(E))}catch(A){g(A)}}function y(E){E.done?c(E.value):l(E.value).then(w,v)}y((a=a.apply(n,e||[])).next())})};class oO{constructor(e,t={},a,l){const c=new URL(e);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href,this.headers=Object.assign(Object.assign({},sO),t),this.fetch=g4(a)}listBuckets(){return el(this,void 0,void 0,function*(){try{return{data:yield ih(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Yn(e))return{data:null,error:e};throw e}})}getBucket(e){return el(this,void 0,void 0,function*(){try{return{data:yield ih(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Yn(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return el(this,void 0,void 0,function*(){try{return{data:yield va(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(Yn(a))return{data:null,error:a};throw a}})}updateBucket(e,t){return el(this,void 0,void 0,function*(){try{return{data:yield Xp(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(Yn(a))return{data:null,error:a};throw a}})}emptyBucket(e){return el(this,void 0,void 0,function*(){try{return{data:yield va(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Yn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return el(this,void 0,void 0,function*(){try{return{data:yield m4(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Yn(t))return{data:null,error:t};throw t}})}}class lO extends oO{constructor(e,t={},a,l){super(e,t,a,l)}from(e){return new iO(this.url,this.headers,e,this.fetch)}}const uO="2.54.0";let Iu="";typeof Deno<"u"?Iu="deno":typeof document<"u"?Iu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Iu="react-native":Iu="node";const cO={"X-Client-Info":`supabase-js-${Iu}/${uO}`},fO={headers:cO},hO={schema:"public"},dO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gO={};var mO=function(n,e,t,a){function l(c){return c instanceof t?c:new t(function(g){g(c)})}return new(t||(t=Promise))(function(c,g){function w(E){try{y(a.next(E))}catch(A){g(A)}}function v(E){try{y(a.throw(E))}catch(A){g(A)}}function y(E){E.done?c(E.value):l(E.value).then(w,v)}y((a=a.apply(n,e||[])).next())})};const pO=n=>{let e;return n?e=n:typeof fetch>"u"?e=a4:e=fetch,(...t)=>e(...t)},vO=()=>typeof Headers>"u"?s4:Headers,yO=(n,e,t)=>{const a=pO(t),l=vO();return(c,g)=>mO(void 0,void 0,void 0,function*(){var w;const v=(w=yield e())!==null&&w!==void 0?w:n;let y=new l(g?.headers);return y.has("apikey")||y.set("apikey",n),y.has("Authorization")||y.set("Authorization",`Bearer ${v}`),a(c,Object.assign(Object.assign({},g),{headers:y}))})};var wO=function(n,e,t,a){function l(c){return c instanceof t?c:new t(function(g){g(c)})}return new(t||(t=Promise))(function(c,g){function w(E){try{y(a.next(E))}catch(A){g(A)}}function v(E){try{y(a.throw(E))}catch(A){g(A)}}function y(E){E.done?c(E.value):l(E.value).then(w,v)}y((a=a.apply(n,e||[])).next())})};function xO(n){return n.endsWith("/")?n:n+"/"}function bO(n,e){var t,a;const{db:l,auth:c,realtime:g,global:w}=n,{db:v,auth:y,realtime:E,global:A}=e,T={db:Object.assign(Object.assign({},v),l),auth:Object.assign(Object.assign({},y),c),realtime:Object.assign(Object.assign({},E),g),storage:{},global:Object.assign(Object.assign(Object.assign({},A),w),{headers:Object.assign(Object.assign({},(t=A?.headers)!==null&&t!==void 0?t:{}),(a=w?.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>wO(this,void 0,void 0,function*(){return""})};return n.accessToken?T.accessToken=n.accessToken:delete T.accessToken,T}const p4="2.71.1",sl=30*1e3,Kp=3,Q0=Kp*sl,EO="http://localhost:9999",_O="supabase.auth.token",AO={"X-Client-Info":`gotrue-js/${p4}`},$p="X-Supabase-Api-Version",v4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},SO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,CO=600*1e3;class C2 extends Error{constructor(e,t,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=a}}function tt(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class TO extends C2{constructor(e,t,a){super(e,t,a),this.name="AuthApiError",this.status=t,this.code=a}}function OO(n){return tt(n)&&n.name==="AuthApiError"}class y4 extends C2{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class hs extends C2{constructor(e,t,a,l){super(e,a,l),this.name=t,this.status=a}}class is extends hs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function RO(n){return tt(n)&&n.name==="AuthSessionMissingError"}class Lf extends hs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pf extends hs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Uf extends hs{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function DO(n){return tt(n)&&n.name==="AuthImplicitGrantRedirectError"}class Hx extends hs{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zp extends hs{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function J0(n){return tt(n)&&n.name==="AuthRetryableFetchError"}class Gx extends hs{constructor(e,t,a){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=a}}class Qp extends hs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ah="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Vx=` 	
\r=`.split(""),NO=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Vx.length;e+=1)n[Vx[e].charCodeAt(0)]=-2;for(let e=0;e<ah.length;e+=1)n[ah[e].charCodeAt(0)]=e;return n})();function Wx(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;t(ah[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;t(ah[a]),e.queuedBits-=6}}function w4(n,e,t){const a=NO[n];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Yx(n){const e=[],t=g=>{e.push(String.fromCodePoint(g))},a={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=g=>{kO(g,a,t)};for(let g=0;g<n.length;g+=1)w4(n.charCodeAt(g),l,c);return e.join("")}function MO(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function IO(n,e){for(let t=0;t<n.length;t+=1){let a=n.charCodeAt(t);if(a>55295&&a<=56319){const l=(a-55296)*1024&65535;a=(n.charCodeAt(t+1)-56320&65535|l)+65536,t+=1}MO(a,e)}}function kO(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let a=1;a<6;a+=1)if((n>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function BO(n){const e=[],t={queue:0,queuedBits:0},a=l=>{e.push(l)};for(let l=0;l<n.length;l+=1)w4(n.charCodeAt(l),t,a);return new Uint8Array(e)}function LO(n){const e=[];return IO(n,t=>e.push(t)),new Uint8Array(e)}function PO(n){const e=[],t={queue:0,queuedBits:0},a=l=>{e.push(l)};return n.forEach(l=>Wx(l,t,a)),Wx(null,t,a),e.join("")}function UO(n){return Math.round(Date.now()/1e3)+n}function jO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const gi=()=>typeof window<"u"&&typeof document<"u",zs={tested:!1,writable:!1},x4=()=>{if(!gi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zs.tested)return zs.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),zs.tested=!0,zs.writable=!0}catch{zs.tested=!0,zs.writable=!1}return zs.writable};function FO(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((l,c)=>{e[c]=l})}catch{}return t.searchParams.forEach((a,l)=>{e[l]=a}),e}const b4=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>lc(async()=>{const{default:a}=await Promise.resolve().then(()=>_l);return{default:a}},void 0).then(({default:a})=>a(...t)):e=fetch,(...t)=>e(...t)},qO=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",ol=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Hs=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},ns=async(n,e)=>{await n.removeItem(e)};class Eh{constructor(){this.promise=new Eh.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Eh.promiseConstructor=Promise;function e1(n){const e=n.split(".");if(e.length!==3)throw new Qp("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!SO.test(e[a]))throw new Qp("JWT not in base64url format");return{header:JSON.parse(Yx(e[0])),payload:JSON.parse(Yx(e[1])),signature:BO(e[2]),raw:{header:e[0],payload:e[1]}}}async function zO(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function HO(n,e){return new Promise((a,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const g=await n(c);if(!e(c,null,g)){a(g);return}}catch(g){if(!e(c,g)){l(g);return}}})()})}function GO(n){return("0"+n.toString(16)).substr(-2)}function VO(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=t.length;let l="";for(let c=0;c<56;c++)l+=t.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(e),Array.from(e,GO).join("")}async function WO(n){const t=new TextEncoder().encode(n),a=await crypto.subtle.digest("SHA-256",t),l=new Uint8Array(a);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function YO(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await WO(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function tl(n,e,t=!1){const a=VO();let l=a;t&&(l+="/PASSWORD_RECOVERY"),await ol(n,`${e}-code-verifier`,l);const c=await YO(a);return[c,a===c?"plain":"s256"]}const XO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function KO(n){const e=n.headers.get($p);if(!e||!e.match(XO))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function $O(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function ZO(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const QO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function nl(n){if(!QO.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function t1(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const a=t.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Xx(n){return JSON.parse(JSON.stringify(n))}var JO=function(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(n);l<a.length;l++)e.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(n,a[l])&&(t[a[l]]=n[a[l]]);return t};const Gs=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),eR=[502,503,504];async function Kx(n){var e;if(!qO(n))throw new Zp(Gs(n),0);if(eR.includes(n.status))throw new Zp(Gs(n),n.status);let t;try{t=await n.json()}catch(c){throw new y4(Gs(c),c)}let a;const l=KO(n);if(l&&l.getTime()>=v4["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?a=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(a=t.error_code),a){if(a==="weak_password")throw new Gx(Gs(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new is}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((c,g)=>c&&typeof g=="string",!0))throw new Gx(Gs(t),n.status,t.weak_password.reasons);throw new TO(Gs(t),n.status||500,a)}const tR=(n,e,t,a)=>{const l={method:n,headers:e?.headers||{}};return n==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),t))};async function gt(n,e,t,a){var l;const c=Object.assign({},a?.headers);c[$p]||(c[$p]=v4["2024-01-01"].name),a?.jwt&&(c.Authorization=`Bearer ${a.jwt}`);const g=(l=a?.query)!==null&&l!==void 0?l:{};a?.redirectTo&&(g.redirect_to=a.redirectTo);const w=Object.keys(g).length?"?"+new URLSearchParams(g).toString():"",v=await nR(n,e,t+w,{headers:c,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(v):{data:Object.assign({},v),error:null}}async function nR(n,e,t,a,l,c){const g=tR(e,a,l,c);let w;try{w=await n(t,Object.assign({},g))}catch(v){throw console.error(v),new Zp(Gs(v),0)}if(w.ok||await Kx(w),a?.noResolveJson)return w;try{return await w.json()}catch(v){await Kx(v)}}function ga(n){var e;let t=null;sR(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=UO(n.expires_in)));const a=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:a},error:null}}function $x(n){const e=ga(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,a)=>t&&typeof a=="string",!0)&&(e.data.weak_password=n.weak_password),e}function as(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function rR(n){return{data:n,error:null}}function iR(n){const{action_link:e,email_otp:t,hashed_token:a,redirect_to:l,verification_type:c}=n,g=JO(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),w={action_link:e,email_otp:t,hashed_token:a,redirect_to:l,verification_type:c},v=Object.assign({},g);return{data:{properties:w,user:v},error:null}}function aR(n){return n}function sR(n){return n.access_token&&n.refresh_token&&n.expires_in}const n1=["global","local","others"];var oR=function(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(n);l<a.length;l++)e.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(n,a[l])&&(t[a[l]]=n[a[l]]);return t};class lR{constructor({url:e="",headers:t={},fetch:a}){this.url=e,this.headers=t,this.fetch=b4(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=n1[0]){if(n1.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${n1.join(", ")}`);try{return await gt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(tt(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,t={}){try{return await gt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:as})}catch(a){if(tt(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:t}=e,a=oR(e,["options"]),l=Object.assign(Object.assign({},a),t);return"newEmail"in a&&(l.new_email=a?.newEmail,delete l.newEmail),await gt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:iR,redirectTo:t?.redirectTo})}catch(t){if(tt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await gt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:as})}catch(t){if(tt(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,a,l,c,g,w,v;try{const y={nextPage:null,lastPage:0,total:0},E=await gt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&a!==void 0?a:"",per_page:(c=(l=e?.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:aR});if(E.error)throw E.error;const A=await E.json(),T=(g=E.headers.get("x-total-count"))!==null&&g!==void 0?g:0,R=(v=(w=E.headers.get("link"))===null||w===void 0?void 0:w.split(","))!==null&&v!==void 0?v:[];return R.length>0&&(R.forEach(M=>{const D=parseInt(M.split(";")[0].split("=")[1].substring(0,1)),B=JSON.parse(M.split(";")[1].split("=")[1]);y[`${B}Page`]=D}),y.total=parseInt(T)),{data:Object.assign(Object.assign({},A),y),error:null}}catch(y){if(tt(y))return{data:{users:[]},error:y};throw y}}async getUserById(e){nl(e);try{return await gt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:as})}catch(t){if(tt(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){nl(e);try{return await gt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:as})}catch(a){if(tt(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,t=!1){nl(e);try{return await gt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:as})}catch(a){if(tt(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){nl(e.userId);try{const{data:t,error:a}=await gt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:t,error:a}}catch(t){if(tt(t))return{data:null,error:t};throw t}}async _deleteFactor(e){nl(e.userId),nl(e.id);try{return{data:await gt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(tt(t))return{data:null,error:t};throw t}}}function Zx(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function uR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const rl={debug:!!(globalThis&&x4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class E4 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class cR extends E4{}async function fR(n,e,t){rl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),rl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){rl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,l.name);try{return await t()}finally{rl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,l.name)}}else{if(e===0)throw rl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new cR(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(rl.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}uR();const hR={url:EO,storageKey:_O,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:AO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Qx(n,e,t){return await t()}const il={};class Vu{constructor(e){var t,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vu.nextInstanceID,Vu.nextInstanceID+=1,this.instanceID>0&&gi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},hR),e);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new lR({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=b4(l.fetch),this.lock=l.lock||Qx,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:gi()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=fR:this.lock=Qx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:x4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Zx(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Zx(this.memoryStorage)),gi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=il[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){il[this.storageKey]=Object.assign(Object.assign({},il[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=il[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){il[this.storageKey]=Object.assign(Object.assign({},il[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${p4}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=FO(window.location.href);let a="none";if(this._isImplicitGrantCallback(t)?a="implicit":await this._isPKCECallback(t)&&(a="pkce"),gi()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:c}=await this._getSessionFromURL(t,a);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),DO(c)){const v=(e=c.details)===null||e===void 0?void 0:e.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:g,redirectType:w}=l;return this._debug("#_initialize()","detected session in URL",g,"redirect type",w),await this._saveSession(g),setTimeout(async()=>{w==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",g):await this._notifyAllSubscribers("SIGNED_IN",g)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return tt(t)?{error:t}:{error:new y4("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,a,l;try{const c=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=e?.options)===null||l===void 0?void 0:l.captchaToken}},xform:ga}),{data:g,error:w}=c;if(w||!g)return{data:{user:null,session:null},error:w};const v=g.session,y=g.user;return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:y,session:v},error:null}}catch(c){if(tt(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(e){var t,a,l;try{let c;if("email"in e){const{email:E,password:A,options:T}=e;let R=null,M=null;this.flowType==="pkce"&&([R,M]=await tl(this.storage,this.storageKey)),c=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T?.emailRedirectTo,body:{email:E,password:A,data:(t=T?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:T?.captchaToken},code_challenge:R,code_challenge_method:M},xform:ga})}else if("phone"in e){const{phone:E,password:A,options:T}=e;c=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:E,password:A,data:(a=T?.data)!==null&&a!==void 0?a:{},channel:(l=T?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:T?.captchaToken}},xform:ga})}else throw new Pf("You must provide either an email or phone number and a password");const{data:g,error:w}=c;if(w||!g)return{data:{user:null,session:null},error:w};const v=g.session,y=g.user;return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:y,session:v},error:null}}catch(c){if(tt(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(e){try{let t;if("email"in e){const{email:c,password:g,options:w}=e;t=await gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:g,gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:$x})}else if("phone"in e){const{phone:c,password:g,options:w}=e;t=await gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:g,gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:$x})}else throw new Pf("You must provide either an email or phone number and a password");const{data:a,error:l}=t;return l?{data:{user:null,session:null},error:l}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Lf}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(t){if(tt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,a,l,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,a,l,c,g,w,v,y,E,A,T,R;let M,D;if("message"in e)M=e.message,D=e.signature;else{const{chain:B,wallet:j,statement:q,options:P}=e;let F;if(gi())if(typeof j=="object")F=j;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))F=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=j}const X=new URL((t=P?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in F&&F.signIn){const $=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P?.signInWithSolana),{version:"1",domain:X.host,uri:X.href}),q?{statement:q}:null));let G;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")G=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)G=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)M=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),D=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");M=[`${X.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...q?["",q,""]:[""],"Version: 1",`URI: ${X.href}`,`Issued At: ${(l=(a=P?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=P?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((g=P?.signInWithSolana)===null||g===void 0)&&g.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((w=P?.signInWithSolana)===null||w===void 0)&&w.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((v=P?.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((y=P?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((A=(E=P?.signInWithSolana)===null||E===void 0?void 0:E.resources)===null||A===void 0)&&A.length?["Resources",...P.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const $=await F.signMessage(new TextEncoder().encode(M),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");D=$}}try{const{data:B,error:j}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:M,signature:PO(D)},!((T=e.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(R=e.options)===null||R===void 0?void 0:R.captchaToken}}:null),xform:ga});if(j)throw j;return!B||!B.session||!B.user?{data:{user:null,session:null},error:new Lf}:(B.session&&(await this._saveSession(B.session),await this._notifyAllSubscribers("SIGNED_IN",B.session)),{data:Object.assign({},B),error:j})}catch(B){if(tt(B))return{data:{user:null,session:null},error:B};throw B}}async _exchangeCodeForSession(e){const t=await Hs(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(t??"").split("/");try{const{data:c,error:g}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:ga});if(await ns(this.storage,`${this.storageKey}-code-verifier`),g)throw g;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new Lf}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:g})}catch(c){if(tt(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(e){try{const{options:t,provider:a,token:l,access_token:c,nonce:g}=e,w=await gt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:c,nonce:g,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:ga}),{data:v,error:y}=w;return y?{data:{user:null,session:null},error:y}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new Lf}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:v,error:y})}catch(t){if(tt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,a,l,c,g;try{if("email"in e){const{email:w,options:v}=e;let y=null,E=null;this.flowType==="pkce"&&([y,E]=await tl(this.storage,this.storageKey));const{error:A}=await gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:w,data:(t=v?.data)!==null&&t!==void 0?t:{},create_user:(a=v?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:y,code_challenge_method:E},redirectTo:v?.emailRedirectTo});return{data:{user:null,session:null},error:A}}if("phone"in e){const{phone:w,options:v}=e,{data:y,error:E}=await gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:w,data:(l=v?.data)!==null&&l!==void 0?l:{},create_user:(c=v?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:v?.captchaToken},channel:(g=v?.channel)!==null&&g!==void 0?g:"sms"}});return{data:{user:null,session:null,messageId:y?.message_id},error:E}}throw new Pf("You must provide either an email or phone number.")}catch(w){if(tt(w))return{data:{user:null,session:null},error:w};throw w}}async verifyOtp(e){var t,a;try{let l,c;"options"in e&&(l=(t=e.options)===null||t===void 0?void 0:t.redirectTo,c=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:g,error:w}=await gt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:ga});if(w)throw w;if(!g)throw new Error("An error occurred on token verification.");const v=g.session,y=g.user;return v?.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),{data:{user:y,session:v},error:null}}catch(l){if(tt(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(e){var t,a,l;try{let c=null,g=null;return this.flowType==="pkce"&&([c,g]=await tl(this.storage,this.storageKey)),await gt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=e?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:g}),headers:this.headers,xform:rR})}catch(c){if(tt(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:a}=e;if(a)throw a;if(!t)throw new is;const{error:l}=await gt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:l}})}catch(e){if(tt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:a,type:l,options:c}=e,{error:g}=await gt(this.fetch,"POST",t,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:g}}else if("phone"in e){const{phone:a,type:l,options:c}=e,{data:g,error:w}=await gt(this.fetch,"POST",t,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return{data:{user:null,session:null,messageId:g?.message_id},error:w}}throw new Pf("You must provide either an email or phone number and a type")}catch(t){if(tt(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await t()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=t();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Hs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<Q0:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const g=await Hs(this.userStorage,this.storageKey+"-user");g?.user?e.user=g.user:e.user=t1()}if(this.storage.isServer&&e.user){let g=this.suppressGetSessionWarning;e=new Proxy(e,{get:(v,y,E)=>(!g&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),g=!0,this.suppressGetSessionWarning=!0),Reflect.get(v,y,E))})}return{data:{session:e},error:null}}const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{session:null},error:c}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:as}):await this._useSession(async t=>{var a,l,c;const{data:g,error:w}=t;if(w)throw w;return!(!((a=g.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new is}:await gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=g.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:as})})}catch(t){if(tt(t))return RO(t)&&(await this._removeSession(),await ns(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async a=>{const{data:l,error:c}=a;if(c)throw c;if(!l.session)throw new is;const g=l.session;let w=null,v=null;this.flowType==="pkce"&&e.email!=null&&([w,v]=await tl(this.storage,this.storageKey));const{data:y,error:E}=await gt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:w,code_challenge_method:v}),jwt:g.access_token,xform:as});if(E)throw E;return g.user=y.user,await this._saveSession(g),await this._notifyAllSubscribers("USER_UPDATED",g),{data:{user:g.user},error:null}})}catch(a){if(tt(a))return{data:{user:null},error:a};throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new is;const t=Date.now()/1e3;let a=t,l=!0,c=null;const{payload:g}=e1(e.access_token);if(g.exp&&(a=g.exp,l=a<=t),l){const{session:w,error:v}=await this._callRefreshToken(e.refresh_token);if(v)return{data:{user:null,session:null},error:v};if(!w)return{data:{user:null,session:null},error:null};c=w}else{const{data:w,error:v}=await this._getUser(e.access_token);if(v)throw v;c={access_token:e.access_token,refresh_token:e.refresh_token,user:w.user,token_type:"bearer",expires_in:a-t,expires_at:a},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(t){if(tt(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var a;if(!e){const{data:g,error:w}=t;if(w)throw w;e=(a=g.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new is;const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{user:null,session:null},error:c}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(tt(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!gi())throw new Uf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Uf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Hx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Uf("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Hx("No code detected.");const{data:q,error:P}=await this._exchangeCodeForSession(e.code);if(P)throw P;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:q.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:c,refresh_token:g,expires_in:w,expires_at:v,token_type:y}=e;if(!c||!w||!g||!y)throw new Uf("No session defined in URL");const E=Math.round(Date.now()/1e3),A=parseInt(w);let T=E+A;v&&(T=parseInt(v));const R=T-E;R*1e3<=sl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${R}s, should have been closer to ${A}s`);const M=T-A;E-M>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",M,T,E):E-M<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",M,T,E);const{data:D,error:B}=await this._getUser(c);if(B)throw B;const j={provider_token:a,provider_refresh_token:l,access_token:c,expires_in:A,expires_at:T,refresh_token:g,token_type:y,user:D.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:j,redirectType:e.type},error:null}}catch(a){if(tt(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Hs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var a;const{data:l,error:c}=t;if(c)return{error:c};const g=(a=l.session)===null||a===void 0?void 0:a.access_token;if(g){const{error:w}=await this.admin.signOut(g,e);if(w&&!(OO(w)&&(w.status===404||w.status===401||w.status===403)))return{error:w}}return e!=="others"&&(await this._removeSession(),await ns(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=jO(),a={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async t=>{var a,l;try{const{data:{session:c},error:g}=t;if(g)throw g;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(e))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,t={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await tl(this.storage,this.storageKey,!0));try{return await gt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(c){if(tt(c))return{data:null,error:c};throw c}}async getUserIdentities(){var e;try{const{data:t,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(tt(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:a,error:l}=await this._useSession(async c=>{var g,w,v,y,E;const{data:A,error:T}=c;if(T)throw T;const R=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(g=e.options)===null||g===void 0?void 0:g.redirectTo,scopes:(w=e.options)===null||w===void 0?void 0:w.scopes,queryParams:(v=e.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await gt(this.fetch,"GET",R,{headers:this.headers,jwt:(E=(y=A.session)===null||y===void 0?void 0:y.access_token)!==null&&E!==void 0?E:void 0})});if(l)throw l;return gi()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(a?.url),{data:{provider:e.provider,url:a?.url},error:null}}catch(a){if(tt(a))return{data:{provider:e.provider,url:null},error:a};throw a}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var a,l;const{data:c,error:g}=t;if(g)throw g;return await gt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(t){if(tt(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const a=Date.now();return await HO(async l=>(l>0&&await zO(200*Math.pow(2,l-1)),this._debug(t,"refreshing attempt",l),await gt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ga})),(l,c)=>{const g=200*Math.pow(2,l);return c&&J0(c)&&Date.now()+g-a<sl})}catch(a){if(this._debug(t,"error",a),tt(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",a),gi()&&!t.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,t;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await Hs(this.storage,this.storageKey);if(l&&this.userStorage){let g=await Hs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!g&&(g={user:l.user},await ol(this.userStorage,this.storageKey+"-user",g)),l.user=(e=g?.user)!==null&&e!==void 0?e:t1()}else if(l&&!l.user&&!l.user){const g=await Hs(this.storage,this.storageKey+"-user");g&&g?.user?(l.user=g.user,await ns(this.storage,this.storageKey+"-user"),await ol(this.storage,this.storageKey,l)):l.user=t1()}if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const c=((t=l.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Q0;if(this._debug(a,`session has${c?"":" not"} expired with margin of ${Q0}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:g}=await this._callRefreshToken(l.refresh_token);g&&(console.error(g),J0(g)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",g),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:g,error:w}=await this._getUser(l.access_token);!w&&g?.user?(l.user=g.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(g){console.error("Error getting user data:",g),this._debug(a,"error getting user data, skipping SIGNED_IN notification",g)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var t,a;if(!e)throw new is;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Eh;const{data:c,error:g}=await this._refreshAccessToken(e);if(g)throw g;if(!c.session)throw new is;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const w={session:c.session,error:null};return this.refreshingDeferred.resolve(w),w}catch(c){if(this._debug(l,"error",c),tt(c)){const g={session:null,error:c};return J0(c)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(g),g}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(e,t,a=!0){const l=`#_notifyAllSubscribers(${e})`;this._debug(l,"begin",t,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:t});const c=[],g=Array.from(this.stateChangeEmitters.values()).map(async w=>{try{await w.callback(e,t)}catch(v){c.push(v)}});if(await Promise.all(g),c.length>0){for(let w=0;w<c.length;w+=1)console.error(c[w]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),a=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&t.user&&await ol(this.userStorage,this.storageKey+"-user",{user:t.user});const l=Object.assign({},t);delete l.user;const c=Xx(l);await ol(this.storage,this.storageKey,c)}else{const l=Xx(t);await ol(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await ns(this.storage,this.storageKey),await ns(this.storage,this.storageKey+"-code-verifier"),await ns(this.storage,this.storageKey+"-user"),this.userStorage&&await ns(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&gi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),sl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:a}}=t;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-e)/sl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${sl}ms, refresh threshold is ${Kp} ticks`),l<=Kp&&await this._callRefreshToken(a.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof E4)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,a){const l=[`provider=${encodeURIComponent(t)}`];if(a?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[c,g]=await tl(this.storage,this.storageKey),w=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(g)}`});l.push(w.toString())}if(a?.queryParams){const c=new URLSearchParams(a.queryParams);l.push(c.toString())}return a?.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${l.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var a;const{data:l,error:c}=t;return c?{data:null,error:c}:await gt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token})})}catch(t){if(tt(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var a,l;const{data:c,error:g}=t;if(g)return{data:null,error:g};const w=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:v,error:y}=await gt(this.fetch,"POST",`${this.url}/factors`,{body:w,headers:this.headers,jwt:(a=c?.session)===null||a===void 0?void 0:a.access_token});return y?{data:null,error:y}:(e.factorType==="totp"&&(!((l=v?.totp)===null||l===void 0)&&l.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),{data:v,error:null})})}catch(t){if(tt(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var a;const{data:l,error:c}=t;if(c)return{data:null,error:c};const{data:g,error:w}=await gt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return w?{data:null,error:w}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),{data:g,error:w})})}catch(t){if(tt(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var a;const{data:l,error:c}=t;return c?{data:null,error:c}:await gt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token})})}catch(t){if(tt(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:a}=await this._challenge({factorId:e.factorId});return a?{data:null,error:a}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const a=e?.factors||[],l=a.filter(g=>g.factor_type==="totp"&&g.status==="verified"),c=a.filter(g=>g.factor_type==="phone"&&g.status==="verified");return{data:{all:a,totp:l,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,a;const{data:{session:l},error:c}=e;if(c)return{data:null,error:c};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:g}=e1(l.access_token);let w=null;g.aal&&(w=g.aal);let v=w;((a=(t=l.user.factors)===null||t===void 0?void 0:t.filter(A=>A.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(v="aal2");const E=g.amr||[];return{data:{currentLevel:w,nextLevel:v,currentAuthenticationMethods:E},error:null}}))}async fetchJwk(e,t={keys:[]}){let a=t.keys.find(w=>w.kid===e);if(a)return a;const l=Date.now();if(a=this.jwks.keys.find(w=>w.kid===e),a&&this.jwks_cached_at+CO>l)return a;const{data:c,error:g}=await gt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(g)throw g;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,a=c.keys.find(w=>w.kid===e),!a)?null:a}async getClaims(e,t={}){try{let a=e;if(!a){const{data:R,error:M}=await this.getSession();if(M||!R.session)return{data:null,error:M};a=R.session.access_token}const{header:l,payload:c,signature:g,raw:{header:w,payload:v}}=e1(a);t?.allowExpired||$O(c.exp);const y=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!y){const{error:R}=await this.getUser(a);if(R)throw R;return{data:{claims:c,header:l,signature:g},error:null}}const E=ZO(l.alg),A=await crypto.subtle.importKey("jwk",y,E,!0,["verify"]);if(!await crypto.subtle.verify(E,A,g,LO(`${w}.${v}`)))throw new Qp("Invalid JWT signature");return{data:{claims:c,header:l,signature:g},error:null}}catch(a){if(tt(a))return{data:null,error:a};throw a}}}Vu.nextInstanceID=0;const dR=Vu;class gR extends dR{constructor(e){super(e)}}var mR=function(n,e,t,a){function l(c){return c instanceof t?c:new t(function(g){g(c)})}return new(t||(t=Promise))(function(c,g){function w(E){try{y(a.next(E))}catch(A){g(A)}}function v(E){try{y(a.throw(E))}catch(A){g(A)}}function y(E){E.done?c(E.value):l(E.value).then(w,v)}y((a=a.apply(n,e||[])).next())})};class pR{constructor(e,t,a){var l,c,g;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const w=xO(e),v=new URL(w);this.realtimeUrl=new URL("realtime/v1",v),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",v),this.storageUrl=new URL("storage/v1",v),this.functionsUrl=new URL("functions/v1",v);const y=`sb-${v.hostname.split(".")[0]}-auth-token`,E={db:hO,realtime:gO,auth:Object.assign(Object.assign({},dO),{storageKey:y}),global:fO},A=bO(a??{},E);this.storageKey=(l=A.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=A.global.headers)!==null&&c!==void 0?c:{},A.accessToken?(this.accessToken=A.accessToken,this.auth=new Proxy({},{get:(T,R)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(R)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((g=A.auth)!==null&&g!==void 0?g:{},this.headers,A.global.fetch),this.fetch=yO(t,this._getAccessToken.bind(this),A.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},A.realtime)),this.rest=new MT(new URL("rest/v1",v).href,{headers:this.headers,schema:A.db.schema,fetch:this.fetch}),this.storage=new lO(this.storageUrl.href,this.headers,this.fetch,a?.storage),A.accessToken||this._listenForAuthEvents()}get functions(){return new xT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},a={}){return this.rest.rpc(e,t,a)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return mR(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(t=(e=a.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:a,storage:l,storageKey:c,flowType:g,lock:w,debug:v},y,E){const A={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gR({url:this.authUrl.href,headers:Object.assign(Object.assign({},A),y),storageKey:c,autoRefreshToken:e,persistSession:t,detectSessionInUrl:a,storage:l,flowType:g,lock:w,debug:v,fetch:E,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new KT(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,a)=>{this._handleTokenChanged(t,"CLIENT",a?.access_token)})}_handleTokenChanged(e,t,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?this.changedAccessToken=a:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vR=(n,e,t)=>new pR(n,e,t);function yR(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}yR()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const wR="https://wzbqxtaeypjvmynqhkfj.supabase.co",xR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind6YnF4dGFleXBqdm15bnFoa2ZqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4MjEzNjAsImV4cCI6MjA3MDM5NzM2MH0.mbflibCoH26AUvCWs0LOhuv5qrc8p1ZB2UF-V3MRlMM",ur=vR(wR,xR),_4=Q.createContext(void 0),bR=({children:n})=>{const[e,t]=Q.useState(null),[a,l]=Q.useState(!0);Q.useEffect(()=>{ur.auth.getSession().then(({data:{session:y}})=>{t(y?.user??null),l(!1)});const{data:v}=ur.auth.onAuthStateChange((y,E)=>{t(E?.user??null),l(!1)});return()=>{v?.subscription.unsubscribe()}},[]);const c=async(v,y)=>{l(!0);const{error:E}=await ur.auth.signUp({email:v,password:y});if(E)throw E;l(!1)},g=async(v,y)=>{l(!0);const{error:E,data:A}=await ur.auth.signInWithPassword({email:v,password:y});if(E)throw E;l(!1),t(A.user??null)},w=async()=>{l(!0);const{error:v}=await ur.auth.signOut();if(v)throw v;t(null),l(!1)};return V.jsx(_4.Provider,{value:{user:e,loading:a,signUp:c,signIn:g,signOut:w},children:n})},T2=()=>{const n=Q.useContext(_4);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},_h=()=>V.jsxs("div",{className:"loader__container",children:[V.jsx("div",{className:"loader__animation"}),V.jsx("p",{children:"Chargement..."})]}),Ui=({children:n})=>{const{user:e,loading:t}=T2();return t?V.jsx(_h,{}):e?V.jsx(V.Fragment,{children:n}):V.jsx(k6,{to:"/ShelfTracker/login",replace:!0})},ER=()=>{const{signIn:n}=T2(),[e,t]=Q.useState(""),[a,l]=Q.useState(""),[c,g]=Q.useState(null),[w,v]=Q.useState(!1),y=Rr(),E=async A=>{A.preventDefault(),g(null),v(!0);try{await n(e,a),await y("/ShelfTracker")}catch(T){T instanceof Error?g(T.message):g("Une erreur inconnue est survenue")}finally{v(!1)}};return V.jsxs(V.Fragment,{children:[V.jsxs("form",{className:"login-form__container",onSubmit:E,"aria-live":"polite",children:[V.jsx("input",{className:"input",type:"email",placeholder:"Email",onChange:A=>t(A.target.value),value:e,required:!0}),V.jsx("input",{className:"input",type:"password",placeholder:"Mot de passe",onChange:A=>l(A.target.value),value:a,required:!0}),V.jsx("button",{className:"btn",type:"submit",disabled:w,children:w?"Chargement...":"Se connecter"})]}),c&&V.jsx("p",{className:"error",role:"alert",children:c})]})};function _R(){return V.jsx("div",{className:"root",children:V.jsxs("div",{className:"card centered",children:[V.jsx("h2",{className:"title",children:"Connexion"}),V.jsx(ER,{})]})})}const cc="equipments",AR=async()=>{const{data:n,error:e}=await ur.from(cc).select("*").order("name",{ascending:!0});if(e)throw e;return n??[]},O2=async n=>{const{data:e,error:t}=await ur.from(cc).select("*").eq("id",n).single();if(t)throw t;return e},SR=async n=>{const{data:e,error:t}=await ur.from(cc).insert(n).single();if(t)throw t;return e},CR=async n=>{const{data:e,error:t}=await ur.from(cc).update(n).eq("id",n.id).single();if(t)throw t;return e},TR=async n=>{const{error:e}=await ur.from(cc).delete().eq("id",n);if(e)throw e},A4=Q.createContext(void 0),OR=({children:n})=>{const[e,t]=Q.useState([]),a=g=>{e.some(w=>w.id===g.id)||t(w=>[...w,g])},l=g=>{t(w=>w.filter(v=>v.id!==g))},c=()=>t([]);return V.jsx(A4.Provider,{value:{cart:e,addToCart:a,removeFromCart:l,clearCart:c},children:n})},Al=()=>{const n=Q.useContext(A4);if(n===void 0)throw new Error("useCart must be used within an CartProvider");return n};var S4={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Jx=te.createContext&&te.createContext(S4),RR=["attr","size","title"];function DR(n,e){if(n==null)return{};var t=NR(n,e),a,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(l=0;l<c.length;l++)a=c[l],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(t[a]=n[a])}return t}function NR(n,e){if(n==null)return{};var t={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(e.indexOf(a)>=0)continue;t[a]=n[a]}return t}function sh(){return sh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},sh.apply(this,arguments)}function eb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),t.push.apply(t,a)}return t}function oh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eb(Object(t),!0).forEach(function(a){MR(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):eb(Object(t)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}function MR(n,e,t){return e=IR(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function IR(n){var e=kR(n,"string");return typeof e=="symbol"?e:e+""}function kR(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var a=t.call(n,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function C4(n){return n&&n.map((e,t)=>te.createElement(e.tag,oh({key:t},e.attr),C4(e.child)))}function zt(n){return e=>te.createElement(BR,sh({attr:oh({},n.attr)},e),C4(n.child))}function BR(n){var e=t=>{var{attr:a,size:l,title:c}=n,g=DR(n,RR),w=l||t.size||"1em",v;return t.className&&(v=t.className),n.className&&(v=(v?v+" ":"")+n.className),te.createElement("svg",sh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,g,{className:v,style:oh(oh({color:n.color||t.color},t.style),n.style),height:w,width:w,xmlns:"http://www.w3.org/2000/svg"}),c&&te.createElement("title",null,c),n.children)};return Jx!==void 0?te.createElement(Jx.Consumer,null,t=>e(t)):e(S4)}function R2(n){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 112v288m144-144H112"},child:[]}]})(n)}function LR(n){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M250.26 166.05 256 288l5.73-121.95a5.74 5.74 0 0 0-5.79-6h0a5.74 5.74 0 0 0-5.68 6z"},child:[]},{tag:"path",attr:{d:"M256 367.91a20 20 0 1 1 20-20 20 20 0 0 1-20 20z"},child:[]}]})(n)}function PR(n){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M454.65 169.4A31.82 31.82 0 0 0 432 160h-64v-16a112 112 0 0 0-224 0v16H80a32 32 0 0 0-32 32v216c0 39 33 72 72 72h272a72.22 72.22 0 0 0 50.48-20.55 69.48 69.48 0 0 0 21.52-50.2V192a31.75 31.75 0 0 0-9.35-22.6zM176 144a80 80 0 0 1 160 0v16H176zm192 96a112 112 0 0 1-224 0v-16a16 16 0 0 1 32 0v16a80 80 0 0 0 160 0v-16a16 16 0 0 1 32 0z"},child:[]}]})(n)}function UR(n){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 322.3V189.7A29.74 29.74 0 0 1 77.7 160h137.44l24.4-32H77.7A61.77 61.77 0 0 0 16 189.7v132.6A61.77 61.77 0 0 0 77.7 384h96.85a22.57 22.57 0 0 1 .26-7.32l.15-.75.21-.73 6.5-23.2H77.7A29.74 29.74 0 0 1 48 322.3zM386.3 128h-98.64a22.69 22.69 0 0 1-.27 7.2l-.15.74-.21.73-6.54 23.33H386.3a29.74 29.74 0 0 1 29.7 29.7v132.6a29.74 29.74 0 0 1-29.7 29.7H247l-24.42 32H386.3a61.77 61.77 0 0 0 61.7-61.7V189.7a61.77 61.77 0 0 0-61.7-61.7z"},child:[]},{tag:"path",attr:{d:"M162.65 294.16a24.37 24.37 0 0 1-21.56-13 25 25 0 0 1 1.42-25.83l.31-.46.33-.44L197.62 183H89.69a20 20 0 0 0-20 20v106a20 20 0 0 0 20 20h98.42l9.78-34.86z"},child:[]},{tag:"path",attr:{d:"m276.07 280.89 27.07-35.49a5.2 5.2 0 0 0 .77-1.91 5 5 0 0 0 .08-.66 5 5 0 0 0-.08-1.29 5.11 5.11 0 0 0-.68-1.75 4.76 4.76 0 0 0-.78-.95 3.48 3.48 0 0 0-.48-.38 4 4 0 0 0-1.11-.55 4.28 4.28 0 0 0-1.31-.2h-61.62l12.12-43.21 3.23-11.5 6.21-22.16.51-1.84 7.79-27.76a3.51 3.51 0 0 0 .05-.55v-.16c0-.05 0-.26-.05-.38s0-.09 0-.14a2.2 2.2 0 0 0-.17-.45 3.77 3.77 0 0 0-.26-.39l-.09-.1a2.73 2.73 0 0 0-.25-.23l-.1-.08a3.14 3.14 0 0 0-.39-.24 2 2 0 0 0-.41-.14h-.59a2.3 2.3 0 0 0-.45 0 1.9 1.9 0 0 0-.42.15l-.13.07-.3.21-.11.1a2.4 2.4 0 0 0-.36.41l-18 23.63-13.14 17.22-9.85 12.83-63.71 83.55a5.72 5.72 0 0 0-.44.8 4.78 4.78 0 0 0-.35 1.09 4.7 4.7 0 0 0-.08 1.29 4.86 4.86 0 0 0 2 3.71 4.74 4.74 0 0 0 .54.31 4.31 4.31 0 0 0 1.89.43h61.62L194.42 380.6a3.64 3.64 0 0 0 0 .56v.15a2.32 2.32 0 0 0 .06.38.58.58 0 0 0 0 .14 2.2 2.2 0 0 0 .17.45 3.62 3.62 0 0 0 .26.38l.09.1.25.24a.39.39 0 0 1 .1.08 2.22 2.22 0 0 0 .39.23 2.83 2.83 0 0 0 .41.14h.13a1.86 1.86 0 0 0 .33 0h.13a2.32 2.32 0 0 0 .45-.06 2.05 2.05 0 0 0 .41-.16l.13-.07.3-.21.11-.09a2.4 2.4 0 0 0 .36-.41L221.82 352l17.53-23z"},child:[]},{tag:"path",attr:{d:"m319.5 256.93-.46.6L264.51 329h109.8a20 20 0 0 0 20-20V203a20 20 0 0 0-20-20H274.05l-9.74 34.73h35.24A24.35 24.35 0 0 1 321 230.5a25.21 25.21 0 0 1-1 25.79zM480 202.67a16 16 0 0 0-16 16v74.66a16 16 0 0 0 32 0v-74.66a16 16 0 0 0-16-16z"},child:[]}]})(n)}function jR(n){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 128a64 64 0 0 0-64-64h-16V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 0 0 368 48v16H144V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 0 0 112 48v16H96a64 64 0 0 0-64 64v12a4 4 0 0 0 4 4h440a4 4 0 0 0 4-4zM32 416a64 64 0 0 0 64 64h320a64 64 0 0 0 64-64V179a3 3 0 0 0-3-3H35a3 3 0 0 0-3 3zm344-208a24 24 0 1 1-24 24 24 24 0 0 1 24-24zm0 80a24 24 0 1 1-24 24 24 24 0 0 1 24-24zm-80-80a24 24 0 1 1-24 24 24 24 0 0 1 24-24zm0 80a24 24 0 1 1-24 24 24 24 0 0 1 24-24zm0 80a24 24 0 1 1-24 24 24 24 0 0 1 24-24zm-80-80a24 24 0 1 1-24 24 24 24 0 0 1 24-24zm0 80a24 24 0 1 1-24 24 24 24 0 0 1 24-24zm-80-80a24 24 0 1 1-24 24 24 24 0 0 1 24-24zm0 80a24 24 0 1 1-24 24 24 24 0 0 1 24-24z"},child:[]}]})(n)}function FR(n){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"256",cy:"272",r:"64"},child:[]},{tag:"path",attr:{d:"M432 144h-59c-3 0-6.72-1.94-9.62-5l-25.94-40.94a15.52 15.52 0 0 0-1.37-1.85C327.11 85.76 315 80 302 80h-92c-13 0-25.11 5.76-34.07 16.21a15.52 15.52 0 0 0-1.37 1.85l-25.94 41c-2.22 2.42-5.34 5-8.62 5v-8a16 16 0 0 0-16-16h-24a16 16 0 0 0-16 16v8h-4a48.05 48.05 0 0 0-48 48V384a48.05 48.05 0 0 0 48 48h352a48.05 48.05 0 0 0 48-48V192a48.05 48.05 0 0 0-48-48zM256 368a96 96 0 1 1 96-96 96.11 96.11 0 0 1-96 96z"},child:[]}]})(n)}function qR(n){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"176",cy:"416",r:"16",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"circle",attr:{cx:"400",cy:"416",r:"16",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M48 80h64l48 272h256"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M160 288h249.44a8 8 0 0 0 7.85-6.43l28.8-144a8 8 0 0 0-7.85-9.57H128"},child:[]}]})(n)}function T4(n){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M416 128 192 384l-96-96"},child:[]}]})(n)}function zR(n){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M328 112 184 256l144 144"},child:[]}]})(n)}function HR(n){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M253.72 202.53a4 4 0 0 0 4.56 0 151.88 151.88 0 0 1 128.44-20.41 4 4 0 0 0 5.15-4C388.8 105.86 329 48 256 48s-132.8 57.86-135.87 130.15a4 4 0 0 0 5.15 4 151.88 151.88 0 0 1 128.44 20.41zm151.59 10.03a152.53 152.53 0 0 1-83.08 108.23 4 4 0 0 0-2.28 3.69c0 1.17.05 2.34.05 3.52a151.58 151.58 0 0 1-47.15 109.94 4 4 0 0 0 .64 6.31A135.24 135.24 0 0 0 344 464c72.07 0 134.1-60.28 136-132.34a136.07 136.07 0 0 0-68.76-121.87 4 4 0 0 0-5.93 2.77z"},child:[]},{tag:"path",attr:{d:"M390.57 203.67a4 4 0 0 0-2.69-4.4 135.84 135.84 0 0 0-114.4 12.49 4 4 0 0 0-.64 6.29 151.92 151.92 0 0 1 44.47 81.4 4 4 0 0 0 5.94 2.72 136.29 136.29 0 0 0 67.32-98.5zM192 328c0-1.18 0-2.35.05-3.52a4 4 0 0 0-2.28-3.69 152.53 152.53 0 0 1-83.08-108.23 4 4 0 0 0-5.88-2.77 136.07 136.07 0 0 0-68.76 121.87C34 403.72 96 464 168.05 464a135.24 135.24 0 0 0 70.46-19.75 4 4 0 0 0 .64-6.31A151.58 151.58 0 0 1 192 328z"},child:[]},{tag:"path",attr:{d:"M168 192a135.34 135.34 0 0 0-43.88 7.27 4 4 0 0 0-2.69 4.4 136.29 136.29 0 0 0 67.32 98.5 4 4 0 0 0 5.94-2.72 151.92 151.92 0 0 1 44.47-81.4 4 4 0 0 0-.64-6.29A135.18 135.18 0 0 0 168 192zm88 144a151.44 151.44 0 0 1-42.72-6.12 4 4 0 0 0-5.15 4 135.69 135.69 0 0 0 45.18 95.4 4 4 0 0 0 5.38 0 135.69 135.69 0 0 0 45.18-95.4 4 4 0 0 0-5.15-4A151.44 151.44 0 0 1 256 336zm46.57-27.67a135.94 135.94 0 0 0-43.87-81.58 4.06 4.06 0 0 0-5.4 0 135.94 135.94 0 0 0-43.87 81.58 4 4 0 0 0 2.69 4.4 136.06 136.06 0 0 0 87.76 0 4 4 0 0 0 2.69-4.4z"},child:[]}]})(n)}function GR(n){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M448 341.37V170.61A32 32 0 0 0 432.11 143l-152-88.46a47.94 47.94 0 0 0-48.24 0L79.89 143A32 32 0 0 0 64 170.61v170.76A32 32 0 0 0 79.89 369l152 88.46a48 48 0 0 0 48.24 0l152-88.46A32 32 0 0 0 448 341.37z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m69 153.99 187 110 187-110m-187 310v-200"},child:[]}]})(n)}function VR(n){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.9 136.3a4 4 0 0 0 0-6.91L288.16 40.65a64.14 64.14 0 0 0-64.33 0L71.12 129.39a4 4 0 0 0 0 6.91L254 243.88a4 4 0 0 0 4.06 0zM54 163.51a4 4 0 0 0-6 3.49v173.89a48 48 0 0 0 23.84 41.39L234 479.51a4 4 0 0 0 6-3.46V274.3a4 4 0 0 0-2-3.46zM272 275v201a4 4 0 0 0 6 3.46l162.15-97.23A48 48 0 0 0 464 340.89V167a4 4 0 0 0-6-3.45l-184 108a4 4 0 0 0-2 3.45z"},child:[]}]})(n)}function WR(n){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M336 176h40a40 40 0 0 1 40 40v208a40 40 0 0 1-40 40H136a40 40 0 0 1-40-40V216a40 40 0 0 1 40-40h40"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m176 272 80 80 80-80M256 48v288"},child:[]}]})(n)}function YR(n){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M345.14 480H274a18 18 0 0 1-18-18v-27.71a31.32 31.32 0 0 0-9.71-22.77c-7.78-7.59-19.08-11.8-30.89-11.51-21.36.5-39.4 19.3-39.4 41.06V462a18 18 0 0 1-18 18H87.62A55.62 55.62 0 0 1 32 424.38V354a18 18 0 0 1 18-18h27.71c9.16 0 18.07-3.92 25.09-11a42.06 42.06 0 0 0 12.2-29.92C114.7 273.89 97.26 256 76.91 256H50a18 18 0 0 1-18-18v-70.38A55.62 55.62 0 0 1 87.62 112h55.24a8 8 0 0 0 8-8v-6.48A65.53 65.53 0 0 1 217.54 32c35.49.62 64.36 30.38 64.36 66.33V104a8 8 0 0 0 8 8h55.24A54.86 54.86 0 0 1 400 166.86v55.24a8 8 0 0 0 8 8h5.66c36.58 0 66.34 29 66.34 64.64 0 36.61-29.39 66.4-65.52 66.4H408a8 8 0 0 0-8 8v56A54.86 54.86 0 0 1 345.14 480z"},child:[]}]})(n)}function XR(n){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M194.82 496a18.36 18.36 0 0 1-18.1-21.53v-.11L204.83 320H96a16 16 0 0 1-12.44-26.06L302.73 23a18.45 18.45 0 0 1 32.8 13.71c0 .3-.08.59-.13.89L307.19 192H416a16 16 0 0 1 12.44 26.06L209.24 489a18.45 18.45 0 0 1-14.42 7z"},child:[]}]})(n)}function KR(n){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M79.2 211.44c15.52-8.82 34.91-2.28 43.31 13.68l41.38 84.41a7 7 0 0 0 8.93 3.43 7 7 0 0 0 4.41-6.52V72c0-13.91 12.85-24 26.77-24s26 10.09 26 24v156.64A11.24 11.24 0 0 0 240.79 240 11 11 0 0 0 252 229V24c0-13.91 10.94-24 24.86-24S302 10.09 302 24v204.64A11.24 11.24 0 0 0 312.79 240 11 11 0 0 0 324 229V56c0-13.91 12.08-24 26-24s26 11.09 26 25v187.64A11.24 11.24 0 0 0 386.79 256 11 11 0 0 0 398 245V120c0-13.91 11.08-24 25-24s25.12 10.22 25 24v216c0 117.41-72 176-160 176h-16c-88 0-115.71-39.6-136-88L67.33 255c-6.66-18-3.64-34.75 11.87-43.56z"},child:[]}]})(n)}function $R(n){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M411.16 97.46C368.43 55.86 311.88 32 256 32S143.57 55.86 100.84 97.46C56.45 140.67 32 197 32 256c0 26.67 8.75 61.09 32.88 125.55S137 473 157.27 477.41c5.81 1.27 12.62 2.59 18.73 2.59a60.06 60.06 0 0 0 30-8l14-8c15.07-8.82 19.47-28.13 10.8-43.35l-86.92-152.57a31.73 31.73 0 0 0-43.57-11.76l-13.69 8a56.49 56.49 0 0 0-14 11.59 4 4 0 0 1-7-2A114.68 114.68 0 0 1 64 256c0-50.31 21-98.48 59.16-135.61C160 84.55 208.39 64 256 64s96 20.55 132.84 56.39C427 157.52 448 205.69 448 256a114.68 114.68 0 0 1-1.68 17.91 4 4 0 0 1-7 2 56.49 56.49 0 0 0-14-11.59l-13.69-8a31.73 31.73 0 0 0-43.57 11.76L281.2 420.65c-8.67 15.22-4.27 34.53 10.8 43.35l14 8a60.06 60.06 0 0 0 30 8c6.11 0 12.92-1.32 18.73-2.59C375 473 423 446 447.12 381.55S480 282.67 480 256c0-59-24.45-115.33-68.84-158.54z"},child:[]}]})(n)}function ZR(n){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M261.56 101.28a8 8 0 0 0-11.06 0L66.4 277.15a8 8 0 0 0-2.47 5.79L63.9 448a32 32 0 0 0 32 32H192a16 16 0 0 0 16-16V328a8 8 0 0 1 8-8h80a8 8 0 0 1 8 8v136a16 16 0 0 0 16 16h96.06a32 32 0 0 0 32-32V282.94a8 8 0 0 0-2.47-5.79z"},child:[]},{tag:"path",attr:{d:"m490.91 244.15-74.8-71.56V64a16 16 0 0 0-16-16h-48a16 16 0 0 0-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0 0 43 267.56L250.5 69.28a8 8 0 0 1 11.06 0l207.52 198.28a16 16 0 0 0 22.59-.44c6.14-6.36 5.63-16.86-.76-22.97z"},child:[]}]})(n)}function QR(n){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"44",d:"M358.62 129.28 86.49 402.08 70 442l39.92-16.49 272.8-272.13-24.1-24.1zm54.45-54.44-11.79 11.78 24.1 24.1 11.79-11.79a16.51 16.51 0 0 0 0-23.34l-.75-.75a16.51 16.51 0 0 0-23.35 0z"},child:[]}]})(n)}function JR(n){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 32H192a32 32 0 0 0-32 32v412a4 4 0 0 0 4 4h184a4 4 0 0 0 4-4V64a32 32 0 0 0-32-32zm144 160h-72a8 8 0 0 0-8 8v272a8 8 0 0 0 8 8h80a24 24 0 0 0 24-24V224a32 32 0 0 0-32-32zM48 128a32 32 0 0 0-32 32v296a24 24 0 0 0 24 24h80a8 8 0 0 0 8-8V136a8 8 0 0 0-8-8z"},child:[]}]})(n)}function e5(n){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"80",height:"80",x:"336",y:"336",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"64",height:"64",x:"272",y:"272",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"64",height:"64",x:"416",y:"416",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"48",height:"48",x:"432",y:"272",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"48",height:"48",x:"272",y:"432",rx:"8",ry:"8"},child:[]},{tag:"path",attr:{d:"M448 32H304a32 32 0 0 0-32 32v144a32 32 0 0 0 32 32h144a32 32 0 0 0 32-32V64a32 32 0 0 0-32-32zm-32 136a8 8 0 0 1-8 8h-64a8 8 0 0 1-8-8v-64a8 8 0 0 1 8-8h64a8 8 0 0 1 8 8zM208 32H64a32 32 0 0 0-32 32v144a32 32 0 0 0 32 32h144a32 32 0 0 0 32-32V64a32 32 0 0 0-32-32zm-32 136a8 8 0 0 1-8 8h-64a8 8 0 0 1-8-8v-64a8 8 0 0 1 8-8h64a8 8 0 0 1 8 8zm32 104H64a32 32 0 0 0-32 32v144a32 32 0 0 0 32 32h144a32 32 0 0 0 32-32V304a32 32 0 0 0-32-32zm-32 136a8 8 0 0 1-8 8h-64a8 8 0 0 1-8-8v-64a8 8 0 0 1 8-8h64a8 8 0 0 1 8 8z"},child:[]}]})(n)}function O4(n){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M400 256H112"},child:[]}]})(n)}function t5(n){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"256",cy:"256",r:"48"},child:[]},{tag:"path",attr:{d:"m470.39 300-.47-.38-31.56-24.75a16.11 16.11 0 0 1-6.1-13.33v-11.56a16 16 0 0 1 6.11-13.22L469.92 212l.47-.38a26.68 26.68 0 0 0 5.9-34.06l-42.71-73.9a1.59 1.59 0 0 1-.13-.22A26.86 26.86 0 0 0 401 92.14l-.35.13-37.1 14.93a15.94 15.94 0 0 1-14.47-1.29q-4.92-3.1-10-5.86a15.94 15.94 0 0 1-8.19-11.82l-5.59-39.59-.12-.72A27.22 27.22 0 0 0 298.76 26h-85.52a26.92 26.92 0 0 0-26.45 22.39l-.09.56-5.57 39.67a16 16 0 0 1-8.13 11.82 175.21 175.21 0 0 0-10 5.82 15.92 15.92 0 0 1-14.43 1.27l-37.13-15-.35-.14a26.87 26.87 0 0 0-32.48 11.34l-.13.22-42.77 73.95a26.71 26.71 0 0 0 5.9 34.1l.47.38 31.56 24.75a16.11 16.11 0 0 1 6.1 13.33v11.56a16 16 0 0 1-6.11 13.22L42.08 300l-.47.38a26.68 26.68 0 0 0-5.9 34.06l42.71 73.9a1.59 1.59 0 0 1 .13.22 26.86 26.86 0 0 0 32.45 11.3l.35-.13 37.07-14.93a15.94 15.94 0 0 1 14.47 1.29q4.92 3.11 10 5.86a15.94 15.94 0 0 1 8.19 11.82l5.56 39.59.12.72A27.22 27.22 0 0 0 213.24 486h85.52a26.92 26.92 0 0 0 26.45-22.39l.09-.56 5.57-39.67a16 16 0 0 1 8.18-11.82c3.42-1.84 6.76-3.79 10-5.82a15.92 15.92 0 0 1 14.43-1.27l37.13 14.95.35.14a26.85 26.85 0 0 0 32.48-11.34 2.53 2.53 0 0 1 .13-.22l42.71-73.89a26.7 26.7 0 0 0-5.89-34.11zm-134.48-40.24a80 80 0 1 1-83.66-83.67 80.21 80.21 0 0 1 83.66 83.67z"},child:[]}]})(n)}function n5(n){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 118a22 22 0 0 1-22-22V48a22 22 0 0 1 44 0v48a22 22 0 0 1-22 22zm0 368a22 22 0 0 1-22-22v-48a22 22 0 0 1 44 0v48a22 22 0 0 1-22 22zm113.14-321.14a22 22 0 0 1-15.56-37.55l33.94-33.94a22 22 0 0 1 31.11 31.11l-33.94 33.94a21.93 21.93 0 0 1-15.55 6.44zM108.92 425.08a22 22 0 0 1-15.55-37.56l33.94-33.94a22 22 0 1 1 31.11 31.11l-33.94 33.94a21.94 21.94 0 0 1-15.56 6.45zM464 278h-48a22 22 0 0 1 0-44h48a22 22 0 0 1 0 44zm-368 0H48a22 22 0 0 1 0-44h48a22 22 0 0 1 0 44zm307.08 147.08a21.94 21.94 0 0 1-15.56-6.45l-33.94-33.94a22 22 0 0 1 31.11-31.11l33.94 33.94a22 22 0 0 1-15.55 37.56zM142.86 164.86a21.89 21.89 0 0 1-15.55-6.44l-33.94-33.94a22 22 0 0 1 31.11-31.11l33.94 33.94a22 22 0 0 1-15.56 37.55zM256 358a102 102 0 1 1 102-102 102.12 102.12 0 0 1-102 102z"},child:[]}]})(n)}function r5(n){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m112 112 20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320"},child:[]},{tag:"path",attr:{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M80 112h352"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M192 112V72h0a23.93 23.93 0 0 1 24-24h80a23.93 23.93 0 0 1 24 24h0v40m-64 64v224m-72-224 8 224m136-224-8 224"},child:[]}]})(n)}function i5(n){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M447.86 384H64.14A48.2 48.2 0 0 1 16 335.86V128.14A48.2 48.2 0 0 1 64.14 80h383.72A48.2 48.2 0 0 1 496 128.14v207.72A48.2 48.2 0 0 1 447.86 384z"},child:[]},{tag:"path",attr:{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M128 416h256"},child:[]}]})(n)}function a5(n){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 384.39a32 32 0 0 1-13-2.77 15.77 15.77 0 0 1-2.71-1.54l-82.71-58.22A32 32 0 0 1 352 295.7v-79.4a32 32 0 0 1 13.58-26.16l82.71-58.22a15.77 15.77 0 0 1 2.71-1.54 32 32 0 0 1 45 29.24v192.76a32 32 0 0 1-32 32zM268 400H84a68.07 68.07 0 0 1-68-68V180a68.07 68.07 0 0 1 68-68h184.48A67.6 67.6 0 0 1 336 179.52V332a68.07 68.07 0 0 1-68 68z"},child:[]}]})(n)}const os={Sac:{icon:PR,color:"#4A90E2"},Lumire:{icon:n5,color:"#FFD93D"},Flash:{icon:XR,color:"#FF5E5E"},Stabilisateur:{icon:a5,color:"#50E3C2"},Pied:{icon:JR,color:"#B8E986"},Objectif:{icon:FR,color:"#9B51E0"},Filtre:{icon:HR,color:"#FF8C42"},"Retour vido":{icon:i5,color:"#2D9CDB"},"Accessoire camra":{icon:YR,color:"#F2994A"},Son:{icon:$R,color:"#27AE60"},Grip:{icon:KR,color:"#F2C94C"},Alimentation:{icon:UR,color:"#EB5757"},Autre:{icon:VR,color:"#888888"}},R4=({equipment:n})=>{const[e,t]=Q.useState(!1),{addToCart:a,removeFromCart:l,cart:c}=Al(),g=Rr(),w=n.type??"Autre",{icon:v,color:y}=os[w]||os.Autre;Q.useEffect(()=>{c.find(T=>T.id===n.id)?t(!0):t(!1)},[c,n.id]);const E=()=>{if(e){l(n.id);return}a(n),t(!e)},A=()=>{g(`/ShelfTracker/equipment/${n.id}`)};return V.jsxs("div",{className:"equipment-card__container",children:[V.jsx("div",{className:"icon",style:{background:y},onClick:A,children:V.jsx(v,{size:28})}),V.jsxs("div",{className:"equipment-card__info-container",onClick:A,children:[V.jsx("p",{className:"equipment-card__name",children:V.jsx("span",{children:n.name})}),V.jsx("p",{className:"equipment-card__location",children:V.jsx("span",{children:n.location??"Emplacement inconnu"})})]}),V.jsx("button",{className:"equipment-card__add-btn",onClick:E,children:e?V.jsx(O4,{size:28,color:"lightcoral"}):V.jsx(R2,{size:28,color:"lightgreen"})})]})},s5=["Tous","Sac","Lumire","Flash","Stabilisateur","Pied","Objectif","Filtre","Retour vido","Accessoire camra","Son","Grip","Alimentation","Autre"],o5=({value:n,onChange:e,typeFilter:t,setTypeFilter:a})=>{const[l,c]=Q.useState(!0),[g,w]=Q.useState(0);return Q.useEffect(()=>{const v=()=>{const y=window.scrollY;y>g?c(!1):c(!0),w(y)};return window.addEventListener("scroll",v),()=>window.removeEventListener("scroll",v)},[g]),V.jsxs("div",{className:`search-bar__container ${l?"visible":"hidden"}`,children:[V.jsx("input",{type:"text",className:"search-bar__input",placeholder:"Rechercher un quipement...",value:n,onChange:v=>e(v.target.value)}),V.jsx("select",{className:"search-bar__filter",value:t,onChange:v=>a(v.target.value),children:s5.map(v=>V.jsx("option",{value:v,children:v},v))})]})},tb=({message:n})=>V.jsxs("div",{className:"empty-state__container",children:[V.jsx(GR,{size:64,className:"empty-state__icon"}),V.jsx("p",{children:n??"Aucun lment trouv."})]}),D4=({equipments:n,loading:e,error:t,search:a,setSearch:l})=>{const[c,g]=Q.useState("Tous"),w=Rr(),v=n.filter(y=>{const E=y.name.toLowerCase().includes(a.toLowerCase())||(y.location?.toLowerCase().includes(a.toLowerCase())??!1),A=c==="Tous"||y.type===c;return E&&A});return e?V.jsx(_h,{}):t?V.jsx("p",{style:{color:"red"},children:t}):n.length===0?V.jsx(tb,{message:"Aucun quipement trouv."}):V.jsxs("div",{className:"equipment-list__container",children:[V.jsx(o5,{value:a,onChange:l,typeFilter:c,setTypeFilter:g}),V.jsx("div",{className:"equipment-list__create-btn",onClick:()=>w("/ShelfTracker/equipment/new"),children:V.jsx(R2,{size:28})}),V.jsx("div",{className:"equipment-list__card-container",children:v.length>0?v.map(y=>V.jsx(R4,{equipment:y},y.id)):V.jsx(tb,{message:"Aucun quipement trouv."})})]})},l5=()=>{const[n,e]=Q.useState([]),[t,a]=Q.useState(!0),[l,c]=Q.useState(null),[g,w]=Q.useState("");return Q.useEffect(()=>{(async()=>{try{const y=await AR();e(y)}catch(y){c(y instanceof Error?y.message:"Erreur inconnue")}finally{a(!1)}})()},[]),V.jsx(D4,{equipments:n,loading:t,error:l,search:g,setSearch:w})},ni=({title:n,backPath:e,cantGoBack:t})=>{const a=Rr(),l=()=>{a(e||-1)};return V.jsxs("header",{className:"top-bar__container",children:[!t&&V.jsx("button",{className:"top-bar__back-btn",onClick:l,"aria-label":"Retour",children:V.jsx(zR,{size:24})}),V.jsx("h1",{className:"top-bar__title",children:n}),V.jsx("div",{className:"top-bar__spacer"})," "]})};function D2({icon:n,color:e="var(--success-color)",iconColor:t="var(--secondary-text-color)",onClick:a}){return V.jsx("button",{className:"floating-button__container",style:{backgroundColor:e,color:t},onClick:a,children:V.jsx(n,{size:28})})}function u5(){const n=Rr(),e=()=>{n("/ShelfTracker/cart")},{cart:t}=Al();return V.jsxs("div",{children:[V.jsx(ni,{title:"Accueil",cantGoBack:!0}),V.jsx(l5,{}),t.length>0&&V.jsx(D2,{icon:qR,onClick:e})]})}var Pe;(function(n){n[n.QR_CODE=0]="QR_CODE",n[n.AZTEC=1]="AZTEC",n[n.CODABAR=2]="CODABAR",n[n.CODE_39=3]="CODE_39",n[n.CODE_93=4]="CODE_93",n[n.CODE_128=5]="CODE_128",n[n.DATA_MATRIX=6]="DATA_MATRIX",n[n.MAXICODE=7]="MAXICODE",n[n.ITF=8]="ITF",n[n.EAN_13=9]="EAN_13",n[n.EAN_8=10]="EAN_8",n[n.PDF_417=11]="PDF_417",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Pe||(Pe={}));var nb=new Map([[Pe.QR_CODE,"QR_CODE"],[Pe.AZTEC,"AZTEC"],[Pe.CODABAR,"CODABAR"],[Pe.CODE_39,"CODE_39"],[Pe.CODE_93,"CODE_93"],[Pe.CODE_128,"CODE_128"],[Pe.DATA_MATRIX,"DATA_MATRIX"],[Pe.MAXICODE,"MAXICODE"],[Pe.ITF,"ITF"],[Pe.EAN_13,"EAN_13"],[Pe.EAN_8,"EAN_8"],[Pe.PDF_417,"PDF_417"],[Pe.RSS_14,"RSS_14"],[Pe.RSS_EXPANDED,"RSS_EXPANDED"],[Pe.UPC_A,"UPC_A"],[Pe.UPC_E,"UPC_E"],[Pe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),rb;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.URL=1]="URL"})(rb||(rb={}));function c5(n){return Object.values(Pe).includes(n)}var lh;(function(n){n[n.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",n[n.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(lh||(lh={}));var f5=function(){function n(){}return n.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",n.SCAN_DEFAULT_FPS=2,n.DEFAULT_DISABLE_FLIP=!1,n.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,n.DEFAULT_SUPPORTED_SCAN_TYPE=[lh.SCAN_TYPE_CAMERA,lh.SCAN_TYPE_FILE],n}(),N4=function(){function n(e,t){this.format=e,this.formatName=t}return n.prototype.toString=function(){return this.formatName},n.create=function(e){if(!nb.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new n(e,nb.get(e))},n}(),ib=function(){function n(){}return n.createFromText=function(e){var t={text:e};return{decodedText:e,result:t}},n.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},n}(),Jp;(function(n){n[n.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",n[n.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",n[n.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Jp||(Jp={}));var h5=function(){function n(){}return n.createFrom=function(e){return{errorMessage:e,type:Jp.UNKWOWN_ERROR}},n}(),d5=function(){function n(e){this.verbose=e}return n.prototype.log=function(e){this.verbose&&console.log(e)},n.prototype.warn=function(e){this.verbose&&console.warn(e)},n.prototype.logError=function(e,t){(this.verbose||t===!0)&&console.error(e)},n.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},n}();function ma(n){return typeof n>"u"||n===null}var ul=function(){function n(){}return n.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},n.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},n.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},n.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},n.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},n.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},n.scannerPaused=function(){return"Scanner paused"},n}(),M4=function(){function n(){}return n.isMediaStreamConstraintsValid=function(e,t){if(typeof e!="object"){var a=typeof e;return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var l=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],c=new Set(l),g=Object.keys(e),w=0,v=g;w<v.length;w++){var y=v[w];if(c.has(y))return t.logError("".concat(y," is not supported videoConstaints."),!0),!1}return!0},n}(),ku={exports:{}},g5=ku.exports,ab;function m5(){return ab||(ab=1,function(n,e){(function(t,a){a(e)})(g5,function(t){function a(I){return I==null}var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,i){I.__proto__=i}||function(I,i){for(var o in i)i.hasOwnProperty(o)&&(I[o]=i[o])};function c(I,i){l(I,i);function o(){this.constructor=I}I.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}function g(I,i){var o=Object.setPrototypeOf;o?o(I,i):I.__proto__=i}function w(I,i){i===void 0&&(i=I.constructor);var o=Error.captureStackTrace;o&&o(I,i)}var v=function(I){c(i,I);function i(o){var u=this.constructor,h=I.call(this,o)||this;return Object.defineProperty(h,"name",{value:u.name,enumerable:!1}),g(h,u.prototype),w(h),h}return i}(Error);class y extends v{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}y.kind="Exception";class E extends y{}E.kind="ArgumentException";class A extends y{}A.kind="IllegalArgumentException";class T{constructor(i){if(this.binarizer=i,i===null)throw new A("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,o){return this.binarizer.getBlackRow(i,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,o,u,h){const d=this.binarizer.getLuminanceSource().crop(i,o,u,h);return new T(this.binarizer.createBinarizer(d))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new T(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new T(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class R extends y{static getChecksumInstance(){return new R}}R.kind="ChecksumException";class M{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class D{static arraycopy(i,o,u,h,d){for(;d--;)u[h++]=i[o++]}static currentTimeMillis(){return Date.now()}}class B extends y{}B.kind="IndexOutOfBoundsException";class j extends B{constructor(i=void 0,o=void 0){super(o),this.index=i,this.message=o}}j.kind="ArrayIndexOutOfBoundsException";class q{static fill(i,o){for(let u=0,h=i.length;u<h;u++)i[u]=o}static fillWithin(i,o,u,h){q.rangeCheck(i.length,o,u);for(let d=o;d<u;d++)i[d]=h}static rangeCheck(i,o,u){if(o>u)throw new A("fromIndex("+o+") > toIndex("+u+")");if(o<0)throw new j(o);if(u>i)throw new j(u)}static asList(...i){return i}static create(i,o,u){return Array.from({length:i}).map(d=>Array.from({length:o}).fill(u))}static createInt32Array(i,o,u){return Array.from({length:i}).map(d=>Int32Array.from({length:o}).fill(u))}static equals(i,o){if(!i||!o||!i.length||!o.length||i.length!==o.length)return!1;for(let u=0,h=i.length;u<h;u++)if(i[u]!==o[u])return!1;return!0}static hashCode(i){if(i===null)return 0;let o=1;for(const u of i)o=31*o+u;return o}static fillUint8Array(i,o){for(let u=0;u!==i.length;u++)i[u]=o}static copyOf(i,o){return i.slice(0,o)}static copyOfUint8Array(i,o){if(i.length<=o){const u=new Uint8Array(o);return u.set(i),u}return i.slice(0,o)}static copyOfRange(i,o,u){const h=u-o,d=new Int32Array(h);return D.arraycopy(i,o,d,0,h),d}static binarySearch(i,o,u){u===void 0&&(u=q.numberComparator);let h=0,d=i.length-1;for(;h<=d;){const p=d+h>>1,x=u(o,i[p]);if(x>0)h=p+1;else if(x<0)d=p-1;else return p}return-h-1}static numberComparator(i,o){return i-o}}class P{static numberOfTrailingZeros(i){let o;if(i===0)return 32;let u=31;return o=i<<16,o!==0&&(u-=16,i=o),o=i<<8,o!==0&&(u-=8,i=o),o=i<<4,o!==0&&(u-=4,i=o),o=i<<2,o!==0&&(u-=2,i=o),u-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let o=1;return i>>>16||(o+=16,i<<=16),i>>>24||(o+=8,i<<=8),i>>>28||(o+=4,i<<=4),i>>>30||(o+=2,i<<=2),o-=i>>>31,o}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,o){return Math.trunc(i/o)}static parseInt(i,o=void 0){return parseInt(i,o)}}P.MIN_VALUE_32_BITS=-2147483648,P.MAX_VALUE=Number.MAX_SAFE_INTEGER;class F{constructor(i,o){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,o==null?this.bits=F.makeArray(i):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const o=F.makeArray(i);D.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const o=this.size;if(i>=o)return o;const u=this.bits;let h=Math.floor(i/32),d=u[h];d&=~((1<<(i&31))-1);const p=u.length;for(;d===0;){if(++h===p)return o;d=u[h]}const x=h*32+P.numberOfTrailingZeros(d);return x>o?o:x}getNextUnset(i){const o=this.size;if(i>=o)return o;const u=this.bits;let h=Math.floor(i/32),d=~u[h];d&=~((1<<(i&31))-1);const p=u.length;for(;d===0;){if(++h===p)return o;d=~u[h]}const x=h*32+P.numberOfTrailingZeros(d);return x>o?o:x}setBulk(i,o){this.bits[Math.floor(i/32)]=o}setRange(i,o){if(o<i||i<0||o>this.size)throw new A;if(o===i)return;o--;const u=Math.floor(i/32),h=Math.floor(o/32),d=this.bits;for(let p=u;p<=h;p++){const x=p>u?0:i&31,C=(2<<(p<h?31:o&31))-(1<<x);d[p]|=C}}clear(){const i=this.bits.length,o=this.bits;for(let u=0;u<i;u++)o[u]=0}isRange(i,o,u){if(o<i||i<0||o>this.size)throw new A;if(o===i)return!0;o--;const h=Math.floor(i/32),d=Math.floor(o/32),p=this.bits;for(let x=h;x<=d;x++){const _=x>h?0:i&31,O=(2<<(x<d?31:o&31))-(1<<_)&4294967295;if((p[x]&O)!==(u?O:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,o){if(o<0||o>32)throw new A("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let u=o;u>0;u--)this.appendBit((i>>u-1&1)===1)}appendBitArray(i){const o=i.size;this.ensureCapacity(this.size+o);for(let u=0;u<o;u++)this.appendBit(i.get(u))}xor(i){if(this.size!==i.size)throw new A("Sizes don't match");const o=this.bits;for(let u=0,h=o.length;u<h;u++)o[u]^=i.bits[u]}toBytes(i,o,u,h){for(let d=0;d<h;d++){let p=0;for(let x=0;x<8;x++)this.get(i)&&(p|=1<<7-x),i++;o[u+d]=p}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),u=o+1,h=this.bits;for(let d=0;d<u;d++){let p=h[d];p=p>>1&1431655765|(p&1431655765)<<1,p=p>>2&858993459|(p&858993459)<<2,p=p>>4&252645135|(p&252645135)<<4,p=p>>8&16711935|(p&16711935)<<8,p=p>>16&65535|(p&65535)<<16,i[o-d]=p}if(this.size!==u*32){const d=u*32-this.size;let p=i[0]>>>d;for(let x=1;x<u;x++){const _=i[x];p|=_<<32-d,i[x-1]=p,p=_>>>d}i[u-1]=p}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof F))return!1;const o=i;return this.size===o.size&&q.equals(this.bits,o.bits)}hashCode(){return 31*this.size+q.hashCode(this.bits)}toString(){let i="";for(let o=0,u=this.size;o<u;o++)(o&7)===0&&(i+=" "),i+=this.get(o)?"X":".";return i}clone(){return new F(this.size,this.bits.slice())}}var X;(function(I){I[I.OTHER=0]="OTHER",I[I.PURE_BARCODE=1]="PURE_BARCODE",I[I.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",I[I.TRY_HARDER=3]="TRY_HARDER",I[I.CHARACTER_SET=4]="CHARACTER_SET",I[I.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",I[I.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",I[I.ASSUME_GS1=7]="ASSUME_GS1",I[I.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",I[I.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",I[I.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(X||(X={}));var $=X;class G extends y{static getFormatInstance(){return new G}}G.kind="FormatException";var le;(function(I){I[I.Cp437=0]="Cp437",I[I.ISO8859_1=1]="ISO8859_1",I[I.ISO8859_2=2]="ISO8859_2",I[I.ISO8859_3=3]="ISO8859_3",I[I.ISO8859_4=4]="ISO8859_4",I[I.ISO8859_5=5]="ISO8859_5",I[I.ISO8859_6=6]="ISO8859_6",I[I.ISO8859_7=7]="ISO8859_7",I[I.ISO8859_8=8]="ISO8859_8",I[I.ISO8859_9=9]="ISO8859_9",I[I.ISO8859_10=10]="ISO8859_10",I[I.ISO8859_11=11]="ISO8859_11",I[I.ISO8859_13=12]="ISO8859_13",I[I.ISO8859_14=13]="ISO8859_14",I[I.ISO8859_15=14]="ISO8859_15",I[I.ISO8859_16=15]="ISO8859_16",I[I.SJIS=16]="SJIS",I[I.Cp1250=17]="Cp1250",I[I.Cp1251=18]="Cp1251",I[I.Cp1252=19]="Cp1252",I[I.Cp1256=20]="Cp1256",I[I.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",I[I.UTF8=22]="UTF8",I[I.ASCII=23]="ASCII",I[I.Big5=24]="Big5",I[I.GB18030=25]="GB18030",I[I.EUC_KR=26]="EUC_KR"})(le||(le={}));class W{constructor(i,o,u,...h){this.valueIdentifier=i,this.name=u,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=h,W.VALUE_IDENTIFIER_TO_ECI.set(i,this),W.NAME_TO_ECI.set(u,this);const d=this.values;for(let p=0,x=d.length;p!==x;p++){const _=d[p];W.VALUES_TO_ECI.set(_,this)}for(const p of h)W.NAME_TO_ECI.set(p,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new G("incorect value");const o=W.VALUES_TO_ECI.get(i);if(o===void 0)throw new G("incorect value");return o}static getCharacterSetECIByName(i){const o=W.NAME_TO_ECI.get(i);if(o===void 0)throw new G("incorect value");return o}equals(i){if(!(i instanceof W))return!1;const o=i;return this.getName()===o.getName()}}W.VALUE_IDENTIFIER_TO_ECI=new Map,W.VALUES_TO_ECI=new Map,W.NAME_TO_ECI=new Map,W.Cp437=new W(le.Cp437,Int32Array.from([0,2]),"Cp437"),W.ISO8859_1=new W(le.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),W.ISO8859_2=new W(le.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),W.ISO8859_3=new W(le.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),W.ISO8859_4=new W(le.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),W.ISO8859_5=new W(le.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),W.ISO8859_6=new W(le.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),W.ISO8859_7=new W(le.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),W.ISO8859_8=new W(le.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),W.ISO8859_9=new W(le.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),W.ISO8859_10=new W(le.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),W.ISO8859_11=new W(le.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),W.ISO8859_13=new W(le.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),W.ISO8859_14=new W(le.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),W.ISO8859_15=new W(le.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),W.ISO8859_16=new W(le.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),W.SJIS=new W(le.SJIS,20,"SJIS","Shift_JIS"),W.Cp1250=new W(le.Cp1250,21,"Cp1250","windows-1250"),W.Cp1251=new W(le.Cp1251,22,"Cp1251","windows-1251"),W.Cp1252=new W(le.Cp1252,23,"Cp1252","windows-1252"),W.Cp1256=new W(le.Cp1256,24,"Cp1256","windows-1256"),W.UnicodeBigUnmarked=new W(le.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),W.UTF8=new W(le.UTF8,26,"UTF8","UTF-8"),W.ASCII=new W(le.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),W.Big5=new W(le.Big5,28,"Big5"),W.GB18030=new W(le.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),W.EUC_KR=new W(le.EUC_KR,30,"EUC_KR","EUC-KR");class xe extends y{}xe.kind="UnsupportedOperationException";class ce{static decode(i,o){const u=this.encodingName(o);return this.customDecoder?this.customDecoder(i,u):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(u)?this.decodeFallback(i,u):new TextDecoder(u).decode(i)}static shouldDecodeOnFallback(i){return!ce.isBrowser()&&i==="ISO-8859-1"}static encode(i,o){const u=this.encodingName(o);return this.customEncoder?this.customEncoder(i,u):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof W?i:W.getCharacterSetECIByName(i)}static decodeFallback(i,o){const u=this.encodingCharacterSet(o);if(ce.isDecodeFallbackSupported(u)){let h="";for(let d=0,p=i.length;d<p;d++){let x=i[d].toString(16);x.length<2&&(x="0"+x),h+="%"+x}return decodeURIComponent(h)}if(u.equals(W.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new xe(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(W.UTF8)||i.equals(W.ISO8859_1)||i.equals(W.ASCII)}static encodeFallback(i){const u=btoa(unescape(encodeURIComponent(i))).split(""),h=[];for(let d=0;d<u.length;d++)h.push(u[d].charCodeAt(0));return new Uint8Array(h)}}class pe{static castAsNonUtf8Char(i,o=null){const u=o?o.getName():this.ISO88591;return ce.decode(new Uint8Array([i]),u)}static guessEncoding(i,o){if(o!=null&&o.get($.CHARACTER_SET)!==void 0)return o.get($.CHARACTER_SET).toString();const u=i.length;let h=!0,d=!0,p=!0,x=0,_=0,C=0,O=0,k=0,L=0,H=0,Z=0,J=0,ae=0,de=0;const Te=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let Re=0;Re<u&&(h||d||p);Re++){const Ce=i[Re]&255;p&&(x>0?(Ce&128)===0?p=!1:x--:(Ce&128)!==0&&((Ce&64)===0?p=!1:(x++,(Ce&32)===0?_++:(x++,(Ce&16)===0?C++:(x++,(Ce&8)===0?O++:p=!1))))),h&&(Ce>127&&Ce<160?h=!1:Ce>159&&(Ce<192||Ce===215||Ce===247)&&de++),d&&(k>0?Ce<64||Ce===127||Ce>252?d=!1:k--:Ce===128||Ce===160||Ce>239?d=!1:Ce>160&&Ce<224?(L++,Z=0,H++,H>J&&(J=H)):Ce>127?(k++,H=0,Z++,Z>ae&&(ae=Z)):(H=0,Z=0))}return p&&x>0&&(p=!1),d&&k>0&&(d=!1),p&&(Te||_+C+O>0)?pe.UTF8:d&&(pe.ASSUME_SHIFT_JIS||J>=3||ae>=3)?pe.SHIFT_JIS:h&&d?J===2&&L===2||de*10>=u?pe.SHIFT_JIS:pe.ISO88591:h?pe.ISO88591:d?pe.SHIFT_JIS:p?pe.UTF8:pe.PLATFORM_DEFAULT_ENCODING}static format(i,...o){let u=-1;function h(p,x,_,C,O,k){if(p==="%%")return"%";if(o[++u]===void 0)return;p=C?parseInt(C.substr(1)):void 0;let L=O?parseInt(O.substr(1)):void 0,H;switch(k){case"s":H=o[u];break;case"c":H=o[u][0];break;case"f":H=parseFloat(o[u]).toFixed(p);break;case"p":H=parseFloat(o[u]).toPrecision(p);break;case"e":H=parseFloat(o[u]).toExponential(p);break;case"x":H=parseInt(o[u]).toString(L||16);break;case"d":H=parseFloat(parseInt(o[u],L||10).toPrecision(p)).toFixed(0);break}H=typeof H=="object"?JSON.stringify(H):(+H).toString(L);let Z=parseInt(_),J=_&&_[0]+""=="0"?"0":" ";for(;H.length<Z;)H=x!==void 0?H+J:J+H;return H}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(d,h)}static getBytes(i,o){return ce.encode(i,o)}static getCharCode(i,o=0){return i.charCodeAt(o)}static getCharAt(i){return String.fromCharCode(i)}}pe.SHIFT_JIS=W.SJIS.getName(),pe.GB2312="GB2312",pe.ISO88591=W.ISO8859_1.getName(),pe.EUC_JP="EUC_JP",pe.UTF8=W.UTF8.getName(),pe.PLATFORM_DEFAULT_ENCODING=pe.UTF8,pe.ASSUME_SHIFT_JIS=!1;class ve{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=pe.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,o,u){for(let h=o;o<o+u;h++)this.append(i[h]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+1)}substring(i,o){return this.value.substring(i,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+o.length)}}class Ne{constructor(i,o,u,h){if(this.width=i,this.height=o,this.rowSize=u,this.bits=h,o==null&&(o=i),this.height=o,i<1||o<1)throw new A("Both dimensions must be greater than 0");u==null&&(u=Math.floor((i+31)/32)),this.rowSize=u,h==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const o=i.length,u=i[0].length,h=new Ne(u,o);for(let d=0;d<o;d++){const p=i[d];for(let x=0;x<u;x++)p[x]&&h.set(x,d)}return h}static parseFromString(i,o,u){if(i===null)throw new A("stringRepresentation cannot be null");const h=new Array(i.length);let d=0,p=0,x=-1,_=0,C=0;for(;C<i.length;)if(i.charAt(C)===`
`||i.charAt(C)==="\r"){if(d>p){if(x===-1)x=d-p;else if(d-p!==x)throw new A("row lengths do not match");p=d,_++}C++}else if(i.substring(C,C+o.length)===o)C+=o.length,h[d]=!0,d++;else if(i.substring(C,C+u.length)===u)C+=u.length,h[d]=!1,d++;else throw new A("illegal character encountered: "+i.substring(C));if(d>p){if(x===-1)x=d-p;else if(d-p!==x)throw new A("row lengths do not match");_++}const O=new Ne(x,_);for(let k=0;k<d;k++)h[k]&&O.set(Math.floor(k%x),Math.floor(k/x));return O}get(i,o){const u=o*this.rowSize+Math.floor(i/32);return(this.bits[u]>>>(i&31)&1)!==0}set(i,o){const u=o*this.rowSize+Math.floor(i/32);this.bits[u]|=1<<(i&31)&4294967295}unset(i,o){const u=o*this.rowSize+Math.floor(i/32);this.bits[u]&=~(1<<(i&31)&4294967295)}flip(i,o){const u=o*this.rowSize+Math.floor(i/32);this.bits[u]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new A("input matrix dimensions do not match");const o=new F(Math.floor(this.width/32)+1),u=this.rowSize,h=this.bits;for(let d=0,p=this.height;d<p;d++){const x=d*u,_=i.getRow(d,o).getBitArray();for(let C=0;C<u;C++)h[x+C]^=_[C]}}clear(){const i=this.bits,o=i.length;for(let u=0;u<o;u++)i[u]=0}setRegion(i,o,u,h){if(o<0||i<0)throw new A("Left and top must be nonnegative");if(h<1||u<1)throw new A("Height and width must be at least 1");const d=i+u,p=o+h;if(p>this.height||d>this.width)throw new A("The region must fit inside the matrix");const x=this.rowSize,_=this.bits;for(let C=o;C<p;C++){const O=C*x;for(let k=i;k<d;k++)_[O+Math.floor(k/32)]|=1<<(k&31)&4294967295}}getRow(i,o){o==null||o.getSize()<this.width?o=new F(this.width):o.clear();const u=this.rowSize,h=this.bits,d=i*u;for(let p=0;p<u;p++)o.setBulk(p*32,h[d+p]);return o}setRow(i,o){D.arraycopy(o.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),o=this.getHeight();let u=new F(i),h=new F(i);for(let d=0,p=Math.floor((o+1)/2);d<p;d++)u=this.getRow(d,u),h=this.getRow(o-1-d,h),u.reverse(),h.reverse(),this.setRow(d,h),this.setRow(o-1-d,u)}getEnclosingRectangle(){const i=this.width,o=this.height,u=this.rowSize,h=this.bits;let d=i,p=o,x=-1,_=-1;for(let C=0;C<o;C++)for(let O=0;O<u;O++){const k=h[C*u+O];if(k!==0){if(C<p&&(p=C),C>_&&(_=C),O*32<d){let L=0;for(;(k<<31-L&4294967295)===0;)L++;O*32+L<d&&(d=O*32+L)}if(O*32+31>x){let L=31;for(;!(k>>>L);)L--;O*32+L>x&&(x=O*32+L)}}}return x<d||_<p?null:Int32Array.from([d,p,x-d+1,_-p+1])}getTopLeftOnBit(){const i=this.rowSize,o=this.bits;let u=0;for(;u<o.length&&o[u]===0;)u++;if(u===o.length)return null;const h=u/i;let d=u%i*32;const p=o[u];let x=0;for(;(p<<31-x&4294967295)===0;)x++;return d+=x,Int32Array.from([d,h])}getBottomRightOnBit(){const i=this.rowSize,o=this.bits;let u=o.length-1;for(;u>=0&&o[u]===0;)u--;if(u<0)return null;const h=Math.floor(u/i);let d=Math.floor(u%i)*32;const p=o[u];let x=31;for(;!(p>>>x);)x--;return d+=x,Int32Array.from([d,h])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof Ne))return!1;const o=i;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&q.equals(this.bits,o.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+q.hashCode(this.bits),i}toString(i="X ",o="  ",u=`
`){return this.buildToString(i,o,u)}buildToString(i,o,u){let h=new ve;for(let d=0,p=this.height;d<p;d++){for(let x=0,_=this.width;x<_;x++)h.append(this.get(x,d)?i:o);h.append(u)}return h.toString()}clone(){return new Ne(this.width,this.height,this.rowSize,this.bits.slice())}}class ne extends y{static getNotFoundInstance(){return new ne}}ne.kind="NotFoundException";class re extends M{constructor(i){super(i),this.luminances=re.EMPTY,this.buckets=new Int32Array(re.LUMINANCE_BUCKETS)}getBlackRow(i,o){const u=this.getLuminanceSource(),h=u.getWidth();o==null||o.getSize()<h?o=new F(h):o.clear(),this.initArrays(h);const d=u.getRow(i,this.luminances),p=this.buckets;for(let _=0;_<h;_++)p[(d[_]&255)>>re.LUMINANCE_SHIFT]++;const x=re.estimateBlackPoint(p);if(h<3)for(let _=0;_<h;_++)(d[_]&255)<x&&o.set(_);else{let _=d[0]&255,C=d[1]&255;for(let O=1;O<h-1;O++){const k=d[O+1]&255;(C*4-_-k)/2<x&&o.set(O),_=C,C=k}}return o}getBlackMatrix(){const i=this.getLuminanceSource(),o=i.getWidth(),u=i.getHeight(),h=new Ne(o,u);this.initArrays(o);const d=this.buckets;for(let _=1;_<5;_++){const C=Math.floor(u*_/5),O=i.getRow(C,this.luminances),k=Math.floor(o*4/5);for(let L=Math.floor(o/5);L<k;L++){const H=O[L]&255;d[H>>re.LUMINANCE_SHIFT]++}}const p=re.estimateBlackPoint(d),x=i.getMatrix();for(let _=0;_<u;_++){const C=_*o;for(let O=0;O<o;O++)(x[C+O]&255)<p&&h.set(O,_)}return h}createBinarizer(i){return new re(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const o=this.buckets;for(let u=0;u<re.LUMINANCE_BUCKETS;u++)o[u]=0}static estimateBlackPoint(i){const o=i.length;let u=0,h=0,d=0;for(let O=0;O<o;O++)i[O]>d&&(h=O,d=i[O]),i[O]>u&&(u=i[O]);let p=0,x=0;for(let O=0;O<o;O++){const k=O-h,L=i[O]*k*k;L>x&&(p=O,x=L)}if(h>p){const O=h;h=p,p=O}if(p-h<=o/16)throw new ne;let _=p-1,C=-1;for(let O=p-1;O>h;O--){const k=O-h,L=k*k*(p-O)*(u-i[O]);L>C&&(_=O,C=L)}return _<<re.LUMINANCE_SHIFT}}re.LUMINANCE_BITS=5,re.LUMINANCE_SHIFT=8-re.LUMINANCE_BITS,re.LUMINANCE_BUCKETS=1<<re.LUMINANCE_BITS,re.EMPTY=Uint8ClampedArray.from([0]);class fe extends re{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),o=i.getWidth(),u=i.getHeight();if(o>=fe.MINIMUM_DIMENSION&&u>=fe.MINIMUM_DIMENSION){const h=i.getMatrix();let d=o>>fe.BLOCK_SIZE_POWER;(o&fe.BLOCK_SIZE_MASK)!==0&&d++;let p=u>>fe.BLOCK_SIZE_POWER;(u&fe.BLOCK_SIZE_MASK)!==0&&p++;const x=fe.calculateBlackPoints(h,d,p,o,u),_=new Ne(o,u);fe.calculateThresholdForBlock(h,d,p,o,u,x,_),this.matrix=_}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new fe(i)}static calculateThresholdForBlock(i,o,u,h,d,p,x){const _=d-fe.BLOCK_SIZE,C=h-fe.BLOCK_SIZE;for(let O=0;O<u;O++){let k=O<<fe.BLOCK_SIZE_POWER;k>_&&(k=_);const L=fe.cap(O,2,u-3);for(let H=0;H<o;H++){let Z=H<<fe.BLOCK_SIZE_POWER;Z>C&&(Z=C);const J=fe.cap(H,2,o-3);let ae=0;for(let Te=-2;Te<=2;Te++){const Re=p[L+Te];ae+=Re[J-2]+Re[J-1]+Re[J]+Re[J+1]+Re[J+2]}const de=ae/25;fe.thresholdBlock(i,Z,k,de,h,x)}}}static cap(i,o,u){return i<o?o:i>u?u:i}static thresholdBlock(i,o,u,h,d,p){for(let x=0,_=u*d+o;x<fe.BLOCK_SIZE;x++,_+=d)for(let C=0;C<fe.BLOCK_SIZE;C++)(i[_+C]&255)<=h&&p.set(o+C,u+x)}static calculateBlackPoints(i,o,u,h,d){const p=d-fe.BLOCK_SIZE,x=h-fe.BLOCK_SIZE,_=new Array(u);for(let C=0;C<u;C++){_[C]=new Int32Array(o);let O=C<<fe.BLOCK_SIZE_POWER;O>p&&(O=p);for(let k=0;k<o;k++){let L=k<<fe.BLOCK_SIZE_POWER;L>x&&(L=x);let H=0,Z=255,J=0;for(let de=0,Te=O*h+L;de<fe.BLOCK_SIZE;de++,Te+=h){for(let Re=0;Re<fe.BLOCK_SIZE;Re++){const Ce=i[Te+Re]&255;H+=Ce,Ce<Z&&(Z=Ce),Ce>J&&(J=Ce)}if(J-Z>fe.MIN_DYNAMIC_RANGE)for(de++,Te+=h;de<fe.BLOCK_SIZE;de++,Te+=h)for(let Re=0;Re<fe.BLOCK_SIZE;Re++)H+=i[Te+Re]&255}let ae=H>>fe.BLOCK_SIZE_POWER*2;if(J-Z<=fe.MIN_DYNAMIC_RANGE&&(ae=Z/2,C>0&&k>0)){const de=(_[C-1][k]+2*_[C][k-1]+_[C-1][k-1])/4;Z<de&&(ae=de)}_[C][k]=ae}}return _}}fe.BLOCK_SIZE_POWER=3,fe.BLOCK_SIZE=1<<fe.BLOCK_SIZE_POWER,fe.BLOCK_SIZE_MASK=fe.BLOCK_SIZE-1,fe.MINIMUM_DIMENSION=fe.BLOCK_SIZE*5,fe.MIN_DYNAMIC_RANGE=24;class Ie{constructor(i,o){this.width=i,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,o,u,h){throw new xe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new xe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new xe("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let o=new ve;for(let u=0;u<this.height;u++){const h=this.getRow(u,i);for(let d=0;d<this.width;d++){const p=h[d]&255;let x;p<64?x="#":p<128?x="+":p<192?x=".":x=" ",o.append(x)}o.append(`
`)}return o.toString()}}class je extends Ie{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,o){const u=this.delegate.getRow(i,o),h=this.getWidth();for(let d=0;d<h;d++)u[d]=255-(u[d]&255);return u}getMatrix(){const i=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),u=new Uint8ClampedArray(o);for(let h=0;h<o;h++)u[h]=255-(i[h]&255);return u}isCropSupported(){return this.delegate.isCropSupported()}crop(i,o,u,h){return new je(this.delegate.crop(i,o,u,h))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new je(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new je(this.delegate.rotateCounterClockwise45())}}class K extends Ie{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=K.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const o=i.getContext("2d").getImageData(0,0,i.width,i.height);return K.toGrayscaleBuffer(o.data,i.width,i.height)}static toGrayscaleBuffer(i,o,u){const h=new Uint8ClampedArray(o*u);for(let d=0,p=0,x=i.length;d<x;d+=4,p++){let _;if(i[d+3]===0)_=255;else{const O=i[d],k=i[d+1],L=i[d+2];_=306*O+601*k+117*L+512>>10}h[p]=_}return h}getRow(i,o){if(i<0||i>=this.getHeight())throw new A("Requested row is outside the image: "+i);const u=this.getWidth(),h=i*u;return o===null?o=this.buffer.slice(h,h+u):(o.length<u&&(o=new Uint8ClampedArray(u)),o.set(this.buffer.slice(h,h+u))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,o,u,h){return super.crop(i,o,u,h),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const o=this.getTempCanvasElement(),u=o.getContext("2d"),h=i*K.DEGREE_TO_RADIANS,d=this.canvas.width,p=this.canvas.height,x=Math.ceil(Math.abs(Math.cos(h))*d+Math.abs(Math.sin(h))*p),_=Math.ceil(Math.abs(Math.sin(h))*d+Math.abs(Math.cos(h))*p);return o.width=x,o.height=_,u.translate(x/2,_/2),u.rotate(h),u.drawImage(this.canvas,d/-2,p/-2),this.buffer=K.makeBufferFromCanvasImageData(o),this}invert(){return new je(this)}}K.DEGREE_TO_RADIANS=Math.PI/180;class ye{constructor(i,o,u){this.deviceId=i,this.label=o,this.kind="videoinput",this.groupId=u||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Se=(globalThis||ss||self||window||void 0)&&(globalThis||ss||self||window||void 0).__awaiter||function(I,i,o,u){function h(d){return d instanceof o?d:new o(function(p){p(d)})}return new(o||(o=Promise))(function(d,p){function x(O){try{C(u.next(O))}catch(k){p(k)}}function _(O){try{C(u.throw(O))}catch(k){p(k)}}function C(O){O.done?d(O.value):h(O.value).then(x,_)}C((u=u.apply(I,i||[])).next())})};class Oe{constructor(i,o=500,u){this.reader=i,this.timeBetweenScansMillis=o,this._hints=u,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return Se(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const u of i){const h=u.kind==="video"?"videoinput":u.kind;if(h!=="videoinput")continue;const d=u.deviceId||u.id,p=u.label||`Video device ${o.length+1}`,x=u.groupId,_={deviceId:d,label:p,kind:h,groupId:x};o.push(_)}return o})}getVideoInputDevices(){return Se(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new ye(o.deviceId,o.label))})}findDeviceById(i){return Se(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(u=>u.deviceId===i):null})}decodeFromInputVideoDevice(i,o){return Se(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,o)})}decodeOnceFromVideoDevice(i,o){return Se(this,void 0,void 0,function*(){this.reset();let u;i?u={deviceId:{exact:i}}:u={facingMode:"environment"};const h={video:u};return yield this.decodeOnceFromConstraints(h,o)})}decodeOnceFromConstraints(i,o){return Se(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(u,o)})}decodeOnceFromStream(i,o){return Se(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(i,o);return yield this.decodeOnce(u)})}decodeFromInputVideoDeviceContinuously(i,o,u){return Se(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,o,u)})}decodeFromVideoDevice(i,o,u){return Se(this,void 0,void 0,function*(){let h;i?h={deviceId:{exact:i}}:h={facingMode:"environment"};const d={video:h};return yield this.decodeFromConstraints(d,o,u)})}decodeFromConstraints(i,o,u){return Se(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(h,o,u)})}decodeFromStream(i,o,u){return Se(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(i,o);return yield this.decodeContinuously(h,u)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,o){return Se(this,void 0,void 0,function*(){const u=this.prepareVideoElement(o);return this.addVideoSource(u,i),this.videoElement=u,this.stream=i,yield this.playVideoOnLoadAsync(u),u})}playVideoOnLoadAsync(i){return new Promise((o,u)=>this.playVideoOnLoad(i,()=>o()))}playVideoOnLoad(i,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",o),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return Se(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,o){const u=document.getElementById(i);if(!u)throw new E(`element with id '${i}' not found`);if(u.nodeName.toLowerCase()!==o.toLowerCase())throw new E(`element with id '${i}' must be an ${o} element`);return u}decodeFromImage(i,o){if(!i&&!o)throw new E("either imageElement with a src set or an url must be provided");return o&&!i?this.decodeFromImageUrl(o):this.decodeFromImageElement(i)}decodeFromVideo(i,o){if(!i&&!o)throw new E("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,o,u){if(i===void 0&&o===void 0)throw new E("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrlContinuously(o,u):this.decodeFromVideoElementContinuously(i,u)}decodeFromImageElement(i){if(!i)throw new E("An image element must be provided.");this.reset();const o=this.prepareImageElement(i);this.imageElement=o;let u;return this.isImageLoaded(o)?u=this.decodeOnce(o,!1,!0):u=this._decodeOnLoadImage(o),u}decodeFromVideoElement(i){const o=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(i,o){const u=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(u,o)}_decodeFromVideoElementSetup(i){if(!i)throw new E("A video element must be provided.");this.reset();const o=this.prepareVideoElement(i);return this.videoElement=o,o}decodeFromImageUrl(i){if(!i)throw new E("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const u=this._decodeOnLoadImage(o);return o.src=i,u}decodeFromVideoUrl(i){if(!i)throw new E("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),u=this.decodeFromVideoElement(o);return o.src=i,u}decodeFromVideoUrlContinuously(i,o){if(!i)throw new E("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),h=this.decodeFromVideoElementContinuously(u,o);return u.src=i,h}_decodeOnLoadImage(i){return new Promise((o,u)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(o,u),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return Se(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,o){return Se(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,o)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let o;return typeof i>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(o=i),o}prepareVideoElement(i){let o;return!i&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(o=i),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(i,o=!0,u=!0){this._stopAsyncDecode=!1;const h=(d,p)=>{if(this._stopAsyncDecode){p(new ne("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const x=this.decode(i);d(x)}catch(x){const _=o&&x instanceof ne,O=(x instanceof R||x instanceof G)&&u;if(_||O)return setTimeout(h,this._timeBetweenDecodingAttempts,d,p);p(x)}};return new Promise((d,p)=>h(d,p))}decodeContinuously(i,o){this._stopContinuousDecode=!1;const u=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const h=this.decode(i);o(h,null),setTimeout(u,this.timeBetweenScansMillis)}catch(h){o(null,h);const d=h instanceof R||h instanceof G,p=h instanceof ne;(d||p)&&setTimeout(u,this._timeBetweenDecodingAttempts)}};u()}decode(i){const o=this.createBinaryBitmap(i);return this.decodeBitmap(o)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,o,u){o||(o={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),u||(u=this.captureCanvasContext),u.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(i,o,u=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),u||(u=this.captureCanvasContext),u.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const o=this.getCaptureCanvas(i),u=new K(o),h=new fe(u);return new T(h)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const u=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=u}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const o=this.createCaptureCanvas(i);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let u,h;return typeof i<"u"&&(i instanceof HTMLVideoElement?(u=i.videoWidth,h=i.videoHeight):i instanceof HTMLImageElement&&(u=i.naturalWidth||i.width,h=i.naturalHeight||i.height)),o.style.width=u+"px",o.style.height=h+"px",o.width=u,o.height=h,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,o){try{i.srcObject=o}catch{i.src=URL.createObjectURL(o)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class ke{constructor(i,o,u=o==null?0:8*o.length,h,d,p=D.currentTimeMillis()){this.text=i,this.rawBytes=o,this.numBits=u,this.resultPoints=h,this.format=d,this.timestamp=p,this.text=i,this.rawBytes=o,u==null?this.numBits=o==null?0:8*o.length:this.numBits=u,this.resultPoints=h,this.format=d,this.resultMetadata=null,p==null?this.timestamp=D.currentTimeMillis():this.timestamp=p}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,o)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const o=this.resultPoints;if(o===null)this.resultPoints=i;else if(i!==null&&i.length>0){const u=new Array(o.length+i.length);D.arraycopy(o,0,u,0,o.length),D.arraycopy(i,0,u,o.length,i.length),this.resultPoints=u}}getTimestamp(){return this.timestamp}toString(){return this.text}}var $e;(function(I){I[I.AZTEC=0]="AZTEC",I[I.CODABAR=1]="CODABAR",I[I.CODE_39=2]="CODE_39",I[I.CODE_93=3]="CODE_93",I[I.CODE_128=4]="CODE_128",I[I.DATA_MATRIX=5]="DATA_MATRIX",I[I.EAN_8=6]="EAN_8",I[I.EAN_13=7]="EAN_13",I[I.ITF=8]="ITF",I[I.MAXICODE=9]="MAXICODE",I[I.PDF_417=10]="PDF_417",I[I.QR_CODE=11]="QR_CODE",I[I.RSS_14=12]="RSS_14",I[I.RSS_EXPANDED=13]="RSS_EXPANDED",I[I.UPC_A=14]="UPC_A",I[I.UPC_E=15]="UPC_E",I[I.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})($e||($e={}));var Ae=$e,$t;(function(I){I[I.OTHER=0]="OTHER",I[I.ORIENTATION=1]="ORIENTATION",I[I.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",I[I.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",I[I.ISSUE_NUMBER=4]="ISSUE_NUMBER",I[I.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",I[I.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",I[I.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",I[I.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",I[I.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",I[I.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})($t||($t={}));var Ve=$t;class En{constructor(i,o,u,h,d=-1,p=-1){this.rawBytes=i,this.text=o,this.byteSegments=u,this.ecLevel=h,this.structuredAppendSequenceNumber=d,this.structuredAppendParity=p,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Dr{exp(i){return this.expTable[i]}log(i){if(i===0)throw new A;return this.logTable[i]}static addOrSubtract(i,o){return i^o}}class Wt{constructor(i,o){if(o.length===0)throw new A;this.field=i;const u=o.length;if(u>1&&o[0]===0){let h=1;for(;h<u&&o[h]===0;)h++;h===u?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(u-h),D.arraycopy(o,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const o=this.coefficients;let u;if(i===1){u=0;for(let p=0,x=o.length;p!==x;p++){const _=o[p];u=Dr.addOrSubtract(u,_)}return u}u=o[0];const h=o.length,d=this.field;for(let p=1;p<h;p++)u=Dr.addOrSubtract(d.multiply(i,u),o[p]);return u}addOrSubtract(i){if(!this.field.equals(i.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,u=i.coefficients;if(o.length>u.length){const p=o;o=u,u=p}let h=new Int32Array(u.length);const d=u.length-o.length;D.arraycopy(u,0,h,0,d);for(let p=d;p<u.length;p++)h[p]=Dr.addOrSubtract(o[p-d],u[p]);return new Wt(this.field,h)}multiply(i){if(!this.field.equals(i.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const o=this.coefficients,u=o.length,h=i.coefficients,d=h.length,p=new Int32Array(u+d-1),x=this.field;for(let _=0;_<u;_++){const C=o[_];for(let O=0;O<d;O++)p[_+O]=Dr.addOrSubtract(p[_+O],x.multiply(C,h[O]))}return new Wt(x,p)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const o=this.coefficients.length,u=this.field,h=new Int32Array(o),d=this.coefficients;for(let p=0;p<o;p++)h[p]=u.multiply(d[p],i);return new Wt(u,h)}multiplyByMonomial(i,o){if(i<0)throw new A;if(o===0)return this.field.getZero();const u=this.coefficients,h=u.length,d=new Int32Array(h+i),p=this.field;for(let x=0;x<h;x++)d[x]=p.multiply(u[x],o);return new Wt(p,d)}divide(i){if(!this.field.equals(i.field))throw new A("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new A("Divide by 0");const o=this.field;let u=o.getZero(),h=this;const d=i.getCoefficient(i.getDegree()),p=o.inverse(d);for(;h.getDegree()>=i.getDegree()&&!h.isZero();){const x=h.getDegree()-i.getDegree(),_=o.multiply(h.getCoefficient(h.getDegree()),p),C=i.multiplyByMonomial(x,_),O=o.buildMonomial(x,_);u=u.addOrSubtract(O),h=h.addOrSubtract(C)}return[u,h]}toString(){let i="";for(let o=this.getDegree();o>=0;o--){let u=this.getCoefficient(o);if(u!==0){if(u<0?(i+=" - ",u=-u):i.length>0&&(i+=" + "),o===0||u!==1){const h=this.field.log(u);h===0?i+="1":h===1?i+="a":(i+="a^",i+=h)}o!==0&&(o===1?i+="x":(i+="x^",i+=o))}}return i}}class Gr extends y{}Gr.kind="ArithmeticException";class at extends Dr{constructor(i,o,u){super(),this.primitive=i,this.size=o,this.generatorBase=u;const h=new Int32Array(o);let d=1;for(let x=0;x<o;x++)h[x]=d,d*=2,d>=o&&(d^=i,d&=o-1);this.expTable=h;const p=new Int32Array(o);for(let x=0;x<o-1;x++)p[h[x]]=x;this.logTable=p,this.zero=new Wt(this,Int32Array.from([0])),this.one=new Wt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new A;if(o===0)return this.zero;const u=new Int32Array(i+1);return u[0]=o,new Wt(this,u)}inverse(i){if(i===0)throw new Gr;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+P.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}at.AZTEC_DATA_12=new at(4201,4096,1),at.AZTEC_DATA_10=new at(1033,1024,1),at.AZTEC_DATA_6=new at(67,64,1),at.AZTEC_PARAM=new at(19,16,1),at.QR_CODE_FIELD_256=new at(285,256,0),at.DATA_MATRIX_FIELD_256=new at(301,256,1),at.AZTEC_DATA_8=at.DATA_MATRIX_FIELD_256,at.MAXICODE_FIELD_64=at.AZTEC_DATA_6;class vr extends y{}vr.kind="ReedSolomonException";class nt extends y{}nt.kind="IllegalStateException";class dr{constructor(i){this.field=i}decode(i,o){const u=this.field,h=new Wt(u,i),d=new Int32Array(o);let p=!0;for(let H=0;H<o;H++){const Z=h.evaluateAt(u.exp(H+u.getGeneratorBase()));d[d.length-1-H]=Z,Z!==0&&(p=!1)}if(p)return;const x=new Wt(u,d),_=this.runEuclideanAlgorithm(u.buildMonomial(o,1),x,o),C=_[0],O=_[1],k=this.findErrorLocations(C),L=this.findErrorMagnitudes(O,k);for(let H=0;H<k.length;H++){const Z=i.length-1-u.log(k[H]);if(Z<0)throw new vr("Bad error location");i[Z]=at.addOrSubtract(i[Z],L[H])}}runEuclideanAlgorithm(i,o,u){if(i.getDegree()<o.getDegree()){const H=i;i=o,o=H}const h=this.field;let d=i,p=o,x=h.getZero(),_=h.getOne();for(;p.getDegree()>=(u/2|0);){let H=d,Z=x;if(d=p,x=_,d.isZero())throw new vr("r_{i-1} was zero");p=H;let J=h.getZero();const ae=d.getCoefficient(d.getDegree()),de=h.inverse(ae);for(;p.getDegree()>=d.getDegree()&&!p.isZero();){const Te=p.getDegree()-d.getDegree(),Re=h.multiply(p.getCoefficient(p.getDegree()),de);J=J.addOrSubtract(h.buildMonomial(Te,Re)),p=p.addOrSubtract(d.multiplyByMonomial(Te,Re))}if(_=J.multiply(x).addOrSubtract(Z),p.getDegree()>=d.getDegree())throw new nt("Division algorithm failed to reduce polynomial?")}const C=_.getCoefficient(0);if(C===0)throw new vr("sigmaTilde(0) was zero");const O=h.inverse(C),k=_.multiplyScalar(O),L=p.multiplyScalar(O);return[k,L]}findErrorLocations(i){const o=i.getDegree();if(o===1)return Int32Array.from([i.getCoefficient(1)]);const u=new Int32Array(o);let h=0;const d=this.field;for(let p=1;p<d.getSize()&&h<o;p++)i.evaluateAt(p)===0&&(u[h]=d.inverse(p),h++);if(h!==o)throw new vr("Error locator degree does not match number of roots");return u}findErrorMagnitudes(i,o){const u=o.length,h=new Int32Array(u),d=this.field;for(let p=0;p<u;p++){const x=d.inverse(o[p]);let _=1;for(let C=0;C<u;C++)if(p!==C){const O=d.multiply(o[C],x),k=(O&1)===0?O|1:O&-2;_=d.multiply(_,k)}h[p]=d.multiply(i.evaluateAt(x),d.inverse(_)),d.getGeneratorBase()!==0&&(h[p]=d.multiply(h[p],x))}return h}}var Fe;(function(I){I[I.UPPER=0]="UPPER",I[I.LOWER=1]="LOWER",I[I.MIXED=2]="MIXED",I[I.DIGIT=3]="DIGIT",I[I.PUNCT=4]="PUNCT",I[I.BINARY=5]="BINARY"})(Fe||(Fe={}));class ut{decode(i){this.ddata=i;let o=i.getBits(),u=this.extractBits(o),h=this.correctBits(u),d=ut.convertBoolArrayToByteArray(h),p=ut.getEncodedData(h),x=new En(d,p,null,null);return x.setNumBits(h.length),x}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let o=i.length,u=Fe.UPPER,h=Fe.UPPER,d="",p=0;for(;p<o;)if(h===Fe.BINARY){if(o-p<5)break;let x=ut.readCode(i,p,5);if(p+=5,x===0){if(o-p<11)break;x=ut.readCode(i,p,11)+31,p+=11}for(let _=0;_<x;_++){if(o-p<8){p=o;break}const C=ut.readCode(i,p,8);d+=pe.castAsNonUtf8Char(C),p+=8}h=u}else{let x=h===Fe.DIGIT?4:5;if(o-p<x)break;let _=ut.readCode(i,p,x);p+=x;let C=ut.getCharacter(h,_);C.startsWith("CTRL_")?(u=h,h=ut.getTable(C.charAt(5)),C.charAt(6)==="L"&&(u=h)):(d+=C,h=u)}return d}static getTable(i){switch(i){case"L":return Fe.LOWER;case"P":return Fe.PUNCT;case"M":return Fe.MIXED;case"D":return Fe.DIGIT;case"B":return Fe.BINARY;case"U":default:return Fe.UPPER}}static getCharacter(i,o){switch(i){case Fe.UPPER:return ut.UPPER_TABLE[o];case Fe.LOWER:return ut.LOWER_TABLE[o];case Fe.MIXED:return ut.MIXED_TABLE[o];case Fe.PUNCT:return ut.PUNCT_TABLE[o];case Fe.DIGIT:return ut.DIGIT_TABLE[o];default:throw new nt("Bad table")}}correctBits(i){let o,u;this.ddata.getNbLayers()<=2?(u=6,o=at.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,o=at.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,o=at.AZTEC_DATA_10):(u=12,o=at.AZTEC_DATA_12);let h=this.ddata.getNbDatablocks(),d=i.length/u;if(d<h)throw new G;let p=i.length%u,x=new Int32Array(d);for(let L=0;L<d;L++,p+=u)x[L]=ut.readCode(i,p,u);try{new dr(o).decode(x,d-h)}catch(L){throw new G(L)}let _=(1<<u)-1,C=0;for(let L=0;L<h;L++){let H=x[L];if(H===0||H===_)throw new G;(H===1||H===_-1)&&C++}let O=new Array(h*u-C),k=0;for(let L=0;L<h;L++){let H=x[L];if(H===1||H===_-1)O.fill(H>1,k,k+u-1),k+=u-1;else for(let Z=u-1;Z>=0;--Z)O[k++]=(H&1<<Z)!==0}return O}extractBits(i){let o=this.ddata.isCompact(),u=this.ddata.getNbLayers(),h=(o?11:14)+u*4,d=new Int32Array(h),p=new Array(this.totalBitsInLayer(u,o));if(o)for(let x=0;x<d.length;x++)d[x]=x;else{let x=h+1+2*P.truncDivision(P.truncDivision(h,2)-1,15),_=h/2,C=P.truncDivision(x,2);for(let O=0;O<_;O++){let k=O+P.truncDivision(O,15);d[_-O-1]=C-k-1,d[_+O]=C+k+1}}for(let x=0,_=0;x<u;x++){let C=(u-x)*4+(o?9:12),O=x*2,k=h-1-O;for(let L=0;L<C;L++){let H=L*2;for(let Z=0;Z<2;Z++)p[_+H+Z]=i.get(d[O+Z],d[O+L]),p[_+2*C+H+Z]=i.get(d[O+L],d[k-Z]),p[_+4*C+H+Z]=i.get(d[k-Z],d[k-L]),p[_+6*C+H+Z]=i.get(d[k-L],d[O+Z])}_+=C*8}return p}static readCode(i,o,u){let h=0;for(let d=o;d<o+u;d++)h<<=1,i[d]&&(h|=1);return h}static readByte(i,o){let u=i.length-o;return u>=8?ut.readCode(i,o,8):ut.readCode(i,o,u)<<8-u}static convertBoolArrayToByteArray(i){let o=new Uint8Array((i.length+7)/8);for(let u=0;u<o.length;u++)o[u]=ut.readByte(i,8*u);return o}totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}ut.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ut.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ut.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ut.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ut.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ze{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,o,u,h){const d=i-u,p=o-h;return Math.sqrt(d*d+p*p)}static sum(i){let o=0;for(let u=0,h=i.length;u!==h;u++){const d=i[u];o+=d}return o}}class Xn{static floatToIntBits(i){return i}}Xn.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Be{constructor(i,o){this.x=i,this.y=o}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof Be){const o=i;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*Xn.floatToIntBits(this.x)+Xn.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const o=this.distance(i[0],i[1]),u=this.distance(i[1],i[2]),h=this.distance(i[0],i[2]);let d,p,x;if(u>=o&&u>=h?(p=i[0],d=i[1],x=i[2]):h>=u&&h>=o?(p=i[1],d=i[0],x=i[2]):(p=i[2],d=i[0],x=i[1]),this.crossProductZ(d,p,x)<0){const _=d;d=x,x=_}i[0]=d,i[1]=p,i[2]=x}static distance(i,o){return Ze.distance(i.x,i.y,o.x,o.y)}static crossProductZ(i,o,u){const h=o.x,d=o.y;return(u.x-h)*(i.y-d)-(u.y-d)*(i.x-h)}}class jn{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class tn extends jn{constructor(i,o,u,h,d){super(i,o),this.compact=u,this.nbDatablocks=h,this.nbLayers=d}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class _n{constructor(i,o,u,h){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),o==null&&(o=_n.INIT_SIZE),u==null&&(u=i.getWidth()/2|0),h==null&&(h=i.getHeight()/2|0);const d=o/2|0;if(this.leftInit=u-d,this.rightInit=u+d,this.upInit=h-d,this.downInit=h+d,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ne}detect(){let i=this.leftInit,o=this.rightInit,u=this.upInit,h=this.downInit,d=!1,p=!0,x=!1,_=!1,C=!1,O=!1,k=!1;const L=this.width,H=this.height;for(;p;){p=!1;let Z=!0;for(;(Z||!_)&&o<L;)Z=this.containsBlackPoint(u,h,o,!1),Z?(o++,p=!0,_=!0):_||o++;if(o>=L){d=!0;break}let J=!0;for(;(J||!C)&&h<H;)J=this.containsBlackPoint(i,o,h,!0),J?(h++,p=!0,C=!0):C||h++;if(h>=H){d=!0;break}let ae=!0;for(;(ae||!O)&&i>=0;)ae=this.containsBlackPoint(u,h,i,!1),ae?(i--,p=!0,O=!0):O||i--;if(i<0){d=!0;break}let de=!0;for(;(de||!k)&&u>=0;)de=this.containsBlackPoint(i,o,u,!0),de?(u--,p=!0,k=!0):k||u--;if(u<0){d=!0;break}p&&(x=!0)}if(!d&&x){const Z=o-i;let J=null;for(let Re=1;J===null&&Re<Z;Re++)J=this.getBlackPointOnSegment(i,h-Re,i+Re,h);if(J==null)throw new ne;let ae=null;for(let Re=1;ae===null&&Re<Z;Re++)ae=this.getBlackPointOnSegment(i,u+Re,i+Re,u);if(ae==null)throw new ne;let de=null;for(let Re=1;de===null&&Re<Z;Re++)de=this.getBlackPointOnSegment(o,u+Re,o-Re,u);if(de==null)throw new ne;let Te=null;for(let Re=1;Te===null&&Re<Z;Re++)Te=this.getBlackPointOnSegment(o,h-Re,o-Re,h);if(Te==null)throw new ne;return this.centerEdges(Te,J,de,ae)}else throw new ne}getBlackPointOnSegment(i,o,u,h){const d=Ze.round(Ze.distance(i,o,u,h)),p=(u-i)/d,x=(h-o)/d,_=this.image;for(let C=0;C<d;C++){const O=Ze.round(i+C*p),k=Ze.round(o+C*x);if(_.get(O,k))return new Be(O,k)}return null}centerEdges(i,o,u,h){const d=i.getX(),p=i.getY(),x=o.getX(),_=o.getY(),C=u.getX(),O=u.getY(),k=h.getX(),L=h.getY(),H=_n.CORR;return d<this.width/2?[new Be(k-H,L+H),new Be(x+H,_+H),new Be(C-H,O-H),new Be(d+H,p-H)]:[new Be(k+H,L+H),new Be(x+H,_-H),new Be(C-H,O+H),new Be(d-H,p-H)]}containsBlackPoint(i,o,u,h){const d=this.image;if(h){for(let p=i;p<=o;p++)if(d.get(p,u))return!0}else for(let p=i;p<=o;p++)if(d.get(u,p))return!0;return!1}}_n.INIT_SIZE=10,_n.CORR=1;class Nr{static checkAndNudgePoints(i,o){const u=i.getWidth(),h=i.getHeight();let d=!0;for(let p=0;p<o.length&&d;p+=2){const x=Math.floor(o[p]),_=Math.floor(o[p+1]);if(x<-1||x>u||_<-1||_>h)throw new ne;d=!1,x===-1?(o[p]=0,d=!0):x===u&&(o[p]=u-1,d=!0),_===-1?(o[p+1]=0,d=!0):_===h&&(o[p+1]=h-1,d=!0)}d=!0;for(let p=o.length-2;p>=0&&d;p-=2){const x=Math.floor(o[p]),_=Math.floor(o[p+1]);if(x<-1||x>u||_<-1||_>h)throw new ne;d=!1,x===-1?(o[p]=0,d=!0):x===u&&(o[p]=u-1,d=!0),_===-1?(o[p+1]=0,d=!0):_===h&&(o[p+1]=h-1,d=!0)}}}class an{constructor(i,o,u,h,d,p,x,_,C){this.a11=i,this.a21=o,this.a31=u,this.a12=h,this.a22=d,this.a32=p,this.a13=x,this.a23=_,this.a33=C}static quadrilateralToQuadrilateral(i,o,u,h,d,p,x,_,C,O,k,L,H,Z,J,ae){const de=an.quadrilateralToSquare(i,o,u,h,d,p,x,_);return an.squareToQuadrilateral(C,O,k,L,H,Z,J,ae).times(de)}transformPoints(i){const o=i.length,u=this.a11,h=this.a12,d=this.a13,p=this.a21,x=this.a22,_=this.a23,C=this.a31,O=this.a32,k=this.a33;for(let L=0;L<o;L+=2){const H=i[L],Z=i[L+1],J=d*H+_*Z+k;i[L]=(u*H+p*Z+C)/J,i[L+1]=(h*H+x*Z+O)/J}}transformPointsWithValues(i,o){const u=this.a11,h=this.a12,d=this.a13,p=this.a21,x=this.a22,_=this.a23,C=this.a31,O=this.a32,k=this.a33,L=i.length;for(let H=0;H<L;H++){const Z=i[H],J=o[H],ae=d*Z+_*J+k;i[H]=(u*Z+p*J+C)/ae,o[H]=(h*Z+x*J+O)/ae}}static squareToQuadrilateral(i,o,u,h,d,p,x,_){const C=i-u+d-x,O=o-h+p-_;if(C===0&&O===0)return new an(u-i,d-u,i,h-o,p-h,o,0,0,1);{const k=u-d,L=x-d,H=h-p,Z=_-p,J=k*Z-L*H,ae=(C*Z-L*O)/J,de=(k*O-C*H)/J;return new an(u-i+ae*u,x-i+de*x,i,h-o+ae*h,_-o+de*_,o,ae,de,1)}}static quadrilateralToSquare(i,o,u,h,d,p,x,_){return an.squareToQuadrilateral(i,o,u,h,d,p,x,_).buildAdjoint()}buildAdjoint(){return new an(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new an(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class sn extends Nr{sampleGrid(i,o,u,h,d,p,x,_,C,O,k,L,H,Z,J,ae,de,Te,Re){const Ce=an.quadrilateralToQuadrilateral(h,d,p,x,_,C,O,k,L,H,Z,J,ae,de,Te,Re);return this.sampleGridWithTransform(i,o,u,Ce)}sampleGridWithTransform(i,o,u,h){if(o<=0||u<=0)throw new ne;const d=new Ne(o,u),p=new Float32Array(2*o);for(let x=0;x<u;x++){const _=p.length,C=x+.5;for(let O=0;O<_;O+=2)p[O]=O/2+.5,p[O+1]=C;h.transformPoints(p),Nr.checkAndNudgePoints(i,p);try{for(let O=0;O<_;O+=2)i.get(Math.floor(p[O]),Math.floor(p[O+1]))&&d.set(O/2,x)}catch{throw new ne}}return d}}class Pt{static setGridSampler(i){Pt.gridSampler=i}static getInstance(){return Pt.gridSampler}}Pt.gridSampler=new sn;class xt{constructor(i,o){this.x=i,this.y=o}toResultPoint(){return new Be(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ps{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let o=this.getMatrixCenter(),u=this.getBullsEyeCorners(o);if(i){let p=u[0];u[0]=u[2],u[2]=p}this.extractParameters(u);let h=this.sampleGrid(this.image,u[this.shift%4],u[(this.shift+1)%4],u[(this.shift+2)%4],u[(this.shift+3)%4]),d=this.getMatrixCornerPoints(u);return new tn(h,d,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new ne;let o=2*this.nbCenterLayers,u=new Int32Array([this.sampleLine(i[0],i[1],o),this.sampleLine(i[1],i[2],o),this.sampleLine(i[2],i[3],o),this.sampleLine(i[3],i[0],o)]);this.shift=this.getRotation(u,o);let h=0;for(let p=0;p<4;p++){let x=u[(this.shift+p)%4];this.compact?(h<<=7,h+=x>>1&127):(h<<=10,h+=(x>>2&992)+(x>>1&31))}let d=this.getCorrectedParameterData(h,this.compact);this.compact?(this.nbLayers=(d>>6)+1,this.nbDataBlocks=(d&63)+1):(this.nbLayers=(d>>11)+1,this.nbDataBlocks=(d&2047)+1)}getRotation(i,o){let u=0;i.forEach((h,d,p)=>{let x=(h>>o-2<<1)+(h&1);u=(u<<3)+x}),u=((u&1)<<11)+(u>>1);for(let h=0;h<4;h++)if(P.bitCount(u^this.EXPECTED_CORNER_BITS[h])<=2)return h;throw new ne}getCorrectedParameterData(i,o){let u,h;o?(u=7,h=2):(u=10,h=4);let d=u-h,p=new Int32Array(u);for(let _=u-1;_>=0;--_)p[_]=i&15,i>>=4;try{new dr(at.AZTEC_PARAM).decode(p,d)}catch{throw new ne}let x=0;for(let _=0;_<h;_++)x=(x<<4)+p[_];return x}getBullsEyeCorners(i){let o=i,u=i,h=i,d=i,p=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let k=this.getFirstDifferent(o,p,1,-1),L=this.getFirstDifferent(u,p,1,1),H=this.getFirstDifferent(h,p,-1,1),Z=this.getFirstDifferent(d,p,-1,-1);if(this.nbCenterLayers>2){let J=this.distancePoint(Z,k)*this.nbCenterLayers/(this.distancePoint(d,o)*(this.nbCenterLayers+2));if(J<.75||J>1.25||!this.isWhiteOrBlackRectangle(k,L,H,Z))break}o=k,u=L,h=H,d=Z,p=!p}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ne;this.compact=this.nbCenterLayers===5;let x=new Be(o.getX()+.5,o.getY()-.5),_=new Be(u.getX()+.5,u.getY()+.5),C=new Be(h.getX()-.5,h.getY()+.5),O=new Be(d.getX()-.5,d.getY()-.5);return this.expandSquare([x,_,C,O],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,o,u,h;try{let x=new _n(this.image).detect();i=x[0],o=x[1],u=x[2],h=x[3]}catch{let _=this.image.getWidth()/2,C=this.image.getHeight()/2;i=this.getFirstDifferent(new xt(_+7,C-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new xt(_+7,C+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new xt(_-7,C+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new xt(_-7,C-7),!1,-1,-1).toResultPoint()}let d=Ze.round((i.getX()+h.getX()+o.getX()+u.getX())/4),p=Ze.round((i.getY()+h.getY()+o.getY()+u.getY())/4);try{let x=new _n(this.image,15,d,p).detect();i=x[0],o=x[1],u=x[2],h=x[3]}catch{i=this.getFirstDifferent(new xt(d+7,p-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new xt(d+7,p+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new xt(d-7,p+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new xt(d-7,p-7),!1,-1,-1).toResultPoint()}return d=Ze.round((i.getX()+h.getX()+o.getX()+u.getX())/4),p=Ze.round((i.getY()+h.getY()+o.getY()+u.getY())/4),new xt(d,p)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,o,u,h,d){let p=Pt.getInstance(),x=this.getDimension(),_=x/2-this.nbCenterLayers,C=x/2+this.nbCenterLayers;return p.sampleGrid(i,x,x,_,_,C,_,C,C,_,C,o.getX(),o.getY(),u.getX(),u.getY(),h.getX(),h.getY(),d.getX(),d.getY())}sampleLine(i,o,u){let h=0,d=this.distanceResultPoint(i,o),p=d/u,x=i.getX(),_=i.getY(),C=p*(o.getX()-i.getX())/d,O=p*(o.getY()-i.getY())/d;for(let k=0;k<u;k++)this.image.get(Ze.round(x+k*C),Ze.round(_+k*O))&&(h|=1<<u-k-1);return h}isWhiteOrBlackRectangle(i,o,u,h){let d=3;i=new xt(i.getX()-d,i.getY()+d),o=new xt(o.getX()-d,o.getY()-d),u=new xt(u.getX()+d,u.getY()-d),h=new xt(h.getX()+d,h.getY()+d);let p=this.getColor(h,i);if(p===0)return!1;let x=this.getColor(i,o);return x!==p||(x=this.getColor(o,u),x!==p)?!1:(x=this.getColor(u,h),x===p)}getColor(i,o){let u=this.distancePoint(i,o),h=(o.getX()-i.getX())/u,d=(o.getY()-i.getY())/u,p=0,x=i.getX(),_=i.getY(),C=this.image.get(i.getX(),i.getY()),O=Math.ceil(u);for(let L=0;L<O;L++)x+=h,_+=d,this.image.get(Ze.round(x),Ze.round(_))!==C&&p++;let k=p/u;return k>.1&&k<.9?0:k<=.1===C?1:-1}getFirstDifferent(i,o,u,h){let d=i.getX()+u,p=i.getY()+h;for(;this.isValid(d,p)&&this.image.get(d,p)===o;)d+=u,p+=h;for(d-=u,p-=h;this.isValid(d,p)&&this.image.get(d,p)===o;)d+=u;for(d-=u;this.isValid(d,p)&&this.image.get(d,p)===o;)p+=h;return p-=h,new xt(d,p)}expandSquare(i,o,u){let h=u/(2*o),d=i[0].getX()-i[2].getX(),p=i[0].getY()-i[2].getY(),x=(i[0].getX()+i[2].getX())/2,_=(i[0].getY()+i[2].getY())/2,C=new Be(x+h*d,_+h*p),O=new Be(x-h*d,_-h*p);d=i[1].getX()-i[3].getX(),p=i[1].getY()-i[3].getY(),x=(i[1].getX()+i[3].getX())/2,_=(i[1].getY()+i[3].getY())/2;let k=new Be(x+h*d,_+h*p),L=new Be(x-h*d,_-h*p);return[C,k,O,L]}isValid(i,o){return i>=0&&i<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(i){let o=Ze.round(i.getX()),u=Ze.round(i.getY());return this.isValid(o,u)}distancePoint(i,o){return Ze.distance(i.getX(),i.getY(),o.getX(),o.getY())}distanceResultPoint(i,o){return Ze.distance(i.getX(),i.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(P.truncDivision(this.nbLayers-4,8)+1)+15}}class _a{decode(i,o=null){let u=null,h=new ps(i.getBlackMatrix()),d=null,p=null;try{let O=h.detectMirror(!1);d=O.getPoints(),this.reportFoundResultPoints(o,d),p=new ut().decode(O)}catch(O){u=O}if(p==null)try{let O=h.detectMirror(!0);d=O.getPoints(),this.reportFoundResultPoints(o,d),p=new ut().decode(O)}catch(O){throw u??O}let x=new ke(p.getText(),p.getRawBytes(),p.getNumBits(),d,Ae.AZTEC,D.currentTimeMillis()),_=p.getByteSegments();_!=null&&x.putMetadata(Ve.BYTE_SEGMENTS,_);let C=p.getECLevel();return C!=null&&x.putMetadata(Ve.ERROR_CORRECTION_LEVEL,C),x}reportFoundResultPoints(i,o){if(i!=null){let u=i.get($.NEED_RESULT_POINT_CALLBACK);u!=null&&o.forEach((h,d,p)=>{u.foundPossibleResultPoint(h)})}}reset(){}}class oo extends Oe{constructor(i=500){super(new _a,i)}}class yt{decode(i,o){try{return this.doDecode(i,o)}catch{if(o&&o.get($.TRY_HARDER)===!0&&i.isRotateSupported()){const d=i.rotateCounterClockwise(),p=this.doDecode(d,o),x=p.getResultMetadata();let _=270;x!==null&&x.get(Ve.ORIENTATION)===!0&&(_=_+x.get(Ve.ORIENTATION)%360),p.putMetadata(Ve.ORIENTATION,_);const C=p.getResultPoints();if(C!==null){const O=d.getHeight();for(let k=0;k<C.length;k++)C[k]=new Be(O-C[k].getY()-1,C[k].getX())}return p}else throw new ne}}reset(){}doDecode(i,o){const u=i.getWidth(),h=i.getHeight();let d=new F(u);const p=o&&o.get($.TRY_HARDER)===!0,x=Math.max(1,h>>(p?8:5));let _;p?_=h:_=15;const C=Math.trunc(h/2);for(let O=0;O<_;O++){const k=Math.trunc((O+1)/2),L=(O&1)===0,H=C+x*(L?k:-k);if(H<0||H>=h)break;try{d=i.getBlackRow(H,d)}catch{continue}for(let Z=0;Z<2;Z++){if(Z===1&&(d.reverse(),o&&o.get($.NEED_RESULT_POINT_CALLBACK)===!0)){const J=new Map;o.forEach((ae,de)=>J.set(de,ae)),J.delete($.NEED_RESULT_POINT_CALLBACK),o=J}try{const J=this.decodeRow(H,d,o);if(Z===1){J.putMetadata(Ve.ORIENTATION,180);const ae=J.getResultPoints();ae!==null&&(ae[0]=new Be(u-ae[0].getX()-1,ae[0].getY()),ae[1]=new Be(u-ae[1].getX()-1,ae[1].getY()))}return J}catch{}}}throw new ne}static recordPattern(i,o,u){const h=u.length;for(let C=0;C<h;C++)u[C]=0;const d=i.getSize();if(o>=d)throw new ne;let p=!i.get(o),x=0,_=o;for(;_<d;){if(i.get(_)!==p)u[x]++;else{if(++x===h)break;u[x]=1,p=!p}_++}if(!(x===h||x===h-1&&_===d))throw new ne}static recordPatternInReverse(i,o,u){let h=u.length,d=i.get(o);for(;o>0&&h>=0;)i.get(--o)!==d&&(h--,d=!d);if(h>=0)throw new ne;yt.recordPattern(i,o+1,u)}static patternMatchVariance(i,o,u){const h=i.length;let d=0,p=0;for(let C=0;C<h;C++)d+=i[C],p+=o[C];if(d<p)return Number.POSITIVE_INFINITY;const x=d/p;u*=x;let _=0;for(let C=0;C<h;C++){const O=i[C],k=o[C]*x,L=O>k?O-k:k-O;if(L>u)return Number.POSITIVE_INFINITY;_+=L}return _/d}}class De extends yt{static findStartPattern(i){const o=i.getSize(),u=i.getNextSet(0);let h=0,d=Int32Array.from([0,0,0,0,0,0]),p=u,x=!1;const _=6;for(let C=u;C<o;C++)if(i.get(C)!==x)d[h]++;else{if(h===_-1){let O=De.MAX_AVG_VARIANCE,k=-1;for(let L=De.CODE_START_A;L<=De.CODE_START_C;L++){const H=yt.patternMatchVariance(d,De.CODE_PATTERNS[L],De.MAX_INDIVIDUAL_VARIANCE);H<O&&(O=H,k=L)}if(k>=0&&i.isRange(Math.max(0,p-(C-p)/2),p,!1))return Int32Array.from([p,C,k]);p+=d[0]+d[1],d=d.slice(2,d.length-1),d[h-1]=0,d[h]=0,h--}else h++;d[h]=1,x=!x}throw new ne}static decodeCode(i,o,u){yt.recordPattern(i,u,o);let h=De.MAX_AVG_VARIANCE,d=-1;for(let p=0;p<De.CODE_PATTERNS.length;p++){const x=De.CODE_PATTERNS[p],_=this.patternMatchVariance(o,x,De.MAX_INDIVIDUAL_VARIANCE);_<h&&(h=_,d=p)}if(d>=0)return d;throw new ne}decodeRow(i,o,u){const h=u&&u.get($.ASSUME_GS1)===!0,d=De.findStartPattern(o),p=d[2];let x=0;const _=new Uint8Array(20);_[x++]=p;let C;switch(p){case De.CODE_START_A:C=De.CODE_CODE_A;break;case De.CODE_START_B:C=De.CODE_CODE_B;break;case De.CODE_START_C:C=De.CODE_CODE_C;break;default:throw new G}let O=!1,k=!1,L="",H=d[0],Z=d[1];const J=Int32Array.from([0,0,0,0,0,0]);let ae=0,de=0,Te=p,Re=0,Ce=!0,et=!1,Qe=!1;for(;!O;){const Mi=k;switch(k=!1,ae=de,de=De.decodeCode(o,J,Z),_[x++]=de,de!==De.CODE_STOP&&(Ce=!0),de!==De.CODE_STOP&&(Re++,Te+=Re*de),H=Z,Z+=J.reduce((Br,Mc)=>Br+Mc,0),de){case De.CODE_START_A:case De.CODE_START_B:case De.CODE_START_C:throw new G}switch(C){case De.CODE_CODE_A:if(de<64)Qe===et?L+=String.fromCharCode(32+de):L+=String.fromCharCode(32+de+128),Qe=!1;else if(de<96)Qe===et?L+=String.fromCharCode(de-64):L+=String.fromCharCode(de+64),Qe=!1;else switch(de!==De.CODE_STOP&&(Ce=!1),de){case De.CODE_FNC_1:h&&(L.length===0?L+="]C1":L+="");break;case De.CODE_FNC_2:case De.CODE_FNC_3:break;case De.CODE_FNC_4_A:!et&&Qe?(et=!0,Qe=!1):et&&Qe?(et=!1,Qe=!1):Qe=!0;break;case De.CODE_SHIFT:k=!0,C=De.CODE_CODE_B;break;case De.CODE_CODE_B:C=De.CODE_CODE_B;break;case De.CODE_CODE_C:C=De.CODE_CODE_C;break;case De.CODE_STOP:O=!0;break}break;case De.CODE_CODE_B:if(de<96)Qe===et?L+=String.fromCharCode(32+de):L+=String.fromCharCode(32+de+128),Qe=!1;else switch(de!==De.CODE_STOP&&(Ce=!1),de){case De.CODE_FNC_1:h&&(L.length===0?L+="]C1":L+="");break;case De.CODE_FNC_2:case De.CODE_FNC_3:break;case De.CODE_FNC_4_B:!et&&Qe?(et=!0,Qe=!1):et&&Qe?(et=!1,Qe=!1):Qe=!0;break;case De.CODE_SHIFT:k=!0,C=De.CODE_CODE_A;break;case De.CODE_CODE_A:C=De.CODE_CODE_A;break;case De.CODE_CODE_C:C=De.CODE_CODE_C;break;case De.CODE_STOP:O=!0;break}break;case De.CODE_CODE_C:if(de<100)de<10&&(L+="0"),L+=de;else switch(de!==De.CODE_STOP&&(Ce=!1),de){case De.CODE_FNC_1:h&&(L.length===0?L+="]C1":L+="");break;case De.CODE_CODE_A:C=De.CODE_CODE_A;break;case De.CODE_CODE_B:C=De.CODE_CODE_B;break;case De.CODE_STOP:O=!0;break}break}Mi&&(C=C===De.CODE_CODE_A?De.CODE_CODE_B:De.CODE_CODE_A)}const Kn=Z-H;if(Z=o.getNextUnset(Z),!o.isRange(Z,Math.min(o.getSize(),Z+(Z-H)/2),!1))throw new ne;if(Te-=Re*ae,Te%103!==ae)throw new R;const br=L.length;if(br===0)throw new ne;br>0&&Ce&&(C===De.CODE_CODE_C?L=L.substring(0,br-2):L=L.substring(0,br-1));const rr=(d[1]+d[0])/2,Rt=H+Kn/2,In=_.length,ir=new Uint8Array(In);for(let Mi=0;Mi<In;Mi++)ir[Mi]=_[Mi];const Ji=[new Be(rr,i),new Be(Rt,i)];return new ke(L,ir,0,Ji,Ae.CODE_128,new Date().getTime())}}De.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],De.MAX_AVG_VARIANCE=.25,De.MAX_INDIVIDUAL_VARIANCE=.7,De.CODE_SHIFT=98,De.CODE_CODE_C=99,De.CODE_CODE_B=100,De.CODE_CODE_A=101,De.CODE_FNC_1=102,De.CODE_FNC_2=97,De.CODE_FNC_3=96,De.CODE_FNC_4_A=101,De.CODE_FNC_4_B=100,De.CODE_START_A=103,De.CODE_START_B=104,De.CODE_START_C=105,De.CODE_STOP=106;class Ut extends yt{constructor(i=!1,o=!1){super(),this.usingCheckDigit=i,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,o,u){let h=this.counters;h.fill(0),this.decodeRowResult="";let d=Ut.findAsteriskPattern(o,h),p=o.getNextSet(d[1]),x=o.getSize(),_,C;do{Ut.recordPattern(o,p,h);let J=Ut.toNarrowWidePattern(h);if(J<0)throw new ne;_=Ut.patternToChar(J),this.decodeRowResult+=_,C=p;for(let ae of h)p+=ae;p=o.getNextSet(p)}while(_!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let O=0;for(let J of h)O+=J;let k=p-C-O;if(p!==x&&k*2<O)throw new ne;if(this.usingCheckDigit){let J=this.decodeRowResult.length-1,ae=0;for(let de=0;de<J;de++)ae+=Ut.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(de));if(this.decodeRowResult.charAt(J)!==Ut.ALPHABET_STRING.charAt(ae%43))throw new R;this.decodeRowResult=this.decodeRowResult.substring(0,J)}if(this.decodeRowResult.length===0)throw new ne;let L;this.extendedMode?L=Ut.decodeExtended(this.decodeRowResult):L=this.decodeRowResult;let H=(d[1]+d[0])/2,Z=C+O/2;return new ke(L,null,0,[new Be(H,i),new Be(Z,i)],Ae.CODE_39,new Date().getTime())}static findAsteriskPattern(i,o){let u=i.getSize(),h=i.getNextSet(0),d=0,p=h,x=!1,_=o.length;for(let C=h;C<u;C++)if(i.get(C)!==x)o[d]++;else{if(d===_-1){if(this.toNarrowWidePattern(o)===Ut.ASTERISK_ENCODING&&i.isRange(Math.max(0,p-Math.floor((C-p)/2)),p,!1))return[p,C];p+=o[0]+o[1],o.copyWithin(0,2,2+d-1),o[d-1]=0,o[d]=0,d--}else d++;o[d]=1,x=!x}throw new ne}static toNarrowWidePattern(i){let o=i.length,u=0,h;do{let d=2147483647;for(let _ of i)_<d&&_>u&&(d=_);u=d,h=0;let p=0,x=0;for(let _=0;_<o;_++){let C=i[_];C>u&&(x|=1<<o-1-_,h++,p+=C)}if(h===3){for(let _=0;_<o&&h>0;_++){let C=i[_];if(C>u&&(h--,C*2>=p))return-1}return x}}while(h>3);return-1}static patternToChar(i){for(let o=0;o<Ut.CHARACTER_ENCODINGS.length;o++)if(Ut.CHARACTER_ENCODINGS[o]===i)return Ut.ALPHABET_STRING.charAt(o);if(i===Ut.ASTERISK_ENCODING)return"*";throw new ne}static decodeExtended(i){let o=i.length,u="";for(let h=0;h<o;h++){let d=i.charAt(h);if(d==="+"||d==="$"||d==="%"||d==="/"){let p=i.charAt(h+1),x="\0";switch(d){case"+":if(p>="A"&&p<="Z")x=String.fromCharCode(p.charCodeAt(0)+32);else throw new G;break;case"$":if(p>="A"&&p<="Z")x=String.fromCharCode(p.charCodeAt(0)-64);else throw new G;break;case"%":if(p>="A"&&p<="E")x=String.fromCharCode(p.charCodeAt(0)-38);else if(p>="F"&&p<="J")x=String.fromCharCode(p.charCodeAt(0)-11);else if(p>="K"&&p<="O")x=String.fromCharCode(p.charCodeAt(0)+16);else if(p>="P"&&p<="T")x=String.fromCharCode(p.charCodeAt(0)+43);else if(p==="U")x="\0";else if(p==="V")x="@";else if(p==="W")x="`";else if(p==="X"||p==="Y"||p==="Z")x="";else throw new G;break;case"/":if(p>="A"&&p<="O")x=String.fromCharCode(p.charCodeAt(0)-32);else if(p==="Z")x=":";else throw new G;break}u+=x,h++}else u+=d}return u}}Ut.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ut.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ut.ASTERISK_ENCODING=148;class bt extends yt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,o,u){let h=this.decodeStart(o),d=this.decodeEnd(o),p=new ve;bt.decodeMiddle(o,h[1],d[0],p);let x=p.toString(),_=null;u!=null&&(_=u.get($.ALLOWED_LENGTHS)),_==null&&(_=bt.DEFAULT_ALLOWED_LENGTHS);let C=x.length,O=!1,k=0;for(let Z of _){if(C===Z){O=!0;break}Z>k&&(k=Z)}if(!O&&C>k&&(O=!0),!O)throw new G;const L=[new Be(h[1],i),new Be(d[0],i)];return new ke(x,null,0,L,Ae.ITF,new Date().getTime())}static decodeMiddle(i,o,u,h){let d=new Int32Array(10),p=new Int32Array(5),x=new Int32Array(5);for(d.fill(0),p.fill(0),x.fill(0);o<u;){yt.recordPattern(i,o,d);for(let C=0;C<5;C++){let O=2*C;p[C]=d[O],x[C]=d[O+1]}let _=bt.decodeDigit(p);h.append(_.toString()),_=this.decodeDigit(x),h.append(_.toString()),d.forEach(function(C){o+=C})}}decodeStart(i){let o=bt.skipWhiteSpace(i),u=bt.findGuardPattern(i,o,bt.START_PATTERN);return this.narrowLineWidth=(u[1]-u[0])/4,this.validateQuietZone(i,u[0]),u}validateQuietZone(i,o){let u=this.narrowLineWidth*10;u=u<o?u:o;for(let h=o-1;u>0&&h>=0&&!i.get(h);h--)u--;if(u!==0)throw new ne}static skipWhiteSpace(i){const o=i.getSize(),u=i.getNextSet(0);if(u===o)throw new ne;return u}decodeEnd(i){i.reverse();try{let o=bt.skipWhiteSpace(i),u;try{u=bt.findGuardPattern(i,o,bt.END_PATTERN_REVERSED[0])}catch(d){d instanceof ne&&(u=bt.findGuardPattern(i,o,bt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,u[0]);let h=u[0];return u[0]=i.getSize()-u[1],u[1]=i.getSize()-h,u}finally{i.reverse()}}static findGuardPattern(i,o,u){let h=u.length,d=new Int32Array(h),p=i.getSize(),x=!1,_=0,C=o;d.fill(0);for(let O=o;O<p;O++)if(i.get(O)!==x)d[_]++;else{if(_===h-1){if(yt.patternMatchVariance(d,u,bt.MAX_INDIVIDUAL_VARIANCE)<bt.MAX_AVG_VARIANCE)return[C,O];C+=d[0]+d[1],D.arraycopy(d,2,d,0,_-1),d[_-1]=0,d[_]=0,_--}else _++;d[_]=1,x=!x}throw new ne}static decodeDigit(i){let o=bt.MAX_AVG_VARIANCE,u=-1,h=bt.PATTERNS.length;for(let d=0;d<h;d++){let p=bt.PATTERNS[d],x=yt.patternMatchVariance(i,p,bt.MAX_INDIVIDUAL_VARIANCE);x<o?(o=x,u=d):x===o&&(u=-1)}if(u>=0)return u%10;throw new ne}}bt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],bt.MAX_AVG_VARIANCE=.38,bt.MAX_INDIVIDUAL_VARIANCE=.5,bt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],bt.START_PATTERN=Int32Array.from([1,1,1,1]),bt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class It extends yt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let o=!1,u,h=0,d=Int32Array.from([0,0,0]);for(;!o;){d=Int32Array.from([0,0,0]),u=It.findGuardPattern(i,h,!1,this.START_END_PATTERN,d);let p=u[0];h=u[1];let x=p-(h-p);x>=0&&(o=i.isRange(x,p,!1))}return u}static checkChecksum(i){return It.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let u=parseInt(i.charAt(o-1),10);return It.getStandardUPCEANChecksum(i.substring(0,o-1))===u}static getStandardUPCEANChecksum(i){let o=i.length,u=0;for(let h=o-1;h>=0;h-=2){let d=i.charAt(h).charCodeAt(0)-48;if(d<0||d>9)throw new G;u+=d}u*=3;for(let h=o-2;h>=0;h-=2){let d=i.charAt(h).charCodeAt(0)-48;if(d<0||d>9)throw new G;u+=d}return(1e3-u)%10}static decodeEnd(i,o){return It.findGuardPattern(i,o,!1,It.START_END_PATTERN,new Int32Array(It.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,o,u,h){return this.findGuardPattern(i,o,u,h,new Int32Array(h.length))}static findGuardPattern(i,o,u,h,d){let p=i.getSize();o=u?i.getNextUnset(o):i.getNextSet(o);let x=0,_=o,C=h.length,O=u;for(let k=o;k<p;k++)if(i.get(k)!==O)d[x]++;else{if(x===C-1){if(yt.patternMatchVariance(d,h,It.MAX_INDIVIDUAL_VARIANCE)<It.MAX_AVG_VARIANCE)return Int32Array.from([_,k]);_+=d[0]+d[1];let L=d.slice(2,d.length-1);for(let H=0;H<x-1;H++)d[H]=L[H];d[x-1]=0,d[x]=0,x--}else x++;d[x]=1,O=!O}throw new ne}static decodeDigit(i,o,u,h){this.recordPattern(i,u,o);let d=this.MAX_AVG_VARIANCE,p=-1,x=h.length;for(let _=0;_<x;_++){let C=h[_],O=yt.patternMatchVariance(o,C,It.MAX_INDIVIDUAL_VARIANCE);O<d&&(d=O,p=_)}if(p>=0)return p;throw new ne}}It.MAX_AVG_VARIANCE=.48,It.MAX_INDIVIDUAL_VARIANCE=.7,It.START_END_PATTERN=Int32Array.from([1,1,1]),It.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),It.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),It.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class vs{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,u){let h=this.decodeRowStringBuffer,d=this.decodeMiddle(o,u,h),p=h.toString(),x=vs.parseExtensionString(p),_=[new Be((u[0]+u[1])/2,i),new Be(d,i)],C=new ke(p,null,0,_,Ae.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&C.putAllMetadata(x),C}decodeMiddle(i,o,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let d=i.getSize(),p=o[1],x=0;for(let C=0;C<5&&p<d;C++){let O=It.decodeDigit(i,h,p,It.L_AND_G_PATTERNS);u+=String.fromCharCode(48+O%10);for(let k of h)p+=k;O>=10&&(x|=1<<4-C),C!==4&&(p=i.getNextSet(p),p=i.getNextUnset(p))}if(u.length!==5)throw new ne;let _=this.determineCheckDigit(x);if(vs.extensionChecksum(u.toString())!==_)throw new ne;return p}static extensionChecksum(i){let o=i.length,u=0;for(let h=o-2;h>=0;h-=2)u+=i.charAt(h).charCodeAt(0)-48;u*=3;for(let h=o-1;h>=0;h-=2)u+=i.charAt(h).charCodeAt(0)-48;return u*=3,u%10}determineCheckDigit(i){for(let o=0;o<10;o++)if(i===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new ne}static parseExtensionString(i){if(i.length!==5)return null;let o=vs.parseExtension5String(i);return o==null?null:new Map([[Ve.SUGGESTED_PRICE,o]])}static parseExtension5String(i){let o;switch(i.charAt(0)){case"0":o="";break;case"5":o="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let u=parseInt(i.substring(1)),h=(u/100).toString(),d=u%100,p=d<10?"0"+d:d.toString();return o+h+"."+p}}class lo{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,u){let h=this.decodeRowStringBuffer,d=this.decodeMiddle(o,u,h),p=h.toString(),x=lo.parseExtensionString(p),_=[new Be((u[0]+u[1])/2,i),new Be(d,i)],C=new ke(p,null,0,_,Ae.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&C.putAllMetadata(x),C}decodeMiddle(i,o,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let d=i.getSize(),p=o[1],x=0;for(let _=0;_<2&&p<d;_++){let C=It.decodeDigit(i,h,p,It.L_AND_G_PATTERNS);u+=String.fromCharCode(48+C%10);for(let O of h)p+=O;C>=10&&(x|=1<<1-_),_!==1&&(p=i.getNextSet(p),p=i.getNextUnset(p))}if(u.length!==2)throw new ne;if(parseInt(u.toString())%4!==x)throw new ne;return p}static parseExtensionString(i){return i.length!==2?null:new Map([[Ve.ISSUE_NUMBER,parseInt(i)]])}}class Nl{static decodeRow(i,o,u){let h=It.findGuardPattern(o,u,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new vs().decodeRow(i,o,h)}catch{return new lo().decodeRow(i,o,h)}}}Nl.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class pt extends It{constructor(){super(),this.decodeRowStringBuffer="",pt.L_AND_G_PATTERNS=pt.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let o=pt.L_PATTERNS[i-10],u=new Int32Array(o.length);for(let h=0;h<o.length;h++)u[h]=o[o.length-h-1];pt.L_AND_G_PATTERNS[i]=u}}decodeRow(i,o,u){let h=pt.findStartGuardPattern(o),d=u==null?null:u.get($.NEED_RESULT_POINT_CALLBACK);if(d!=null){const Ce=new Be((h[0]+h[1])/2,i);d.foundPossibleResultPoint(Ce)}let p=this.decodeMiddle(o,h,this.decodeRowStringBuffer),x=p.rowOffset,_=p.resultString;if(d!=null){const Ce=new Be(x,i);d.foundPossibleResultPoint(Ce)}let C=this.decodeEnd(o,x);if(d!=null){const Ce=new Be((C[0]+C[1])/2,i);d.foundPossibleResultPoint(Ce)}let O=C[1],k=O+(O-C[0]);if(k>=o.getSize()||!o.isRange(O,k,!1))throw new ne;let L=_.toString();if(L.length<8)throw new G;if(!pt.checkChecksum(L))throw new R;let H=(h[1]+h[0])/2,Z=(C[1]+C[0])/2,J=this.getBarcodeFormat(),ae=[new Be(H,i),new Be(Z,i)],de=new ke(L,null,0,ae,J,new Date().getTime()),Te=0;try{let Ce=Nl.decodeRow(i,o,C[1]);de.putMetadata(Ve.UPC_EAN_EXTENSION,Ce.getText()),de.putAllMetadata(Ce.getResultMetadata()),de.addResultPoints(Ce.getResultPoints()),Te=Ce.getText().length}catch{}let Re=u==null?null:u.get($.ALLOWED_EAN_EXTENSIONS);if(Re!=null){let Ce=!1;for(let et in Re)if(Te.toString()===et){Ce=!0;break}if(!Ce)throw new ne}return de}decodeEnd(i,o){return pt.findGuardPattern(i,o,!1,pt.START_END_PATTERN,new Int32Array(pt.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return pt.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let u=parseInt(i.charAt(o-1),10);return pt.getStandardUPCEANChecksum(i.substring(0,o-1))===u}static getStandardUPCEANChecksum(i){let o=i.length,u=0;for(let h=o-1;h>=0;h-=2){let d=i.charAt(h).charCodeAt(0)-48;if(d<0||d>9)throw new G;u+=d}u*=3;for(let h=o-2;h>=0;h-=2){let d=i.charAt(h).charCodeAt(0)-48;if(d<0||d>9)throw new G;u+=d}return(1e3-u)%10}}class Mr extends pt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let d=i.getSize(),p=o[1],x=0;for(let C=0;C<6&&p<d;C++){let O=pt.decodeDigit(i,h,p,pt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+O%10);for(let k of h)p+=k;O>=10&&(x|=1<<5-C)}u=Mr.determineFirstDigit(u,x),p=pt.findGuardPattern(i,p,!0,pt.MIDDLE_PATTERN,new Int32Array(pt.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<6&&p<d;C++){let O=pt.decodeDigit(i,h,p,pt.L_PATTERNS);u+=String.fromCharCode(48+O);for(let k of h)p+=k}return{rowOffset:p,resultString:u}}getBarcodeFormat(){return Ae.EAN_13}static determineFirstDigit(i,o){for(let u=0;u<10;u++)if(o===this.FIRST_DIGIT_ENCODINGS[u])return i=String.fromCharCode(48+u)+i,i;throw new ne}}Mr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ec extends pt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,u){const h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let d=i.getSize(),p=o[1];for(let _=0;_<4&&p<d;_++){let C=pt.decodeDigit(i,h,p,pt.L_PATTERNS);u+=String.fromCharCode(48+C);for(let O of h)p+=O}p=pt.findGuardPattern(i,p,!0,pt.MIDDLE_PATTERN,new Int32Array(pt.MIDDLE_PATTERN.length).fill(0))[1];for(let _=0;_<4&&p<d;_++){let C=pt.decodeDigit(i,h,p,pt.L_PATTERNS);u+=String.fromCharCode(48+C);for(let O of h)p+=O}return{rowOffset:p,resultString:u}}getBarcodeFormat(){return Ae.EAN_8}}class Ml extends pt{constructor(){super(...arguments),this.ean13Reader=new Mr}getBarcodeFormat(){return Ae.UPC_A}decode(i,o){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,o,u){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,o,u))}decodeMiddle(i,o,u){return this.ean13Reader.decodeMiddle(i,o,u)}maybeReturnResult(i){let o=i.getText();if(o.charAt(0)==="0"){let u=new ke(o.substring(1),null,null,i.getResultPoints(),Ae.UPC_A);return i.getResultMetadata()!=null&&u.putAllMetadata(i.getResultMetadata()),u}else throw new ne}reset(){this.ean13Reader.reset()}}class yr extends pt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,o,u){const h=this.decodeMiddleCounters.map(C=>C);h[0]=0,h[1]=0,h[2]=0,h[3]=0;const d=i.getSize();let p=o[1],x=0;for(let C=0;C<6&&p<d;C++){const O=yr.decodeDigit(i,h,p,yr.L_AND_G_PATTERNS);u+=String.fromCharCode(48+O%10);for(let k of h)p+=k;O>=10&&(x|=1<<5-C)}let _=yr.determineNumSysAndCheckDigit(u,x);return{rowOffset:p,resultString:_}}decodeEnd(i,o){return yr.findGuardPatternWithoutCounters(i,o,!0,yr.MIDDLE_END_PATTERN)}checkChecksum(i){return pt.checkChecksum(yr.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,o){for(let u=0;u<=1;u++)for(let h=0;h<10;h++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[u][h]){let d=String.fromCharCode(48+u),p=String.fromCharCode(48+h);return d+i+p}throw ne.getNotFoundInstance()}getBarcodeFormat(){return Ae.UPC_E}static convertUPCEtoUPCA(i){const o=i.slice(1,7).split("").map(d=>d.charCodeAt(0)),u=new ve;u.append(i.charAt(0));let h=o[5];switch(h){case 0:case 1:case 2:u.appendChars(o,0,2),u.append(h),u.append("0000"),u.appendChars(o,2,3);break;case 3:u.appendChars(o,0,3),u.append("00000"),u.appendChars(o,3,2);break;case 4:u.appendChars(o,0,4),u.append("00000"),u.append(o[4]);break;default:u.appendChars(o,0,5),u.append("0000"),u.append(h);break}return i.length>=8&&u.append(i.charAt(7)),u.toString()}}yr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),yr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ys extends yt{constructor(i){super();let o=i==null?null:i.get($.POSSIBLE_FORMATS),u=[];a(o)?(u.push(new Mr),u.push(new Ml),u.push(new Ec),u.push(new yr)):(o.indexOf(Ae.EAN_13)>-1&&u.push(new Mr),o.indexOf(Ae.UPC_A)>-1&&u.push(new Ml),o.indexOf(Ae.EAN_8)>-1&&u.push(new Ec),o.indexOf(Ae.UPC_E)>-1&&u.push(new yr)),this.readers=u}decodeRow(i,o,u){for(let h of this.readers)try{const d=h.decodeRow(i,o,u),p=d.getBarcodeFormat()===Ae.EAN_13&&d.getText().charAt(0)==="0",x=u==null?null:u.get($.POSSIBLE_FORMATS),_=x==null||x.includes(Ae.UPC_A);if(p&&_){const C=d.getRawBytes(),O=new ke(d.getText().substring(1),C,C?C.length:null,d.getResultPoints(),Ae.UPC_A);return O.putAllMetadata(d.getResultMetadata()),O}return d}catch{}throw new ne}reset(){for(let i of this.readers)i.reset()}}class An extends yt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,o){for(let u=0;u<o.length;u++)if(yt.patternMatchVariance(i,o[u],An.MAX_INDIVIDUAL_VARIANCE)<An.MAX_AVG_VARIANCE)return u;throw new ne}static count(i){return Ze.sum(new Int32Array(i))}static increment(i,o){let u=0,h=o[0];for(let d=1;d<i.length;d++)o[d]>h&&(h=o[d],u=d);i[u]++}static decrement(i,o){let u=0,h=o[0];for(let d=1;d<i.length;d++)o[d]<h&&(h=o[d],u=d);i[u]--}static isFinderPattern(i){let o=i[0]+i[1],u=o+i[2]+i[3],h=o/u;if(h>=An.MIN_FINDER_PATTERN_RATIO&&h<=An.MAX_FINDER_PATTERN_RATIO){let d=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;for(let x of i)x>p&&(p=x),x<d&&(d=x);return p<10*d}return!1}}An.MAX_AVG_VARIANCE=.2,An.MAX_INDIVIDUAL_VARIANCE=.45,An.MIN_FINDER_PATTERN_RATIO=9.5/12,An.MAX_FINDER_PATTERN_RATIO=12.5/14;class Yi{constructor(i,o){this.value=i,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof Yi))return!1;const o=i;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class uo{constructor(i,o,u,h,d){this.value=i,this.startEnd=o,this.value=i,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new Be(u,d)),this.resultPoints.push(new Be(h,d))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof uo))return!1;const o=i;return this.value===o.value}hashCode(){return this.value}}class On{constructor(){}static getRSSvalue(i,o,u){let h=0;for(let _ of i)h+=_;let d=0,p=0,x=i.length;for(let _=0;_<x-1;_++){let C;for(C=1,p|=1<<_;C<i[_];C++,p&=~(1<<_)){let O=On.combins(h-C-1,x-_-2);if(u&&p===0&&h-C-(x-_-1)>=x-_-1&&(O-=On.combins(h-C-(x-_),x-_-2)),x-_-1>1){let k=0;for(let L=h-C-(x-_-2);L>o;L--)k+=On.combins(h-C-L-1,x-_-3);O-=k*(x-1-_)}else h-C>o&&O--;d+=O}h-=C}return d}static combins(i,o){let u,h;i-o>o?(h=o,u=i-o):(h=i-o,u=o);let d=1,p=1;for(let x=i;x>u;x--)d*=x,p<=h&&(d/=p,p++);for(;p<=h;)d/=p,p++;return d}}class Fn{static buildBitArray(i){let o=i.length*2-1;i[i.length-1].getRightChar()==null&&(o-=1);let u=12*o,h=new F(u),d=0,x=i[0].getRightChar().getValue();for(let _=11;_>=0;--_)(x&1<<_)!=0&&h.set(d),d++;for(let _=1;_<i.length;++_){let C=i[_],O=C.getLeftChar().getValue();for(let k=11;k>=0;--k)(O&1<<k)!=0&&h.set(d),d++;if(C.getRightChar()!=null){let k=C.getRightChar().getValue();for(let L=11;L>=0;--L)(k&1<<L)!=0&&h.set(d),d++}}return h}}class on{constructor(i,o){o?this.decodedInformation=null:(this.finished=i,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class xi{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class qn extends xi{constructor(i,o){super(i),this.value=o}getValue(){return this.value}isFNC1(){return this.value===qn.FNC1}}qn.FNC1="$";class Xi extends xi{constructor(i,o,u){super(i),u?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class wr extends xi{constructor(i,o,u){if(super(i),o<0||o>10||u<0||u>10)throw new G;this.firstDigit=o,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===wr.FNC1}isSecondDigitFNC1(){return this.secondDigit===wr.FNC1}isAnyFNC1(){return this.firstDigit===wr.FNC1||this.secondDigit===wr.FNC1}}wr.FNC1=10;class Le{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new ne;let o=i.substring(0,2);for(let d of Le.TWO_DIGIT_DATA_LENGTH)if(d[0]===o)return d[1]===Le.VARIABLE_LENGTH?Le.processVariableAI(2,d[2],i):Le.processFixedAI(2,d[1],i);if(i.length<3)throw new ne;let u=i.substring(0,3);for(let d of Le.THREE_DIGIT_DATA_LENGTH)if(d[0]===u)return d[1]===Le.VARIABLE_LENGTH?Le.processVariableAI(3,d[2],i):Le.processFixedAI(3,d[1],i);for(let d of Le.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(d[0]===u)return d[1]===Le.VARIABLE_LENGTH?Le.processVariableAI(4,d[2],i):Le.processFixedAI(4,d[1],i);if(i.length<4)throw new ne;let h=i.substring(0,4);for(let d of Le.FOUR_DIGIT_DATA_LENGTH)if(d[0]===h)return d[1]===Le.VARIABLE_LENGTH?Le.processVariableAI(4,d[2],i):Le.processFixedAI(4,d[1],i);throw new ne}static processFixedAI(i,o,u){if(u.length<i)throw new ne;let h=u.substring(0,i);if(u.length<i+o)throw new ne;let d=u.substring(i,i+o),p=u.substring(i+o),x="("+h+")"+d,_=Le.parseFieldsInGeneralPurpose(p);return _==null?x:x+_}static processVariableAI(i,o,u){let h=u.substring(0,i),d;u.length<i+o?d=u.length:d=i+o;let p=u.substring(i,d),x=u.substring(d),_="("+h+")"+p,C=Le.parseFieldsInGeneralPurpose(x);return C==null?_:_+C}}Le.VARIABLE_LENGTH=[],Le.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Le.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Le.VARIABLE_LENGTH,20],["22",Le.VARIABLE_LENGTH,29],["30",Le.VARIABLE_LENGTH,8],["37",Le.VARIABLE_LENGTH,8],["90",Le.VARIABLE_LENGTH,30],["91",Le.VARIABLE_LENGTH,30],["92",Le.VARIABLE_LENGTH,30],["93",Le.VARIABLE_LENGTH,30],["94",Le.VARIABLE_LENGTH,30],["95",Le.VARIABLE_LENGTH,30],["96",Le.VARIABLE_LENGTH,30],["97",Le.VARIABLE_LENGTH,3],["98",Le.VARIABLE_LENGTH,30],["99",Le.VARIABLE_LENGTH,30]],Le.THREE_DIGIT_DATA_LENGTH=[["240",Le.VARIABLE_LENGTH,30],["241",Le.VARIABLE_LENGTH,30],["242",Le.VARIABLE_LENGTH,6],["250",Le.VARIABLE_LENGTH,30],["251",Le.VARIABLE_LENGTH,30],["253",Le.VARIABLE_LENGTH,17],["254",Le.VARIABLE_LENGTH,20],["400",Le.VARIABLE_LENGTH,30],["401",Le.VARIABLE_LENGTH,30],["402",17],["403",Le.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Le.VARIABLE_LENGTH,20],["421",Le.VARIABLE_LENGTH,15],["422",3],["423",Le.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Le.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Le.VARIABLE_LENGTH,15],["391",Le.VARIABLE_LENGTH,18],["392",Le.VARIABLE_LENGTH,15],["393",Le.VARIABLE_LENGTH,18],["703",Le.VARIABLE_LENGTH,30]],Le.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Le.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Le.VARIABLE_LENGTH,20],["8003",Le.VARIABLE_LENGTH,30],["8004",Le.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Le.VARIABLE_LENGTH,30],["8008",Le.VARIABLE_LENGTH,12],["8018",18],["8020",Le.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Le.VARIABLE_LENGTH,70],["8200",Le.VARIABLE_LENGTH,70]];class Vr{constructor(i){this.buffer=new ve,this.information=i}decodeAllCodes(i,o){let u=o,h=null;do{let d=this.decodeGeneralPurposeField(u,h),p=Le.parseFieldsInGeneralPurpose(d.getNewString());if(p!=null&&i.append(p),d.isRemaining()?h=""+d.getRemainingValue():h=null,u===d.getNewPosition())break;u=d.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let o=i;o<i+3;++o)if(this.information.get(o))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let d=this.extractNumericValueFromBitArray(i,4);return d===0?new wr(this.information.getSize(),wr.FNC1,wr.FNC1):new wr(this.information.getSize(),d-1,wr.FNC1)}let o=this.extractNumericValueFromBitArray(i,7),u=(o-8)/11,h=(o-8)%11;return new wr(i+7,u,h)}extractNumericValueFromBitArray(i,o){return Vr.extractNumericValueFromBitArray(this.information,i,o)}static extractNumericValueFromBitArray(i,o,u){let h=0;for(let d=0;d<u;++d)i.get(o+d)&&(h|=1<<u-d-1);return h}decodeGeneralPurposeField(i,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(i);let u=this.parseBlocks();return u!=null&&u.isRemaining()?new Xi(this.current.getPosition(),this.buffer.toString(),u.getRemainingValue()):new Xi(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,o;do{let u=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),i=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),i=o.isFinished()):(o=this.parseNumericBlock(),i=o.isFinished()),!(u!==this.current.getPosition())&&!i)break}while(!i);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let o;return i.isSecondDigitFNC1()?o=new Xi(this.current.getPosition(),this.buffer.toString()):o=new Xi(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new on(!0,o)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let o=new Xi(this.current.getPosition(),this.buffer.toString());return new on(!0,o)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new on(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new Xi(this.current.getPosition(),this.buffer.toString());return new on(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new on(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new Xi(this.current.getPosition(),this.buffer.toString());return new on(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new on(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+7>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(i,7);if(u>=64&&u<116)return!0;if(i+8>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(i,8);return h>=232&&h<253}decodeIsoIec646(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new qn(i+5,qn.FNC1);if(o>=5&&o<15)return new qn(i+5,"0"+(o-5));let u=this.extractNumericValueFromBitArray(i,7);if(u>=64&&u<90)return new qn(i+7,""+(u+1));if(u>=90&&u<116)return new qn(i+7,""+(u+7));let h=this.extractNumericValueFromBitArray(i,8),d;switch(h){case 232:d="!";break;case 233:d='"';break;case 234:d="%";break;case 235:d="&";break;case 236:d="'";break;case 237:d="(";break;case 238:d=")";break;case 239:d="*";break;case 240:d="+";break;case 241:d=",";break;case 242:d="-";break;case 243:d=".";break;case 244:d="/";break;case 245:d=":";break;case 246:d=";";break;case 247:d="<";break;case 248:d="=";break;case 249:d=">";break;case 250:d="?";break;case 251:d="_";break;case 252:d=" ";break;default:throw new G}return new qn(i+8,d)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+6>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(i,6);return u>=16&&u<63}decodeAlphanumeric(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new qn(i+5,qn.FNC1);if(o>=5&&o<15)return new qn(i+5,"0"+(o-5));let u=this.extractNumericValueFromBitArray(i,6);if(u>=32&&u<58)return new qn(i+6,""+(u+33));let h;switch(u){case 58:h="*";break;case 59:h=",";break;case 60:h="-";break;case 61:h=".";break;case 62:h="/";break;default:throw new nt("Decoding invalid alphanumeric value: "+u)}return new qn(i+6,h)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<5&&o+i<this.information.getSize();++o)if(o===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+o))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let o=i;o<i+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<4&&o+i<this.information.getSize();++o)if(this.information.get(i+o))return!1;return!0}}class ws{constructor(i){this.information=i,this.generalDecoder=new Vr(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class pn extends ws{constructor(i){super(i)}encodeCompressedGtin(i,o){i.append("(01)");let u=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,o,u)}encodeCompressedGtinWithoutAI(i,o,u){for(let h=0;h<4;++h){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*h,10);d/100===0&&i.append("0"),d/10===0&&i.append("0"),i.append(d)}pn.appendCheckDigit(i,u)}static appendCheckDigit(i,o){let u=0;for(let h=0;h<13;h++){let d=i.charAt(h+o).charCodeAt(0)-48;u+=(h&1)===0?3*d:d}u=10-u%10,u===10&&(u=0),i.append(u)}}pn.GTIN_SIZE=40;class Ir extends pn{constructor(i){super(i)}parseInformation(){let i=new ve;i.append("(01)");let o=i.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(Ir.HEADER_SIZE,4);return i.append(u),this.encodeCompressedGtinWithoutAI(i,Ir.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(i,Ir.HEADER_SIZE+44)}}Ir.HEADER_SIZE=4;class bi extends ws{constructor(i){super(i)}parseInformation(){let i=new ve;return this.getGeneralDecoder().decodeAllCodes(i,bi.HEADER_SIZE)}}bi.HEADER_SIZE=5;class oi extends pn{constructor(i){super(i)}encodeCompressedWeight(i,o,u){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(o,u);this.addWeightCode(i,h);let d=this.checkWeight(h),p=1e5;for(let x=0;x<5;++x)d/p===0&&i.append("0"),p/=10;i.append(d)}}class Tt extends oi{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=Tt.HEADER_SIZE+oi.GTIN_SIZE+Tt.WEIGHT_SIZE)throw new ne;let i=new ve;return this.encodeCompressedGtin(i,Tt.HEADER_SIZE),this.encodeCompressedWeight(i,Tt.HEADER_SIZE+oi.GTIN_SIZE,Tt.WEIGHT_SIZE),i.toString()}}Tt.HEADER_SIZE=5,Tt.WEIGHT_SIZE=15;class _c extends Tt{constructor(i){super(i)}addWeightCode(i,o){i.append("(3103)")}checkWeight(i){return i}}class Ac extends Tt{constructor(i){super(i)}addWeightCode(i,o){o<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class zn extends pn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<zn.HEADER_SIZE+pn.GTIN_SIZE)throw new ne;let i=new ve;this.encodeCompressedGtin(i,zn.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(zn.HEADER_SIZE+pn.GTIN_SIZE,zn.LAST_DIGIT_SIZE);i.append("(392"),i.append(o),i.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(zn.HEADER_SIZE+pn.GTIN_SIZE+zn.LAST_DIGIT_SIZE,null);return i.append(u.getNewString()),i.toString()}}zn.HEADER_SIZE=8,zn.LAST_DIGIT_SIZE=2;class ln extends pn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<ln.HEADER_SIZE+pn.GTIN_SIZE)throw new ne;let i=new ve;this.encodeCompressedGtin(i,ln.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(ln.HEADER_SIZE+pn.GTIN_SIZE,ln.LAST_DIGIT_SIZE);i.append("(393"),i.append(o),i.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray(ln.HEADER_SIZE+pn.GTIN_SIZE+ln.LAST_DIGIT_SIZE,ln.FIRST_THREE_DIGITS_SIZE);u/100==0&&i.append("0"),u/10==0&&i.append("0"),i.append(u);let h=this.getGeneralDecoder().decodeGeneralPurposeField(ln.HEADER_SIZE+pn.GTIN_SIZE+ln.LAST_DIGIT_SIZE+ln.FIRST_THREE_DIGITS_SIZE,null);return i.append(h.getNewString()),i.toString()}}ln.HEADER_SIZE=8,ln.LAST_DIGIT_SIZE=2,ln.FIRST_THREE_DIGITS_SIZE=10;class Ht extends oi{constructor(i,o,u){super(i),this.dateCode=u,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=Ht.HEADER_SIZE+Ht.GTIN_SIZE+Ht.WEIGHT_SIZE+Ht.DATE_SIZE)throw new ne;let i=new ve;return this.encodeCompressedGtin(i,Ht.HEADER_SIZE),this.encodeCompressedWeight(i,Ht.HEADER_SIZE+Ht.GTIN_SIZE,Ht.WEIGHT_SIZE),this.encodeCompressedDate(i,Ht.HEADER_SIZE+Ht.GTIN_SIZE+Ht.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,o){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(o,Ht.DATE_SIZE);if(u==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let h=u%32;u/=32;let d=u%12+1;u/=12;let p=u;p/10==0&&i.append("0"),i.append(p),d/10==0&&i.append("0"),i.append(d),h/10==0&&i.append("0"),i.append(h)}addWeightCode(i,o){i.append("("),i.append(this.firstAIdigits),i.append(o/1e5),i.append(")")}checkWeight(i){return i%1e5}}Ht.HEADER_SIZE=8,Ht.WEIGHT_SIZE=20,Ht.DATE_SIZE=16;function Il(I){try{if(I.get(1))return new Ir(I);if(!I.get(2))return new bi(I);switch(Vr.extractNumericValueFromBitArray(I,1,4)){case 4:return new _c(I);case 5:return new Ac(I)}switch(Vr.extractNumericValueFromBitArray(I,1,5)){case 12:return new zn(I);case 13:return new ln(I)}switch(Vr.extractNumericValueFromBitArray(I,1,7)){case 56:return new Ht(I,"310","11");case 57:return new Ht(I,"320","11");case 58:return new Ht(I,"310","13");case 59:return new Ht(I,"320","13");case 60:return new Ht(I,"310","15");case 61:return new Ht(I,"320","15");case 62:return new Ht(I,"310","17");case 63:return new Ht(I,"320","17")}}catch(i){throw console.log(i),new nt("unknown decoder: "+I)}}class li{constructor(i,o,u,h){this.leftchar=i,this.rightchar=o,this.finderpattern=u,this.maybeLast=h}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,o){return i instanceof li?li.equalsOrNull(i.leftchar,o.leftchar)&&li.equalsOrNull(i.rightchar,o.rightchar)&&li.equalsOrNull(i.finderpattern,o.finderpattern):!1}static equalsOrNull(i,o){return i===null?o===null:li.equals(i,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class kl{constructor(i,o,u){this.pairs=i,this.rowNumber=o,this.wasReversed=u}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,o){return i instanceof kl?this.checkEqualitity(i,o)&&i.wasReversed===o.wasReversed:!1}checkEqualitity(i,o){if(!i||!o)return;let u;return i.forEach((h,d)=>{o.forEach(p=>{h.getLeftChar().getValue()===p.getLeftChar().getValue()&&h.getRightChar().getValue()===p.getRightChar().getValue()&&h.getFinderPatter().getValue()===p.getFinderPatter().getValue()&&(u=!0)})}),u}}class _e extends An{constructor(i){super(...arguments),this.pairs=new Array(_e.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,o,u){this.pairs.length=0,this.startFromEven=!1;try{return _e.constructResult(this.decodeRow2pairs(i,o))}catch(h){this.verbose&&console.log(h)}return this.pairs.length=0,this.startFromEven=!0,_e.constructResult(this.decodeRow2pairs(i,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,o){let u=!1;for(;!u;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,i))}catch(d){if(d instanceof ne){if(!this.pairs.length)throw new ne;u=!0}}if(this.checkChecksum())return this.pairs;let h;if(this.rows.length?h=!0:h=!1,this.storeRow(i,!1),h){let d=this.checkRowsBoolean(!1);if(d!=null||(d=this.checkRowsBoolean(!0),d!=null))return d}throw new ne}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(u){this.verbose&&console.log(u)}return i&&(this.rows=this.rows.reverse()),o}checkRows(i,o){for(let u=o;u<this.rows.length;u++){let h=this.rows[u];this.pairs.length=0;for(let p of i)this.pairs.push(p.getPairs());if(this.pairs.push(h.getPairs()),!_e.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let d=new Array(i);d.push(h);try{return this.checkRows(d,u+1)}catch(p){this.verbose&&console.log(p)}}throw new ne}static isValidSequence(i){for(let o of _e.FINDER_PATTERN_SEQUENCES){if(i.length>o.length)continue;let u=!0;for(let h=0;h<i.length;h++)if(i[h].getFinderPattern().getValue()!=o[h]){u=!1;break}if(u)return!0}return!1}storeRow(i,o){let u=0,h=!1,d=!1;for(;u<this.rows.length;){let p=this.rows[u];if(p.getRowNumber()>i){d=p.isEquivalent(this.pairs);break}h=p.isEquivalent(this.pairs),u++}d||h||_e.isPartialRow(this.pairs,this.rows)||(this.rows.push(u,new kl(this.pairs,i,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,o){for(let u of o)if(u.getPairs().length!==i.length){for(let h of u.getPairs())for(let d of i)if(li.equals(h,d))break}}static isPartialRow(i,o){for(let u of o){let h=!0;for(let d of i){let p=!1;for(let x of u.getPairs())if(d.equals(x)){p=!0;break}if(!p){h=!1;break}}if(h)return!0}return!1}getRows(){return this.rows}static constructResult(i){let o=Fn.buildBitArray(i),h=Il(o).parseInformation(),d=i[0].getFinderPattern().getResultPoints(),p=i[i.length-1].getFinderPattern().getResultPoints(),x=[d[0],d[1],p[0],p[1]];return new ke(h,null,null,x,Ae.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),o=i.getLeftChar(),u=i.getRightChar();if(u==null)return!1;let h=u.getChecksumPortion(),d=2;for(let x=1;x<this.pairs.size();++x){let _=this.pairs.get(x);h+=_.getLeftChar().getChecksumPortion(),d++;let C=_.getRightChar();C!=null&&(h+=C.getChecksumPortion(),d++)}return h%=211,211*(d-4)+h==o.getValue()}static getNextSecondBar(i,o){let u;return i.get(o)?(u=i.getNextUnset(o),u=i.getNextSet(u)):(u=i.getNextSet(o),u=i.getNextUnset(u)),u}retrieveNextPair(i,o,u){let h=o.length%2==0;this.startFromEven&&(h=!h);let d,p=!0,x=-1;do this.findNextPair(i,o,x),d=this.parseFoundFinderPattern(i,u,h),d==null?x=_e.getNextSecondBar(i,this.startEnd[0]):p=!1;while(p);let _=this.decodeDataCharacter(i,d,h,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new ne;let C;try{C=this.decodeDataCharacter(i,d,h,!1)}catch(O){C=null,this.verbose&&console.log(O)}return new li(_,C,d,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,o,u){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let d=i.getSize(),p;u>=0?p=u:this.isEmptyPair(o)?p=0:p=o[o.length-1].getFinderPattern().getStartEnd()[1];let x=o.length%2!=0;this.startFromEven&&(x=!x);let _=!1;for(;p<d&&(_=!i.get(p),!!_);)p++;let C=0,O=p;for(let k=p;k<d;k++)if(i.get(k)!=_)h[C]++;else{if(C==3){if(x&&_e.reverseCounters(h),_e.isFinderPattern(h)){this.startEnd[0]=O,this.startEnd[1]=k;return}x&&_e.reverseCounters(h),O+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,C--}else C++;h[C]=1,_=!_}throw new ne}static reverseCounters(i){let o=i.length;for(let u=0;u<o/2;++u){let h=i[u];i[u]=i[o-u-1],i[o-u-1]=h}}parseFoundFinderPattern(i,o,u){let h,d,p;if(u){let C=this.startEnd[0]-1;for(;C>=0&&!i.get(C);)C--;C++,h=this.startEnd[0]-C,d=C,p=this.startEnd[1]}else d=this.startEnd[0],p=i.getNextUnset(this.startEnd[1]+1),h=p-this.startEnd[1];let x=this.getDecodeFinderCounters();D.arraycopy(x,0,x,1,x.length-1),x[0]=h;let _;try{_=this.parseFinderValue(x,_e.FINDER_PATTERNS)}catch{return null}return new uo(_,[d,p],d,p,o)}decodeDataCharacter(i,o,u,h){let d=this.getDataCharacterCounters();for(let Rt=0;Rt<d.length;Rt++)d[Rt]=0;if(h)_e.recordPatternInReverse(i,o.getStartEnd()[0],d);else{_e.recordPattern(i,o.getStartEnd()[1],d);for(let Rt=0,In=d.length-1;Rt<In;Rt++,In--){let ir=d[Rt];d[Rt]=d[In],d[In]=ir}}let p=17,x=Ze.sum(new Int32Array(d))/p,_=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(x-_)/_>.3)throw new ne;let C=this.getOddCounts(),O=this.getEvenCounts(),k=this.getOddRoundingErrors(),L=this.getEvenRoundingErrors();for(let Rt=0;Rt<d.length;Rt++){let In=1*d[Rt]/x,ir=In+.5;if(ir<1){if(In<.3)throw new ne;ir=1}else if(ir>8){if(In>8.7)throw new ne;ir=8}let Ji=Rt/2;(Rt&1)==0?(C[Ji]=ir,k[Ji]=In-ir):(O[Ji]=ir,L[Ji]=In-ir)}this.adjustOddEvenCounts(p);let H=4*o.getValue()+(u?0:2)+(h?0:1)-1,Z=0,J=0;for(let Rt=C.length-1;Rt>=0;Rt--){if(_e.isNotA1left(o,u,h)){let In=_e.WEIGHTS[H][2*Rt];J+=C[Rt]*In}Z+=C[Rt]}let ae=0;for(let Rt=O.length-1;Rt>=0;Rt--)if(_e.isNotA1left(o,u,h)){let In=_e.WEIGHTS[H][2*Rt+1];ae+=O[Rt]*In}let de=J+ae;if((Z&1)!=0||Z>13||Z<4)throw new ne;let Te=(13-Z)/2,Re=_e.SYMBOL_WIDEST[Te],Ce=9-Re,et=On.getRSSvalue(C,Re,!0),Qe=On.getRSSvalue(O,Ce,!1),Kn=_e.EVEN_TOTAL_SUBSET[Te],br=_e.GSUM[Te],rr=et*Kn+Qe+br;return new Yi(rr,de)}static isNotA1left(i,o,u){return!(i.getValue()==0&&o&&u)}adjustOddEvenCounts(i){let o=Ze.sum(new Int32Array(this.getOddCounts())),u=Ze.sum(new Int32Array(this.getEvenCounts())),h=!1,d=!1;o>13?d=!0:o<4&&(h=!0);let p=!1,x=!1;u>13?x=!0:u<4&&(p=!0);let _=o+u-i,C=(o&1)==1,O=(u&1)==0;if(_==1)if(C){if(O)throw new ne;d=!0}else{if(!O)throw new ne;x=!0}else if(_==-1)if(C){if(O)throw new ne;h=!0}else{if(!O)throw new ne;p=!0}else if(_==0){if(C){if(!O)throw new ne;o<u?(h=!0,x=!0):(d=!0,p=!0)}else if(O)throw new ne}else throw new ne;if(h){if(d)throw new ne;_e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&_e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(x)throw new ne;_e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&_e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}_e.SYMBOL_WIDEST=[7,5,4,3,1],_e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],_e.GSUM=[0,348,1388,2948,3988],_e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],_e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],_e.FINDER_PAT_A=0,_e.FINDER_PAT_B=1,_e.FINDER_PAT_C=2,_e.FINDER_PAT_D=3,_e.FINDER_PAT_E=4,_e.FINDER_PAT_F=5,_e.FINDER_PATTERN_SEQUENCES=[[_e.FINDER_PAT_A,_e.FINDER_PAT_A],[_e.FINDER_PAT_A,_e.FINDER_PAT_B,_e.FINDER_PAT_B],[_e.FINDER_PAT_A,_e.FINDER_PAT_C,_e.FINDER_PAT_B,_e.FINDER_PAT_D],[_e.FINDER_PAT_A,_e.FINDER_PAT_E,_e.FINDER_PAT_B,_e.FINDER_PAT_D,_e.FINDER_PAT_C],[_e.FINDER_PAT_A,_e.FINDER_PAT_E,_e.FINDER_PAT_B,_e.FINDER_PAT_D,_e.FINDER_PAT_D,_e.FINDER_PAT_F],[_e.FINDER_PAT_A,_e.FINDER_PAT_E,_e.FINDER_PAT_B,_e.FINDER_PAT_D,_e.FINDER_PAT_E,_e.FINDER_PAT_F,_e.FINDER_PAT_F],[_e.FINDER_PAT_A,_e.FINDER_PAT_A,_e.FINDER_PAT_B,_e.FINDER_PAT_B,_e.FINDER_PAT_C,_e.FINDER_PAT_C,_e.FINDER_PAT_D,_e.FINDER_PAT_D],[_e.FINDER_PAT_A,_e.FINDER_PAT_A,_e.FINDER_PAT_B,_e.FINDER_PAT_B,_e.FINDER_PAT_C,_e.FINDER_PAT_C,_e.FINDER_PAT_D,_e.FINDER_PAT_E,_e.FINDER_PAT_E],[_e.FINDER_PAT_A,_e.FINDER_PAT_A,_e.FINDER_PAT_B,_e.FINDER_PAT_B,_e.FINDER_PAT_C,_e.FINDER_PAT_C,_e.FINDER_PAT_D,_e.FINDER_PAT_E,_e.FINDER_PAT_F,_e.FINDER_PAT_F],[_e.FINDER_PAT_A,_e.FINDER_PAT_A,_e.FINDER_PAT_B,_e.FINDER_PAT_B,_e.FINDER_PAT_C,_e.FINDER_PAT_D,_e.FINDER_PAT_D,_e.FINDER_PAT_E,_e.FINDER_PAT_E,_e.FINDER_PAT_F,_e.FINDER_PAT_F]],_e.MAX_PAIRS=11;class co extends Yi{constructor(i,o,u){super(i,o),this.count=0,this.finderPattern=u}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Et extends An{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,o,u){const h=this.decodePair(o,!1,i,u);Et.addOrTally(this.possibleLeftPairs,h),o.reverse();let d=this.decodePair(o,!0,i,u);Et.addOrTally(this.possibleRightPairs,d),o.reverse();for(let p of this.possibleLeftPairs)if(p.getCount()>1){for(let x of this.possibleRightPairs)if(x.getCount()>1&&Et.checkChecksum(p,x))return Et.constructResult(p,x)}throw new ne}static addOrTally(i,o){if(o==null)return;let u=!1;for(let h of i)if(h.getValue()===o.getValue()){h.incrementCount(),u=!0;break}u||i.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,o){let u=4537077*i.getValue()+o.getValue(),h=new String(u).toString(),d=new ve;for(let C=13-h.length;C>0;C--)d.append("0");d.append(h);let p=0;for(let C=0;C<13;C++){let O=d.charAt(C).charCodeAt(0)-48;p+=(C&1)===0?3*O:O}p=10-p%10,p===10&&(p=0),d.append(p.toString());let x=i.getFinderPattern().getResultPoints(),_=o.getFinderPattern().getResultPoints();return new ke(d.toString(),null,0,[x[0],x[1],_[0],_[1]],Ae.RSS_14,new Date().getTime())}static checkChecksum(i,o){let u=(i.getChecksumPortion()+16*o.getChecksumPortion())%79,h=9*i.getFinderPattern().getValue()+o.getFinderPattern().getValue();return h>72&&h--,h>8&&h--,u===h}decodePair(i,o,u,h){try{let d=this.findFinderPattern(i,o),p=this.parseFoundFinderPattern(i,u,o,d),x=h==null?null:h.get($.NEED_RESULT_POINT_CALLBACK);if(x!=null){let O=(d[0]+d[1])/2;o&&(O=i.getSize()-1-O),x.foundPossibleResultPoint(new Be(O,u))}let _=this.decodeDataCharacter(i,p,!0),C=this.decodeDataCharacter(i,p,!1);return new co(1597*_.getValue()+C.getValue(),_.getChecksumPortion()+4*C.getChecksumPortion(),p)}catch{return null}}decodeDataCharacter(i,o,u){let h=this.getDataCharacterCounters();for(let ae=0;ae<h.length;ae++)h[ae]=0;if(u)yt.recordPatternInReverse(i,o.getStartEnd()[0],h);else{yt.recordPattern(i,o.getStartEnd()[1]+1,h);for(let ae=0,de=h.length-1;ae<de;ae++,de--){let Te=h[ae];h[ae]=h[de],h[de]=Te}}let d=u?16:15,p=Ze.sum(new Int32Array(h))/d,x=this.getOddCounts(),_=this.getEvenCounts(),C=this.getOddRoundingErrors(),O=this.getEvenRoundingErrors();for(let ae=0;ae<h.length;ae++){let de=h[ae]/p,Te=Math.floor(de+.5);Te<1?Te=1:Te>8&&(Te=8);let Re=Math.floor(ae/2);(ae&1)===0?(x[Re]=Te,C[Re]=de-Te):(_[Re]=Te,O[Re]=de-Te)}this.adjustOddEvenCounts(u,d);let k=0,L=0;for(let ae=x.length-1;ae>=0;ae--)L*=9,L+=x[ae],k+=x[ae];let H=0,Z=0;for(let ae=_.length-1;ae>=0;ae--)H*=9,H+=_[ae],Z+=_[ae];let J=L+3*H;if(u){if((k&1)!==0||k>12||k<4)throw new ne;let ae=(12-k)/2,de=Et.OUTSIDE_ODD_WIDEST[ae],Te=9-de,Re=On.getRSSvalue(x,de,!1),Ce=On.getRSSvalue(_,Te,!0),et=Et.OUTSIDE_EVEN_TOTAL_SUBSET[ae],Qe=Et.OUTSIDE_GSUM[ae];return new Yi(Re*et+Ce+Qe,J)}else{if((Z&1)!==0||Z>10||Z<4)throw new ne;let ae=(10-Z)/2,de=Et.INSIDE_ODD_WIDEST[ae],Te=9-de,Re=On.getRSSvalue(x,de,!0),Ce=On.getRSSvalue(_,Te,!1),et=Et.INSIDE_ODD_TOTAL_SUBSET[ae],Qe=Et.INSIDE_GSUM[ae];return new Yi(Ce*et+Re+Qe,J)}}findFinderPattern(i,o){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=i.getSize(),d=!1,p=0;for(;p<h&&(d=!i.get(p),o!==d);)p++;let x=0,_=p;for(let C=p;C<h;C++)if(i.get(C)!==d)u[x]++;else{if(x===3){if(An.isFinderPattern(u))return[_,C];_+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,x--}else x++;u[x]=1,d=!d}throw new ne}parseFoundFinderPattern(i,o,u,h){let d=i.get(h[0]),p=h[0]-1;for(;p>=0&&d!==i.get(p);)p--;p++;const x=h[0]-p,_=this.getDecodeFinderCounters(),C=new Int32Array(_.length);D.arraycopy(_,0,C,1,_.length-1),C[0]=x;const O=this.parseFinderValue(C,Et.FINDER_PATTERNS);let k=p,L=h[1];return u&&(k=i.getSize()-1-k,L=i.getSize()-1-L),new uo(O,[p,h[1]],k,L,o)}adjustOddEvenCounts(i,o){let u=Ze.sum(new Int32Array(this.getOddCounts())),h=Ze.sum(new Int32Array(this.getEvenCounts())),d=!1,p=!1,x=!1,_=!1;i?(u>12?p=!0:u<4&&(d=!0),h>12?_=!0:h<4&&(x=!0)):(u>11?p=!0:u<5&&(d=!0),h>10?_=!0:h<4&&(x=!0));let C=u+h-o,O=(u&1)===(i?1:0),k=(h&1)===1;if(C===1)if(O){if(k)throw new ne;p=!0}else{if(!k)throw new ne;_=!0}else if(C===-1)if(O){if(k)throw new ne;d=!0}else{if(!k)throw new ne;x=!0}else if(C===0){if(O){if(!k)throw new ne;u<h?(d=!0,_=!0):(p=!0,x=!0)}else if(k)throw new ne}else throw new ne;if(d){if(p)throw new ne;An.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(p&&An.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(_)throw new ne;An.increment(this.getEvenCounts(),this.getOddRoundingErrors())}_&&An.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Et.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Et.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Et.OUTSIDE_GSUM=[0,161,961,2015,2715],Et.INSIDE_GSUM=[0,336,1036,1516],Et.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Et.INSIDE_ODD_WIDEST=[2,4,6,8],Et.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ei extends yt{constructor(i,o){super(),this.readers=[],this.verbose=o===!0;const u=i?i.get($.POSSIBLE_FORMATS):null,h=i&&i.get($.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;u?((u.includes(Ae.EAN_13)||u.includes(Ae.UPC_A)||u.includes(Ae.EAN_8)||u.includes(Ae.UPC_E))&&this.readers.push(new ys(i)),u.includes(Ae.CODE_39)&&this.readers.push(new Ut(h)),u.includes(Ae.CODE_128)&&this.readers.push(new De),u.includes(Ae.ITF)&&this.readers.push(new bt),u.includes(Ae.RSS_14)&&this.readers.push(new Et),u.includes(Ae.RSS_EXPANDED)&&this.readers.push(new _e(this.verbose))):(this.readers.push(new ys(i)),this.readers.push(new Ut),this.readers.push(new ys(i)),this.readers.push(new De),this.readers.push(new bt),this.readers.push(new Et),this.readers.push(new _e(this.verbose)))}decodeRow(i,o,u){for(let h=0;h<this.readers.length;h++)try{return this.readers[h].decodeRow(i,o,u)}catch{}throw new ne}reset(){this.readers.forEach(i=>i.reset())}}class Sc extends Oe{constructor(i=500,o){super(new Ei(o),i,o)}}class ct{constructor(i,o,u){this.ecCodewords=i,this.ecBlocks=[o],u&&this.ecBlocks.push(u)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class vt{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class st{constructor(i,o,u,h,d,p){this.versionNumber=i,this.symbolSizeRows=o,this.symbolSizeColumns=u,this.dataRegionSizeRows=h,this.dataRegionSizeColumns=d,this.ecBlocks=p;let x=0;const _=p.getECCodewords(),C=p.getECBlocks();for(let O of C)x+=O.getCount()*(O.getDataCodewords()+_);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,o){if((i&1)!==0||(o&1)!==0)throw new G;for(let u of st.VERSIONS)if(u.symbolSizeRows===i&&u.symbolSizeColumns===o)return u;throw new G}toString(){return""+this.versionNumber}static buildVersions(){return[new st(1,10,10,8,8,new ct(5,new vt(1,3))),new st(2,12,12,10,10,new ct(7,new vt(1,5))),new st(3,14,14,12,12,new ct(10,new vt(1,8))),new st(4,16,16,14,14,new ct(12,new vt(1,12))),new st(5,18,18,16,16,new ct(14,new vt(1,18))),new st(6,20,20,18,18,new ct(18,new vt(1,22))),new st(7,22,22,20,20,new ct(20,new vt(1,30))),new st(8,24,24,22,22,new ct(24,new vt(1,36))),new st(9,26,26,24,24,new ct(28,new vt(1,44))),new st(10,32,32,14,14,new ct(36,new vt(1,62))),new st(11,36,36,16,16,new ct(42,new vt(1,86))),new st(12,40,40,18,18,new ct(48,new vt(1,114))),new st(13,44,44,20,20,new ct(56,new vt(1,144))),new st(14,48,48,22,22,new ct(68,new vt(1,174))),new st(15,52,52,24,24,new ct(42,new vt(2,102))),new st(16,64,64,14,14,new ct(56,new vt(2,140))),new st(17,72,72,16,16,new ct(36,new vt(4,92))),new st(18,80,80,18,18,new ct(48,new vt(4,114))),new st(19,88,88,20,20,new ct(56,new vt(4,144))),new st(20,96,96,22,22,new ct(68,new vt(4,174))),new st(21,104,104,24,24,new ct(56,new vt(6,136))),new st(22,120,120,18,18,new ct(68,new vt(6,175))),new st(23,132,132,20,20,new ct(62,new vt(8,163))),new st(24,144,144,22,22,new ct(62,new vt(8,156),new vt(2,155))),new st(25,8,18,6,16,new ct(7,new vt(1,5))),new st(26,8,32,6,14,new ct(11,new vt(1,10))),new st(27,12,26,10,24,new ct(14,new vt(1,16))),new st(28,12,36,10,16,new ct(18,new vt(1,22))),new st(29,16,36,14,16,new ct(24,new vt(1,32))),new st(30,16,48,14,22,new ct(28,new vt(1,49)))]}}st.VERSIONS=st.buildVersions();class Bl{constructor(i){const o=i.getHeight();if(o<8||o>144||(o&1)!==0)throw new G;this.version=Bl.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new Ne(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const o=i.getHeight(),u=i.getWidth();return st.getVersionForDimensions(o,u)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let o=0,u=4,h=0;const d=this.mappingBitMatrix.getHeight(),p=this.mappingBitMatrix.getWidth();let x=!1,_=!1,C=!1,O=!1;do if(u===d&&h===0&&!x)i[o++]=this.readCorner1(d,p)&255,u-=2,h+=2,x=!0;else if(u===d-2&&h===0&&(p&3)!==0&&!_)i[o++]=this.readCorner2(d,p)&255,u-=2,h+=2,_=!0;else if(u===d+4&&h===2&&(p&7)===0&&!C)i[o++]=this.readCorner3(d,p)&255,u-=2,h+=2,C=!0;else if(u===d-2&&h===0&&(p&7)===4&&!O)i[o++]=this.readCorner4(d,p)&255,u-=2,h+=2,O=!0;else{do u<d&&h>=0&&!this.readMappingMatrix.get(h,u)&&(i[o++]=this.readUtah(u,h,d,p)&255),u-=2,h+=2;while(u>=0&&h<p);u+=1,h+=3;do u>=0&&h<p&&!this.readMappingMatrix.get(h,u)&&(i[o++]=this.readUtah(u,h,d,p)&255),u+=2,h-=2;while(u<d&&h>=0);u+=3,h+=1}while(u<d||h<p);if(o!==this.version.getTotalCodewords())throw new G;return i}readModule(i,o,u,h){return i<0&&(i+=u,o+=4-(u+4&7)),o<0&&(o+=h,i+=4-(h+4&7)),this.readMappingMatrix.set(o,i),this.mappingBitMatrix.get(o,i)}readUtah(i,o,u,h){let d=0;return this.readModule(i-2,o-2,u,h)&&(d|=1),d<<=1,this.readModule(i-2,o-1,u,h)&&(d|=1),d<<=1,this.readModule(i-1,o-2,u,h)&&(d|=1),d<<=1,this.readModule(i-1,o-1,u,h)&&(d|=1),d<<=1,this.readModule(i-1,o,u,h)&&(d|=1),d<<=1,this.readModule(i,o-2,u,h)&&(d|=1),d<<=1,this.readModule(i,o-1,u,h)&&(d|=1),d<<=1,this.readModule(i,o,u,h)&&(d|=1),d}readCorner1(i,o){let u=0;return this.readModule(i-1,0,i,o)&&(u|=1),u<<=1,this.readModule(i-1,1,i,o)&&(u|=1),u<<=1,this.readModule(i-1,2,i,o)&&(u|=1),u<<=1,this.readModule(0,o-2,i,o)&&(u|=1),u<<=1,this.readModule(0,o-1,i,o)&&(u|=1),u<<=1,this.readModule(1,o-1,i,o)&&(u|=1),u<<=1,this.readModule(2,o-1,i,o)&&(u|=1),u<<=1,this.readModule(3,o-1,i,o)&&(u|=1),u}readCorner2(i,o){let u=0;return this.readModule(i-3,0,i,o)&&(u|=1),u<<=1,this.readModule(i-2,0,i,o)&&(u|=1),u<<=1,this.readModule(i-1,0,i,o)&&(u|=1),u<<=1,this.readModule(0,o-4,i,o)&&(u|=1),u<<=1,this.readModule(0,o-3,i,o)&&(u|=1),u<<=1,this.readModule(0,o-2,i,o)&&(u|=1),u<<=1,this.readModule(0,o-1,i,o)&&(u|=1),u<<=1,this.readModule(1,o-1,i,o)&&(u|=1),u}readCorner3(i,o){let u=0;return this.readModule(i-1,0,i,o)&&(u|=1),u<<=1,this.readModule(i-1,o-1,i,o)&&(u|=1),u<<=1,this.readModule(0,o-3,i,o)&&(u|=1),u<<=1,this.readModule(0,o-2,i,o)&&(u|=1),u<<=1,this.readModule(0,o-1,i,o)&&(u|=1),u<<=1,this.readModule(1,o-3,i,o)&&(u|=1),u<<=1,this.readModule(1,o-2,i,o)&&(u|=1),u<<=1,this.readModule(1,o-1,i,o)&&(u|=1),u}readCorner4(i,o){let u=0;return this.readModule(i-3,0,i,o)&&(u|=1),u<<=1,this.readModule(i-2,0,i,o)&&(u|=1),u<<=1,this.readModule(i-1,0,i,o)&&(u|=1),u<<=1,this.readModule(0,o-2,i,o)&&(u|=1),u<<=1,this.readModule(0,o-1,i,o)&&(u|=1),u<<=1,this.readModule(1,o-1,i,o)&&(u|=1),u<<=1,this.readModule(2,o-1,i,o)&&(u|=1),u<<=1,this.readModule(3,o-1,i,o)&&(u|=1),u}extractDataRegion(i){const o=this.version.getSymbolSizeRows(),u=this.version.getSymbolSizeColumns();if(i.getHeight()!==o)throw new A("Dimension of bitMatrix must match the version size");const h=this.version.getDataRegionSizeRows(),d=this.version.getDataRegionSizeColumns(),p=o/h|0,x=u/d|0,_=p*h,C=x*d,O=new Ne(C,_);for(let k=0;k<p;++k){const L=k*h;for(let H=0;H<x;++H){const Z=H*d;for(let J=0;J<h;++J){const ae=k*(h+2)+1+J,de=L+J;for(let Te=0;Te<d;++Te){const Re=H*(d+2)+1+Te;if(i.get(Re,ae)){const Ce=Z+Te;O.set(Ce,de)}}}}}return O}}class fo{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o){const u=o.getECBlocks();let h=0;const d=u.getECBlocks();for(let J of d)h+=J.getCount();const p=new Array(h);let x=0;for(let J of d)for(let ae=0;ae<J.getCount();ae++){const de=J.getDataCodewords(),Te=u.getECCodewords()+de;p[x++]=new fo(de,new Uint8Array(Te))}const C=p[0].codewords.length-u.getECCodewords(),O=C-1;let k=0;for(let J=0;J<O;J++)for(let ae=0;ae<x;ae++)p[ae].codewords[J]=i[k++];const L=o.getVersionNumber()===24,H=L?8:x;for(let J=0;J<H;J++)p[J].codewords[C-1]=i[k++];const Z=p[0].codewords.length;for(let J=C;J<Z;J++)for(let ae=0;ae<x;ae++){const de=L?(ae+8)%x:ae,Te=L&&de>7?J-1:J;p[de].codewords[Te]=i[k++]}if(k!==i.length)throw new A;return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class er{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new A(""+i);let o=0,u=this.bitOffset,h=this.byteOffset;const d=this.bytes;if(u>0){const p=8-u,x=i<p?i:p,_=p-x,C=255>>8-x<<_;o=(d[h]&C)>>_,i-=x,u+=x,u===8&&(u=0,h++)}if(i>0){for(;i>=8;)o=o<<8|d[h]&255,h++,i-=8;if(i>0){const p=8-i,x=255>>p<<p;o=o<<i|(d[h]&x)>>p,u+=i}}return this.bitOffset=u,this.byteOffset=h,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var un;(function(I){I[I.PAD_ENCODE=0]="PAD_ENCODE",I[I.ASCII_ENCODE=1]="ASCII_ENCODE",I[I.C40_ENCODE=2]="C40_ENCODE",I[I.TEXT_ENCODE=3]="TEXT_ENCODE",I[I.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",I[I.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",I[I.BASE256_ENCODE=6]="BASE256_ENCODE"})(un||(un={}));class _i{static decode(i){const o=new er(i),u=new ve,h=new ve,d=new Array;let p=un.ASCII_ENCODE;do if(p===un.ASCII_ENCODE)p=this.decodeAsciiSegment(o,u,h);else{switch(p){case un.C40_ENCODE:this.decodeC40Segment(o,u);break;case un.TEXT_ENCODE:this.decodeTextSegment(o,u);break;case un.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,u);break;case un.EDIFACT_ENCODE:this.decodeEdifactSegment(o,u);break;case un.BASE256_ENCODE:this.decodeBase256Segment(o,u,d);break;default:throw new G}p=un.ASCII_ENCODE}while(p!==un.PAD_ENCODE&&o.available()>0);return h.length()>0&&u.append(h.toString()),new En(i,u.toString(),d.length===0?null:d,null)}static decodeAsciiSegment(i,o,u){let h=!1;do{let d=i.readBits(8);if(d===0)throw new G;if(d<=128)return h&&(d+=128),o.append(String.fromCharCode(d-1)),un.ASCII_ENCODE;if(d===129)return un.PAD_ENCODE;if(d<=229){const p=d-130;p<10&&o.append("0"),o.append(""+p)}else switch(d){case 230:return un.C40_ENCODE;case 231:return un.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:h=!0;break;case 236:o.append("[)>05"),u.insert(0,"");break;case 237:o.append("[)>06"),u.insert(0,"");break;case 238:return un.ANSIX12_ENCODE;case 239:return un.TEXT_ENCODE;case 240:return un.EDIFACT_ENCODE;case 241:break;default:if(d!==254||i.available()!==0)throw new G;break}}while(i.available()>0);return un.ASCII_ENCODE}static decodeC40Segment(i,o){let u=!1;const h=[];let d=0;do{if(i.available()===8)return;const p=i.readBits(8);if(p===254)return;this.parseTwoBytes(p,i.readBits(8),h);for(let x=0;x<3;x++){const _=h[x];switch(d){case 0:if(_<3)d=_+1;else if(_<this.C40_BASIC_SET_CHARS.length){const C=this.C40_BASIC_SET_CHARS[_];u?(o.append(String.fromCharCode(C.charCodeAt(0)+128)),u=!1):o.append(C)}else throw new G;break;case 1:u?(o.append(String.fromCharCode(_+128)),u=!1):o.append(String.fromCharCode(_)),d=0;break;case 2:if(_<this.C40_SHIFT2_SET_CHARS.length){const C=this.C40_SHIFT2_SET_CHARS[_];u?(o.append(String.fromCharCode(C.charCodeAt(0)+128)),u=!1):o.append(C)}else switch(_){case 27:o.append("");break;case 30:u=!0;break;default:throw new G}d=0;break;case 3:u?(o.append(String.fromCharCode(_+224)),u=!1):o.append(String.fromCharCode(_+96)),d=0;break;default:throw new G}}}while(i.available()>0)}static decodeTextSegment(i,o){let u=!1,h=[],d=0;do{if(i.available()===8)return;const p=i.readBits(8);if(p===254)return;this.parseTwoBytes(p,i.readBits(8),h);for(let x=0;x<3;x++){const _=h[x];switch(d){case 0:if(_<3)d=_+1;else if(_<this.TEXT_BASIC_SET_CHARS.length){const C=this.TEXT_BASIC_SET_CHARS[_];u?(o.append(String.fromCharCode(C.charCodeAt(0)+128)),u=!1):o.append(C)}else throw new G;break;case 1:u?(o.append(String.fromCharCode(_+128)),u=!1):o.append(String.fromCharCode(_)),d=0;break;case 2:if(_<this.TEXT_SHIFT2_SET_CHARS.length){const C=this.TEXT_SHIFT2_SET_CHARS[_];u?(o.append(String.fromCharCode(C.charCodeAt(0)+128)),u=!1):o.append(C)}else switch(_){case 27:o.append("");break;case 30:u=!0;break;default:throw new G}d=0;break;case 3:if(_<this.TEXT_SHIFT3_SET_CHARS.length){const C=this.TEXT_SHIFT3_SET_CHARS[_];u?(o.append(String.fromCharCode(C.charCodeAt(0)+128)),u=!1):o.append(C),d=0}else throw new G;break;default:throw new G}}}while(i.available()>0)}static decodeAnsiX12Segment(i,o){const u=[];do{if(i.available()===8)return;const h=i.readBits(8);if(h===254)return;this.parseTwoBytes(h,i.readBits(8),u);for(let d=0;d<3;d++){const p=u[d];switch(p){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(p<14)o.append(String.fromCharCode(p+44));else if(p<40)o.append(String.fromCharCode(p+51));else throw new G;break}}}while(i.available()>0)}static parseTwoBytes(i,o,u){let h=(i<<8)+o-1,d=Math.floor(h/1600);u[0]=d,h-=d*1600,d=Math.floor(h/40),u[1]=d,u[2]=h-d*40}static decodeEdifactSegment(i,o){do{if(i.available()<=16)return;for(let u=0;u<4;u++){let h=i.readBits(6);if(h===31){const d=8-i.getBitOffset();d!==8&&i.readBits(d);return}(h&32)===0&&(h|=64),o.append(String.fromCharCode(h))}}while(i.available()>0)}static decodeBase256Segment(i,o,u){let h=1+i.getByteOffset();const d=this.unrandomize255State(i.readBits(8),h++);let p;if(d===0?p=i.available()/8|0:d<250?p=d:p=250*(d-249)+this.unrandomize255State(i.readBits(8),h++),p<0)throw new G;const x=new Uint8Array(p);for(let _=0;_<p;_++){if(i.available()<8)throw new G;x[_]=this.unrandomize255State(i.readBits(8),h++)}u.push(x);try{o.append(ce.decode(x,pe.ISO88591))}catch(_){throw new nt("Platform does not support required encoding: "+_.message)}}static unrandomize255State(i,o){const u=149*o%255+1,h=i-u;return h>=0?h:h+256}}_i.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_i.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],_i.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],_i.TEXT_SHIFT2_SET_CHARS=_i.C40_SHIFT2_SET_CHARS,_i.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ho{constructor(){this.rsDecoder=new dr(at.DATA_MATRIX_FIELD_256)}decode(i){const o=new Bl(i),u=o.getVersion(),h=o.readCodewords(),d=fo.getDataBlocks(h,u);let p=0;for(let C of d)p+=C.getNumDataCodewords();const x=new Uint8Array(p),_=d.length;for(let C=0;C<_;C++){const O=d[C],k=O.getCodewords(),L=O.getNumDataCodewords();this.correctErrors(k,L);for(let H=0;H<L;H++)x[H*_+C]=k[H]}return _i.decode(x)}correctErrors(i,o){const u=new Int32Array(i);try{this.rsDecoder.decode(u,i.length-o)}catch{throw new R}for(let h=0;h<o;h++)i[h]=u[h]}}class Zt{constructor(i){this.image=i,this.rectangleDetector=new _n(this.image)}detect(){const i=this.rectangleDetector.detect();let o=this.detectSolid1(i);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new ne;o=this.shiftToModuleCenter(o);const u=o[0],h=o[1],d=o[2],p=o[3];let x=this.transitionsBetween(u,p)+1,_=this.transitionsBetween(d,p)+1;(x&1)===1&&(x+=1),(_&1)===1&&(_+=1),4*x<7*_&&4*_<7*x&&(x=_=Math.max(x,_));let C=Zt.sampleGrid(this.image,u,h,d,p,x,_);return new jn(C,[u,h,d,p])}static shiftPoint(i,o,u){let h=(o.getX()-i.getX())/(u+1),d=(o.getY()-i.getY())/(u+1);return new Be(i.getX()+h,i.getY()+d)}static moveAway(i,o,u){let h=i.getX(),d=i.getY();return h<o?h-=1:h+=1,d<u?d-=1:d+=1,new Be(h,d)}detectSolid1(i){let o=i[0],u=i[1],h=i[3],d=i[2],p=this.transitionsBetween(o,u),x=this.transitionsBetween(u,h),_=this.transitionsBetween(h,d),C=this.transitionsBetween(d,o),O=p,k=[d,o,u,h];return O>x&&(O=x,k[0]=o,k[1]=u,k[2]=h,k[3]=d),O>_&&(O=_,k[0]=u,k[1]=h,k[2]=d,k[3]=o),O>C&&(k[0]=h,k[1]=d,k[2]=o,k[3]=u),k}detectSolid2(i){let o=i[0],u=i[1],h=i[2],d=i[3],p=this.transitionsBetween(o,d),x=Zt.shiftPoint(u,h,(p+1)*4),_=Zt.shiftPoint(h,u,(p+1)*4),C=this.transitionsBetween(x,o),O=this.transitionsBetween(_,d);return C<O?(i[0]=o,i[1]=u,i[2]=h,i[3]=d):(i[0]=u,i[1]=h,i[2]=d,i[3]=o),i}correctTopRight(i){let o=i[0],u=i[1],h=i[2],d=i[3],p=this.transitionsBetween(o,d),x=this.transitionsBetween(u,d),_=Zt.shiftPoint(o,u,(x+1)*4),C=Zt.shiftPoint(h,u,(p+1)*4);p=this.transitionsBetween(_,d),x=this.transitionsBetween(C,d);let O=new Be(d.getX()+(h.getX()-u.getX())/(p+1),d.getY()+(h.getY()-u.getY())/(p+1)),k=new Be(d.getX()+(o.getX()-u.getX())/(x+1),d.getY()+(o.getY()-u.getY())/(x+1));if(!this.isValid(O))return this.isValid(k)?k:null;if(!this.isValid(k))return O;let L=this.transitionsBetween(_,O)+this.transitionsBetween(C,O),H=this.transitionsBetween(_,k)+this.transitionsBetween(C,k);return L>H?O:k}shiftToModuleCenter(i){let o=i[0],u=i[1],h=i[2],d=i[3],p=this.transitionsBetween(o,d)+1,x=this.transitionsBetween(h,d)+1,_=Zt.shiftPoint(o,u,x*4),C=Zt.shiftPoint(h,u,p*4);p=this.transitionsBetween(_,d)+1,x=this.transitionsBetween(C,d)+1,(p&1)===1&&(p+=1),(x&1)===1&&(x+=1);let O=(o.getX()+u.getX()+h.getX()+d.getX())/4,k=(o.getY()+u.getY()+h.getY()+d.getY())/4;o=Zt.moveAway(o,O,k),u=Zt.moveAway(u,O,k),h=Zt.moveAway(h,O,k),d=Zt.moveAway(d,O,k);let L,H;return _=Zt.shiftPoint(o,u,x*4),_=Zt.shiftPoint(_,d,p*4),L=Zt.shiftPoint(u,o,x*4),L=Zt.shiftPoint(L,h,p*4),C=Zt.shiftPoint(h,d,x*4),C=Zt.shiftPoint(C,u,p*4),H=Zt.shiftPoint(d,h,x*4),H=Zt.shiftPoint(H,o,p*4),[_,L,C,H]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,o,u,h,d,p,x){return Pt.getInstance().sampleGrid(i,p,x,.5,.5,p-.5,.5,p-.5,x-.5,.5,x-.5,o.getX(),o.getY(),d.getX(),d.getY(),h.getX(),h.getY(),u.getX(),u.getY())}transitionsBetween(i,o){let u=Math.trunc(i.getX()),h=Math.trunc(i.getY()),d=Math.trunc(o.getX()),p=Math.trunc(o.getY()),x=Math.abs(p-h)>Math.abs(d-u);if(x){let J=u;u=h,h=J,J=d,d=p,p=J}let _=Math.abs(d-u),C=Math.abs(p-h),O=-_/2,k=h<p?1:-1,L=u<d?1:-1,H=0,Z=this.image.get(x?h:u,x?u:h);for(let J=u,ae=h;J!==d;J+=L){let de=this.image.get(x?ae:J,x?J:ae);if(de!==Z&&(H++,Z=de),O+=C,O>0){if(ae===p)break;ae+=k,O-=_}}return H}}class kr{constructor(){this.decoder=new ho}decode(i,o=null){let u,h;if(o!=null&&o.has($.PURE_BARCODE)){const C=kr.extractPureBits(i.getBlackMatrix());u=this.decoder.decode(C),h=kr.NO_POINTS}else{const C=new Zt(i.getBlackMatrix()).detect();u=this.decoder.decode(C.getBits()),h=C.getPoints()}const d=u.getRawBytes(),p=new ke(u.getText(),d,8*d.length,h,Ae.DATA_MATRIX,D.currentTimeMillis()),x=u.getByteSegments();x!=null&&p.putMetadata(Ve.BYTE_SEGMENTS,x);const _=u.getECLevel();return _!=null&&p.putMetadata(Ve.ERROR_CORRECTION_LEVEL,_),p}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),u=i.getBottomRightOnBit();if(o==null||u==null)throw new ne;const h=this.moduleSize(o,i);let d=o[1];const p=u[1];let x=o[0];const C=(u[0]-x+1)/h,O=(p-d+1)/h;if(C<=0||O<=0)throw new ne;const k=h/2;d+=k,x+=k;const L=new Ne(C,O);for(let H=0;H<O;H++){const Z=d+H*h;for(let J=0;J<C;J++)i.get(x+J*h,Z)&&L.set(J,H)}return L}static moduleSize(i,o){const u=o.getWidth();let h=i[0];const d=i[1];for(;h<u&&o.get(h,d);)h++;if(h===u)throw new ne;const p=h-i[0];if(p===0)throw new ne;return p}}kr.NO_POINTS=[];class Xh extends Oe{constructor(i=500){super(new kr,i)}}var Rn;(function(I){I[I.L=0]="L",I[I.M=1]="M",I[I.Q=2]="Q",I[I.H=3]="H"})(Rn||(Rn={}));class St{constructor(i,o,u){this.value=i,this.stringValue=o,this.bits=u,St.FOR_BITS.set(u,this),St.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return St.L;case"M":return St.M;case"Q":return St.Q;case"H":return St.H;default:throw new E(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof St))return!1;const o=i;return this.value===o.value}static forBits(i){if(i<0||i>=St.FOR_BITS.size)throw new A;return St.FOR_BITS.get(i)}}St.FOR_BITS=new Map,St.FOR_VALUE=new Map,St.L=new St(Rn.L,"L",1),St.M=new St(Rn.M,"M",0),St.Q=new St(Rn.Q,"Q",3),St.H=new St(Rn.H,"H",2);class Dn{constructor(i){this.errorCorrectionLevel=St.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,o){return P.bitCount(i^o)}static decodeFormatInformation(i,o){const u=Dn.doDecodeFormatInformation(i,o);return u!==null?u:Dn.doDecodeFormatInformation(i^Dn.FORMAT_INFO_MASK_QR,o^Dn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,o){let u=Number.MAX_SAFE_INTEGER,h=0;for(const d of Dn.FORMAT_INFO_DECODE_LOOKUP){const p=d[0];if(p===i||p===o)return new Dn(d[1]);let x=Dn.numBitsDiffering(i,p);x<u&&(h=d[1],u=x),i!==o&&(x=Dn.numBitsDiffering(o,p),x<u&&(h=d[1],u=x))}return u<=3?new Dn(h):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof Dn))return!1;const o=i;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}Dn.FORMAT_INFO_MASK_QR=21522,Dn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class se{constructor(i,...o){this.ecCodewordsPerBlock=i,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const o=this.ecBlocks;for(const u of o)i+=u.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class z{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class qe{constructor(i,o,...u){this.versionNumber=i,this.alignmentPatternCenters=o,this.ecBlocks=u;let h=0;const d=u[0].getECCodewordsPerBlock(),p=u[0].getECBlocks();for(const x of p)h+=x.getCount()*(x.getDataCodewords()+d);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new G;try{return this.getVersionForNumber((i-17)/4)}catch{throw new G}}static getVersionForNumber(i){if(i<1||i>40)throw new A;return qe.VERSIONS[i-1]}static decodeVersionInformation(i){let o=Number.MAX_SAFE_INTEGER,u=0;for(let h=0;h<qe.VERSION_DECODE_INFO.length;h++){const d=qe.VERSION_DECODE_INFO[h];if(d===i)return qe.getVersionForNumber(h+7);const p=Dn.numBitsDiffering(i,d);p<o&&(u=h+7,o=p)}return o<=3?qe.getVersionForNumber(u):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),o=new Ne(i);o.setRegion(0,0,9,9),o.setRegion(i-8,0,8,9),o.setRegion(0,i-8,9,8);const u=this.alignmentPatternCenters.length;for(let h=0;h<u;h++){const d=this.alignmentPatternCenters[h]-2;for(let p=0;p<u;p++)h===0&&(p===0||p===u-1)||h===u-1&&p===0||o.setRegion(this.alignmentPatternCenters[p]-2,d,5,5)}return o.setRegion(6,9,1,i-17),o.setRegion(9,6,i-17,1),this.versionNumber>6&&(o.setRegion(i-11,0,3,6),o.setRegion(0,i-11,6,3)),o}toString(){return""+this.versionNumber}}qe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),qe.VERSIONS=[new qe(1,new Int32Array(0),new se(7,new z(1,19)),new se(10,new z(1,16)),new se(13,new z(1,13)),new se(17,new z(1,9))),new qe(2,Int32Array.from([6,18]),new se(10,new z(1,34)),new se(16,new z(1,28)),new se(22,new z(1,22)),new se(28,new z(1,16))),new qe(3,Int32Array.from([6,22]),new se(15,new z(1,55)),new se(26,new z(1,44)),new se(18,new z(2,17)),new se(22,new z(2,13))),new qe(4,Int32Array.from([6,26]),new se(20,new z(1,80)),new se(18,new z(2,32)),new se(26,new z(2,24)),new se(16,new z(4,9))),new qe(5,Int32Array.from([6,30]),new se(26,new z(1,108)),new se(24,new z(2,43)),new se(18,new z(2,15),new z(2,16)),new se(22,new z(2,11),new z(2,12))),new qe(6,Int32Array.from([6,34]),new se(18,new z(2,68)),new se(16,new z(4,27)),new se(24,new z(4,19)),new se(28,new z(4,15))),new qe(7,Int32Array.from([6,22,38]),new se(20,new z(2,78)),new se(18,new z(4,31)),new se(18,new z(2,14),new z(4,15)),new se(26,new z(4,13),new z(1,14))),new qe(8,Int32Array.from([6,24,42]),new se(24,new z(2,97)),new se(22,new z(2,38),new z(2,39)),new se(22,new z(4,18),new z(2,19)),new se(26,new z(4,14),new z(2,15))),new qe(9,Int32Array.from([6,26,46]),new se(30,new z(2,116)),new se(22,new z(3,36),new z(2,37)),new se(20,new z(4,16),new z(4,17)),new se(24,new z(4,12),new z(4,13))),new qe(10,Int32Array.from([6,28,50]),new se(18,new z(2,68),new z(2,69)),new se(26,new z(4,43),new z(1,44)),new se(24,new z(6,19),new z(2,20)),new se(28,new z(6,15),new z(2,16))),new qe(11,Int32Array.from([6,30,54]),new se(20,new z(4,81)),new se(30,new z(1,50),new z(4,51)),new se(28,new z(4,22),new z(4,23)),new se(24,new z(3,12),new z(8,13))),new qe(12,Int32Array.from([6,32,58]),new se(24,new z(2,92),new z(2,93)),new se(22,new z(6,36),new z(2,37)),new se(26,new z(4,20),new z(6,21)),new se(28,new z(7,14),new z(4,15))),new qe(13,Int32Array.from([6,34,62]),new se(26,new z(4,107)),new se(22,new z(8,37),new z(1,38)),new se(24,new z(8,20),new z(4,21)),new se(22,new z(12,11),new z(4,12))),new qe(14,Int32Array.from([6,26,46,66]),new se(30,new z(3,115),new z(1,116)),new se(24,new z(4,40),new z(5,41)),new se(20,new z(11,16),new z(5,17)),new se(24,new z(11,12),new z(5,13))),new qe(15,Int32Array.from([6,26,48,70]),new se(22,new z(5,87),new z(1,88)),new se(24,new z(5,41),new z(5,42)),new se(30,new z(5,24),new z(7,25)),new se(24,new z(11,12),new z(7,13))),new qe(16,Int32Array.from([6,26,50,74]),new se(24,new z(5,98),new z(1,99)),new se(28,new z(7,45),new z(3,46)),new se(24,new z(15,19),new z(2,20)),new se(30,new z(3,15),new z(13,16))),new qe(17,Int32Array.from([6,30,54,78]),new se(28,new z(1,107),new z(5,108)),new se(28,new z(10,46),new z(1,47)),new se(28,new z(1,22),new z(15,23)),new se(28,new z(2,14),new z(17,15))),new qe(18,Int32Array.from([6,30,56,82]),new se(30,new z(5,120),new z(1,121)),new se(26,new z(9,43),new z(4,44)),new se(28,new z(17,22),new z(1,23)),new se(28,new z(2,14),new z(19,15))),new qe(19,Int32Array.from([6,30,58,86]),new se(28,new z(3,113),new z(4,114)),new se(26,new z(3,44),new z(11,45)),new se(26,new z(17,21),new z(4,22)),new se(26,new z(9,13),new z(16,14))),new qe(20,Int32Array.from([6,34,62,90]),new se(28,new z(3,107),new z(5,108)),new se(26,new z(3,41),new z(13,42)),new se(30,new z(15,24),new z(5,25)),new se(28,new z(15,15),new z(10,16))),new qe(21,Int32Array.from([6,28,50,72,94]),new se(28,new z(4,116),new z(4,117)),new se(26,new z(17,42)),new se(28,new z(17,22),new z(6,23)),new se(30,new z(19,16),new z(6,17))),new qe(22,Int32Array.from([6,26,50,74,98]),new se(28,new z(2,111),new z(7,112)),new se(28,new z(17,46)),new se(30,new z(7,24),new z(16,25)),new se(24,new z(34,13))),new qe(23,Int32Array.from([6,30,54,78,102]),new se(30,new z(4,121),new z(5,122)),new se(28,new z(4,47),new z(14,48)),new se(30,new z(11,24),new z(14,25)),new se(30,new z(16,15),new z(14,16))),new qe(24,Int32Array.from([6,28,54,80,106]),new se(30,new z(6,117),new z(4,118)),new se(28,new z(6,45),new z(14,46)),new se(30,new z(11,24),new z(16,25)),new se(30,new z(30,16),new z(2,17))),new qe(25,Int32Array.from([6,32,58,84,110]),new se(26,new z(8,106),new z(4,107)),new se(28,new z(8,47),new z(13,48)),new se(30,new z(7,24),new z(22,25)),new se(30,new z(22,15),new z(13,16))),new qe(26,Int32Array.from([6,30,58,86,114]),new se(28,new z(10,114),new z(2,115)),new se(28,new z(19,46),new z(4,47)),new se(28,new z(28,22),new z(6,23)),new se(30,new z(33,16),new z(4,17))),new qe(27,Int32Array.from([6,34,62,90,118]),new se(30,new z(8,122),new z(4,123)),new se(28,new z(22,45),new z(3,46)),new se(30,new z(8,23),new z(26,24)),new se(30,new z(12,15),new z(28,16))),new qe(28,Int32Array.from([6,26,50,74,98,122]),new se(30,new z(3,117),new z(10,118)),new se(28,new z(3,45),new z(23,46)),new se(30,new z(4,24),new z(31,25)),new se(30,new z(11,15),new z(31,16))),new qe(29,Int32Array.from([6,30,54,78,102,126]),new se(30,new z(7,116),new z(7,117)),new se(28,new z(21,45),new z(7,46)),new se(30,new z(1,23),new z(37,24)),new se(30,new z(19,15),new z(26,16))),new qe(30,Int32Array.from([6,26,52,78,104,130]),new se(30,new z(5,115),new z(10,116)),new se(28,new z(19,47),new z(10,48)),new se(30,new z(15,24),new z(25,25)),new se(30,new z(23,15),new z(25,16))),new qe(31,Int32Array.from([6,30,56,82,108,134]),new se(30,new z(13,115),new z(3,116)),new se(28,new z(2,46),new z(29,47)),new se(30,new z(42,24),new z(1,25)),new se(30,new z(23,15),new z(28,16))),new qe(32,Int32Array.from([6,34,60,86,112,138]),new se(30,new z(17,115)),new se(28,new z(10,46),new z(23,47)),new se(30,new z(10,24),new z(35,25)),new se(30,new z(19,15),new z(35,16))),new qe(33,Int32Array.from([6,30,58,86,114,142]),new se(30,new z(17,115),new z(1,116)),new se(28,new z(14,46),new z(21,47)),new se(30,new z(29,24),new z(19,25)),new se(30,new z(11,15),new z(46,16))),new qe(34,Int32Array.from([6,34,62,90,118,146]),new se(30,new z(13,115),new z(6,116)),new se(28,new z(14,46),new z(23,47)),new se(30,new z(44,24),new z(7,25)),new se(30,new z(59,16),new z(1,17))),new qe(35,Int32Array.from([6,30,54,78,102,126,150]),new se(30,new z(12,121),new z(7,122)),new se(28,new z(12,47),new z(26,48)),new se(30,new z(39,24),new z(14,25)),new se(30,new z(22,15),new z(41,16))),new qe(36,Int32Array.from([6,24,50,76,102,128,154]),new se(30,new z(6,121),new z(14,122)),new se(28,new z(6,47),new z(34,48)),new se(30,new z(46,24),new z(10,25)),new se(30,new z(2,15),new z(64,16))),new qe(37,Int32Array.from([6,28,54,80,106,132,158]),new se(30,new z(17,122),new z(4,123)),new se(28,new z(29,46),new z(14,47)),new se(30,new z(49,24),new z(10,25)),new se(30,new z(24,15),new z(46,16))),new qe(38,Int32Array.from([6,32,58,84,110,136,162]),new se(30,new z(4,122),new z(18,123)),new se(28,new z(13,46),new z(32,47)),new se(30,new z(48,24),new z(14,25)),new se(30,new z(42,15),new z(32,16))),new qe(39,Int32Array.from([6,26,54,82,110,138,166]),new se(30,new z(20,117),new z(4,118)),new se(28,new z(40,47),new z(7,48)),new se(30,new z(43,24),new z(22,25)),new se(30,new z(10,15),new z(67,16))),new qe(40,Int32Array.from([6,30,58,86,114,142,170]),new se(30,new z(19,118),new z(6,119)),new se(28,new z(18,47),new z(31,48)),new se(30,new z(34,24),new z(34,25)),new se(30,new z(20,15),new z(61,16)))];var vn;(function(I){I[I.DATA_MASK_000=0]="DATA_MASK_000",I[I.DATA_MASK_001=1]="DATA_MASK_001",I[I.DATA_MASK_010=2]="DATA_MASK_010",I[I.DATA_MASK_011=3]="DATA_MASK_011",I[I.DATA_MASK_100=4]="DATA_MASK_100",I[I.DATA_MASK_101=5]="DATA_MASK_101",I[I.DATA_MASK_110=6]="DATA_MASK_110",I[I.DATA_MASK_111=7]="DATA_MASK_111"})(vn||(vn={}));class Nn{constructor(i,o){this.value=i,this.isMasked=o}unmaskBitMatrix(i,o){for(let u=0;u<o;u++)for(let h=0;h<o;h++)this.isMasked(u,h)&&i.flip(h,u)}}Nn.values=new Map([[vn.DATA_MASK_000,new Nn(vn.DATA_MASK_000,(I,i)=>(I+i&1)===0)],[vn.DATA_MASK_001,new Nn(vn.DATA_MASK_001,(I,i)=>(I&1)===0)],[vn.DATA_MASK_010,new Nn(vn.DATA_MASK_010,(I,i)=>i%3===0)],[vn.DATA_MASK_011,new Nn(vn.DATA_MASK_011,(I,i)=>(I+i)%3===0)],[vn.DATA_MASK_100,new Nn(vn.DATA_MASK_100,(I,i)=>(Math.floor(I/2)+Math.floor(i/3)&1)===0)],[vn.DATA_MASK_101,new Nn(vn.DATA_MASK_101,(I,i)=>I*i%6===0)],[vn.DATA_MASK_110,new Nn(vn.DATA_MASK_110,(I,i)=>I*i%6<3)],[vn.DATA_MASK_111,new Nn(vn.DATA_MASK_111,(I,i)=>(I+i+I*i%3&1)===0)]]);class Kh{constructor(i){const o=i.getHeight();if(o<21||(o&3)!==1)throw new G;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let d=0;d<6;d++)i=this.copyBit(d,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let d=5;d>=0;d--)i=this.copyBit(8,d,i);const o=this.bitMatrix.getHeight();let u=0;const h=o-7;for(let d=o-1;d>=h;d--)u=this.copyBit(8,d,u);for(let d=o-8;d<o;d++)u=this.copyBit(d,8,u);if(this.parsedFormatInfo=Dn.decodeFormatInformation(i,u),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new G}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),o=Math.floor((i-17)/4);if(o<=6)return qe.getVersionForNumber(o);let u=0;const h=i-11;for(let p=5;p>=0;p--)for(let x=i-9;x>=h;x--)u=this.copyBit(x,p,u);let d=qe.decodeVersionInformation(u);if(d!==null&&d.getDimensionForVersion()===i)return this.parsedVersion=d,d;u=0;for(let p=5;p>=0;p--)for(let x=i-9;x>=h;x--)u=this.copyBit(p,x,u);if(d=qe.decodeVersionInformation(u),d!==null&&d.getDimensionForVersion()===i)return this.parsedVersion=d,d;throw new G}copyBit(i,o,u){return(this.isMirror?this.bitMatrix.get(o,i):this.bitMatrix.get(i,o))?u<<1|1:u<<1}readCodewords(){const i=this.readFormatInformation(),o=this.readVersion(),u=Nn.values.get(i.getDataMask()),h=this.bitMatrix.getHeight();u.unmaskBitMatrix(this.bitMatrix,h);const d=o.buildFunctionPattern();let p=!0;const x=new Uint8Array(o.getTotalCodewords());let _=0,C=0,O=0;for(let k=h-1;k>0;k-=2){k===6&&k--;for(let L=0;L<h;L++){const H=p?h-1-L:L;for(let Z=0;Z<2;Z++)d.get(k-Z,H)||(O++,C<<=1,this.bitMatrix.get(k-Z,H)&&(C|=1),O===8&&(x[_++]=C,O=0,C=0))}p=!p}if(_!==o.getTotalCodewords())throw new G;return x}remask(){if(this.parsedFormatInfo===null)return;const i=Nn.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let o=0,u=i.getWidth();o<u;o++)for(let h=o+1,d=i.getHeight();h<d;h++)i.get(o,h)!==i.get(h,o)&&(i.flip(h,o),i.flip(o,h))}}class go{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o,u){if(i.length!==o.getTotalCodewords())throw new A;const h=o.getECBlocksForLevel(u);let d=0;const p=h.getECBlocks();for(const Z of p)d+=Z.getCount();const x=new Array(d);let _=0;for(const Z of p)for(let J=0;J<Z.getCount();J++){const ae=Z.getDataCodewords(),de=h.getECCodewordsPerBlock()+ae;x[_++]=new go(ae,new Uint8Array(de))}const C=x[0].codewords.length;let O=x.length-1;for(;O>=0&&x[O].codewords.length!==C;)O--;O++;const k=C-h.getECCodewordsPerBlock();let L=0;for(let Z=0;Z<k;Z++)for(let J=0;J<_;J++)x[J].codewords[Z]=i[L++];for(let Z=O;Z<_;Z++)x[Z].codewords[k]=i[L++];const H=x[0].codewords.length;for(let Z=k;Z<H;Z++)for(let J=0;J<_;J++){const ae=J<O?Z:Z+1;x[J].codewords[ae]=i[L++]}return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var gr;(function(I){I[I.TERMINATOR=0]="TERMINATOR",I[I.NUMERIC=1]="NUMERIC",I[I.ALPHANUMERIC=2]="ALPHANUMERIC",I[I.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",I[I.BYTE=4]="BYTE",I[I.ECI=5]="ECI",I[I.KANJI=6]="KANJI",I[I.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",I[I.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",I[I.HANZI=9]="HANZI"})(gr||(gr={}));class ze{constructor(i,o,u,h){this.value=i,this.stringValue=o,this.characterCountBitsForVersions=u,this.bits=h,ze.FOR_BITS.set(h,this),ze.FOR_VALUE.set(i,this)}static forBits(i){const o=ze.FOR_BITS.get(i);if(o===void 0)throw new A;return o}getCharacterCountBits(i){const o=i.getVersionNumber();let u;return o<=9?u=0:o<=26?u=1:u=2,this.characterCountBitsForVersions[u]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof ze))return!1;const o=i;return this.value===o.value}toString(){return this.stringValue}}ze.FOR_BITS=new Map,ze.FOR_VALUE=new Map,ze.TERMINATOR=new ze(gr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ze.NUMERIC=new ze(gr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ze.ALPHANUMERIC=new ze(gr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ze.STRUCTURED_APPEND=new ze(gr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ze.BYTE=new ze(gr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ze.ECI=new ze(gr.ECI,"ECI",Int32Array.from([0,0,0]),7),ze.KANJI=new ze(gr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ze.FNC1_FIRST_POSITION=new ze(gr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ze.FNC1_SECOND_POSITION=new ze(gr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ze.HANZI=new ze(gr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Yt{static decode(i,o,u,h){const d=new er(i);let p=new ve;const x=new Array;let _=-1,C=-1;try{let O=null,k=!1,L;do{if(d.available()<4)L=ze.TERMINATOR;else{const H=d.readBits(4);L=ze.forBits(H)}switch(L){case ze.TERMINATOR:break;case ze.FNC1_FIRST_POSITION:case ze.FNC1_SECOND_POSITION:k=!0;break;case ze.STRUCTURED_APPEND:if(d.available()<16)throw new G;_=d.readBits(8),C=d.readBits(8);break;case ze.ECI:const H=Yt.parseECIValue(d);if(O=W.getCharacterSetECIByValue(H),O===null)throw new G;break;case ze.HANZI:const Z=d.readBits(4),J=d.readBits(L.getCharacterCountBits(o));Z===Yt.GB2312_SUBSET&&Yt.decodeHanziSegment(d,p,J);break;default:const ae=d.readBits(L.getCharacterCountBits(o));switch(L){case ze.NUMERIC:Yt.decodeNumericSegment(d,p,ae);break;case ze.ALPHANUMERIC:Yt.decodeAlphanumericSegment(d,p,ae,k);break;case ze.BYTE:Yt.decodeByteSegment(d,p,ae,O,x,h);break;case ze.KANJI:Yt.decodeKanjiSegment(d,p,ae);break;default:throw new G}break}}while(L!==ze.TERMINATOR)}catch{throw new G}return new En(i,p.toString(),x.length===0?null:x,u===null?null:u.toString(),_,C)}static decodeHanziSegment(i,o,u){if(u*13>i.available())throw new G;const h=new Uint8Array(2*u);let d=0;for(;u>0;){const p=i.readBits(13);let x=p/96<<8&4294967295|p%96;x<959?x+=41377:x+=42657,h[d]=x>>8&255,h[d+1]=x&255,d+=2,u--}try{o.append(ce.decode(h,pe.GB2312))}catch(p){throw new G(p)}}static decodeKanjiSegment(i,o,u){if(u*13>i.available())throw new G;const h=new Uint8Array(2*u);let d=0;for(;u>0;){const p=i.readBits(13);let x=p/192<<8&4294967295|p%192;x<7936?x+=33088:x+=49472,h[d]=x>>8,h[d+1]=x,d+=2,u--}try{o.append(ce.decode(h,pe.SHIFT_JIS))}catch(p){throw new G(p)}}static decodeByteSegment(i,o,u,h,d,p){if(8*u>i.available())throw new G;const x=new Uint8Array(u);for(let C=0;C<u;C++)x[C]=i.readBits(8);let _;h===null?_=pe.guessEncoding(x,p):_=h.getName();try{o.append(ce.decode(x,_))}catch(C){throw new G(C)}d.push(x)}static toAlphaNumericChar(i){if(i>=Yt.ALPHANUMERIC_CHARS.length)throw new G;return Yt.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,o,u,h){const d=o.length();for(;u>1;){if(i.available()<11)throw new G;const p=i.readBits(11);o.append(Yt.toAlphaNumericChar(Math.floor(p/45))),o.append(Yt.toAlphaNumericChar(p%45)),u-=2}if(u===1){if(i.available()<6)throw new G;o.append(Yt.toAlphaNumericChar(i.readBits(6)))}if(h)for(let p=d;p<o.length();p++)o.charAt(p)==="%"&&(p<o.length()-1&&o.charAt(p+1)==="%"?o.deleteCharAt(p+1):o.setCharAt(p,""))}static decodeNumericSegment(i,o,u){for(;u>=3;){if(i.available()<10)throw new G;const h=i.readBits(10);if(h>=1e3)throw new G;o.append(Yt.toAlphaNumericChar(Math.floor(h/100))),o.append(Yt.toAlphaNumericChar(Math.floor(h/10)%10)),o.append(Yt.toAlphaNumericChar(h%10)),u-=3}if(u===2){if(i.available()<7)throw new G;const h=i.readBits(7);if(h>=100)throw new G;o.append(Yt.toAlphaNumericChar(Math.floor(h/10))),o.append(Yt.toAlphaNumericChar(h%10))}else if(u===1){if(i.available()<4)throw new G;const h=i.readBits(4);if(h>=10)throw new G;o.append(Yt.toAlphaNumericChar(h))}}static parseECIValue(i){const o=i.readBits(8);if((o&128)===0)return o&127;if((o&192)===128){const u=i.readBits(8);return(o&63)<<8&4294967295|u}if((o&224)===192){const u=i.readBits(16);return(o&31)<<16&4294967295|u}throw new G}}Yt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Yt.GB2312_SUBSET=1;class Cc{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const o=i[0];i[0]=i[2],i[2]=o}}class mo{constructor(){this.rsDecoder=new dr(at.QR_CODE_FIELD_256)}decodeBooleanArray(i,o){return this.decodeBitMatrix(Ne.parseFromBooleanArray(i),o)}decodeBitMatrix(i,o){const u=new Kh(i);let h=null;try{return this.decodeBitMatrixParser(u,o)}catch(d){h=d}try{u.remask(),u.setMirror(!0),u.readVersion(),u.readFormatInformation(),u.mirror();const d=this.decodeBitMatrixParser(u,o);return d.setOther(new Cc(!0)),d}catch(d){throw h!==null?h:d}}decodeBitMatrixParser(i,o){const u=i.readVersion(),h=i.readFormatInformation().getErrorCorrectionLevel(),d=i.readCodewords(),p=go.getDataBlocks(d,u,h);let x=0;for(const O of p)x+=O.getNumDataCodewords();const _=new Uint8Array(x);let C=0;for(const O of p){const k=O.getCodewords(),L=O.getNumDataCodewords();this.correctErrors(k,L);for(let H=0;H<L;H++)_[C++]=k[H]}return Yt.decode(_,u,h,o)}correctErrors(i,o){const u=new Int32Array(i);try{this.rsDecoder.decode(u,i.length-o)}catch{throw new R}for(let h=0;h<o;h++)i[h]=u[h]}}class xs extends Be{constructor(i,o,u){super(i,o),this.estimatedModuleSize=u}aboutEquals(i,o,u){if(Math.abs(o-this.getY())<=i&&Math.abs(u-this.getX())<=i){const h=Math.abs(i-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(i,o,u){const h=(this.getX()+o)/2,d=(this.getY()+i)/2,p=(this.estimatedModuleSize+u)/2;return new xs(h,d,p)}}class Aa{constructor(i,o,u,h,d,p,x){this.image=i,this.startX=o,this.startY=u,this.width=h,this.height=d,this.moduleSize=p,this.resultPointCallback=x,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,o=this.height,u=this.width,h=i+u,d=this.startY+o/2,p=new Int32Array(3),x=this.image;for(let _=0;_<o;_++){const C=d+((_&1)===0?Math.floor((_+1)/2):-Math.floor((_+1)/2));p[0]=0,p[1]=0,p[2]=0;let O=i;for(;O<h&&!x.get(O,C);)O++;let k=0;for(;O<h;){if(x.get(O,C))if(k===1)p[1]++;else if(k===2){if(this.foundPatternCross(p)){const L=this.handlePossibleCenter(p,C,O);if(L!==null)return L}p[0]=p[2],p[1]=1,p[2]=0,k=1}else p[++k]++;else k===1&&k++,p[k]++;O++}if(this.foundPatternCross(p)){const L=this.handlePossibleCenter(p,C,h);if(L!==null)return L}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ne}static centerFromEnd(i,o){return o-i[2]-i[1]/2}foundPatternCross(i){const o=this.moduleSize,u=o/2;for(let h=0;h<3;h++)if(Math.abs(o-i[h])>=u)return!1;return!0}crossCheckVertical(i,o,u,h){const d=this.image,p=d.getHeight(),x=this.crossCheckStateCount;x[0]=0,x[1]=0,x[2]=0;let _=i;for(;_>=0&&d.get(o,_)&&x[1]<=u;)x[1]++,_--;if(_<0||x[1]>u)return NaN;for(;_>=0&&!d.get(o,_)&&x[0]<=u;)x[0]++,_--;if(x[0]>u)return NaN;for(_=i+1;_<p&&d.get(o,_)&&x[1]<=u;)x[1]++,_++;if(_===p||x[1]>u)return NaN;for(;_<p&&!d.get(o,_)&&x[2]<=u;)x[2]++,_++;if(x[2]>u)return NaN;const C=x[0]+x[1]+x[2];return 5*Math.abs(C-h)>=2*h?NaN:this.foundPatternCross(x)?Aa.centerFromEnd(x,_):NaN}handlePossibleCenter(i,o,u){const h=i[0]+i[1]+i[2],d=Aa.centerFromEnd(i,u),p=this.crossCheckVertical(o,d,2*i[1],h);if(!isNaN(p)){const x=(i[0]+i[1]+i[2])/3;for(const C of this.possibleCenters)if(C.aboutEquals(x,p,d))return C.combineEstimate(p,d,x);const _=new xs(d,p,x);this.possibleCenters.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return null}}class Ai extends Be{constructor(i,o,u,h){super(i,o),this.estimatedModuleSize=u,this.count=h,h===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,o,u){if(Math.abs(o-this.getY())<=i&&Math.abs(u-this.getX())<=i){const h=Math.abs(i-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(i,o,u){const h=this.count+1,d=(this.count*this.getX()+o)/h,p=(this.count*this.getY()+i)/h,x=(this.count*this.estimatedModuleSize+u)/h;return new Ai(d,p,x,h)}}class Sa{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class yn{constructor(i,o){this.image=i,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const o=i!=null&&i.get($.TRY_HARDER)!==void 0,u=i!=null&&i.get($.PURE_BARCODE)!==void 0,h=this.image,d=h.getHeight(),p=h.getWidth();let x=Math.floor(3*d/(4*yn.MAX_MODULES));(x<yn.MIN_SKIP||o)&&(x=yn.MIN_SKIP);let _=!1;const C=new Int32Array(5);for(let k=x-1;k<d&&!_;k+=x){C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0;let L=0;for(let H=0;H<p;H++)if(h.get(H,k))(L&1)===1&&L++,C[L]++;else if((L&1)===0)if(L===4)if(yn.foundPatternCross(C)){if(this.handlePossibleCenter(C,k,H,u)===!0)if(x=2,this.hasSkipped===!0)_=this.haveMultiplyConfirmedCenters();else{const J=this.findRowSkip();J>C[2]&&(k+=J-C[2]-x,H=p-1)}else{C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,L=3;continue}L=0,C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0}else C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,L=3;else C[++L]++;else C[L]++;yn.foundPatternCross(C)&&this.handlePossibleCenter(C,k,p,u)===!0&&(x=C[0],this.hasSkipped&&(_=this.haveMultiplyConfirmedCenters()))}const O=this.selectBestPatterns();return Be.orderBestPatterns(O),new Sa(O)}static centerFromEnd(i,o){return o-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let o=0;for(let d=0;d<5;d++){const p=i[d];if(p===0)return!1;o+=p}if(o<7)return!1;const u=o/7,h=u/2;return Math.abs(u-i[0])<h&&Math.abs(u-i[1])<h&&Math.abs(3*u-i[2])<3*h&&Math.abs(u-i[3])<h&&Math.abs(u-i[4])<h}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,o,u,h){const d=this.getCrossCheckStateCount();let p=0;const x=this.image;for(;i>=p&&o>=p&&x.get(o-p,i-p);)d[2]++,p++;if(i<p||o<p)return!1;for(;i>=p&&o>=p&&!x.get(o-p,i-p)&&d[1]<=u;)d[1]++,p++;if(i<p||o<p||d[1]>u)return!1;for(;i>=p&&o>=p&&x.get(o-p,i-p)&&d[0]<=u;)d[0]++,p++;if(d[0]>u)return!1;const _=x.getHeight(),C=x.getWidth();for(p=1;i+p<_&&o+p<C&&x.get(o+p,i+p);)d[2]++,p++;if(i+p>=_||o+p>=C)return!1;for(;i+p<_&&o+p<C&&!x.get(o+p,i+p)&&d[3]<u;)d[3]++,p++;if(i+p>=_||o+p>=C||d[3]>=u)return!1;for(;i+p<_&&o+p<C&&x.get(o+p,i+p)&&d[4]<u;)d[4]++,p++;if(d[4]>=u)return!1;const O=d[0]+d[1]+d[2]+d[3]+d[4];return Math.abs(O-h)<2*h&&yn.foundPatternCross(d)}crossCheckVertical(i,o,u,h){const d=this.image,p=d.getHeight(),x=this.getCrossCheckStateCount();let _=i;for(;_>=0&&d.get(o,_);)x[2]++,_--;if(_<0)return NaN;for(;_>=0&&!d.get(o,_)&&x[1]<=u;)x[1]++,_--;if(_<0||x[1]>u)return NaN;for(;_>=0&&d.get(o,_)&&x[0]<=u;)x[0]++,_--;if(x[0]>u)return NaN;for(_=i+1;_<p&&d.get(o,_);)x[2]++,_++;if(_===p)return NaN;for(;_<p&&!d.get(o,_)&&x[3]<u;)x[3]++,_++;if(_===p||x[3]>=u)return NaN;for(;_<p&&d.get(o,_)&&x[4]<u;)x[4]++,_++;if(x[4]>=u)return NaN;const C=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(C-h)>=2*h?NaN:yn.foundPatternCross(x)?yn.centerFromEnd(x,_):NaN}crossCheckHorizontal(i,o,u,h){const d=this.image,p=d.getWidth(),x=this.getCrossCheckStateCount();let _=i;for(;_>=0&&d.get(_,o);)x[2]++,_--;if(_<0)return NaN;for(;_>=0&&!d.get(_,o)&&x[1]<=u;)x[1]++,_--;if(_<0||x[1]>u)return NaN;for(;_>=0&&d.get(_,o)&&x[0]<=u;)x[0]++,_--;if(x[0]>u)return NaN;for(_=i+1;_<p&&d.get(_,o);)x[2]++,_++;if(_===p)return NaN;for(;_<p&&!d.get(_,o)&&x[3]<u;)x[3]++,_++;if(_===p||x[3]>=u)return NaN;for(;_<p&&d.get(_,o)&&x[4]<u;)x[4]++,_++;if(x[4]>=u)return NaN;const C=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(C-h)>=h?NaN:yn.foundPatternCross(x)?yn.centerFromEnd(x,_):NaN}handlePossibleCenter(i,o,u,h){const d=i[0]+i[1]+i[2]+i[3]+i[4];let p=yn.centerFromEnd(i,u),x=this.crossCheckVertical(o,Math.floor(p),i[2],d);if(!isNaN(x)&&(p=this.crossCheckHorizontal(Math.floor(p),Math.floor(x),i[2],d),!isNaN(p)&&(!h||this.crossCheckDiagonal(Math.floor(x),Math.floor(p),i[2],d)))){const _=d/7;let C=!1;const O=this.possibleCenters;for(let k=0,L=O.length;k<L;k++){const H=O[k];if(H.aboutEquals(_,x,p)){O[k]=H.combineEstimate(x,p,_),C=!0;break}}if(!C){const k=new Ai(p,x,_);O.push(k),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(k)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const u of this.possibleCenters)if(u.getCount()>=yn.CENTER_QUORUM)if(o==null)o=u;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-u.getX())-Math.abs(o.getY()-u.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,o=0;const u=this.possibleCenters.length;for(const p of this.possibleCenters)p.getCount()>=yn.CENTER_QUORUM&&(i++,o+=p.getEstimatedModuleSize());if(i<3)return!1;const h=o/u;let d=0;for(const p of this.possibleCenters)d+=Math.abs(p.getEstimatedModuleSize()-h);return d<=.05*o}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new ne;const o=this.possibleCenters;let u;if(i>3){let h=0,d=0;for(const _ of this.possibleCenters){const C=_.getEstimatedModuleSize();h+=C,d+=C*C}u=h/i;let p=Math.sqrt(d/i-u*u);o.sort((_,C)=>{const O=Math.abs(C.getEstimatedModuleSize()-u),k=Math.abs(_.getEstimatedModuleSize()-u);return O<k?-1:O>k?1:0});const x=Math.max(.2*u,p);for(let _=0;_<o.length&&o.length>3;_++){const C=o[_];Math.abs(C.getEstimatedModuleSize()-u)>x&&(o.splice(_,1),_--)}}if(o.length>3){let h=0;for(const d of o)h+=d.getEstimatedModuleSize();u=h/o.length,o.sort((d,p)=>{if(p.getCount()===d.getCount()){const x=Math.abs(p.getEstimatedModuleSize()-u),_=Math.abs(d.getEstimatedModuleSize()-u);return x<_?1:x>_?-1:0}else return p.getCount()-d.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}yn.CENTER_QUORUM=2,yn.MIN_SKIP=3,yn.MAX_MODULES=57;class Ki{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get($.NEED_RESULT_POINT_CALLBACK);const u=new yn(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(u)}processFinderPatternInfo(i){const o=i.getTopLeft(),u=i.getTopRight(),h=i.getBottomLeft(),d=this.calculateModuleSize(o,u,h);if(d<1)throw new ne("No pattern found in proccess finder.");const p=Ki.computeDimension(o,u,h,d),x=qe.getProvisionalVersionForDimension(p),_=x.getDimensionForVersion()-7;let C=null;if(x.getAlignmentPatternCenters().length>0){const H=u.getX()-o.getX()+h.getX(),Z=u.getY()-o.getY()+h.getY(),J=1-3/_,ae=Math.floor(o.getX()+J*(H-o.getX())),de=Math.floor(o.getY()+J*(Z-o.getY()));for(let Te=4;Te<=16;Te<<=1)try{C=this.findAlignmentInRegion(d,ae,de,Te);break}catch(Re){if(!(Re instanceof ne))throw Re}}const O=Ki.createTransform(o,u,h,C,p),k=Ki.sampleGrid(this.image,O,p);let L;return C===null?L=[h,o,u]:L=[h,o,u,C],new jn(k,L)}static createTransform(i,o,u,h,d){const p=d-3.5;let x,_,C,O;return h!==null?(x=h.getX(),_=h.getY(),C=p-3,O=C):(x=o.getX()-i.getX()+u.getX(),_=o.getY()-i.getY()+u.getY(),C=p,O=p),an.quadrilateralToQuadrilateral(3.5,3.5,p,3.5,C,O,3.5,p,i.getX(),i.getY(),o.getX(),o.getY(),x,_,u.getX(),u.getY())}static sampleGrid(i,o,u){return Pt.getInstance().sampleGridWithTransform(i,u,u,o)}static computeDimension(i,o,u,h){const d=Ze.round(Be.distance(i,o)/h),p=Ze.round(Be.distance(i,u)/h);let x=Math.floor((d+p)/2)+7;switch(x&3){case 0:x++;break;case 2:x--;break;case 3:throw new ne("Dimensions could be not found.")}return x}calculateModuleSize(i,o,u){return(this.calculateModuleSizeOneWay(i,o)+this.calculateModuleSizeOneWay(i,u))/2}calculateModuleSizeOneWay(i,o){const u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(o.getX()),Math.floor(o.getY())),h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(u)?h/7:isNaN(h)?u/7:(u+h)/14}sizeOfBlackWhiteBlackRunBothWays(i,o,u,h){let d=this.sizeOfBlackWhiteBlackRun(i,o,u,h),p=1,x=i-(u-i);x<0?(p=i/(i-x),x=0):x>=this.image.getWidth()&&(p=(this.image.getWidth()-1-i)/(x-i),x=this.image.getWidth()-1);let _=Math.floor(o-(h-o)*p);return p=1,_<0?(p=o/(o-_),_=0):_>=this.image.getHeight()&&(p=(this.image.getHeight()-1-o)/(_-o),_=this.image.getHeight()-1),x=Math.floor(i+(x-i)*p),d+=this.sizeOfBlackWhiteBlackRun(i,o,x,_),d-1}sizeOfBlackWhiteBlackRun(i,o,u,h){const d=Math.abs(h-o)>Math.abs(u-i);if(d){let H=i;i=o,o=H,H=u,u=h,h=H}const p=Math.abs(u-i),x=Math.abs(h-o);let _=-p/2;const C=i<u?1:-1,O=o<h?1:-1;let k=0;const L=u+C;for(let H=i,Z=o;H!==L;H+=C){const J=d?Z:H,ae=d?H:Z;if(k===1===this.image.get(J,ae)){if(k===2)return Ze.distance(H,Z,i,o);k++}if(_+=x,_>0){if(Z===h)break;Z+=O,_-=p}}return k===2?Ze.distance(u+C,h,i,o):NaN}findAlignmentInRegion(i,o,u,h){const d=Math.floor(h*i),p=Math.max(0,o-d),x=Math.min(this.image.getWidth()-1,o+d);if(x-p<i*3)throw new ne("Alignment top exceeds estimated module size.");const _=Math.max(0,u-d),C=Math.min(this.image.getHeight()-1,u+d);if(C-_<i*3)throw new ne("Alignment bottom exceeds estimated module size.");return new Aa(this.image,p,_,x-p,C-_,i,this.resultPointCallback).find()}}class ui{constructor(){this.decoder=new mo}getDecoder(){return this.decoder}decode(i,o){let u,h;if(o!=null&&o.get($.PURE_BARCODE)!==void 0){const _=ui.extractPureBits(i.getBlackMatrix());u=this.decoder.decodeBitMatrix(_,o),h=ui.NO_POINTS}else{const _=new Ki(i.getBlackMatrix()).detect(o);u=this.decoder.decodeBitMatrix(_.getBits(),o),h=_.getPoints()}u.getOther()instanceof Cc&&u.getOther().applyMirroredCorrection(h);const d=new ke(u.getText(),u.getRawBytes(),void 0,h,Ae.QR_CODE,void 0),p=u.getByteSegments();p!==null&&d.putMetadata(Ve.BYTE_SEGMENTS,p);const x=u.getECLevel();return x!==null&&d.putMetadata(Ve.ERROR_CORRECTION_LEVEL,x),u.hasStructuredAppend()&&(d.putMetadata(Ve.STRUCTURED_APPEND_SEQUENCE,u.getStructuredAppendSequenceNumber()),d.putMetadata(Ve.STRUCTURED_APPEND_PARITY,u.getStructuredAppendParity())),d}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),u=i.getBottomRightOnBit();if(o===null||u===null)throw new ne;const h=this.moduleSize(o,i);let d=o[1],p=u[1],x=o[0],_=u[0];if(x>=_||d>=p)throw new ne;if(p-d!==_-x&&(_=x+(p-d),_>=i.getWidth()))throw new ne;const C=Math.round((_-x+1)/h),O=Math.round((p-d+1)/h);if(C<=0||O<=0)throw new ne;if(O!==C)throw new ne;const k=Math.floor(h/2);d+=k,x+=k;const L=x+Math.floor((C-1)*h)-_;if(L>0){if(L>k)throw new ne;x-=L}const H=d+Math.floor((O-1)*h)-p;if(H>0){if(H>k)throw new ne;d-=H}const Z=new Ne(C,O);for(let J=0;J<O;J++){const ae=d+Math.floor(J*h);for(let de=0;de<C;de++)i.get(x+Math.floor(de*h),ae)&&Z.set(de,J)}return Z}static moduleSize(i,o){const u=o.getHeight(),h=o.getWidth();let d=i[0],p=i[1],x=!0,_=0;for(;d<h&&p<u;){if(x!==o.get(d,p)){if(++_===5)break;x=!x}d++,p++}if(d===h||p===u)throw new ne;return(d-i[0])/7}}ui.NO_POINTS=new Array;class Ge{PDF417Common(){}static getBitCountSum(i){return Ze.sum(i)}static toIntArray(i){if(i==null||!i.length)return Ge.EMPTY_INT_ARRAY;const o=new Int32Array(i.length);let u=0;for(const h of i)o[u++]=h;return o}static getCodeword(i){const o=q.binarySearch(Ge.SYMBOL_TABLE,i&262143);return o<0?-1:(Ge.CODEWORD_TABLE[o]-1)%Ge.NUMBER_OF_CODEWORDS}}Ge.NUMBER_OF_CODEWORDS=929,Ge.MAX_CODEWORDS_IN_BARCODE=Ge.NUMBER_OF_CODEWORDS-1,Ge.MIN_ROWS_IN_BARCODE=3,Ge.MAX_ROWS_IN_BARCODE=90,Ge.MODULES_IN_CODEWORD=17,Ge.MODULES_IN_STOP_PATTERN=18,Ge.BARS_IN_MODULE=8,Ge.EMPTY_INT_ARRAY=new Int32Array([]),Ge.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ge.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class ci{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Je{static detectMultiple(i,o,u){let h=i.getBlackMatrix(),d=Je.detect(u,h);return d.length||(h=h.clone(),h.rotate180(),d=Je.detect(u,h)),new ci(h,d)}static detect(i,o){const u=new Array;let h=0,d=0,p=!1;for(;h<o.getHeight();){const x=Je.findVertices(o,h,d);if(x[0]==null&&x[3]==null){if(!p)break;p=!1,d=0;for(const _ of u)_[1]!=null&&(h=Math.trunc(Math.max(h,_[1].getY()))),_[3]!=null&&(h=Math.max(h,Math.trunc(_[3].getY())));h+=Je.ROW_STEP;continue}if(p=!0,u.push(x),!i)break;x[2]!=null?(d=Math.trunc(x[2].getX()),h=Math.trunc(x[2].getY())):(d=Math.trunc(x[4].getX()),h=Math.trunc(x[4].getY()))}return u}static findVertices(i,o,u){const h=i.getHeight(),d=i.getWidth(),p=new Array(8);return Je.copyToResult(p,Je.findRowsWithPattern(i,h,d,o,u,Je.START_PATTERN),Je.INDEXES_START_PATTERN),p[4]!=null&&(u=Math.trunc(p[4].getX()),o=Math.trunc(p[4].getY())),Je.copyToResult(p,Je.findRowsWithPattern(i,h,d,o,u,Je.STOP_PATTERN),Je.INDEXES_STOP_PATTERN),p}static copyToResult(i,o,u){for(let h=0;h<u.length;h++)i[u[h]]=o[h]}static findRowsWithPattern(i,o,u,h,d,p){const x=new Array(4);let _=!1;const C=new Int32Array(p.length);for(;h<o;h+=Je.ROW_STEP){let k=Je.findGuardPattern(i,d,h,u,!1,p,C);if(k!=null){for(;h>0;){const L=Je.findGuardPattern(i,d,--h,u,!1,p,C);if(L!=null)k=L;else{h++;break}}x[0]=new Be(k[0],h),x[1]=new Be(k[1],h),_=!0;break}}let O=h+1;if(_){let k=0,L=Int32Array.from([Math.trunc(x[0].getX()),Math.trunc(x[1].getX())]);for(;O<o;O++){const H=Je.findGuardPattern(i,L[0],O,u,!1,p,C);if(H!=null&&Math.abs(L[0]-H[0])<Je.MAX_PATTERN_DRIFT&&Math.abs(L[1]-H[1])<Je.MAX_PATTERN_DRIFT)L=H,k=0;else{if(k>Je.SKIPPED_ROW_COUNT_MAX)break;k++}}O-=k+1,x[2]=new Be(L[0],O),x[3]=new Be(L[1],O)}return O-h<Je.BARCODE_MIN_HEIGHT&&q.fill(x,null),x}static findGuardPattern(i,o,u,h,d,p,x){q.fillWithin(x,0,x.length,0);let _=o,C=0;for(;i.get(_,u)&&_>0&&C++<Je.MAX_PIXEL_DRIFT;)_--;let O=_,k=0,L=p.length;for(let H=d;O<h;O++)if(i.get(O,u)!==H)x[k]++;else{if(k===L-1){if(Je.patternMatchVariance(x,p,Je.MAX_INDIVIDUAL_VARIANCE)<Je.MAX_AVG_VARIANCE)return new Int32Array([_,O]);_+=x[0]+x[1],D.arraycopy(x,2,x,0,k-1),x[k-1]=0,x[k]=0,k--}else k++;x[k]=1,H=!H}return k===L-1&&Je.patternMatchVariance(x,p,Je.MAX_INDIVIDUAL_VARIANCE)<Je.MAX_AVG_VARIANCE?new Int32Array([_,O-1]):null}static patternMatchVariance(i,o,u){let h=i.length,d=0,p=0;for(let C=0;C<h;C++)d+=i[C],p+=o[C];if(d<p)return 1/0;let x=d/p;u*=x;let _=0;for(let C=0;C<h;C++){let O=i[C],k=o[C]*x,L=O>k?O-k:k-O;if(L>u)return 1/0;_+=L}return _/d}}Je.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Je.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Je.MAX_AVG_VARIANCE=.42,Je.MAX_INDIVIDUAL_VARIANCE=.8,Je.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Je.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Je.MAX_PIXEL_DRIFT=3,Je.MAX_PATTERN_DRIFT=5,Je.SKIPPED_ROW_COUNT_MAX=25,Je.ROW_STEP=5,Je.BARCODE_MIN_HEIGHT=10;class nn{constructor(i,o){if(o.length===0)throw new A;this.field=i;let u=o.length;if(u>1&&o[0]===0){let h=1;for(;h<u&&o[h]===0;)h++;h===u?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(u-h),D.arraycopy(o,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let h=0;for(let d of this.coefficients)h=this.field.add(h,d);return h}let o=this.coefficients[0],u=this.coefficients.length;for(let h=1;h<u;h++)o=this.field.add(this.field.multiply(i,o),this.coefficients[h]);return o}add(i){if(!this.field.equals(i.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,u=i.coefficients;if(o.length>u.length){let p=o;o=u,u=p}let h=new Int32Array(u.length),d=u.length-o.length;D.arraycopy(u,0,h,0,d);for(let p=d;p<u.length;p++)h[p]=this.field.add(o[p-d],u[p]);return new nn(this.field,h)}subtract(i){if(!this.field.equals(i.field))throw new A("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof nn?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new nn(this.field,new Int32Array([0]));let o=this.coefficients,u=o.length,h=i.coefficients,d=h.length,p=new Int32Array(u+d-1);for(let x=0;x<u;x++){let _=o[x];for(let C=0;C<d;C++)p[x+C]=this.field.add(p[x+C],this.field.multiply(_,h[C]))}return new nn(this.field,p)}negative(){let i=this.coefficients.length,o=new Int32Array(i);for(let u=0;u<i;u++)o[u]=this.field.subtract(0,this.coefficients[u]);return new nn(this.field,o)}multiplyScalar(i){if(i===0)return new nn(this.field,new Int32Array([0]));if(i===1)return this;let o=this.coefficients.length,u=new Int32Array(o);for(let h=0;h<o;h++)u[h]=this.field.multiply(this.coefficients[h],i);return new nn(this.field,u)}multiplyByMonomial(i,o){if(i<0)throw new A;if(o===0)return new nn(this.field,new Int32Array([0]));let u=this.coefficients.length,h=new Int32Array(u+i);for(let d=0;d<u;d++)h[d]=this.field.multiply(this.coefficients[d],o);return new nn(this.field,h)}toString(){let i=new ve;for(let o=this.getDegree();o>=0;o--){let u=this.getCoefficient(o);u!==0&&(u<0?(i.append(" - "),u=-u):i.length()>0&&i.append(" + "),(o===0||u!==1)&&i.append(u),o!==0&&(o===1?i.append("x"):(i.append("x^"),i.append(o))))}return i.toString()}}class Si{add(i,o){return(i+o)%this.modulus}subtract(i,o){return(this.modulus+i-o)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new A;return this.logTable[i]}inverse(i){if(i===0)throw new Gr;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class bs extends Si{constructor(i,o){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let u=1;for(let h=0;h<i;h++)this.expTable[h]=u,u=u*o%i;for(let h=0;h<i-1;h++)this.logTable[this.expTable[h]]=h;this.zero=new nn(this,new Int32Array([0])),this.one=new nn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new A;if(o===0)return this.zero;let u=new Int32Array(i+1);return u[0]=o,new nn(this,u)}}bs.PDF417_GF=new bs(Ge.NUMBER_OF_CODEWORDS,3);class Es{constructor(){this.field=bs.PDF417_GF}decode(i,o,u){let h=new nn(this.field,i),d=new Int32Array(o),p=!1;for(let Z=o;Z>0;Z--){let J=h.evaluateAt(this.field.exp(Z));d[o-Z]=J,J!==0&&(p=!0)}if(!p)return 0;let x=this.field.getOne();if(u!=null)for(const Z of u){let J=this.field.exp(i.length-1-Z),ae=new nn(this.field,new Int32Array([this.field.subtract(0,J),1]));x=x.multiply(ae)}let _=new nn(this.field,d),C=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),_,o),O=C[0],k=C[1],L=this.findErrorLocations(O),H=this.findErrorMagnitudes(k,O,L);for(let Z=0;Z<L.length;Z++){let J=i.length-1-this.field.log(L[Z]);if(J<0)throw R.getChecksumInstance();i[J]=this.field.subtract(i[J],H[Z])}return L.length}runEuclideanAlgorithm(i,o,u){if(i.getDegree()<o.getDegree()){let L=i;i=o,o=L}let h=i,d=o,p=this.field.getZero(),x=this.field.getOne();for(;d.getDegree()>=Math.round(u/2);){let L=h,H=p;if(h=d,p=x,h.isZero())throw R.getChecksumInstance();d=L;let Z=this.field.getZero(),J=h.getCoefficient(h.getDegree()),ae=this.field.inverse(J);for(;d.getDegree()>=h.getDegree()&&!d.isZero();){let de=d.getDegree()-h.getDegree(),Te=this.field.multiply(d.getCoefficient(d.getDegree()),ae);Z=Z.add(this.field.buildMonomial(de,Te)),d=d.subtract(h.multiplyByMonomial(de,Te))}x=Z.multiply(p).subtract(H).negative()}let _=x.getCoefficient(0);if(_===0)throw R.getChecksumInstance();let C=this.field.inverse(_),O=x.multiply(C),k=d.multiply(C);return[O,k]}findErrorLocations(i){let o=i.getDegree(),u=new Int32Array(o),h=0;for(let d=1;d<this.field.getSize()&&h<o;d++)i.evaluateAt(d)===0&&(u[h]=this.field.inverse(d),h++);if(h!==o)throw R.getChecksumInstance();return u}findErrorMagnitudes(i,o,u){let h=o.getDegree(),d=new Int32Array(h);for(let C=1;C<=h;C++)d[h-C]=this.field.multiply(C,o.getCoefficient(C));let p=new nn(this.field,d),x=u.length,_=new Int32Array(x);for(let C=0;C<x;C++){let O=this.field.inverse(u[C]),k=this.field.subtract(0,i.evaluateAt(O)),L=this.field.inverse(p.evaluateAt(O));_[C]=this.field.multiply(k,L)}return _}}class Ci{constructor(i,o,u,h,d){i instanceof Ci?this.constructor_2(i):this.constructor_1(i,o,u,h,d)}constructor_1(i,o,u,h,d){const p=o==null||u==null,x=h==null||d==null;if(p&&x)throw new ne;p?(o=new Be(0,h.getY()),u=new Be(0,d.getY())):x&&(h=new Be(i.getWidth()-1,o.getY()),d=new Be(i.getWidth()-1,u.getY())),this.image=i,this.topLeft=o,this.bottomLeft=u,this.topRight=h,this.bottomRight=d,this.minX=Math.trunc(Math.min(o.getX(),u.getX())),this.maxX=Math.trunc(Math.max(h.getX(),d.getX())),this.minY=Math.trunc(Math.min(o.getY(),h.getY())),this.maxY=Math.trunc(Math.max(u.getY(),d.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,o){return i==null?o:o==null?i:new Ci(i.image,i.topLeft,i.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(i,o,u){let h=this.topLeft,d=this.bottomLeft,p=this.topRight,x=this.bottomRight;if(i>0){let _=u?this.topLeft:this.topRight,C=Math.trunc(_.getY()-i);C<0&&(C=0);let O=new Be(_.getX(),C);u?h=O:p=O}if(o>0){let _=u?this.bottomLeft:this.bottomRight,C=Math.trunc(_.getY()+o);C>=this.image.getHeight()&&(C=this.image.getHeight()-1);let O=new Be(_.getX(),C);u?d=O:x=O}return new Ci(this.image,h,d,p,x)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class po{constructor(i,o,u,h){this.columnCount=i,this.errorCorrectionLevel=h,this.rowCountUpperPart=o,this.rowCountLowerPart=u,this.rowCount=o+u}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ti{constructor(){this.buffer=""}static form(i,o){let u=-1;function h(p,x,_,C,O,k){if(p==="%%")return"%";if(o[++u]===void 0)return;p=C?parseInt(C.substr(1)):void 0;let L=O?parseInt(O.substr(1)):void 0,H;switch(k){case"s":H=o[u];break;case"c":H=o[u][0];break;case"f":H=parseFloat(o[u]).toFixed(p);break;case"p":H=parseFloat(o[u]).toPrecision(p);break;case"e":H=parseFloat(o[u]).toExponential(p);break;case"x":H=parseInt(o[u]).toString(L||16);break;case"d":H=parseFloat(parseInt(o[u],L||10).toPrecision(p)).toFixed(0);break}H=typeof H=="object"?JSON.stringify(H):(+H).toString(L);let Z=parseInt(_),J=_&&_[0]+""=="0"?"0":" ";for(;H.length<Z;)H=x!==void 0?H+J:J+H;return H}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(d,h)}format(i,...o){this.buffer+=Ti.form(i,o)}toString(){return this.buffer}}class Ca{constructor(i){this.boundingBox=new Ci(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let o=this.getCodeword(i);if(o!=null)return o;for(let u=1;u<Ca.MAX_NEARBY_DISTANCE;u++){let h=this.imageRowToCodewordIndex(i)-u;if(h>=0&&(o=this.codewords[h],o!=null)||(h=this.imageRowToCodewordIndex(i)+u,h<this.codewords.length&&(o=this.codewords[h],o!=null)))return o}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,o){this.codewords[this.imageRowToCodewordIndex(i)]=o}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new Ti;let o=0;for(const u of this.codewords){if(u==null){i.format("%3d:    |   %n",o++);continue}i.format("%3d: %3d|%3d%n",o++,u.getRowNumber(),u.getValue())}return i.toString()}}Ca.MAX_NEARBY_DISTANCE=5;class Sn{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let o=this.values.get(i);o==null&&(o=0),o++,this.values.set(i,o)}getValue(){let i=-1,o=new Array;for(const[u,h]of this.values.entries()){const d={getKey:()=>u,getValue:()=>h};d.getValue()>i?(i=d.getValue(),o=[],o.push(d.getKey())):d.getValue()===i&&o.push(d.getKey())}return Ge.toIntArray(o)}getConfidence(i){return this.values.get(i)}}class Oi extends Ca{constructor(i,o){super(i),this._isLeft=o}setRowNumbers(){for(let i of this.getCodewords())i?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,i);let u=this.getBoundingBox(),h=this._isLeft?u.getTopLeft():u.getTopRight(),d=this._isLeft?u.getBottomLeft():u.getBottomRight(),p=this.imageRowToCodewordIndex(Math.trunc(h.getY())),x=this.imageRowToCodewordIndex(Math.trunc(d.getY())),_=-1,C=1,O=0;for(let k=p;k<x;k++){if(o[k]==null)continue;let L=o[k],H=L.getRowNumber()-_;if(H===0)O++;else if(H===1)C=Math.max(C,O),O=1,_=L.getRowNumber();else if(H<0||L.getRowNumber()>=i.getRowCount()||H>k)o[k]=null;else{let Z;C>2?Z=(C-2)*H:Z=H;let J=Z>=k;for(let ae=1;ae<=Z&&!J;ae++)J=o[k-ae]!=null;J?o[k]=null:(_=L.getRowNumber(),O=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let o=new Int32Array(i.getRowCount());for(let u of this.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=o.length)continue;o[h]++}return o}adjustIncompleteIndicatorColumnRowNumbers(i){let o=this.getBoundingBox(),u=this._isLeft?o.getTopLeft():o.getTopRight(),h=this._isLeft?o.getBottomLeft():o.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(u.getY())),p=this.imageRowToCodewordIndex(Math.trunc(h.getY())),x=this.getCodewords(),_=-1;for(let C=d;C<p;C++){if(x[C]==null)continue;let O=x[C];O.setRowNumberAsRowIndicatorColumn();let k=O.getRowNumber()-_;k===0||(k===1?_=O.getRowNumber():O.getRowNumber()>=i.getRowCount()?x[C]=null:_=O.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),o=new Sn,u=new Sn,h=new Sn,d=new Sn;for(let x of i){if(x==null)continue;x.setRowNumberAsRowIndicatorColumn();let _=x.getValue()%30,C=x.getRowNumber();switch(this._isLeft||(C+=2),C%3){case 0:u.setValue(_*3+1);break;case 1:d.setValue(_/3),h.setValue(_%3);break;case 2:o.setValue(_+1);break}}if(o.getValue().length===0||u.getValue().length===0||h.getValue().length===0||d.getValue().length===0||o.getValue()[0]<1||u.getValue()[0]+h.getValue()[0]<Ge.MIN_ROWS_IN_BARCODE||u.getValue()[0]+h.getValue()[0]>Ge.MAX_ROWS_IN_BARCODE)return null;let p=new po(o.getValue()[0],u.getValue()[0],h.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(i,p),p}removeIncorrectCodewords(i,o){for(let u=0;u<i.length;u++){let h=i[u];if(i[u]==null)continue;let d=h.getValue()%30,p=h.getRowNumber();if(p>o.getRowCount()){i[u]=null;continue}switch(this._isLeft||(p+=2),p%3){case 0:d*3+1!==o.getRowCountUpperPart()&&(i[u]=null);break;case 1:(Math.trunc(d/3)!==o.getErrorCorrectionLevel()||d%3!==o.getRowCountLowerPart())&&(i[u]=null);break;case 2:d+1!==o.getColumnCount()&&(i[u]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ri{constructor(i,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=Ge.MAX_CODEWORDS_IN_BARCODE,o;do o=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let u=this.detectionResultColumns[o].getCodewords();for(let h=0;h<u.length;h++)u[h]!=null&&(u[h].hasValidRowNumber()||this.adjustRowNumbers(o,h,u))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<i.length;u++)if(i[u]!=null&&o[u]!=null&&i[u].getRowNumber()===o[u].getRowNumber())for(let h=1;h<=this.barcodeColumnCount;h++){let d=this.detectionResultColumns[h].getCodewords()[u];d!=null&&(d.setRowNumber(i[u].getRowNumber()),d.hasValidRowNumber()||(this.detectionResultColumns[h].getCodewords()[u]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<o.length;u++){if(o[u]==null)continue;let h=o[u].getRowNumber(),d=0;for(let p=this.barcodeColumnCount+1;p>0&&d<this.ADJUST_ROW_NUMBER_SKIP;p--){let x=this.detectionResultColumns[p].getCodewords()[u];x!=null&&(d=Ri.adjustRowNumberIfValid(h,d,x),x.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,o=this.detectionResultColumns[0].getCodewords();for(let u=0;u<o.length;u++){if(o[u]==null)continue;let h=o[u].getRowNumber(),d=0;for(let p=1;p<this.barcodeColumnCount+1&&d<this.ADJUST_ROW_NUMBER_SKIP;p++){let x=this.detectionResultColumns[p].getCodewords()[u];x!=null&&(d=Ri.adjustRowNumberIfValid(h,d,x),x.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,o,u){return u==null||u.hasValidRowNumber()||(u.isValidRowNumber(i)?(u.setRowNumber(i),o=0):++o),o}adjustRowNumbers(i,o,u){if(!this.detectionResultColumns[i-1])return;let h=u[o],d=this.detectionResultColumns[i-1].getCodewords(),p=d;this.detectionResultColumns[i+1]!=null&&(p=this.detectionResultColumns[i+1].getCodewords());let x=new Array(14);x[2]=d[o],x[3]=p[o],o>0&&(x[0]=u[o-1],x[4]=d[o-1],x[5]=p[o-1]),o>1&&(x[8]=u[o-2],x[10]=d[o-2],x[11]=p[o-2]),o<u.length-1&&(x[1]=u[o+1],x[6]=d[o+1],x[7]=p[o+1]),o<u.length-2&&(x[9]=u[o+2],x[12]=d[o+2],x[13]=p[o+2]);for(let _ of x)if(Ri.adjustRowNumber(h,_))return}static adjustRowNumber(i,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===i.getBucket()?(i.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,o){this.detectionResultColumns[i]=o}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new Ti;for(let u=0;u<i.getCodewords().length;u++){o.format("CW %3d:",u);for(let h=0;h<this.barcodeColumnCount+2;h++){if(this.detectionResultColumns[h]==null){o.format("    |   ");continue}let d=this.detectionResultColumns[h].getCodewords()[u];if(d==null){o.format("    |   ");continue}o.format(" %3d|%3d",d.getRowNumber(),d.getValue())}o.format("%n")}return o.toString()}}class fi{constructor(i,o,u,h){this.rowNumber=fi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(o),this.bucket=Math.trunc(u),this.value=Math.trunc(h)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==fi.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}fi.BARCODE_ROW_UNKNOWN=-1;class tr{static initialize(){for(let i=0;i<Ge.SYMBOL_TABLE.length;i++){let o=Ge.SYMBOL_TABLE[i],u=o&1;for(let h=0;h<Ge.BARS_IN_MODULE;h++){let d=0;for(;(o&1)===u;)d+=1,o>>=1;u=o&1,tr.RATIOS_TABLE[i]||(tr.RATIOS_TABLE[i]=new Array(Ge.BARS_IN_MODULE)),tr.RATIOS_TABLE[i][Ge.BARS_IN_MODULE-h-1]=Math.fround(d/Ge.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let o=tr.getDecodedCodewordValue(tr.sampleBitCounts(i));return o!==-1?o:tr.getClosestDecodedValue(i)}static sampleBitCounts(i){let o=Ze.sum(i),u=new Int32Array(Ge.BARS_IN_MODULE),h=0,d=0;for(let p=0;p<Ge.MODULES_IN_CODEWORD;p++){let x=o/(2*Ge.MODULES_IN_CODEWORD)+p*o/Ge.MODULES_IN_CODEWORD;d+i[h]<=x&&(d+=i[h],h++),u[h]++}return u}static getDecodedCodewordValue(i){let o=tr.getBitValue(i);return Ge.getCodeword(o)===-1?-1:o}static getBitValue(i){let o=0;for(let u=0;u<i.length;u++)for(let h=0;h<i[u];h++)o=o<<1|(u%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(i){let o=Ze.sum(i),u=new Array(Ge.BARS_IN_MODULE);if(o>1)for(let p=0;p<u.length;p++)u[p]=Math.fround(i[p]/o);let h=Xn.MAX_VALUE,d=-1;this.bSymbolTableReady||tr.initialize();for(let p=0;p<tr.RATIOS_TABLE.length;p++){let x=0,_=tr.RATIOS_TABLE[p];for(let C=0;C<Ge.BARS_IN_MODULE;C++){let O=Math.fround(_[C]-u[C]);if(x+=Math.fround(O*O),x>=h)break}x<h&&(h=x,d=Ge.SYMBOL_TABLE[p])}return d}}tr.bSymbolTableReady=!1,tr.RATIOS_TABLE=new Array(Ge.SYMBOL_TABLE.length).map(I=>new Array(Ge.BARS_IN_MODULE));class vo{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class yo{static parseLong(i,o=void 0){return parseInt(i,o)}}class Ta extends y{}Ta.kind="NullPointerException";class wo{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,o,u){if(i==null)throw new Ta;if(o<0||o>i.length||u<0||o+u>i.length||o+u<0)throw new B;if(u===0)return;for(let h=0;h<u;h++)this.write(i[o+h])}flush(){}close(){}}class Tc extends y{}class $h extends wo{constructor(i=32){if(super(),this.count=0,i<0)throw new A("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let u=this.buf.length<<1;if(u-i<0&&(u=i),u<0){if(i<0)throw new Tc;u=P.MAX_VALUE}this.buf=q.copyOfUint8Array(this.buf,u)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,o,u){if(o<0||o>i.length||u<0||o+u-i.length>0)throw new B;this.ensureCapacity(this.count+u),D.arraycopy(i,o,this.buf,this.count,u),this.count+=u}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return q.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var Ct;(function(I){I[I.ALPHA=0]="ALPHA",I[I.LOWER=1]="LOWER",I[I.MIXED=2]="MIXED",I[I.PUNCT=3]="PUNCT",I[I.ALPHA_SHIFT=4]="ALPHA_SHIFT",I[I.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ct||(Ct={}));function Oc(){if(typeof window<"u")return window.BigInt||null;if(typeof ss<"u")return ss.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Oa;function Di(I){if(typeof Oa>"u"&&(Oa=Oc()),Oa===null)throw new Error("BigInt is not supported!");return Oa(I)}function Zh(){let I=[];I[0]=Di(1);let i=Di(900);I[1]=i;for(let o=2;o<16;o++)I[o]=I[o-1]*i;return I}class me{static decode(i,o){let u=new ve(""),h=W.ISO8859_1;u.enableDecoding(h);let d=1,p=i[d++],x=new vo;for(;d<i[0];){switch(p){case me.TEXT_COMPACTION_MODE_LATCH:d=me.textCompaction(i,d,u);break;case me.BYTE_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH_6:d=me.byteCompaction(p,i,h,d,u);break;case me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[d++]);break;case me.NUMERIC_COMPACTION_MODE_LATCH:d=me.numericCompaction(i,d,u);break;case me.ECI_CHARSET:W.getCharacterSetECIByValue(i[d++]);break;case me.ECI_GENERAL_PURPOSE:d+=2;break;case me.ECI_USER_DEFINED:d++;break;case me.BEGIN_MACRO_PDF417_CONTROL_BLOCK:d=me.decodeMacroBlock(i,d,x);break;case me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case me.MACRO_PDF417_TERMINATOR:throw new G;default:d--,d=me.textCompaction(i,d,u);break}if(d<i.length)p=i[d++];else throw G.getFormatInstance()}if(u.length()===0)throw G.getFormatInstance();let _=new En(null,u.toString(),null,o);return _.setOther(x),_}static decodeMacroBlock(i,o,u){if(o+me.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw G.getFormatInstance();let h=new Int32Array(me.NUMBER_OF_SEQUENCE_CODEWORDS);for(let x=0;x<me.NUMBER_OF_SEQUENCE_CODEWORDS;x++,o++)h[x]=i[o];u.setSegmentIndex(P.parseInt(me.decodeBase900toBase10(h,me.NUMBER_OF_SEQUENCE_CODEWORDS)));let d=new ve;o=me.textCompaction(i,o,d),u.setFileId(d.toString());let p=-1;for(i[o]===me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(p=o+1);o<i[0];)switch(i[o]){case me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,i[o]){case me.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let x=new ve;o=me.textCompaction(i,o+1,x),u.setFileName(x.toString());break;case me.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let _=new ve;o=me.textCompaction(i,o+1,_),u.setSender(_.toString());break;case me.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let C=new ve;o=me.textCompaction(i,o+1,C),u.setAddressee(C.toString());break;case me.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let O=new ve;o=me.numericCompaction(i,o+1,O),u.setSegmentCount(P.parseInt(O.toString()));break;case me.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let k=new ve;o=me.numericCompaction(i,o+1,k),u.setTimestamp(yo.parseLong(k.toString()));break;case me.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let L=new ve;o=me.numericCompaction(i,o+1,L),u.setChecksum(P.parseInt(L.toString()));break;case me.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let H=new ve;o=me.numericCompaction(i,o+1,H),u.setFileSize(yo.parseLong(H.toString()));break;default:throw G.getFormatInstance()}break;case me.MACRO_PDF417_TERMINATOR:o++,u.setLastSegment(!0);break;default:throw G.getFormatInstance()}if(p!==-1){let x=o-p;u.isLastSegment()&&x--,u.setOptionalData(q.copyOfRange(i,p,p+x))}return o}static textCompaction(i,o,u){let h=new Int32Array((i[0]-o)*2),d=new Int32Array((i[0]-o)*2),p=0,x=!1;for(;o<i[0]&&!x;){let _=i[o++];if(_<me.TEXT_COMPACTION_MODE_LATCH)h[p]=_/30,h[p+1]=_%30,p+=2;else switch(_){case me.TEXT_COMPACTION_MODE_LATCH:h[p++]=me.TEXT_COMPACTION_MODE_LATCH;break;case me.BYTE_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH_6:case me.NUMERIC_COMPACTION_MODE_LATCH:case me.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case me.MACRO_PDF417_TERMINATOR:o--,x=!0;break;case me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h[p]=me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,_=i[o++],d[p]=_,p++;break}}return me.decodeTextCompaction(h,d,p,u),o}static decodeTextCompaction(i,o,u,h){let d=Ct.ALPHA,p=Ct.ALPHA,x=0;for(;x<u;){let _=i[x],C="";switch(d){case Ct.ALPHA:if(_<26)C=String.fromCharCode(65+_);else switch(_){case 26:C=" ";break;case me.LL:d=Ct.LOWER;break;case me.ML:d=Ct.MIXED;break;case me.PS:p=d,d=Ct.PUNCT_SHIFT;break;case me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[x]);break;case me.TEXT_COMPACTION_MODE_LATCH:d=Ct.ALPHA;break}break;case Ct.LOWER:if(_<26)C=String.fromCharCode(97+_);else switch(_){case 26:C=" ";break;case me.AS:p=d,d=Ct.ALPHA_SHIFT;break;case me.ML:d=Ct.MIXED;break;case me.PS:p=d,d=Ct.PUNCT_SHIFT;break;case me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[x]);break;case me.TEXT_COMPACTION_MODE_LATCH:d=Ct.ALPHA;break}break;case Ct.MIXED:if(_<me.PL)C=me.MIXED_CHARS[_];else switch(_){case me.PL:d=Ct.PUNCT;break;case 26:C=" ";break;case me.LL:d=Ct.LOWER;break;case me.AL:d=Ct.ALPHA;break;case me.PS:p=d,d=Ct.PUNCT_SHIFT;break;case me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[x]);break;case me.TEXT_COMPACTION_MODE_LATCH:d=Ct.ALPHA;break}break;case Ct.PUNCT:if(_<me.PAL)C=me.PUNCT_CHARS[_];else switch(_){case me.PAL:d=Ct.ALPHA;break;case me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[x]);break;case me.TEXT_COMPACTION_MODE_LATCH:d=Ct.ALPHA;break}break;case Ct.ALPHA_SHIFT:if(d=p,_<26)C=String.fromCharCode(65+_);else switch(_){case 26:C=" ";break;case me.TEXT_COMPACTION_MODE_LATCH:d=Ct.ALPHA;break}break;case Ct.PUNCT_SHIFT:if(d=p,_<me.PAL)C=me.PUNCT_CHARS[_];else switch(_){case me.PAL:d=Ct.ALPHA;break;case me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[x]);break;case me.TEXT_COMPACTION_MODE_LATCH:d=Ct.ALPHA;break}break}C!==""&&h.append(C),x++}}static byteCompaction(i,o,u,h,d){let p=new $h,x=0,_=0,C=!1;switch(i){case me.BYTE_COMPACTION_MODE_LATCH:let O=new Int32Array(6),k=o[h++];for(;h<o[0]&&!C;)switch(O[x++]=k,_=900*_+k,k=o[h++],k){case me.TEXT_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH:case me.NUMERIC_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH_6:case me.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case me.MACRO_PDF417_TERMINATOR:h--,C=!0;break;default:if(x%5===0&&x>0){for(let L=0;L<6;++L)p.write(Number(Di(_)>>Di(8*(5-L))));_=0,x=0}break}h===o[0]&&k<me.TEXT_COMPACTION_MODE_LATCH&&(O[x++]=k);for(let L=0;L<x;L++)p.write(O[L]);break;case me.BYTE_COMPACTION_MODE_LATCH_6:for(;h<o[0]&&!C;){let L=o[h++];if(L<me.TEXT_COMPACTION_MODE_LATCH)x++,_=900*_+L;else switch(L){case me.TEXT_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH:case me.NUMERIC_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH_6:case me.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case me.MACRO_PDF417_TERMINATOR:h--,C=!0;break}if(x%5===0&&x>0){for(let H=0;H<6;++H)p.write(Number(Di(_)>>Di(8*(5-H))));_=0,x=0}}break}return d.append(ce.decode(p.toByteArray(),u)),h}static numericCompaction(i,o,u){let h=0,d=!1,p=new Int32Array(me.MAX_NUMERIC_CODEWORDS);for(;o<i[0]&&!d;){let x=i[o++];if(o===i[0]&&(d=!0),x<me.TEXT_COMPACTION_MODE_LATCH)p[h]=x,h++;else switch(x){case me.TEXT_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH_6:case me.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case me.MACRO_PDF417_TERMINATOR:o--,d=!0;break}(h%me.MAX_NUMERIC_CODEWORDS===0||x===me.NUMERIC_COMPACTION_MODE_LATCH||d)&&h>0&&(u.append(me.decodeBase900toBase10(p,h)),h=0)}return o}static decodeBase900toBase10(i,o){let u=Di(0);for(let d=0;d<o;d++)u+=me.EXP900[o-d-1]*Di(i[d]);let h=u.toString();if(h.charAt(0)!=="1")throw new G;return h.substring(1)}}me.TEXT_COMPACTION_MODE_LATCH=900,me.BYTE_COMPACTION_MODE_LATCH=901,me.NUMERIC_COMPACTION_MODE_LATCH=902,me.BYTE_COMPACTION_MODE_LATCH_6=924,me.ECI_USER_DEFINED=925,me.ECI_GENERAL_PURPOSE=926,me.ECI_CHARSET=927,me.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,me.MACRO_PDF417_TERMINATOR=922,me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,me.MAX_NUMERIC_CODEWORDS=15,me.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,me.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,me.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,me.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,me.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,me.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,me.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,me.PL=25,me.LL=27,me.AS=27,me.ML=28,me.AL=28,me.PS=29,me.PAL=29,me.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,me.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",me.EXP900=Oc()?Zh():[],me.NUMBER_OF_SEQUENCE_CODEWORDS=2;class rt{constructor(){}static decode(i,o,u,h,d,p,x){let _=new Ci(i,o,u,h,d),C=null,O=null,k;for(let Z=!0;;Z=!1){if(o!=null&&(C=rt.getRowIndicatorColumn(i,_,o,!0,p,x)),h!=null&&(O=rt.getRowIndicatorColumn(i,_,h,!1,p,x)),k=rt.merge(C,O),k==null)throw ne.getNotFoundInstance();let J=k.getBoundingBox();if(Z&&J!=null&&(J.getMinY()<_.getMinY()||J.getMaxY()>_.getMaxY()))_=J;else break}k.setBoundingBox(_);let L=k.getBarcodeColumnCount()+1;k.setDetectionResultColumn(0,C),k.setDetectionResultColumn(L,O);let H=C!=null;for(let Z=1;Z<=L;Z++){let J=H?Z:L-Z;if(k.getDetectionResultColumn(J)!==void 0)continue;let ae;J===0||J===L?ae=new Oi(_,J===0):ae=new Ca(_),k.setDetectionResultColumn(J,ae);let de=-1,Te=de;for(let Re=_.getMinY();Re<=_.getMaxY();Re++){if(de=rt.getStartColumn(k,J,Re,H),de<0||de>_.getMaxX()){if(Te===-1)continue;de=Te}let Ce=rt.detectCodeword(i,_.getMinX(),_.getMaxX(),H,de,Re,p,x);Ce!=null&&(ae.setCodeword(Re,Ce),Te=de,p=Math.min(p,Ce.getWidth()),x=Math.max(x,Ce.getWidth()))}}return rt.createDecoderResult(k)}static merge(i,o){if(i==null&&o==null)return null;let u=rt.getBarcodeMetadata(i,o);if(u==null)return null;let h=Ci.merge(rt.adjustBoundingBox(i),rt.adjustBoundingBox(o));return new Ri(u,h)}static adjustBoundingBox(i){if(i==null)return null;let o=i.getRowHeights();if(o==null)return null;let u=rt.getMax(o),h=0;for(let x of o)if(h+=u-x,x>0)break;let d=i.getCodewords();for(let x=0;h>0&&d[x]==null;x++)h--;let p=0;for(let x=o.length-1;x>=0&&(p+=u-o[x],!(o[x]>0));x--);for(let x=d.length-1;p>0&&d[x]==null;x--)p--;return i.getBoundingBox().addMissingRows(h,p,i.isLeft())}static getMax(i){let o=-1;for(let u of i)o=Math.max(o,u);return o}static getBarcodeMetadata(i,o){let u;if(i==null||(u=i.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let h;return o==null||(h=o.getBarcodeMetadata())==null?u:u.getColumnCount()!==h.getColumnCount()&&u.getErrorCorrectionLevel()!==h.getErrorCorrectionLevel()&&u.getRowCount()!==h.getRowCount()?null:u}static getRowIndicatorColumn(i,o,u,h,d,p){let x=new Oi(o,h);for(let _=0;_<2;_++){let C=_===0?1:-1,O=Math.trunc(Math.trunc(u.getX()));for(let k=Math.trunc(Math.trunc(u.getY()));k<=o.getMaxY()&&k>=o.getMinY();k+=C){let L=rt.detectCodeword(i,0,i.getWidth(),h,O,k,d,p);L!=null&&(x.setCodeword(k,L),h?O=L.getStartX():O=L.getEndX())}}return x}static adjustCodewordCount(i,o){let u=o[0][1],h=u.getValue(),d=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-rt.getNumberOfECCodeWords(i.getBarcodeECLevel());if(h.length===0){if(d<1||d>Ge.MAX_CODEWORDS_IN_BARCODE)throw ne.getNotFoundInstance();u.setValue(d)}else h[0]!==d&&u.setValue(d)}static createDecoderResult(i){let o=rt.createBarcodeMatrix(i);rt.adjustCodewordCount(i,o);let u=new Array,h=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),d=[],p=new Array;for(let _=0;_<i.getBarcodeRowCount();_++)for(let C=0;C<i.getBarcodeColumnCount();C++){let O=o[_][C+1].getValue(),k=_*i.getBarcodeColumnCount()+C;O.length===0?u.push(k):O.length===1?h[k]=O[0]:(p.push(k),d.push(O))}let x=new Array(d.length);for(let _=0;_<x.length;_++)x[_]=d[_];return rt.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),h,Ge.toIntArray(u),Ge.toIntArray(p),x)}static createDecoderResultFromAmbiguousValues(i,o,u,h,d){let p=new Int32Array(h.length),x=100;for(;x-- >0;){for(let _=0;_<p.length;_++)o[h[_]]=d[_][p[_]];try{return rt.decodeCodewords(o,i,u)}catch(_){if(!(_ instanceof R))throw _}if(p.length===0)throw R.getChecksumInstance();for(let _=0;_<p.length;_++)if(p[_]<d[_].length-1){p[_]++;break}else if(p[_]=0,_===p.length-1)throw R.getChecksumInstance()}throw R.getChecksumInstance()}static createBarcodeMatrix(i){let o=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let h=0;h<o.length;h++)for(let d=0;d<o[h].length;d++)o[h][d]=new Sn;let u=0;for(let h of i.getDetectionResultColumns()){if(h!=null){for(let d of h.getCodewords())if(d!=null){let p=d.getRowNumber();if(p>=0){if(p>=o.length)continue;o[p][u].setValue(d.getValue())}}}u++}return o}static isValidBarcodeColumn(i,o){return o>=0&&o<=i.getBarcodeColumnCount()+1}static getStartColumn(i,o,u,h){let d=h?1:-1,p=null;if(rt.isValidBarcodeColumn(i,o-d)&&(p=i.getDetectionResultColumn(o-d).getCodeword(u)),p!=null)return h?p.getEndX():p.getStartX();if(p=i.getDetectionResultColumn(o).getCodewordNearby(u),p!=null)return h?p.getStartX():p.getEndX();if(rt.isValidBarcodeColumn(i,o-d)&&(p=i.getDetectionResultColumn(o-d).getCodewordNearby(u)),p!=null)return h?p.getEndX():p.getStartX();let x=0;for(;rt.isValidBarcodeColumn(i,o-d);){o-=d;for(let _ of i.getDetectionResultColumn(o).getCodewords())if(_!=null)return(h?_.getEndX():_.getStartX())+d*x*(_.getEndX()-_.getStartX());x++}return h?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,o,u,h,d,p,x,_){d=rt.adjustCodewordStartColumn(i,o,u,h,d,p);let C=rt.getModuleBitCount(i,o,u,h,d,p);if(C==null)return null;let O,k=Ze.sum(C);if(h)O=d+k;else{for(let Z=0;Z<C.length/2;Z++){let J=C[Z];C[Z]=C[C.length-1-Z],C[C.length-1-Z]=J}O=d,d=O-k}if(!rt.checkCodewordSkew(k,x,_))return null;let L=tr.getDecodedValue(C),H=Ge.getCodeword(L);return H===-1?null:new fi(d,O,rt.getCodewordBucketNumber(L),H)}static getModuleBitCount(i,o,u,h,d,p){let x=d,_=new Int32Array(8),C=0,O=h?1:-1,k=h;for(;(h?x<u:x>=o)&&C<_.length;)i.get(x,p)===k?(_[C]++,x+=O):(C++,k=!k);return C===_.length||x===(h?u:o)&&C===_.length-1?_:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,o,u,h,d,p){let x=d,_=h?-1:1;for(let C=0;C<2;C++){for(;(h?x>=o:x<u)&&h===i.get(x,p);){if(Math.abs(d-x)>rt.CODEWORD_SKEW_SIZE)return d;x+=_}_=-_,h=!h}return x}static checkCodewordSkew(i,o,u){return o-rt.CODEWORD_SKEW_SIZE<=i&&i<=u+rt.CODEWORD_SKEW_SIZE}static decodeCodewords(i,o,u){if(i.length===0)throw G.getFormatInstance();let h=1<<o+1,d=rt.correctErrors(i,u,h);rt.verifyCodewordCount(i,h);let p=me.decode(i,""+o);return p.setErrorsCorrected(d),p.setErasures(u.length),p}static correctErrors(i,o,u){if(o!=null&&o.length>u/2+rt.MAX_ERRORS||u<0||u>rt.MAX_EC_CODEWORDS)throw R.getChecksumInstance();return rt.errorCorrection.decode(i,u,o)}static verifyCodewordCount(i,o){if(i.length<4)throw G.getFormatInstance();let u=i[0];if(u>i.length)throw G.getFormatInstance();if(u===0)if(o<i.length)i[0]=i.length-o;else throw G.getFormatInstance()}static getBitCountForCodeword(i){let o=new Int32Array(8),u=0,h=o.length-1;for(;!((i&1)!==u&&(u=i&1,h--,h<0));)o[h]++,i>>=1;return o}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return rt.getCodewordBucketNumber(rt.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let o=new Ti;for(let u=0;u<i.length;u++){o.format("Row %2d: ",u);for(let h=0;h<i[u].length;h++){let d=i[u][h];d.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",d.getValue()[0],d.getConfidence(d.getValue()[0]))}o.format("%n")}return o.toString()}}rt.CODEWORD_SKEW_SIZE=2,rt.MAX_ERRORS=3,rt.MAX_EC_CODEWORDS=512,rt.errorCorrection=new Es;class Mn{decode(i,o=null){let u=Mn.decode(i,o,!1);if(u==null||u.length===0||u[0]==null)throw ne.getNotFoundInstance();return u[0]}decodeMultiple(i,o=null){try{return Mn.decode(i,o,!0)}catch(u){throw u instanceof G||u instanceof R?ne.getNotFoundInstance():u}}static decode(i,o,u){const h=new Array,d=Je.detectMultiple(i,o,u);for(const p of d.getPoints()){const x=rt.decode(d.getBits(),p[4],p[5],p[6],p[7],Mn.getMinCodewordWidth(p),Mn.getMaxCodewordWidth(p)),_=new ke(x.getText(),x.getRawBytes(),void 0,p,Ae.PDF_417);_.putMetadata(Ve.ERROR_CORRECTION_LEVEL,x.getECLevel());const C=x.getOther();C!=null&&_.putMetadata(Ve.PDF417_EXTRA_METADATA,C),h.push(_)}return h.map(p=>p)}static getMaxWidth(i,o){return i==null||o==null?0:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMinWidth(i,o){return i==null||o==null?P.MAX_VALUE:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(Mn.getMaxWidth(i[0],i[4]),Mn.getMaxWidth(i[6],i[2])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN),Math.max(Mn.getMaxWidth(i[1],i[5]),Mn.getMaxWidth(i[7],i[3])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(Mn.getMinWidth(i[0],i[4]),Mn.getMinWidth(i[6],i[2])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN),Math.min(Mn.getMinWidth(i[1],i[5]),Mn.getMinWidth(i[7],i[3])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN)))}reset(){}}class _s extends y{}_s.kind="ReaderException";class Rc{constructor(i,o){this.verbose=i===!0,o&&this.setHints(o)}decode(i,o){return o&&this.setHints(o),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const o=!a(i)&&i.get($.TRY_HARDER)===!0,u=a(i)?null:i.get($.POSSIBLE_FORMATS),h=new Array;if(!a(u)){const d=u.some(p=>p===Ae.UPC_A||p===Ae.UPC_E||p===Ae.EAN_13||p===Ae.EAN_8||p===Ae.CODABAR||p===Ae.CODE_39||p===Ae.CODE_93||p===Ae.CODE_128||p===Ae.ITF||p===Ae.RSS_14||p===Ae.RSS_EXPANDED);d&&!o&&h.push(new Ei(i,this.verbose)),u.includes(Ae.QR_CODE)&&h.push(new ui),u.includes(Ae.DATA_MATRIX)&&h.push(new kr),u.includes(Ae.AZTEC)&&h.push(new _a),u.includes(Ae.PDF_417)&&h.push(new Mn),d&&o&&h.push(new Ei(i,this.verbose))}h.length===0&&(o||h.push(new Ei(i,this.verbose)),h.push(new ui),h.push(new kr),h.push(new _a),h.push(new Mn),o&&h.push(new Ei(i,this.verbose))),this.readers=h}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new _s("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(i,this.hints)}catch(u){if(u instanceof _s)continue}throw new ne("No MultiFormat Readers were able to detect the code.")}}class Qh extends Oe{constructor(i=null,o=500){const u=new Rc;u.setHints(i),super(u,o)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class Jh extends Oe{constructor(i=500){super(new Mn,i)}}class ed extends Oe{constructor(i=500){super(new ui,i)}}var As;(function(I){I[I.ERROR_CORRECTION=0]="ERROR_CORRECTION",I[I.CHARACTER_SET=1]="CHARACTER_SET",I[I.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",I[I.MIN_SIZE=3]="MIN_SIZE",I[I.MAX_SIZE=4]="MAX_SIZE",I[I.MARGIN=5]="MARGIN",I[I.PDF417_COMPACT=6]="PDF417_COMPACT",I[I.PDF417_COMPACTION=7]="PDF417_COMPACTION",I[I.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",I[I.AZTEC_LAYERS=9]="AZTEC_LAYERS",I[I.QR_VERSION=10]="QR_VERSION"})(As||(As={}));var wn=As;class Ll{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new Wt(i,Int32Array.from([1])))}buildGenerator(i){const o=this.cachedGenerators;if(i>=o.length){let u=o[o.length-1];const h=this.field;for(let d=o.length;d<=i;d++){const p=u.multiply(new Wt(h,Int32Array.from([1,h.exp(d-1+h.getGeneratorBase())])));o.push(p),u=p}}return o[i]}encode(i,o){if(o===0)throw new A("No error correction bytes");const u=i.length-o;if(u<=0)throw new A("No data bytes provided");const h=this.buildGenerator(o),d=new Int32Array(u);D.arraycopy(i,0,d,0,u);let p=new Wt(this.field,d);p=p.multiplyByMonomial(o,1);const _=p.divide(h)[1].getCoefficients(),C=o-_.length;for(let O=0;O<C;O++)i[u+O]=0;D.arraycopy(_,0,i,u+C,_.length)}}class Qt{constructor(){}static applyMaskPenaltyRule1(i){return Qt.applyMaskPenaltyRule1Internal(i,!0)+Qt.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let o=0;const u=i.getArray(),h=i.getWidth(),d=i.getHeight();for(let p=0;p<d-1;p++){const x=u[p];for(let _=0;_<h-1;_++){const C=x[_];C===x[_+1]&&C===u[p+1][_]&&C===u[p+1][_+1]&&o++}}return Qt.N2*o}static applyMaskPenaltyRule3(i){let o=0;const u=i.getArray(),h=i.getWidth(),d=i.getHeight();for(let p=0;p<d;p++)for(let x=0;x<h;x++){const _=u[p];x+6<h&&_[x]===1&&_[x+1]===0&&_[x+2]===1&&_[x+3]===1&&_[x+4]===1&&_[x+5]===0&&_[x+6]===1&&(Qt.isWhiteHorizontal(_,x-4,x)||Qt.isWhiteHorizontal(_,x+7,x+11))&&o++,p+6<d&&u[p][x]===1&&u[p+1][x]===0&&u[p+2][x]===1&&u[p+3][x]===1&&u[p+4][x]===1&&u[p+5][x]===0&&u[p+6][x]===1&&(Qt.isWhiteVertical(u,x,p-4,p)||Qt.isWhiteVertical(u,x,p+7,p+11))&&o++}return o*Qt.N3}static isWhiteHorizontal(i,o,u){o=Math.max(o,0),u=Math.min(u,i.length);for(let h=o;h<u;h++)if(i[h]===1)return!1;return!0}static isWhiteVertical(i,o,u,h){u=Math.max(u,0),h=Math.min(h,i.length);for(let d=u;d<h;d++)if(i[d][o]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let o=0;const u=i.getArray(),h=i.getWidth(),d=i.getHeight();for(let _=0;_<d;_++){const C=u[_];for(let O=0;O<h;O++)C[O]===1&&o++}const p=i.getHeight()*i.getWidth();return Math.floor(Math.abs(o*2-p)*10/p)*Qt.N4}static getDataMaskBit(i,o,u){let h,d;switch(i){case 0:h=u+o&1;break;case 1:h=u&1;break;case 2:h=o%3;break;case 3:h=(u+o)%3;break;case 4:h=Math.floor(u/2)+Math.floor(o/3)&1;break;case 5:d=u*o,h=(d&1)+d%3;break;case 6:d=u*o,h=(d&1)+d%3&1;break;case 7:d=u*o,h=d%3+(u+o&1)&1;break;default:throw new A("Invalid mask pattern: "+i)}return h===0}static applyMaskPenaltyRule1Internal(i,o){let u=0;const h=o?i.getHeight():i.getWidth(),d=o?i.getWidth():i.getHeight(),p=i.getArray();for(let x=0;x<h;x++){let _=0,C=-1;for(let O=0;O<d;O++){const k=o?p[x][O]:p[O][x];k===C?_++:(_>=5&&(u+=Qt.N1+(_-5)),_=1,C=k)}_>=5&&(u+=Qt.N1+(_-5))}return u}}Qt.N1=3,Qt.N2=3,Qt.N3=40,Qt.N4=10;class Ss{constructor(i,o){this.width=i,this.height=o;const u=new Array(o);for(let h=0;h!==o;h++)u[h]=new Uint8Array(i);this.bytes=u}getHeight(){return this.height}getWidth(){return this.width}get(i,o){return this.bytes[o][i]}getArray(){return this.bytes}setNumber(i,o,u){this.bytes[o][i]=u}setBoolean(i,o,u){this.bytes[o][i]=u?1:0}clear(i){for(const o of this.bytes)q.fill(o,i)}equals(i){if(!(i instanceof Ss))return!1;const o=i;if(this.width!==o.width||this.height!==o.height)return!1;for(let u=0,h=this.height;u<h;++u){const d=this.bytes[u],p=o.bytes[u];for(let x=0,_=this.width;x<_;++x)if(d[x]!==p[x])return!1}return!0}toString(){const i=new ve;for(let o=0,u=this.height;o<u;++o){const h=this.bytes[o];for(let d=0,p=this.width;d<p;++d)switch(h[d]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class $i{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new ve;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<$i.NUM_MASK_PATTERNS}}$i.NUM_MASK_PATTERNS=8;class Ot extends y{}Ot.kind="WriterException";class We{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,o,u,h,d){We.clearMatrix(d),We.embedBasicPatterns(u,d),We.embedTypeInfo(o,h,d),We.maybeEmbedVersionInfo(u,d),We.embedDataBits(i,h,d)}static embedBasicPatterns(i,o){We.embedPositionDetectionPatternsAndSeparators(o),We.embedDarkDotAtLeftBottomCorner(o),We.maybeEmbedPositionAdjustmentPatterns(i,o),We.embedTimingPatterns(o)}static embedTypeInfo(i,o,u){const h=new F;We.makeTypeInfoBits(i,o,h);for(let d=0,p=h.getSize();d<p;++d){const x=h.get(h.getSize()-1-d),_=We.TYPE_INFO_COORDINATES[d],C=_[0],O=_[1];if(u.setBoolean(C,O,x),d<8){const k=u.getWidth()-d-1;u.setBoolean(k,8,x)}else{const L=u.getHeight()-7+(d-8);u.setBoolean(8,L,x)}}}static maybeEmbedVersionInfo(i,o){if(i.getVersionNumber()<7)return;const u=new F;We.makeVersionInfoBits(i,u);let h=17;for(let d=0;d<6;++d)for(let p=0;p<3;++p){const x=u.get(h);h--,o.setBoolean(d,o.getHeight()-11+p,x),o.setBoolean(o.getHeight()-11+p,d,x)}}static embedDataBits(i,o,u){let h=0,d=-1,p=u.getWidth()-1,x=u.getHeight()-1;for(;p>0;){for(p===6&&(p-=1);x>=0&&x<u.getHeight();){for(let _=0;_<2;++_){const C=p-_;if(!We.isEmpty(u.get(C,x)))continue;let O;h<i.getSize()?(O=i.get(h),++h):O=!1,o!==255&&Qt.getDataMaskBit(o,C,x)&&(O=!O),u.setBoolean(C,x,O)}x+=d}d=-d,x+=d,p-=2}if(h!==i.getSize())throw new Ot("Not all bits consumed: "+h+"/"+i.getSize())}static findMSBSet(i){return 32-P.numberOfLeadingZeros(i)}static calculateBCHCode(i,o){if(o===0)throw new A("0 polynomial");const u=We.findMSBSet(o);for(i<<=u-1;We.findMSBSet(i)>=u;)i^=o<<We.findMSBSet(i)-u;return i}static makeTypeInfoBits(i,o,u){if(!$i.isValidMaskPattern(o))throw new Ot("Invalid mask pattern");const h=i.getBits()<<3|o;u.appendBits(h,5);const d=We.calculateBCHCode(h,We.TYPE_INFO_POLY);u.appendBits(d,10);const p=new F;if(p.appendBits(We.TYPE_INFO_MASK_PATTERN,15),u.xor(p),u.getSize()!==15)throw new Ot("should not happen but we got: "+u.getSize())}static makeVersionInfoBits(i,o){o.appendBits(i.getVersionNumber(),6);const u=We.calculateBCHCode(i.getVersionNumber(),We.VERSION_INFO_POLY);if(o.appendBits(u,12),o.getSize()!==18)throw new Ot("should not happen but we got: "+o.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let o=8;o<i.getWidth()-8;++o){const u=(o+1)%2;We.isEmpty(i.get(o,6))&&i.setNumber(o,6,u),We.isEmpty(i.get(6,o))&&i.setNumber(6,o,u)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new Ot;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,o,u){for(let h=0;h<8;++h){if(!We.isEmpty(u.get(i+h,o)))throw new Ot;u.setNumber(i+h,o,0)}}static embedVerticalSeparationPattern(i,o,u){for(let h=0;h<7;++h){if(!We.isEmpty(u.get(i,o+h)))throw new Ot;u.setNumber(i,o+h,0)}}static embedPositionAdjustmentPattern(i,o,u){for(let h=0;h<5;++h){const d=We.POSITION_ADJUSTMENT_PATTERN[h];for(let p=0;p<5;++p)u.setNumber(i+p,o+h,d[p])}}static embedPositionDetectionPattern(i,o,u){for(let h=0;h<7;++h){const d=We.POSITION_DETECTION_PATTERN[h];for(let p=0;p<7;++p)u.setNumber(i+p,o+h,d[p])}}static embedPositionDetectionPatternsAndSeparators(i){const o=We.POSITION_DETECTION_PATTERN[0].length;We.embedPositionDetectionPattern(0,0,i),We.embedPositionDetectionPattern(i.getWidth()-o,0,i),We.embedPositionDetectionPattern(0,i.getWidth()-o,i);const u=8;We.embedHorizontalSeparationPattern(0,u-1,i),We.embedHorizontalSeparationPattern(i.getWidth()-u,u-1,i),We.embedHorizontalSeparationPattern(0,i.getWidth()-u,i);const h=7;We.embedVerticalSeparationPattern(h,0,i),We.embedVerticalSeparationPattern(i.getHeight()-h-1,0,i),We.embedVerticalSeparationPattern(h,i.getHeight()-h,i)}static maybeEmbedPositionAdjustmentPatterns(i,o){if(i.getVersionNumber()<2)return;const u=i.getVersionNumber()-1,h=We.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[u];for(let d=0,p=h.length;d!==p;d++){const x=h[d];if(x>=0)for(let _=0;_!==p;_++){const C=h[_];C>=0&&We.isEmpty(o.get(C,x))&&We.embedPositionAdjustmentPattern(C-2,x-2,o)}}}}We.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),We.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),We.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),We.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),We.VERSION_INFO_POLY=7973,We.TYPE_INFO_POLY=1335,We.TYPE_INFO_MASK_PATTERN=21522;class td{constructor(i,o){this.dataBytes=i,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class jt{constructor(){}static calculateMaskPenalty(i){return Qt.applyMaskPenaltyRule1(i)+Qt.applyMaskPenaltyRule2(i)+Qt.applyMaskPenaltyRule3(i)+Qt.applyMaskPenaltyRule4(i)}static encode(i,o,u=null){let h=jt.DEFAULT_BYTE_MODE_ENCODING;const d=u!==null&&u.get(wn.CHARACTER_SET)!==void 0;d&&(h=u.get(wn.CHARACTER_SET).toString());const p=this.chooseMode(i,h),x=new F;if(p===ze.BYTE&&(d||jt.DEFAULT_BYTE_MODE_ENCODING!==h)){const Re=W.getCharacterSetECIByName(h);Re!==void 0&&this.appendECI(Re,x)}this.appendModeInfo(p,x);const _=new F;this.appendBytes(i,p,_,h);let C;if(u!==null&&u.get(wn.QR_VERSION)!==void 0){const Re=Number.parseInt(u.get(wn.QR_VERSION).toString(),10);C=qe.getVersionForNumber(Re);const Ce=this.calculateBitsNeeded(p,x,_,C);if(!this.willFit(Ce,C,o))throw new Ot("Data too big for requested version")}else C=this.recommendVersion(o,p,x,_);const O=new F;O.appendBitArray(x);const k=p===ze.BYTE?_.getSizeInBytes():i.length;this.appendLengthInfo(k,C,p,O),O.appendBitArray(_);const L=C.getECBlocksForLevel(o),H=C.getTotalCodewords()-L.getTotalECCodewords();this.terminateBits(H,O);const Z=this.interleaveWithECBytes(O,C.getTotalCodewords(),H,L.getNumBlocks()),J=new $i;J.setECLevel(o),J.setMode(p),J.setVersion(C);const ae=C.getDimensionForVersion(),de=new Ss(ae,ae),Te=this.chooseMaskPattern(Z,o,C,de);return J.setMaskPattern(Te),We.buildMatrix(Z,o,C,Te,de),J.setMatrix(de),J}static recommendVersion(i,o,u,h){const d=this.calculateBitsNeeded(o,u,h,qe.getVersionForNumber(1)),p=this.chooseVersion(d,i),x=this.calculateBitsNeeded(o,u,h,p);return this.chooseVersion(x,i)}static calculateBitsNeeded(i,o,u,h){return o.getSize()+i.getCharacterCountBits(h)+u.getSize()}static getAlphanumericCode(i){return i<jt.ALPHANUMERIC_TABLE.length?jt.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,o=null){if(W.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(i))return ze.KANJI;let u=!1,h=!1;for(let d=0,p=i.length;d<p;++d){const x=i.charAt(d);if(jt.isDigit(x))u=!0;else if(this.getAlphanumericCode(x.charCodeAt(0))!==-1)h=!0;else return ze.BYTE}return h?ze.ALPHANUMERIC:u?ze.NUMERIC:ze.BYTE}static isOnlyDoubleByteKanji(i){let o;try{o=ce.encode(i,W.SJIS)}catch{return!1}const u=o.length;if(u%2!==0)return!1;for(let h=0;h<u;h+=2){const d=o[h]&255;if((d<129||d>159)&&(d<224||d>235))return!1}return!0}static chooseMaskPattern(i,o,u,h){let d=Number.MAX_SAFE_INTEGER,p=-1;for(let x=0;x<$i.NUM_MASK_PATTERNS;x++){We.buildMatrix(i,o,u,x,h);let _=this.calculateMaskPenalty(h);_<d&&(d=_,p=x)}return p}static chooseVersion(i,o){for(let u=1;u<=40;u++){const h=qe.getVersionForNumber(u);if(jt.willFit(i,h,o))return h}throw new Ot("Data too big")}static willFit(i,o,u){const h=o.getTotalCodewords(),p=o.getECBlocksForLevel(u).getTotalECCodewords(),x=h-p,_=(i+7)/8;return x>=_}static terminateBits(i,o){const u=i*8;if(o.getSize()>u)throw new Ot("data bits cannot fit in the QR Code"+o.getSize()+" > "+u);for(let p=0;p<4&&o.getSize()<u;++p)o.appendBit(!1);const h=o.getSize()&7;if(h>0)for(let p=h;p<8;p++)o.appendBit(!1);const d=i-o.getSizeInBytes();for(let p=0;p<d;++p)o.appendBits((p&1)===0?236:17,8);if(o.getSize()!==u)throw new Ot("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,o,u,h,d,p){if(h>=u)throw new Ot("Block ID too large");const x=i%u,_=u-x,C=Math.floor(i/u),O=C+1,k=Math.floor(o/u),L=k+1,H=C-k,Z=O-L;if(H!==Z)throw new Ot("EC bytes mismatch");if(u!==_+x)throw new Ot("RS blocks mismatch");if(i!==(k+H)*_+(L+Z)*x)throw new Ot("Total bytes mismatch");h<_?(d[0]=k,p[0]=H):(d[0]=L,p[0]=Z)}static interleaveWithECBytes(i,o,u,h){if(i.getSizeInBytes()!==u)throw new Ot("Number of bits and data bytes does not match");let d=0,p=0,x=0;const _=new Array;for(let O=0;O<h;++O){const k=new Int32Array(1),L=new Int32Array(1);jt.getNumDataBytesAndNumECBytesForBlockID(o,u,h,O,k,L);const H=k[0],Z=new Uint8Array(H);i.toBytes(8*d,Z,0,H);const J=jt.generateECBytes(Z,L[0]);_.push(new td(Z,J)),p=Math.max(p,H),x=Math.max(x,J.length),d+=k[0]}if(u!==d)throw new Ot("Data bytes does not match offset");const C=new F;for(let O=0;O<p;++O)for(const k of _){const L=k.getDataBytes();O<L.length&&C.appendBits(L[O],8)}for(let O=0;O<x;++O)for(const k of _){const L=k.getErrorCorrectionBytes();O<L.length&&C.appendBits(L[O],8)}if(o!==C.getSizeInBytes())throw new Ot("Interleaving error: "+o+" and "+C.getSizeInBytes()+" differ.");return C}static generateECBytes(i,o){const u=i.length,h=new Int32Array(u+o);for(let p=0;p<u;p++)h[p]=i[p]&255;new Ll(at.QR_CODE_FIELD_256).encode(h,o);const d=new Uint8Array(o);for(let p=0;p<o;p++)d[p]=h[u+p];return d}static appendModeInfo(i,o){o.appendBits(i.getBits(),4)}static appendLengthInfo(i,o,u,h){const d=u.getCharacterCountBits(o);if(i>=1<<d)throw new Ot(i+" is bigger than "+((1<<d)-1));h.appendBits(i,d)}static appendBytes(i,o,u,h){switch(o){case ze.NUMERIC:jt.appendNumericBytes(i,u);break;case ze.ALPHANUMERIC:jt.appendAlphanumericBytes(i,u);break;case ze.BYTE:jt.append8BitBytes(i,u,h);break;case ze.KANJI:jt.appendKanjiBytes(i,u);break;default:throw new Ot("Invalid mode: "+o)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const o=jt.getDigit(i);return o>=0&&o<=9}static appendNumericBytes(i,o){const u=i.length;let h=0;for(;h<u;){const d=jt.getDigit(i.charAt(h));if(h+2<u){const p=jt.getDigit(i.charAt(h+1)),x=jt.getDigit(i.charAt(h+2));o.appendBits(d*100+p*10+x,10),h+=3}else if(h+1<u){const p=jt.getDigit(i.charAt(h+1));o.appendBits(d*10+p,7),h+=2}else o.appendBits(d,4),h++}}static appendAlphanumericBytes(i,o){const u=i.length;let h=0;for(;h<u;){const d=jt.getAlphanumericCode(i.charCodeAt(h));if(d===-1)throw new Ot;if(h+1<u){const p=jt.getAlphanumericCode(i.charCodeAt(h+1));if(p===-1)throw new Ot;o.appendBits(d*45+p,11),h+=2}else o.appendBits(d,6),h++}}static append8BitBytes(i,o,u){let h;try{h=ce.encode(i,u)}catch(d){throw new Ot(d)}for(let d=0,p=h.length;d!==p;d++){const x=h[d];o.appendBits(x,8)}}static appendKanjiBytes(i,o){let u;try{u=ce.encode(i,W.SJIS)}catch(d){throw new Ot(d)}const h=u.length;for(let d=0;d<h;d+=2){const p=u[d]&255,x=u[d+1]&255,_=p<<8&4294967295|x;let C=-1;if(_>=33088&&_<=40956?C=_-33088:_>=57408&&_<=60351&&(C=_-49472),C===-1)throw new Ot("Invalid byte sequence");const O=(C>>8)*192+(C&255);o.appendBits(O,13)}}static appendECI(i,o){o.appendBits(ze.ECI.getBits(),4),o.appendBits(i.getValue(),8)}}jt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),jt.DEFAULT_BYTE_MODE_ENCODING=W.UTF8.getName();class Zi{write(i,o,u,h=null){if(i.length===0)throw new A("Found empty contents");if(o<0||u<0)throw new A("Requested dimensions are too small: "+o+"x"+u);let d=St.L,p=Zi.QUIET_ZONE_SIZE;h!==null&&(h.get(wn.ERROR_CORRECTION)!==void 0&&(d=St.fromString(h.get(wn.ERROR_CORRECTION).toString())),h.get(wn.MARGIN)!==void 0&&(p=Number.parseInt(h.get(wn.MARGIN).toString(),10)));const x=jt.encode(i,d,h);return this.renderResult(x,o,u,p)}writeToDom(i,o,u,h,d=null){typeof i=="string"&&(i=document.querySelector(i));const p=this.write(o,u,h,d);i&&i.appendChild(p)}renderResult(i,o,u,h){const d=i.getMatrix();if(d===null)throw new nt;const p=d.getWidth(),x=d.getHeight(),_=p+h*2,C=x+h*2,O=Math.max(o,_),k=Math.max(u,C),L=Math.min(Math.floor(O/_),Math.floor(k/C)),H=Math.floor((O-p*L)/2),Z=Math.floor((k-x*L)/2),J=this.createSVGElement(O,k);for(let ae=0,de=Z;ae<x;ae++,de+=L)for(let Te=0,Re=H;Te<p;Te++,Re+=L)if(d.get(Te,ae)===1){const Ce=this.createSvgRectElement(Re,de,L,L);J.appendChild(Ce)}return J}createSVGElement(i,o){const u=document.createElementNS(Zi.SVG_NS,"svg");return u.setAttributeNS(null,"height",i.toString()),u.setAttributeNS(null,"width",o.toString()),u}createSvgRectElement(i,o,u,h){const d=document.createElementNS(Zi.SVG_NS,"rect");return d.setAttributeNS(null,"x",i.toString()),d.setAttributeNS(null,"y",o.toString()),d.setAttributeNS(null,"height",u.toString()),d.setAttributeNS(null,"width",h.toString()),d.setAttributeNS(null,"fill","#000000"),d}}Zi.QUIET_ZONE_SIZE=4,Zi.SVG_NS="http://www.w3.org/2000/svg";class Ra{encode(i,o,u,h,d){if(i.length===0)throw new A("Found empty contents");if(o!==Ae.QR_CODE)throw new A("Can only encode QR_CODE, but got "+o);if(u<0||h<0)throw new A(`Requested dimensions are too small: ${u}x${h}`);let p=St.L,x=Ra.QUIET_ZONE_SIZE;d!==null&&(d.get(wn.ERROR_CORRECTION)!==void 0&&(p=St.fromString(d.get(wn.ERROR_CORRECTION).toString())),d.get(wn.MARGIN)!==void 0&&(x=Number.parseInt(d.get(wn.MARGIN).toString(),10)));const _=jt.encode(i,p,d);return Ra.renderResult(_,u,h,x)}static renderResult(i,o,u,h){const d=i.getMatrix();if(d===null)throw new nt;const p=d.getWidth(),x=d.getHeight(),_=p+h*2,C=x+h*2,O=Math.max(o,_),k=Math.max(u,C),L=Math.min(Math.floor(O/_),Math.floor(k/C)),H=Math.floor((O-p*L)/2),Z=Math.floor((k-x*L)/2),J=new Ne(O,k);for(let ae=0,de=Z;ae<x;ae++,de+=L)for(let Te=0,Re=H;Te<p;Te++,Re+=L)d.get(Te,ae)===1&&J.setRegion(Re,de,L,L);return J}}Ra.QUIET_ZONE_SIZE=4;class nd{encode(i,o,u,h,d){let p;switch(o){case Ae.QR_CODE:p=new Ra;break;default:throw new A("No encoder available for format "+o)}return p.encode(i,o,u,h,d)}}class Wr extends Ie{constructor(i,o,u,h,d,p,x,_){if(super(p,x),this.yuvData=i,this.dataWidth=o,this.dataHeight=u,this.left=h,this.top=d,h+p>o||d+x>u)throw new A("Crop rectangle does not fit within image data.");_&&this.reverseHorizontal(p,x)}getRow(i,o){if(i<0||i>=this.getHeight())throw new A("Requested row is outside the image: "+i);const u=this.getWidth();(o==null||o.length<u)&&(o=new Uint8ClampedArray(u));const h=(i+this.top)*this.dataWidth+this.left;return D.arraycopy(this.yuvData,h,o,0,u),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.yuvData;const u=i*o,h=new Uint8ClampedArray(u);let d=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return D.arraycopy(this.yuvData,d,h,0,u),h;for(let p=0;p<o;p++){const x=p*i;D.arraycopy(this.yuvData,d,h,x,i),d+=this.dataWidth}return h}isCropSupported(){return!0}crop(i,o,u,h){return new Wr(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+o,u,h,!1)}renderThumbnail(){const i=this.getWidth()/Wr.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/Wr.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(i*o),h=this.yuvData;let d=this.top*this.dataWidth+this.left;for(let p=0;p<o;p++){const x=p*i;for(let _=0;_<i;_++){const C=h[d+_*Wr.THUMBNAIL_SCALE_FACTOR]&255;u[x+_]=4278190080|C*65793}d+=this.dataWidth*Wr.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/Wr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Wr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,o){const u=this.yuvData;for(let h=0,d=this.top*this.dataWidth+this.left;h<o;h++,d+=this.dataWidth){const p=d+i/2;for(let x=d,_=d+i-1;x<p;x++,_--){const C=u[x];u[x]=u[_],u[_]=C}}}invert(){return new je(this)}}Wr.THUMBNAIL_SCALE_FACTOR=2;class Cs extends Ie{constructor(i,o,u,h,d,p,x){if(super(o,u),this.dataWidth=h,this.dataHeight=d,this.left=p,this.top=x,i.BYTES_PER_ELEMENT===4){const _=o*u,C=new Uint8ClampedArray(_);for(let O=0;O<_;O++){const k=i[O],L=k>>16&255,H=k>>7&510,Z=k&255;C[O]=(L+H+Z)/4&255}this.luminances=C}else this.luminances=i;if(h===void 0&&(this.dataWidth=o),d===void 0&&(this.dataHeight=u),p===void 0&&(this.left=0),x===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+u>this.dataHeight)throw new A("Crop rectangle does not fit within image data.")}getRow(i,o){if(i<0||i>=this.getHeight())throw new A("Requested row is outside the image: "+i);const u=this.getWidth();(o==null||o.length<u)&&(o=new Uint8ClampedArray(u));const h=(i+this.top)*this.dataWidth+this.left;return D.arraycopy(this.luminances,h,o,0,u),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.luminances;const u=i*o,h=new Uint8ClampedArray(u);let d=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return D.arraycopy(this.luminances,d,h,0,u),h;for(let p=0;p<o;p++){const x=p*i;D.arraycopy(this.luminances,d,h,x,i),d+=this.dataWidth}return h}isCropSupported(){return!0}crop(i,o,u,h){return new Cs(this.luminances,u,h,this.dataWidth,this.dataHeight,this.left+i,this.top+o)}invert(){return new je(this)}}class Da extends W{static forName(i){return this.getCharacterSetECIByName(i)}}class Pl{}Pl.ISO_8859_1=W.ISO8859_1;class Ul{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class jl{static singletonList(i){return[i]}static min(i,o){return i.sort(o)[0]}}class Dc{constructor(i){this.previous=i}getPrevious(){return this.previous}}class Qi extends Dc{constructor(i,o,u){super(i),this.value=o,this.bitCount=u}appendTo(i,o){i.appendBits(this.value,this.bitCount)}add(i,o){return new Qi(this,i,o)}addBinaryShift(i,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Qi(this,i,o)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+P.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class xo extends Qi{constructor(i,o,u){super(i,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=u}appendTo(i,o){for(let u=0;u<this.binaryShiftByteCount;u++)(u===0||u===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):u===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(o[this.binaryShiftStart+u],8)}addBinaryShift(i,o){return new xo(this,i,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Na(I,i,o){return new xo(I,i,o)}function Ts(I,i,o){return new Qi(I,i,o)}const rd=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ni=0,Os=1,mr=2,Ma=3,nr=4,id=new Qi(null,0,0),Ia=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Nc(I){for(let i of I)q.fill(i,-1);return I[Ni][nr]=0,I[Os][nr]=0,I[Os][Ni]=28,I[Ma][nr]=0,I[mr][nr]=0,I[mr][Ni]=15,I}const Fl=Nc(q.createInt32Array(6,6));class xr{constructor(i,o,u,h){this.token=i,this.mode=o,this.binaryShiftByteCount=u,this.bitCount=h}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,o){let u=this.bitCount,h=this.token;if(i!==this.mode){let p=Ia[this.mode][i];h=Ts(h,p&65535,p>>16),u+=p>>16}let d=i===mr?4:5;return h=Ts(h,o,d),new xr(h,i,0,u+d)}shiftAndAppend(i,o){let u=this.token,h=this.mode===mr?4:5;return u=Ts(u,Fl[this.mode][i],h),u=Ts(u,o,5),new xr(u,this.mode,0,this.bitCount+h+5)}addBinaryShiftChar(i){let o=this.token,u=this.mode,h=this.bitCount;if(this.mode===nr||this.mode===mr){let x=Ia[u][Ni];o=Ts(o,x&65535,x>>16),h+=x>>16,u=Ni}let d=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,p=new xr(o,u,this.binaryShiftByteCount+1,h+d);return p.binaryShiftByteCount===2078&&(p=p.endBinaryShift(i+1)),p}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=Na(o,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new xr(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let o=this.bitCount+(Ia[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?o+=xr.calculateBinaryShiftCost(i)-xr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(o+=10),o<=i.bitCount}toBitArray(i){let o=[];for(let h=this.endBinaryShift(i.length).token;h!==null;h=h.getPrevious())o.unshift(h);let u=new F;for(const h of o)h.appendTo(u,i);return u}toString(){return pe.format("%s bits=%d bytes=%d",rd[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}xr.INITIAL_STATE=new xr(id,Ni,0,0);function ql(I){const i=pe.getCharCode(" "),o=pe.getCharCode("."),u=pe.getCharCode(",");I[Ni][i]=1;const h=pe.getCharCode("Z"),d=pe.getCharCode("A");for(let L=d;L<=h;L++)I[Ni][L]=L-d+2;I[Os][i]=1;const p=pe.getCharCode("z"),x=pe.getCharCode("a");for(let L=x;L<=p;L++)I[Os][L]=L-x+2;I[mr][i]=1;const _=pe.getCharCode("9"),C=pe.getCharCode("0");for(let L=C;L<=_;L++)I[mr][L]=L-C+2;I[mr][u]=12,I[mr][o]=13;const O=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let L=0;L<O.length;L++)I[Ma][pe.getCharCode(O[L])]=L;const k=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let L=0;L<k.length;L++)pe.getCharCode(k[L])>0&&(I[nr][pe.getCharCode(k[L])]=L);return I}const bo=ql(q.createInt32Array(5,256));class ka{constructor(i){this.text=i}encode(){const i=pe.getCharCode(" "),o=pe.getCharCode(`
`);let u=jl.singletonList(xr.INITIAL_STATE);for(let d=0;d<this.text.length;d++){let p,x=d+1<this.text.length?this.text[d+1]:0;switch(this.text[d]){case pe.getCharCode("\r"):p=x===o?2:0;break;case pe.getCharCode("."):p=x===i?3:0;break;case pe.getCharCode(","):p=x===i?4:0;break;case pe.getCharCode(":"):p=x===i?5:0;break;default:p=0}p>0?(u=ka.updateStateListForPair(u,d,p),d++):u=this.updateStateListForChar(u,d)}return jl.min(u,(d,p)=>d.getBitCount()-p.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,o){const u=[];for(let h of i)this.updateStateForChar(h,o,u);return ka.simplifyStates(u)}updateStateForChar(i,o,u){let h=this.text[o]&255,d=bo[i.getMode()][h]>0,p=null;for(let x=0;x<=nr;x++){let _=bo[x][h];if(_>0){if(p==null&&(p=i.endBinaryShift(o)),!d||x===i.getMode()||x===mr){const C=p.latchAndAppend(x,_);u.push(C)}if(!d&&Fl[i.getMode()][x]>=0){const C=p.shiftAndAppend(x,_);u.push(C)}}}if(i.getBinaryShiftByteCount()>0||bo[i.getMode()][h]===0){let x=i.addBinaryShiftChar(o);u.push(x)}}static updateStateListForPair(i,o,u){const h=[];for(let d of i)this.updateStateForPair(d,o,u,h);return this.simplifyStates(h)}static updateStateForPair(i,o,u,h){let d=i.endBinaryShift(o);if(h.push(d.latchAndAppend(nr,u)),i.getMode()!==nr&&h.push(d.shiftAndAppend(nr,u)),u===3||u===4){let p=d.latchAndAppend(mr,16-u).latchAndAppend(mr,1);h.push(p)}if(i.getBinaryShiftByteCount()>0){let p=i.addBinaryShiftChar(o).addBinaryShiftChar(o+1);h.push(p)}}static simplifyStates(i){let o=[];for(const u of i){let h=!0;for(const d of o){if(d.isBetterThanOrEqualTo(u)){h=!1;break}u.isBetterThanOrEqualTo(d)&&(o=o.filter(p=>p!==d))}h&&o.push(u)}return o}}class mt{constructor(){}static encodeBytes(i){return mt.encode(i,mt.DEFAULT_EC_PERCENT,mt.DEFAULT_AZTEC_LAYERS)}static encode(i,o,u){let h=new ka(i).encode(),d=P.truncDivision(h.getSize()*o,100)+11,p=h.getSize()+d,x,_,C,O,k;if(u!==mt.DEFAULT_AZTEC_LAYERS){if(x=u<0,_=Math.abs(u),_>(x?mt.MAX_NB_BITS_COMPACT:mt.MAX_NB_BITS))throw new A(pe.format("Illegal value %s for layers",u));C=mt.totalBitsInLayer(_,x),O=mt.WORD_SIZE[_];let Ce=C-C%O;if(k=mt.stuffBits(h,O),k.getSize()+d>Ce)throw new A("Data to large for user specified layer");if(x&&k.getSize()>O*64)throw new A("Data to large for user specified layer")}else{O=0,k=null;for(let Ce=0;;Ce++){if(Ce>mt.MAX_NB_BITS)throw new A("Data too large for an Aztec code");if(x=Ce<=3,_=x?Ce+1:Ce,C=mt.totalBitsInLayer(_,x),p>C)continue;(k==null||O!==mt.WORD_SIZE[_])&&(O=mt.WORD_SIZE[_],k=mt.stuffBits(h,O));let et=C-C%O;if(!(x&&k.getSize()>O*64)&&k.getSize()+d<=et)break}}let L=mt.generateCheckWords(k,C,O),H=k.getSize()/O,Z=mt.generateModeMessage(x,_,H),J=(x?11:14)+_*4,ae=new Int32Array(J),de;if(x){de=J;for(let Ce=0;Ce<ae.length;Ce++)ae[Ce]=Ce}else{de=J+1+2*P.truncDivision(P.truncDivision(J,2)-1,15);let Ce=P.truncDivision(J,2),et=P.truncDivision(de,2);for(let Qe=0;Qe<Ce;Qe++){let Kn=Qe+P.truncDivision(Qe,15);ae[Ce-Qe-1]=et-Kn-1,ae[Ce+Qe]=et+Kn+1}}let Te=new Ne(de);for(let Ce=0,et=0;Ce<_;Ce++){let Qe=(_-Ce)*4+(x?9:12);for(let Kn=0;Kn<Qe;Kn++){let br=Kn*2;for(let rr=0;rr<2;rr++)L.get(et+br+rr)&&Te.set(ae[Ce*2+rr],ae[Ce*2+Kn]),L.get(et+Qe*2+br+rr)&&Te.set(ae[Ce*2+Kn],ae[J-1-Ce*2-rr]),L.get(et+Qe*4+br+rr)&&Te.set(ae[J-1-Ce*2-rr],ae[J-1-Ce*2-Kn]),L.get(et+Qe*6+br+rr)&&Te.set(ae[J-1-Ce*2-Kn],ae[Ce*2+rr])}et+=Qe*8}if(mt.drawModeMessage(Te,x,de,Z),x)mt.drawBullsEye(Te,P.truncDivision(de,2),5);else{mt.drawBullsEye(Te,P.truncDivision(de,2),7);for(let Ce=0,et=0;Ce<P.truncDivision(J,2)-1;Ce+=15,et+=16)for(let Qe=P.truncDivision(de,2)&1;Qe<de;Qe+=2)Te.set(P.truncDivision(de,2)-et,Qe),Te.set(P.truncDivision(de,2)+et,Qe),Te.set(Qe,P.truncDivision(de,2)-et),Te.set(Qe,P.truncDivision(de,2)+et)}let Re=new Ul;return Re.setCompact(x),Re.setSize(de),Re.setLayers(_),Re.setCodeWords(H),Re.setMatrix(Te),Re}static drawBullsEye(i,o,u){for(let h=0;h<u;h+=2)for(let d=o-h;d<=o+h;d++)i.set(d,o-h),i.set(d,o+h),i.set(o-h,d),i.set(o+h,d);i.set(o-u,o-u),i.set(o-u+1,o-u),i.set(o-u,o-u+1),i.set(o+u,o-u),i.set(o+u,o-u+1),i.set(o+u,o+u-1)}static generateModeMessage(i,o,u){let h=new F;return i?(h.appendBits(o-1,2),h.appendBits(u-1,6),h=mt.generateCheckWords(h,28,4)):(h.appendBits(o-1,5),h.appendBits(u-1,11),h=mt.generateCheckWords(h,40,4)),h}static drawModeMessage(i,o,u,h){let d=P.truncDivision(u,2);if(o)for(let p=0;p<7;p++){let x=d-3+p;h.get(p)&&i.set(x,d-5),h.get(p+7)&&i.set(d+5,x),h.get(20-p)&&i.set(x,d+5),h.get(27-p)&&i.set(d-5,x)}else for(let p=0;p<10;p++){let x=d-5+p+P.truncDivision(p,5);h.get(p)&&i.set(x,d-7),h.get(p+10)&&i.set(d+7,x),h.get(29-p)&&i.set(x,d+7),h.get(39-p)&&i.set(d-7,x)}}static generateCheckWords(i,o,u){let h=i.getSize()/u,d=new Ll(mt.getGF(u)),p=P.truncDivision(o,u),x=mt.bitsToWords(i,u,p);d.encode(x,p-h);let _=o%u,C=new F;C.appendBits(0,_);for(const O of Array.from(x))C.appendBits(O,u);return C}static bitsToWords(i,o,u){let h=new Int32Array(u),d,p;for(d=0,p=i.getSize()/o;d<p;d++){let x=0;for(let _=0;_<o;_++)x|=i.get(d*o+_)?1<<o-_-1:0;h[d]=x}return h}static getGF(i){switch(i){case 4:return at.AZTEC_PARAM;case 6:return at.AZTEC_DATA_6;case 8:return at.AZTEC_DATA_8;case 10:return at.AZTEC_DATA_10;case 12:return at.AZTEC_DATA_12;default:throw new A("Unsupported word size "+i)}}static stuffBits(i,o){let u=new F,h=i.getSize(),d=(1<<o)-2;for(let p=0;p<h;p+=o){let x=0;for(let _=0;_<o;_++)(p+_>=h||i.get(p+_))&&(x|=1<<o-1-_);(x&d)===d?(u.appendBits(x&d,o),p--):(x&d)===0?(u.appendBits(x|1,o),p--):u.appendBits(x,o)}return u}static totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}mt.DEFAULT_EC_PERCENT=33,mt.DEFAULT_AZTEC_LAYERS=0,mt.MAX_NB_BITS=32,mt.MAX_NB_BITS_COMPACT=4,mt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Eo{encode(i,o,u,h){return this.encodeWithHints(i,o,u,h,null)}encodeWithHints(i,o,u,h,d){let p=Pl.ISO_8859_1,x=mt.DEFAULT_EC_PERCENT,_=mt.DEFAULT_AZTEC_LAYERS;return d!=null&&(d.has(wn.CHARACTER_SET)&&(p=Da.forName(d.get(wn.CHARACTER_SET).toString())),d.has(wn.ERROR_CORRECTION)&&(x=P.parseInt(d.get(wn.ERROR_CORRECTION).toString())),d.has(wn.AZTEC_LAYERS)&&(_=P.parseInt(d.get(wn.AZTEC_LAYERS).toString()))),Eo.encodeLayers(i,o,u,h,p,x,_)}static encodeLayers(i,o,u,h,d,p,x){if(o!==Ae.AZTEC)throw new A("Can only encode AZTEC, but got "+o);let _=mt.encode(pe.getBytes(i,d),p,x);return Eo.renderResult(_,u,h)}static renderResult(i,o,u){let h=i.getMatrix();if(h==null)throw new nt;let d=h.getWidth(),p=h.getHeight(),x=Math.max(o,d),_=Math.max(u,p),C=Math.min(x/d,_/p),O=(x-d*C)/2,k=(_-p*C)/2,L=new Ne(x,_);for(let H=0,Z=k;H<p;H++,Z+=C)for(let J=0,ae=O;J<d;J++,ae+=C)h.get(J,H)&&L.setRegion(ae,Z,C,C);return L}}t.AbstractExpandedDecoder=ws,t.ArgumentException=E,t.ArithmeticException=Gr,t.AztecCode=Ul,t.AztecCodeReader=_a,t.AztecCodeWriter=Eo,t.AztecDecoder=ut,t.AztecDetector=ps,t.AztecDetectorResult=tn,t.AztecEncoder=mt,t.AztecHighLevelEncoder=ka,t.AztecPoint=xt,t.BarcodeFormat=Ae,t.Binarizer=M,t.BinaryBitmap=T,t.BitArray=F,t.BitMatrix=Ne,t.BitSource=er,t.BrowserAztecCodeReader=oo,t.BrowserBarcodeReader=Sc,t.BrowserCodeReader=Oe,t.BrowserDatamatrixCodeReader=Xh,t.BrowserMultiFormatReader=Qh,t.BrowserPDF417Reader=Jh,t.BrowserQRCodeReader=ed,t.BrowserQRCodeSvgWriter=Zi,t.CharacterSetECI=W,t.ChecksumException=R,t.Code128Reader=De,t.Code39Reader=Ut,t.DataMatrixDecodedBitStreamParser=_i,t.DataMatrixReader=kr,t.DecodeHintType=$,t.DecoderResult=En,t.DefaultGridSampler=sn,t.DetectorResult=jn,t.EAN13Reader=Mr,t.EncodeHintType=wn,t.Exception=y,t.FormatException=G,t.GenericGF=at,t.GenericGFPoly=Wt,t.GlobalHistogramBinarizer=re,t.GridSampler=Nr,t.GridSamplerInstance=Pt,t.HTMLCanvasElementLuminanceSource=K,t.HybridBinarizer=fe,t.ITFReader=bt,t.IllegalArgumentException=A,t.IllegalStateException=nt,t.InvertedLuminanceSource=je,t.LuminanceSource=Ie,t.MathUtils=Ze,t.MultiFormatOneDReader=Ei,t.MultiFormatReader=Rc,t.MultiFormatWriter=nd,t.NotFoundException=ne,t.OneDReader=yt,t.PDF417DecodedBitStreamParser=me,t.PDF417DecoderErrorCorrection=Es,t.PDF417Reader=Mn,t.PDF417ResultMetadata=vo,t.PerspectiveTransform=an,t.PlanarYUVLuminanceSource=Wr,t.QRCodeByteMatrix=Ss,t.QRCodeDataMask=Nn,t.QRCodeDecodedBitStreamParser=Yt,t.QRCodeDecoderErrorCorrectionLevel=St,t.QRCodeDecoderFormatInformation=Dn,t.QRCodeEncoder=jt,t.QRCodeEncoderQRCode=$i,t.QRCodeMaskUtil=Qt,t.QRCodeMatrixUtil=We,t.QRCodeMode=ze,t.QRCodeReader=ui,t.QRCodeVersion=qe,t.QRCodeWriter=Ra,t.RGBLuminanceSource=Cs,t.RSS14Reader=Et,t.RSSExpandedReader=_e,t.ReaderException=_s,t.ReedSolomonDecoder=dr,t.ReedSolomonEncoder=Ll,t.ReedSolomonException=vr,t.Result=ke,t.ResultMetadataType=Ve,t.ResultPoint=Be,t.StringUtils=pe,t.UnsupportedOperationException=xe,t.VideoInputDevice=ye,t.WhiteRectangleDetector=_n,t.WriterException=Ot,t.ZXingArrays=q,t.ZXingCharset=Da,t.ZXingInteger=P,t.ZXingStandardCharsets=Pl,t.ZXingStringBuilder=ve,t.ZXingStringEncoding=ce,t.ZXingSystem=D,t.createAbstractExpandedDecoder=Il,Object.defineProperty(t,"__esModule",{value:!0})})}(ku,ku.exports)),ku.exports}var Xt=m5();const p5=cr(Xt),v5=BC({__proto__:null,default:p5},[Xt]);var sb=function(){function n(e,t,a){if(this.formatMap=new Map([[Pe.QR_CODE,Xt.BarcodeFormat.QR_CODE],[Pe.AZTEC,Xt.BarcodeFormat.AZTEC],[Pe.CODABAR,Xt.BarcodeFormat.CODABAR],[Pe.CODE_39,Xt.BarcodeFormat.CODE_39],[Pe.CODE_93,Xt.BarcodeFormat.CODE_93],[Pe.CODE_128,Xt.BarcodeFormat.CODE_128],[Pe.DATA_MATRIX,Xt.BarcodeFormat.DATA_MATRIX],[Pe.MAXICODE,Xt.BarcodeFormat.MAXICODE],[Pe.ITF,Xt.BarcodeFormat.ITF],[Pe.EAN_13,Xt.BarcodeFormat.EAN_13],[Pe.EAN_8,Xt.BarcodeFormat.EAN_8],[Pe.PDF_417,Xt.BarcodeFormat.PDF_417],[Pe.RSS_14,Xt.BarcodeFormat.RSS_14],[Pe.RSS_EXPANDED,Xt.BarcodeFormat.RSS_EXPANDED],[Pe.UPC_A,Xt.BarcodeFormat.UPC_A],[Pe.UPC_E,Xt.BarcodeFormat.UPC_E],[Pe.UPC_EAN_EXTENSION,Xt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!v5)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=a;var l=this.createZXingFormats(e),c=new Map;c.set(Xt.DecodeHintType.POSSIBLE_FORMATS,l),c.set(Xt.DecodeHintType.TRY_HARDER,!1),this.hints=c}return n.prototype.decodeAsync=function(e){var t=this;return new Promise(function(a,l){try{a(t.decode(e))}catch(c){l(c)}})},n.prototype.decode=function(e){var t=new Xt.MultiFormatReader(this.verbose,this.hints),a=new Xt.HTMLCanvasElementLuminanceSource(e),l=new Xt.BinaryBitmap(new Xt.HybridBinarizer(a)),c=t.decode(l);return{text:c.text,format:N4.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}},n.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,a,l){e.set(t,a)}),e},n.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},n.prototype.createZXingFormats=function(e){for(var t=[],a=0,l=e;a<l.length;a++){var c=l[a];this.formatMap.has(c)?t.push(this.formatMap.get(c)):this.logger.logError("".concat(c," is not supported by")+"ZXingHtml5QrcodeShim")}return t},n.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},n}(),y5=function(n,e,t,a){function l(c){return c instanceof t?c:new t(function(g){g(c)})}return new(t||(t=Promise))(function(c,g){function w(E){try{y(a.next(E))}catch(A){g(A)}}function v(E){try{y(a.throw(E))}catch(A){g(A)}}function y(E){E.done?c(E.value):l(E.value).then(w,v)}y((a=a.apply(n,e||[])).next())})},w5=function(n,e){var t={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},a,l,c,g;return g={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function w(y){return function(E){return v([y,E])}}function v(y){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,y[0]&&(t=0)),t;)try{if(a=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,l=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(c=t.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){t.label=y[1];break}if(y[0]===6&&t.label<c[1]){t.label=c[1],c=y;break}if(c&&t.label<c[2]){t.label=c[2],t.ops.push(y);break}c[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(n,t)}catch(E){y=[6,E],l=0}finally{a=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},ob=function(){function n(e,t,a){if(this.formatMap=new Map([[Pe.QR_CODE,"qr_code"],[Pe.AZTEC,"aztec"],[Pe.CODABAR,"codabar"],[Pe.CODE_39,"code_39"],[Pe.CODE_93,"code_93"],[Pe.CODE_128,"code_128"],[Pe.DATA_MATRIX,"data_matrix"],[Pe.ITF,"itf"],[Pe.EAN_13,"ean_13"],[Pe.EAN_8,"ean_8"],[Pe.PDF_417,"pdf417"],[Pe.UPC_A,"upc_a"],[Pe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!n.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=t,this.logger=a;var l=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(l),!this.detector)throw"BarcodeDetector detector not supported"}return n.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},n.prototype.decodeAsync=function(e){return y5(this,void 0,void 0,function(){var t,a;return w5(this,function(l){switch(l.label){case 0:return[4,this.detector.detect(e)];case 1:if(t=l.sent(),!t||t.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(t),[2,{text:a.rawValue,format:N4.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},n.prototype.selectLargestBarcode=function(e){for(var t=null,a=0,l=0,c=e;l<c.length;l++){var g=c[l],w=g.boundingBox.width*g.boundingBox.height;w>a&&(a=w,t=g)}if(!t)throw"No largest barcode found";return t},n.prototype.createBarcodeDetectorFormats=function(e){for(var t=[],a=0,l=e;a<l.length;a++){var c=l[a];this.formatMap.has(c)?t.push(this.formatMap.get(c)):this.logger.warn("".concat(c," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},n.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},n.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,a,l){e.set(t,a)}),e},n.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},n}(),lb=function(n,e,t,a){function l(c){return c instanceof t?c:new t(function(g){g(c)})}return new(t||(t=Promise))(function(c,g){function w(E){try{y(a.next(E))}catch(A){g(A)}}function v(E){try{y(a.throw(E))}catch(A){g(A)}}function y(E){E.done?c(E.value):l(E.value).then(w,v)}y((a=a.apply(n,e||[])).next())})},ub=function(n,e){var t={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},a,l,c,g;return g={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function w(y){return function(E){return v([y,E])}}function v(y){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,y[0]&&(t=0)),t;)try{if(a=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,l=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(c=t.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){t.label=y[1];break}if(y[0]===6&&t.label<c[1]){t.label=c[1],c=y;break}if(c&&t.label<c[2]){t.label=c[2],t.ops.push(y);break}c[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(n,t)}catch(E){y=[6,E],l=0}finally{a=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},x5=function(){function n(e,t,a,l){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,t&&ob.isSupported()?(this.primaryDecoder=new ob(e,a,l),this.secondaryDecoder=new sb(e,a,l)):this.primaryDecoder=new sb(e,a,l)}return n.prototype.decodeAsync=function(e){return lb(this,void 0,void 0,function(){var t;return ub(this,function(a){switch(a.label){case 0:t=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}})})},n.prototype.decodeRobustlyAsync=function(e){return lb(this,void 0,void 0,function(){var t,a;return ub(this,function(l){switch(l.label){case 0:t=performance.now(),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,l.sent()];case 3:if(a=l.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw a;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}})})},n.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},n.prototype.possiblyLogPerformance=function(e){if(this.verbose){var t=performance.now()-e;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},n.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,t=0,a=this.executionResults;t<a.length;t++){var l=a[t];e+=l}var c=e/this.executionResults.length;console.log("".concat(c," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},n}(),N2=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(a[c]=l[c])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),uh=function(n,e,t,a){function l(c){return c instanceof t?c:new t(function(g){g(c)})}return new(t||(t=Promise))(function(c,g){function w(E){try{y(a.next(E))}catch(A){g(A)}}function v(E){try{y(a.throw(E))}catch(A){g(A)}}function y(E){E.done?c(E.value):l(E.value).then(w,v)}y((a=a.apply(n,e||[])).next())})},ch=function(n,e){var t={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},a,l,c,g;return g={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function w(y){return function(E){return v([y,E])}}function v(y){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,y[0]&&(t=0)),t;)try{if(a=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,l=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(c=t.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){t.label=y[1];break}if(y[0]===6&&t.label<c[1]){t.label=c[1],c=y;break}if(c&&t.label<c[2]){t.label=c[2],t.ops.push(y);break}c[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(n,t)}catch(E){y=[6,E],l=0}finally{a=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},I4=function(){function n(e,t){this.name=e,this.track=t}return n.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},n.prototype.apply=function(e){var t={};t[this.name]=e;var a={advanced:[t]};return this.track.applyConstraints(a)},n.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var t=e[this.name];return t}return null},n}(),b5=function(n){N2(e,n);function e(t,a){return n.call(this,t,a)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(t){var a={};a[this.name]=t;var l={advanced:[a]};return this.track.applyConstraints(l)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var t=this.track.getCapabilities(),a=t[this.name];return{min:a.min,max:a.max,step:a.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(I4),E5=function(n){N2(e,n);function e(t){return n.call(this,"zoom",t)||this}return e}(b5),_5=function(n){N2(e,n);function e(t){return n.call(this,"torch",t)||this}return e}(I4),A5=function(){function n(e){this.track=e}return n.prototype.zoomFeature=function(){return new E5(this.track)},n.prototype.torchFeature=function(){return new _5(this.track)},n}(),S5=function(){function n(e,t,a){this.isClosed=!1,this.parentElement=e,this.mediaStream=t,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return n.prototype.createVideoElement=function(e){var t=document.createElement("video");return t.style.width="".concat(e,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},n.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){var a=e.surface.clientWidth,l=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(a,l),e.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},n.create=function(e,t,a,l){return uh(this,void 0,void 0,function(){var c,g;return ch(this,function(w){switch(w.label){case 0:return c=new n(e,t,l),a.aspectRatio?(g={aspectRatio:a.aspectRatio},[4,c.getFirstTrackOrFail().applyConstraints(g)]):[3,2];case 1:w.sent(),w.label=2;case 2:return c.setupSurface(),[2,c]}})})},n.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},n.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},n.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},n.prototype.resume=function(e){this.failIfClosed();var t=this,a=function(){setTimeout(e,200),t.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},n.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},n.prototype.getSurface=function(){return this.failIfClosed(),this.surface},n.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},n.prototype.applyVideoConstraints=function(e){return uh(this,void 0,void 0,function(){return ch(this,function(t){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},n.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(t,a){var l=e.mediaStream.getVideoTracks(),c=l.length,g=0;e.mediaStream.getVideoTracks().forEach(function(w){e.mediaStream.removeTrack(w),w.stop(),++g,g>=c&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),t())})})},n.prototype.getCapabilities=function(){return new A5(this.getFirstTrackOrFail())},n}(),C5=function(){function n(e){this.mediaStream=e}return n.prototype.render=function(e,t,a){return uh(this,void 0,void 0,function(){return ch(this,function(l){return[2,S5.create(e,this.mediaStream,t,a)]})})},n.create=function(e){return uh(this,void 0,void 0,function(){var t,a;return ch(this,function(l){switch(l.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return t={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(t)];case 1:return a=l.sent(),[2,new n(a)]}})})},n}(),cb=function(n,e,t,a){function l(c){return c instanceof t?c:new t(function(g){g(c)})}return new(t||(t=Promise))(function(c,g){function w(E){try{y(a.next(E))}catch(A){g(A)}}function v(E){try{y(a.throw(E))}catch(A){g(A)}}function y(E){E.done?c(E.value):l(E.value).then(w,v)}y((a=a.apply(n,e||[])).next())})},fb=function(n,e){var t={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},a,l,c,g;return g={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function w(y){return function(E){return v([y,E])}}function v(y){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,y[0]&&(t=0)),t;)try{if(a=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,l=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(c=t.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){t.label=y[1];break}if(y[0]===6&&t.label<c[1]){t.label=c[1],c=y;break}if(c&&t.label<c[2]){t.label=c[2],t.ops.push(y);break}c[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(n,t)}catch(E){y=[6,E],l=0}finally{a=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},T5=function(){function n(){}return n.failIfNotSupported=function(){return cb(this,void 0,void 0,function(){return fb(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new n]})})},n.prototype.create=function(e){return cb(this,void 0,void 0,function(){return fb(this,function(t){return[2,C5.create(e)]})})},n}(),O5=function(n,e,t,a){function l(c){return c instanceof t?c:new t(function(g){g(c)})}return new(t||(t=Promise))(function(c,g){function w(E){try{y(a.next(E))}catch(A){g(A)}}function v(E){try{y(a.throw(E))}catch(A){g(A)}}function y(E){E.done?c(E.value):l(E.value).then(w,v)}y((a=a.apply(n,e||[])).next())})},R5=function(n,e){var t={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},a,l,c,g;return g={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function w(y){return function(E){return v([y,E])}}function v(y){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,y[0]&&(t=0)),t;)try{if(a=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,l=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(c=t.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){t.label=y[1];break}if(y[0]===6&&t.label<c[1]){t.label=c[1],c=y;break}if(c&&t.label<c[2]){t.label=c[2],t.ops.push(y);break}c[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(n,t)}catch(E){y=[6,E],l=0}finally{a=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},D5=function(){function n(){}return n.retrieve=function(){if(navigator.mediaDevices)return n.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?n.getCamerasFromMediaStreamTrack():n.rejectWithError()},n.rejectWithError=function(){var e=ul.unableToQuerySupportedDevices();return n.isHttpsOrLocalhost()||(e=ul.insecureContextCameraQueryError()),Promise.reject(e)},n.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},n.getCamerasFromMediaDevices=function(){return O5(this,void 0,void 0,function(){var e,t,a,l,c,g,w;return R5(this,function(v){switch(v.label){case 0:return e=function(y){for(var E=y.getVideoTracks(),A=0,T=E;A<T.length;A++){var R=T[A];R.enabled=!1,R.stop(),y.removeTrack(R)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=v.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=v.sent(),l=[],c=0,g=a;c<g.length;c++)w=g[c],w.kind==="videoinput"&&l.push({id:w.deviceId,label:w.label});return e(t),[2,l]}})})},n.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,t){var a=function(c){for(var g=[],w=0,v=c;w<v.length;w++){var y=v[w];y.kind==="video"&&g.push({id:y.id,label:y.label})}e(g)},l=MediaStreamTrack;l.getSources(a)})},n}(),dn;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.NOT_STARTED=1]="NOT_STARTED",n[n.SCANNING=2]="SCANNING",n[n.PAUSED=3]="PAUSED"})(dn||(dn={}));var N5=function(){function n(){this.state=dn.NOT_STARTED,this.onGoingTransactionNewState=dn.UNKNOWN}return n.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},n.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},n.prototype.execute=function(){if(this.onGoingTransactionNewState===dn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=dn.UNKNOWN,this.directTransition(e)},n.prototype.cancel=function(){if(this.onGoingTransactionNewState===dn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=dn.UNKNOWN},n.prototype.getState=function(){return this.state},n.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==dn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},n.prototype.validateTransition=function(e){switch(this.state){case dn.UNKNOWN:throw"Transition from unknown is not allowed";case dn.NOT_STARTED:this.failIfNewStateIs(e,[dn.PAUSED]);break;case dn.SCANNING:break;case dn.PAUSED:break}},n.prototype.failIfNewStateIs=function(e,t){for(var a=0,l=t;a<l.length;a++){var c=l[a];if(e===c)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},n}(),M5=function(){function n(e){this.stateManager=e}return n.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},n.prototype.directTransition=function(e){this.stateManager.directTransition(e)},n.prototype.getState=function(){return this.stateManager.getState()},n.prototype.canScanFile=function(){return this.stateManager.getState()===dn.NOT_STARTED},n.prototype.isScanning=function(){return this.stateManager.getState()!==dn.NOT_STARTED},n.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===dn.SCANNING},n.prototype.isPaused=function(){return this.stateManager.getState()===dn.PAUSED},n}(),I5=function(){function n(){}return n.create=function(){return new M5(new N5)},n}(),k5=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(a[c]=l[c])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),zr=function(n){k5(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(f5),B5=function(){function n(e,t){this.logger=t,this.fps=zr.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=zr.DEFAULT_DISABLE_FLIP}return n.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?M4.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},n.prototype.isShadedBoxEnabled=function(){return!ma(this.qrbox)},n.create=function(e,t){return new n(e,t)},n}(),L5=function(){function n(e,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var a;typeof t=="boolean"?this.verbose=t===!0:t&&(a=t,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new d5(this.verbose),this.qrcode=new x5(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=I5.create()}return n.prototype.start=function(e,t,a,l){var c=this;if(!e)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var g;l?g=l:g=this.verbose?this.logger.log:function(){};var w=B5.create(t,this.logger);this.clearElement();var v=!1;w.videoConstraints&&(w.isMediaStreamConstraintsValid()?v=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var y=v,E=document.getElementById(this.elementId);E.clientWidth?E.clientWidth:zr.DEFAULT_WIDTH,E.style.position="relative",this.shouldScan=!0,this.element=E;var A=this,T=this.stateManagerProxy.startTransition(dn.SCANNING);return new Promise(function(R,M){var D=y?w.videoConstraints:A.createVideoConstraints(e);if(!D){T.cancel(),M("videoConstraints should be defined");return}var B={};(!y||w.aspectRatio)&&(B.aspectRatio=w.aspectRatio);var j={onRenderSurfaceReady:function(q,P){A.setupUi(q,P,w),A.isScanning=!0,A.foreverScan(w,a,g)}};T5.failIfNotSupported().then(function(q){q.create(D).then(function(P){return P.render(c.element,B,j).then(function(F){A.renderedCamera=F,T.execute(),R(null)}).catch(function(F){T.cancel(),M(F)})}).catch(function(P){T.cancel(),M(ul.errorGettingUserMedia(P))})}).catch(function(q){T.cancel(),M(ul.cameraStreamingNotSupported())})})},n.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(dn.PAUSED),this.showPausedState(),(ma(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},n.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,t=function(){e.stateManagerProxy.directTransition(dn.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){t();return}this.renderedCamera.resume(function(){t()})},n.prototype.getState=function(){return this.stateManagerProxy.getState()},n.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(dn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(e.element){var c=document.getElementById(zr.SHADED_REGION_ELEMENT_ID);c&&e.element.removeChild(c)}},l=this;return this.renderedCamera.close().then(function(){return l.renderedCamera=null,l.element&&(l.element.removeChild(l.canvasElement),l.canvasElement=null),a(),l.qrRegion&&(l.qrRegion=null),l.context&&(l.context=null),t.execute(),l.hidePausedState(),l.isScanning=!1,Promise.resolve()})},n.prototype.scanFile=function(e,t){return this.scanFileV2(e,t).then(function(a){return a.decodedText})},n.prototype.scanFileV2=function(e,t){var a=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ma(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(l,c){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(e);var g=new Image;g.onload=function(){var w=g.width,v=g.height,y=document.getElementById(a.elementId),E=y.clientWidth?y.clientWidth:zr.DEFAULT_WIDTH,A=Math.max(y.clientHeight?y.clientHeight:v,zr.FILE_SCAN_MIN_HEIGHT),T=a.computeCanvasDrawConfig(w,v,E,A);if(t){var R=a.createCanvasElement(E,A,"qr-canvas-visible");R.style.display="inline-block",y.appendChild(R);var M=R.getContext("2d");if(!M)throw"Unable to get 2d context from canvas";M.canvas.width=E,M.canvas.height=A,M.drawImage(g,0,0,w,v,T.x,T.y,T.width,T.height)}var D=zr.FILE_SCAN_HIDDEN_CANVAS_PADDING,B=Math.max(g.width,T.width),j=Math.max(g.height,T.height),q=B+2*D,P=j+2*D,F=a.createCanvasElement(q,P);y.appendChild(F);var X=F.getContext("2d");if(!X)throw"Unable to get 2d context from canvas";X.canvas.width=q,X.canvas.height=P,X.drawImage(g,0,0,w,v,D,D,B,j);try{a.qrcode.decodeRobustlyAsync(F).then(function($){l(ib.createFromQrcodeResult($))}).catch(c)}catch($){c("QR code parse error, error = ".concat($))}},g.onerror=c,g.onabort=c,g.onstalled=c,g.onsuspend=c,g.src=URL.createObjectURL(e)})},n.prototype.clear=function(){this.clearElement()},n.getCameras=function(){return D5.retrieve()},n.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},n.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},n.prototype.applyVideoConstraints=function(e){if(e){if(!M4.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},n.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},n.prototype.getSupportedFormats=function(e){var t=[Pe.QR_CODE,Pe.AZTEC,Pe.CODABAR,Pe.CODE_39,Pe.CODE_93,Pe.CODE_128,Pe.DATA_MATRIX,Pe.MAXICODE,Pe.ITF,Pe.EAN_13,Pe.EAN_8,Pe.PDF_417,Pe.RSS_14,Pe.RSS_EXPANDED,Pe.UPC_A,Pe.UPC_E,Pe.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return t;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],l=0,c=e.formatsToSupport;l<c.length;l++){var g=c[l];c5(g)?a.push(g):this.logger.warn("Invalid format: ".concat(g," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},n.prototype.getUseBarCodeDetectorIfSupported=function(e){if(ma(e))return!0;if(!ma(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(ma(e.experimentalFeatures))return!0;var t=e.experimentalFeatures;return ma(t.useBarCodeDetectorIfSupported)?!0:t.useBarCodeDetectorIfSupported!==!1},n.prototype.validateQrboxSize=function(e,t,a){var l=this,c=a.qrbox;this.validateQrboxConfig(c);var g=this.toQrdimensions(e,t,c),w=function(y){if(y<zr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(zr.MIN_QR_BOX_SIZE,"px.")},v=function(y){return y>e&&(l.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),y=e),y};w(g.width),w(g.height),g.width=v(g.width)},n.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},n.prototype.toQrdimensions=function(e,t,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(e,t)}catch(l){throw new Error("qrbox config was passed as a function but it failed with unknown error"+l)}return a},n.prototype.setupUi=function(e,t,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(e,t,a);var l=ma(a.qrbox)?{width:e,height:t}:a.qrbox;this.validateQrboxConfig(l);var c=this.toQrdimensions(e,t,l);c.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var g=a.isShadedBoxEnabled()&&c.height<=t,w={x:0,y:0,width:e,height:t},v=g?this.getShadedRegionBounds(e,t,c):w,y=this.createCanvasElement(v.width,v.height),E={willReadFrequently:!0},A=y.getContext("2d",E);A.canvas.width=v.width,A.canvas.height=v.height,this.element.append(y),g&&this.possiblyInsertShadingElement(this.element,e,t,c),this.createScannerPausedUiElement(this.element),this.qrRegion=v,this.context=A,this.canvasElement=y},n.prototype.createScannerPausedUiElement=function(e){var t=document.createElement("div");t.innerText=ul.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",e.appendChild(t),this.scannerPausedUiElement=t},n.prototype.scanContext=function(e,t){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(l){return e(l.text,ib.createFromQrcodeResult(l)),a.possiblyUpdateShaders(!0),!0}).catch(function(l){a.possiblyUpdateShaders(!1);var c=ul.codeParseError(l);return t(c,h5.createFrom(c)),!1})},n.prototype.foreverScan=function(e,t,a){var l=this;if(this.shouldScan&&this.renderedCamera){var c=this.renderedCamera.getSurface(),g=c.videoWidth/c.clientWidth,w=c.videoHeight/c.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var v=this.qrRegion.width*g,y=this.qrRegion.height*w,E=this.qrRegion.x*g,A=this.qrRegion.y*w;this.context.drawImage(c,E,A,v,y,0,0,this.qrRegion.width,this.qrRegion.height);var T=function(){l.foreverScanTimeout=setTimeout(function(){l.foreverScan(e,t,a)},l.getTimeoutFps(e.fps))};this.scanContext(t,a).then(function(R){!R&&e.disableFlip!==!0?(l.context.translate(l.context.canvas.width,0),l.context.scale(-1,1),l.scanContext(t,a).finally(function(){T()})):T()}).catch(function(R){l.logger.logError("Error happend while scanning context",R),T()})}},n.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var t="facingMode",a="deviceId",l={user:!0,environment:!0},c="exact",g=function(M){if(M in l)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(M,"'")},w=Object.keys(e);if(w.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(w.length," keys");var v=Object.keys(e)[0];if(v!==t&&v!==a)throw"Only '".concat(t,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(v===t){var y=e.facingMode;if(typeof y=="string"){if(g(y))return{facingMode:y}}else if(typeof y=="object")if(c in y){if(g(y["".concat(c)]))return{facingMode:{exact:y["".concat(c)]}}}else throw"'facingMode' should be string or object with"+" ".concat(c," as key.");else{var E=typeof y;throw"Invalid type of 'facingMode' = ".concat(E)}}else{var A=e.deviceId;if(typeof A=="string")return{deviceId:A};if(typeof A=="object"){if(c in A)return{deviceId:{exact:A["".concat(c)]}};throw"'deviceId' should be string or object with"+" ".concat(c," as key.")}else{var T=typeof A;throw"Invalid type of 'deviceId' = ".concat(T)}}}var R=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(R)},n.prototype.computeCanvasDrawConfig=function(e,t,a,l){if(e<=a&&t<=l){var c=(a-e)/2,g=(l-t)/2;return{x:c,y:g,width:e,height:t}}else{var w=e,v=t;return e>a&&(t=a/e*t,e=a),t>l&&(e=l/t*e,t=l),this.logger.log("Image downsampled from "+"".concat(w,"X").concat(v)+" to ".concat(e,"X").concat(t,".")),this.computeCanvasDrawConfig(e,t,a,l)}},n.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},n.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(t){t.style.backgroundColor=e?zr.BORDER_SHADER_MATCH_COLOR:zr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},n.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},n.prototype.createCanvasElement=function(e,t,a){var l=e,c=t,g=document.createElement("canvas");return g.style.width="".concat(l,"px"),g.style.height="".concat(c,"px"),g.style.display="none",g.id=ma(a)?"qr-canvas":a,g},n.prototype.getShadedRegionBounds=function(e,t,a){if(a.width>e||a.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-a.width)/2,y:(t-a.height)/2,width:a.width,height:a.height}},n.prototype.possiblyInsertShadingElement=function(e,t,a,l){if(!(t-l.width<1||a-l.height<1)){var c=document.createElement("div");c.style.position="absolute";var g=(t-l.width)/2,w=(a-l.height)/2;if(c.style.borderLeft="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderRight="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderTop="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderBottom="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),c.style.boxSizing="border-box",c.style.top="0px",c.style.bottom="0px",c.style.left="0px",c.style.right="0px",c.id="".concat(zr.SHADED_REGION_ELEMENT_ID),t-l.width<11||a-l.height<11)this.hasBorderShaders=!1;else{var v=5,y=40;this.insertShaderBorders(c,y,v,-v,null,0,!0),this.insertShaderBorders(c,y,v,-v,null,0,!1),this.insertShaderBorders(c,y,v,null,-v,0,!0),this.insertShaderBorders(c,y,v,null,-v,0,!1),this.insertShaderBorders(c,v,y+v,-v,null,-v,!0),this.insertShaderBorders(c,v,y+v,null,-v,-v,!0),this.insertShaderBorders(c,v,y+v,-v,null,-v,!1),this.insertShaderBorders(c,v,y+v,null,-v,-v,!1),this.hasBorderShaders=!0}e.append(c)}},n.prototype.insertShaderBorders=function(e,t,a,l,c,g,w){var v=document.createElement("div");v.style.position="absolute",v.style.backgroundColor=zr.BORDER_SHADER_DEFAULT_COLOR,v.style.width="".concat(t,"px"),v.style.height="".concat(a,"px"),l!==null&&(v.style.top="".concat(l,"px")),c!==null&&(v.style.bottom="".concat(c,"px")),w?v.style.left="".concat(g,"px"):v.style.right="".concat(g,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(v),e.appendChild(v)},n.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},n.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},n.prototype.getTimeoutFps=function(e){return 1e3/e},n}(),hb;(function(n){n[n.STATUS_DEFAULT=0]="STATUS_DEFAULT",n[n.STATUS_SUCCESS=1]="STATUS_SUCCESS",n[n.STATUS_WARNING=2]="STATUS_WARNING",n[n.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(hb||(hb={}));function P5(){const n=Q.useRef(null),[e,t]=Q.useState(null);return Q.useEffect(()=>{const a="reader",l=new L5(a,!1);return n.current=l,l.start({facingMode:"environment"},{fps:10,qrbox:250},async c=>{try{const g=JSON.parse(c);if(g.id){const w=await O2(g.id);w&&t(w)}}catch(g){console.error("QR non valide",g)}},()=>{}).catch(c=>console.error("Impossible de dmarrer le scanner :",c)),()=>{n.current?.getState().toString()==="SCANNING"&&n.current.stop().then(()=>n.current?.clear()).catch(c=>console.error("Erreur lors de l'arrt :",c))}},[]),V.jsxs("div",{className:"camera__container",children:[V.jsx("div",{id:"reader"}),e&&V.jsx("div",{className:"camera__equipment",children:V.jsx(R4,{equipment:e})})]})}function U5(){return V.jsx("div",{children:V.jsx(P5,{})})}function j5({user:n,onSignOut:e}){return n?V.jsxs("div",{className:"card",children:[V.jsx("h2",{children:"Profil"}),V.jsx("p",{children:n.email}),V.jsx("button",{className:"btn",onClick:e,children:"Se dconnecter"})]}):null}function F5(){const{user:n,signOut:e}=T2();return V.jsxs("div",{children:[V.jsx(ni,{title:"Paramtres"}),V.jsx(j5,{user:n,onSignOut:e})]})}function q5(){return V.jsxs("nav",{className:"navbar__container",children:[V.jsx(Mu,{to:"/ShelfTracker",className:({isActive:n})=>n?"navbar__item active":"navbar__item",end:!0,children:V.jsx(ZR,{size:24})}),V.jsx(Mu,{to:"/ShelfTracker/scan",className:({isActive:n})=>n?"navbar__item active":"navbar__item",children:V.jsx(e5,{size:24})}),V.jsx(Mu,{to:"/ShelfTracker/calendar",className:({isActive:n})=>n?"navbar__item active":"navbar__item",children:V.jsx(jR,{size:24})}),V.jsx(Mu,{to:"/ShelfTracker/profile",className:({isActive:n})=>n?"navbar__item active":"navbar__item",children:V.jsx(t5,{size:24})})]})}function ji({children:n}){return V.jsxs("div",{className:"protected-layout",children:[V.jsx("div",{className:"content",children:n}),V.jsx(q5,{})]})}const z5=()=>{const[n,e]=Q.useState([]),[t,a]=Q.useState(!0),[l,c]=Q.useState(null),[g,w]=Q.useState(""),{cart:v}=Al();return Q.useEffect(()=>{try{e(v)}catch(y){c(y instanceof Error?y.message:"Erreur inconnue")}finally{a(!1)}},[v]),V.jsx(D4,{equipments:n,error:l,search:g,setSearch:w,loading:t})};function H5(){const{cart:n}=Al(),e=Rr(),t=()=>{e("/ShelfTracker/checkout")};return V.jsxs("div",{children:[V.jsx(ni,{title:"Panier"}),V.jsx(z5,{}),n.length>0&&V.jsx(D2,{icon:T4,onClick:t})]})}const Ah="bookings",M2=`
    id,
    rent,
    start_time,
    end_time,
    created_at,
    equipment:equipments (
      id,
      name,
      note,
      rent_price,
      location,
      created_at,
      type
    ),
    booker:profiles (
      id,
      name
    )
  `,G5=async()=>{const{data:n,error:e}=await ur.from(Ah).select(M2).order("start_time",{ascending:!0});if(e)throw e;return n??[]},V5=async()=>{const{data:n,error:e}=await ur.from(Ah).select(M2).gt("end_time",new Date().toISOString()).order("end_time",{ascending:!0});if(e)throw e;return n??[]},W5=async n=>{const{data:e,error:t}=await ur.from(Ah).select(M2).gt("end_time",new Date().toISOString()).eq("equipment",n).order("end_time",{ascending:!0});if(t)throw t;return e??[]},Y5=async n=>{const{data:e,error:t}=await ur.from(Ah).insert({...n,booker:n.booker.id,equipment:n.equipment.id}).single();if(t)throw t;return e},k4="profiles",X5=async()=>{const{data:n,error:e}=await ur.from(k4).select("*").order("name",{ascending:!0});if(e)throw e;return n??[]},K5=async n=>{const{data:e,error:t}=await ur.from(k4).insert(n).single();if(t)throw t;return e};function $5({errorItems:n}){return n.length===0?null:V.jsxs("div",{className:"card",style:{backgroundColor:"var(--secondary-error-color)"},children:[V.jsxs("div",{className:"error-box__content",children:[V.jsx(LR,{size:24,color:"red"}),V.jsx("p",{children:"Impossible de rserver les quipements suivants :"})]}),V.jsx("ul",{className:"error-box__list",children:n.map(e=>V.jsx("li",{children:e.name},e.id))})]})}function Z5(){const n=Rr();return V.jsx("div",{className:"card",style:{backgroundColor:"var(--secondary-success-color)"},children:V.jsxs("div",{className:"success-box__content",children:[V.jsx(T4,{size:24,color:"black"}),V.jsx("p",{children:"Rservation confirme"}),V.jsx("button",{className:"success-box__home-btn",onClick:()=>n("/ShelfTracker"),children:"Retour  l'accueil"})]})})}function Q5({profiles:n,selectedProfile:e,onChange:t}){return V.jsx("div",{className:"profile-selector__container",children:V.jsxs("label",{className:"profile-selector__label",children:["Profil",V.jsxs("select",{value:e,className:"profile-selector__select",onChange:a=>{const l=a.target.value;t(l==="create"?"create":l)},children:[n.map(a=>V.jsx("option",{value:a.id,children:a.name},a.id)),V.jsx("option",{value:"create",children:"+ Ajouter un profil"})]})]})})}function J5({startDate:n,endDate:e,minDate:t,onStartChange:a,onEndChange:l}){return V.jsxs("div",{className:"date-range-picker__container",children:[V.jsxs("label",{className:"date-range-picker__label",children:["Dbut",V.jsx("input",{type:"datetime-local",value:n,min:t,onChange:c=>a(c.target.value),className:"date-range-picker__input"})]}),V.jsxs("label",{className:"date-range-picker__label",children:["Fin",V.jsx("input",{type:"datetime-local",value:e,min:n||t,onChange:c=>l(c.target.value),className:"date-range-picker__input"})]})]})}function e7({profiles:n,selectedProfile:e,onProfileChange:t,startDate:a,endDate:l,minDate:c,onStartChange:g,onEndChange:w,loading:v,onCheckout:y}){return V.jsxs("div",{className:"card",children:[V.jsx(Q5,{profiles:n,selectedProfile:e,onChange:t}),V.jsx(J5,{startDate:a,endDate:l,minDate:c,onStartChange:g,onEndChange:w}),V.jsx("button",{className:"btn",onClick:y,disabled:v,children:v?"Rservation...":"Rserver"})]})}function t7(){const[n,e]=Q.useState(""),[t,a]=Q.useState(""),[l,c]=Q.useState(!1),[g,w]=Q.useState([]),[v,y]=Q.useState(!1),[E,A]=Q.useState([]),[T,R]=Q.useState(""),{cart:M,clearCart:D}=Al(),B=Rr();Q.useEffect(()=>{(async()=>{try{const F=await X5();A(F),F.length>0&&R(F[0].id)}catch(F){console.error("Erreur chargement profils",F)}})()},[]);const j=async()=>{if(!n||!t){alert("Veuillez slectionner une date de dbut et de fin.");return}if(!T){alert("Veuillez slectionner un profil.");return}const P=new Date,F=new Date(n),X=new Date(t);if(F<P||X<P){alert("Les dates doivent tre dans le futur.");return}if(F>=X){alert("La date de dbut doit tre avant la date de fin.");return}c(!0),w([]),y(!1);try{const $=[],G=await V5(),le=E.find(W=>W.id===T);if(!le)throw new Error("Unexpected profile selected");for(const W of M)G.filter(ce=>ce.equipment===W&&new Date(ce.start_time)<=X&&new Date(ce.end_time)>=F).length>0&&$.push(W);if($.length>0){w($);return}for(const W of M)await Y5({equipment:W,booker:le,rent:!0,start_time:F.toISOString(),end_time:X.toISOString()});D(),y(!0)}catch($){console.error($),alert("Une erreur est survenue lors de la rservation.")}finally{c(!1)}},q=new Date().toISOString().slice(0,16);return V.jsxs("div",{children:[V.jsx(ni,{title:"Rservation"}),V.jsx(e7,{profiles:E,selectedProfile:T,onProfileChange:P=>P==="create"?B("/ShelfTracker/create-profile"):R(P),startDate:n,endDate:t,minDate:q,onStartChange:e,onEndChange:a,loading:l,onCheckout:j}),V.jsx($5,{errorItems:g}),v&&V.jsx(Z5,{})]})}var n7=Object.defineProperty,fh=Object.getOwnPropertySymbols,B4=Object.prototype.hasOwnProperty,L4=Object.prototype.propertyIsEnumerable,db=(n,e,t)=>e in n?n7(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,e2=(n,e)=>{for(var t in e||(e={}))B4.call(e,t)&&db(n,t,e[t]);if(fh)for(var t of fh(e))L4.call(e,t)&&db(n,t,e[t]);return n},t2=(n,e)=>{var t={};for(var a in n)B4.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(n!=null&&fh)for(var a of fh(n))e.indexOf(a)<0&&L4.call(n,a)&&(t[a]=n[a]);return t};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var $s;(n=>{const e=class dt{constructor(v,y,E,A){if(this.version=v,this.errorCorrectionLevel=y,this.modules=[],this.isFunction=[],v<dt.MIN_VERSION||v>dt.MAX_VERSION)throw new RangeError("Version value out of range");if(A<-1||A>7)throw new RangeError("Mask value out of range");this.size=v*4+17;let T=[];for(let M=0;M<this.size;M++)T.push(!1);for(let M=0;M<this.size;M++)this.modules.push(T.slice()),this.isFunction.push(T.slice());this.drawFunctionPatterns();const R=this.addEccAndInterleave(E);if(this.drawCodewords(R),A==-1){let M=1e9;for(let D=0;D<8;D++){this.applyMask(D),this.drawFormatBits(D);const B=this.getPenaltyScore();B<M&&(A=D,M=B),this.applyMask(D)}}l(0<=A&&A<=7),this.mask=A,this.applyMask(A),this.drawFormatBits(A),this.isFunction=[]}static encodeText(v,y){const E=n.QrSegment.makeSegments(v);return dt.encodeSegments(E,y)}static encodeBinary(v,y){const E=n.QrSegment.makeBytes(v);return dt.encodeSegments([E],y)}static encodeSegments(v,y,E=1,A=40,T=-1,R=!0){if(!(dt.MIN_VERSION<=E&&E<=A&&A<=dt.MAX_VERSION)||T<-1||T>7)throw new RangeError("Invalid value");let M,D;for(M=E;;M++){const P=dt.getNumDataCodewords(M,y)*8,F=g.getTotalBits(v,M);if(F<=P){D=F;break}if(M>=A)throw new RangeError("Data too long")}for(const P of[dt.Ecc.MEDIUM,dt.Ecc.QUARTILE,dt.Ecc.HIGH])R&&D<=dt.getNumDataCodewords(M,P)*8&&(y=P);let B=[];for(const P of v){t(P.mode.modeBits,4,B),t(P.numChars,P.mode.numCharCountBits(M),B);for(const F of P.getData())B.push(F)}l(B.length==D);const j=dt.getNumDataCodewords(M,y)*8;l(B.length<=j),t(0,Math.min(4,j-B.length),B),t(0,(8-B.length%8)%8,B),l(B.length%8==0);for(let P=236;B.length<j;P^=253)t(P,8,B);let q=[];for(;q.length*8<B.length;)q.push(0);return B.forEach((P,F)=>q[F>>>3]|=P<<7-(F&7)),new dt(M,y,q,T)}getModule(v,y){return 0<=v&&v<this.size&&0<=y&&y<this.size&&this.modules[y][v]}getModules(){return this.modules}drawFunctionPatterns(){for(let E=0;E<this.size;E++)this.setFunctionModule(6,E,E%2==0),this.setFunctionModule(E,6,E%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const v=this.getAlignmentPatternPositions(),y=v.length;for(let E=0;E<y;E++)for(let A=0;A<y;A++)E==0&&A==0||E==0&&A==y-1||E==y-1&&A==0||this.drawAlignmentPattern(v[E],v[A]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(v){const y=this.errorCorrectionLevel.formatBits<<3|v;let E=y;for(let T=0;T<10;T++)E=E<<1^(E>>>9)*1335;const A=(y<<10|E)^21522;l(A>>>15==0);for(let T=0;T<=5;T++)this.setFunctionModule(8,T,a(A,T));this.setFunctionModule(8,7,a(A,6)),this.setFunctionModule(8,8,a(A,7)),this.setFunctionModule(7,8,a(A,8));for(let T=9;T<15;T++)this.setFunctionModule(14-T,8,a(A,T));for(let T=0;T<8;T++)this.setFunctionModule(this.size-1-T,8,a(A,T));for(let T=8;T<15;T++)this.setFunctionModule(8,this.size-15+T,a(A,T));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let v=this.version;for(let E=0;E<12;E++)v=v<<1^(v>>>11)*7973;const y=this.version<<12|v;l(y>>>18==0);for(let E=0;E<18;E++){const A=a(y,E),T=this.size-11+E%3,R=Math.floor(E/3);this.setFunctionModule(T,R,A),this.setFunctionModule(R,T,A)}}drawFinderPattern(v,y){for(let E=-4;E<=4;E++)for(let A=-4;A<=4;A++){const T=Math.max(Math.abs(A),Math.abs(E)),R=v+A,M=y+E;0<=R&&R<this.size&&0<=M&&M<this.size&&this.setFunctionModule(R,M,T!=2&&T!=4)}}drawAlignmentPattern(v,y){for(let E=-2;E<=2;E++)for(let A=-2;A<=2;A++)this.setFunctionModule(v+A,y+E,Math.max(Math.abs(A),Math.abs(E))!=1)}setFunctionModule(v,y,E){this.modules[y][v]=E,this.isFunction[y][v]=!0}addEccAndInterleave(v){const y=this.version,E=this.errorCorrectionLevel;if(v.length!=dt.getNumDataCodewords(y,E))throw new RangeError("Invalid argument");const A=dt.NUM_ERROR_CORRECTION_BLOCKS[E.ordinal][y],T=dt.ECC_CODEWORDS_PER_BLOCK[E.ordinal][y],R=Math.floor(dt.getNumRawDataModules(y)/8),M=A-R%A,D=Math.floor(R/A);let B=[];const j=dt.reedSolomonComputeDivisor(T);for(let P=0,F=0;P<A;P++){let X=v.slice(F,F+D-T+(P<M?0:1));F+=X.length;const $=dt.reedSolomonComputeRemainder(X,j);P<M&&X.push(0),B.push(X.concat($))}let q=[];for(let P=0;P<B[0].length;P++)B.forEach((F,X)=>{(P!=D-T||X>=M)&&q.push(F[P])});return l(q.length==R),q}drawCodewords(v){if(v.length!=Math.floor(dt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let y=0;for(let E=this.size-1;E>=1;E-=2){E==6&&(E=5);for(let A=0;A<this.size;A++)for(let T=0;T<2;T++){const R=E-T,D=(E+1&2)==0?this.size-1-A:A;!this.isFunction[D][R]&&y<v.length*8&&(this.modules[D][R]=a(v[y>>>3],7-(y&7)),y++)}}l(y==v.length*8)}applyMask(v){if(v<0||v>7)throw new RangeError("Mask value out of range");for(let y=0;y<this.size;y++)for(let E=0;E<this.size;E++){let A;switch(v){case 0:A=(E+y)%2==0;break;case 1:A=y%2==0;break;case 2:A=E%3==0;break;case 3:A=(E+y)%3==0;break;case 4:A=(Math.floor(E/3)+Math.floor(y/2))%2==0;break;case 5:A=E*y%2+E*y%3==0;break;case 6:A=(E*y%2+E*y%3)%2==0;break;case 7:A=((E+y)%2+E*y%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[y][E]&&A&&(this.modules[y][E]=!this.modules[y][E])}}getPenaltyScore(){let v=0;for(let T=0;T<this.size;T++){let R=!1,M=0,D=[0,0,0,0,0,0,0];for(let B=0;B<this.size;B++)this.modules[T][B]==R?(M++,M==5?v+=dt.PENALTY_N1:M>5&&v++):(this.finderPenaltyAddHistory(M,D),R||(v+=this.finderPenaltyCountPatterns(D)*dt.PENALTY_N3),R=this.modules[T][B],M=1);v+=this.finderPenaltyTerminateAndCount(R,M,D)*dt.PENALTY_N3}for(let T=0;T<this.size;T++){let R=!1,M=0,D=[0,0,0,0,0,0,0];for(let B=0;B<this.size;B++)this.modules[B][T]==R?(M++,M==5?v+=dt.PENALTY_N1:M>5&&v++):(this.finderPenaltyAddHistory(M,D),R||(v+=this.finderPenaltyCountPatterns(D)*dt.PENALTY_N3),R=this.modules[B][T],M=1);v+=this.finderPenaltyTerminateAndCount(R,M,D)*dt.PENALTY_N3}for(let T=0;T<this.size-1;T++)for(let R=0;R<this.size-1;R++){const M=this.modules[T][R];M==this.modules[T][R+1]&&M==this.modules[T+1][R]&&M==this.modules[T+1][R+1]&&(v+=dt.PENALTY_N2)}let y=0;for(const T of this.modules)y=T.reduce((R,M)=>R+(M?1:0),y);const E=this.size*this.size,A=Math.ceil(Math.abs(y*20-E*10)/E)-1;return l(0<=A&&A<=9),v+=A*dt.PENALTY_N4,l(0<=v&&v<=2568888),v}getAlignmentPatternPositions(){if(this.version==1)return[];{const v=Math.floor(this.version/7)+2,y=this.version==32?26:Math.ceil((this.version*4+4)/(v*2-2))*2;let E=[6];for(let A=this.size-7;E.length<v;A-=y)E.splice(1,0,A);return E}}static getNumRawDataModules(v){if(v<dt.MIN_VERSION||v>dt.MAX_VERSION)throw new RangeError("Version number out of range");let y=(16*v+128)*v+64;if(v>=2){const E=Math.floor(v/7)+2;y-=(25*E-10)*E-55,v>=7&&(y-=36)}return l(208<=y&&y<=29648),y}static getNumDataCodewords(v,y){return Math.floor(dt.getNumRawDataModules(v)/8)-dt.ECC_CODEWORDS_PER_BLOCK[y.ordinal][v]*dt.NUM_ERROR_CORRECTION_BLOCKS[y.ordinal][v]}static reedSolomonComputeDivisor(v){if(v<1||v>255)throw new RangeError("Degree out of range");let y=[];for(let A=0;A<v-1;A++)y.push(0);y.push(1);let E=1;for(let A=0;A<v;A++){for(let T=0;T<y.length;T++)y[T]=dt.reedSolomonMultiply(y[T],E),T+1<y.length&&(y[T]^=y[T+1]);E=dt.reedSolomonMultiply(E,2)}return y}static reedSolomonComputeRemainder(v,y){let E=y.map(A=>0);for(const A of v){const T=A^E.shift();E.push(0),y.forEach((R,M)=>E[M]^=dt.reedSolomonMultiply(R,T))}return E}static reedSolomonMultiply(v,y){if(v>>>8||y>>>8)throw new RangeError("Byte out of range");let E=0;for(let A=7;A>=0;A--)E=E<<1^(E>>>7)*285,E^=(y>>>A&1)*v;return l(E>>>8==0),E}finderPenaltyCountPatterns(v){const y=v[1];l(y<=this.size*3);const E=y>0&&v[2]==y&&v[3]==y*3&&v[4]==y&&v[5]==y;return(E&&v[0]>=y*4&&v[6]>=y?1:0)+(E&&v[6]>=y*4&&v[0]>=y?1:0)}finderPenaltyTerminateAndCount(v,y,E){return v&&(this.finderPenaltyAddHistory(y,E),y=0),y+=this.size,this.finderPenaltyAddHistory(y,E),this.finderPenaltyCountPatterns(E)}finderPenaltyAddHistory(v,y){y[0]==0&&(v+=this.size),y.pop(),y.unshift(v)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n.QrCode=e;function t(w,v,y){if(v<0||v>31||w>>>v)throw new RangeError("Value out of range");for(let E=v-1;E>=0;E--)y.push(w>>>E&1)}function a(w,v){return(w>>>v&1)!=0}function l(w){if(!w)throw new Error("Assertion error")}const c=class hn{constructor(v,y,E){if(this.mode=v,this.numChars=y,this.bitData=E,y<0)throw new RangeError("Invalid argument");this.bitData=E.slice()}static makeBytes(v){let y=[];for(const E of v)t(E,8,y);return new hn(hn.Mode.BYTE,v.length,y)}static makeNumeric(v){if(!hn.isNumeric(v))throw new RangeError("String contains non-numeric characters");let y=[];for(let E=0;E<v.length;){const A=Math.min(v.length-E,3);t(parseInt(v.substring(E,E+A),10),A*3+1,y),E+=A}return new hn(hn.Mode.NUMERIC,v.length,y)}static makeAlphanumeric(v){if(!hn.isAlphanumeric(v))throw new RangeError("String contains unencodable characters in alphanumeric mode");let y=[],E;for(E=0;E+2<=v.length;E+=2){let A=hn.ALPHANUMERIC_CHARSET.indexOf(v.charAt(E))*45;A+=hn.ALPHANUMERIC_CHARSET.indexOf(v.charAt(E+1)),t(A,11,y)}return E<v.length&&t(hn.ALPHANUMERIC_CHARSET.indexOf(v.charAt(E)),6,y),new hn(hn.Mode.ALPHANUMERIC,v.length,y)}static makeSegments(v){return v==""?[]:hn.isNumeric(v)?[hn.makeNumeric(v)]:hn.isAlphanumeric(v)?[hn.makeAlphanumeric(v)]:[hn.makeBytes(hn.toUtf8ByteArray(v))]}static makeEci(v){let y=[];if(v<0)throw new RangeError("ECI assignment value out of range");if(v<128)t(v,8,y);else if(v<16384)t(2,2,y),t(v,14,y);else if(v<1e6)t(6,3,y),t(v,21,y);else throw new RangeError("ECI assignment value out of range");return new hn(hn.Mode.ECI,0,y)}static isNumeric(v){return hn.NUMERIC_REGEX.test(v)}static isAlphanumeric(v){return hn.ALPHANUMERIC_REGEX.test(v)}getData(){return this.bitData.slice()}static getTotalBits(v,y){let E=0;for(const A of v){const T=A.mode.numCharCountBits(y);if(A.numChars>=1<<T)return 1/0;E+=4+T+A.bitData.length}return E}static toUtf8ByteArray(v){v=encodeURI(v);let y=[];for(let E=0;E<v.length;E++)v.charAt(E)!="%"?y.push(v.charCodeAt(E)):(y.push(parseInt(v.substring(E+1,E+3),16)),E+=2);return y}};c.NUMERIC_REGEX=/^[0-9]*$/,c.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,c.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let g=c;n.QrSegment=c})($s||($s={}));(n=>{(e=>{const t=class{constructor(l,c){this.ordinal=l,this.formatBits=c}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t})(n.QrCode||(n.QrCode={}))})($s||($s={}));(n=>{(e=>{const t=class{constructor(l,c){this.modeBits=l,this.numBitsCharCount=c}numCharCountBits(l){return this.numBitsCharCount[Math.floor((l+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t})(n.QrSegment||(n.QrSegment={}))})($s||($s={}));var cl=$s;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var r7={L:cl.QrCode.Ecc.LOW,M:cl.QrCode.Ecc.MEDIUM,Q:cl.QrCode.Ecc.QUARTILE,H:cl.QrCode.Ecc.HIGH},P4=128,U4="L",j4="#FFFFFF",F4="#000000",q4=!1,z4=1,i7=4,a7=0,s7=.1;function H4(n,e=0){const t=[];return n.forEach(function(a,l){let c=null;a.forEach(function(g,w){if(!g&&c!==null){t.push(`M${c+e} ${l+e}h${w-c}v1H${c+e}z`),c=null;return}if(w===a.length-1){if(!g)return;c===null?t.push(`M${w+e},${l+e} h1v1H${w+e}z`):t.push(`M${c+e},${l+e} h${w+1-c}v1H${c+e}z`);return}g&&c===null&&(c=w)})}),t.join("")}function G4(n,e){return n.slice().map((t,a)=>a<e.y||a>=e.y+e.h?t:t.map((l,c)=>c<e.x||c>=e.x+e.w?l:!1))}function o7(n,e,t,a){if(a==null)return null;const l=n.length+t*2,c=Math.floor(e*s7),g=l/e,w=(a.width||c)*g,v=(a.height||c)*g,y=a.x==null?n.length/2-w/2:a.x*g,E=a.y==null?n.length/2-v/2:a.y*g,A=a.opacity==null?1:a.opacity;let T=null;if(a.excavate){let M=Math.floor(y),D=Math.floor(E),B=Math.ceil(w+y-M),j=Math.ceil(v+E-D);T={x:M,y:D,w:B,h:j}}const R=a.crossOrigin;return{x:y,y:E,h:v,w,excavation:T,opacity:A,crossOrigin:R}}function l7(n,e){return e!=null?Math.max(Math.floor(e),0):n?i7:a7}function V4({value:n,level:e,minVersion:t,includeMargin:a,marginSize:l,imageSettings:c,size:g,boostLevel:w}){let v=te.useMemo(()=>{const M=(Array.isArray(n)?n:[n]).reduce((D,B)=>(D.push(...cl.QrSegment.makeSegments(B)),D),[]);return cl.QrCode.encodeSegments(M,r7[e],t,void 0,void 0,w)},[n,e,t,w]);const{cells:y,margin:E,numCells:A,calculatedImageSettings:T}=te.useMemo(()=>{let R=v.getModules();const M=l7(a,l),D=R.length+M*2,B=o7(R,g,M,c);return{cells:R,margin:M,numCells:D,calculatedImageSettings:B}},[v,g,c,a,l]);return{qrcode:v,margin:E,cells:y,numCells:A,calculatedImageSettings:T}}var u7=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),c7=te.forwardRef(function(e,t){const a=e,{value:l,size:c=P4,level:g=U4,bgColor:w=j4,fgColor:v=F4,includeMargin:y=q4,minVersion:E=z4,boostLevel:A,marginSize:T,imageSettings:R}=a,D=t2(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:B}=D,j=t2(D,["style"]),q=R?.src,P=te.useRef(null),F=te.useRef(null),X=te.useCallback(Ne=>{P.current=Ne,typeof t=="function"?t(Ne):t&&(t.current=Ne)},[t]),[$,G]=te.useState(!1),{margin:le,cells:W,numCells:xe,calculatedImageSettings:ce}=V4({value:l,level:g,minVersion:E,boostLevel:A,includeMargin:y,marginSize:T,imageSettings:R,size:c});te.useEffect(()=>{if(P.current!=null){const Ne=P.current,ne=Ne.getContext("2d");if(!ne)return;let re=W;const fe=F.current,Ie=ce!=null&&fe!==null&&fe.complete&&fe.naturalHeight!==0&&fe.naturalWidth!==0;Ie&&ce.excavation!=null&&(re=G4(W,ce.excavation));const je=window.devicePixelRatio||1;Ne.height=Ne.width=c*je;const K=c/xe*je;ne.scale(K,K),ne.fillStyle=w,ne.fillRect(0,0,xe,xe),ne.fillStyle=v,u7?ne.fill(new Path2D(H4(re,le))):W.forEach(function(ye,Se){ye.forEach(function(Oe,ke){Oe&&ne.fillRect(ke+le,Se+le,1,1)})}),ce&&(ne.globalAlpha=ce.opacity),Ie&&ne.drawImage(fe,ce.x+le,ce.y+le,ce.w,ce.h)}}),te.useEffect(()=>{G(!1)},[q]);const pe=e2({height:c,width:c},B);let ve=null;return q!=null&&(ve=te.createElement("img",{src:q,key:q,style:{display:"none"},onLoad:()=>{G(!0)},ref:F,crossOrigin:ce?.crossOrigin})),te.createElement(te.Fragment,null,te.createElement("canvas",e2({style:pe,height:c,width:c,ref:X,role:"img"},j)),ve)});c7.displayName="QRCodeCanvas";var W4=te.forwardRef(function(e,t){const a=e,{value:l,size:c=P4,level:g=U4,bgColor:w=j4,fgColor:v=F4,includeMargin:y=q4,minVersion:E=z4,boostLevel:A,title:T,marginSize:R,imageSettings:M}=a,D=t2(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:B,cells:j,numCells:q,calculatedImageSettings:P}=V4({value:l,level:g,minVersion:E,boostLevel:A,includeMargin:y,marginSize:R,imageSettings:M,size:c});let F=j,X=null;M!=null&&P!=null&&(P.excavation!=null&&(F=G4(j,P.excavation)),X=te.createElement("image",{href:M.src,height:P.h,width:P.w,x:P.x+B,y:P.y+B,preserveAspectRatio:"none",opacity:P.opacity,crossOrigin:P.crossOrigin}));const $=H4(F,B);return te.createElement("svg",e2({height:c,width:c,viewBox:`0 0 ${q} ${q}`,ref:t,role:"img"},D),!!T&&te.createElement("title",null,T),te.createElement("path",{fill:w,d:`M0,0 h${q}v${q}H0z`,shapeRendering:"crispEdges"}),te.createElement("path",{fill:v,d:$,shapeRendering:"crispEdges"}),X)});W4.displayName="QRCodeSVG";const f7=({equipment:n})=>{const e=Q.useRef(null),t=l=>{if(!e.current)return;const c=new XMLSerializer().serializeToString(e.current),g=new Image,w=new Blob([c],{type:"image/svg+xml;charset=utf-8"}),v=URL.createObjectURL(w);g.onload=()=>{const y=document.createElement("canvas"),E=200,A=20,T=30;y.width=E+A*2,y.height=E+A*2+T;const R=y.getContext("2d");if(!R)return;R.fillStyle="white",R.fillRect(0,0,y.width,y.height),R.drawImage(g,A,A,E,E),R.fillStyle="black",R.font="16px Arial",R.textAlign="center",R.fillText(n.name,y.width/2,E+A*2+15);const M=document.createElement("a");M.download=`${n.name}.${l}`,M.href=y.toDataURL(`image/${l}`),M.click(),URL.revokeObjectURL(v)},g.src=v},a=JSON.stringify({id:n.id,name:n.name});return V.jsxs("div",{className:"card centered",children:[V.jsx(W4,{ref:e,value:a,size:200}),V.jsx("div",{children:V.jsx("button",{onClick:()=>t("png"),className:"equipmentQR__download-btn",children:V.jsx(WR,{size:24})})})]})};function h7({equipment:n,addedToCart:e,onDelete:t,onToggleCart:a}){const l=n?.type??"Autre",{icon:c,color:g}=os[l]||os.Autre;return V.jsxs("div",{className:"card",children:[V.jsxs("div",{className:"equipment-header__top-bar",children:[V.jsx("div",{className:"equipment-header__icon",style:{background:g},children:V.jsx(c,{size:28,color:"white"})}),V.jsx("h2",{children:n?.name}),V.jsx("button",{className:"equipment-header__delete-btn",onClick:t,children:V.jsx(r5,{size:24,color:"lightcoral"})}),V.jsx("button",{className:"equipment-header__add-btn",onClick:a,children:e?V.jsx(O4,{size:28,color:"lightcoral"}):V.jsx(R2,{size:28,color:"lightgreen"})})]}),V.jsx("p",{className:"equipment-header__type",children:n?.type}),V.jsx("p",{className:"equipment-header__location",children:n?.location==null?"Emplacement inconnu":n?.location})]})}function d7({equipment:n}){return V.jsx(V.Fragment,{children:V.jsx("div",{className:"card",children:V.jsx("p",{children:n?.note==null?"Cet quipement n'a pas de description.":n?.note})})})}function xa(n){"@babel/helpers - typeof";return xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xa(n)}function g7(n,e){if(xa(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var a=t.call(n,e);if(xa(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Y4(n){var e=g7(n,"string");return xa(e)=="symbol"?e:e+""}function Ys(n,e,t){return(e=Y4(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),t.push.apply(t,a)}return t}function qt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gb(Object(t),!0).forEach(function(a){Ys(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gb(Object(t)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}function Sh(n,e){if(n==null)return{};var t={};for(var a in n)if({}.hasOwnProperty.call(n,a)){if(e.indexOf(a)!==-1)continue;t[a]=n[a]}return t}function Vi(n,e){if(n==null)return{};var t,a,l=Sh(n,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(a=0;a<c.length;a++)t=c[a],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(l[t]=n[t])}return l}function Pn(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function mb(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,Y4(a.key),a)}}function Un(n,e,t){return e&&mb(n.prototype,e),t&&mb(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function hh(n){return hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hh(n)}function X4(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X4=function(){return!!n})()}function m7(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function p7(n,e){if(e&&(xa(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m7(n)}function fr(n,e,t){return e=hh(e),p7(n,X4()?Reflect.construct(e,t||[],hh(n).constructor):e.apply(n,t))}function dh(n,e){return dh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},dh(n,e)}function hr(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&dh(n,e)}function K4(n){if(Array.isArray(n))return n}function v7(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var a,l,c,g,w=[],v=!0,y=!1;try{if(c=(t=t.call(n)).next,e!==0)for(;!(v=(a=c.call(t)).done)&&(w.push(a.value),w.length!==e);v=!0);}catch(E){y=!0,l=E}finally{try{if(!v&&t.return!=null&&(g=t.return(),Object(g)!==g))return}finally{if(y)throw l}}return w}}function n2(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,a=Array(e);t<e;t++)a[t]=n[t];return a}function I2(n,e){if(n){if(typeof n=="string")return n2(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n2(n,e):void 0}}function $4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zs(n,e){return K4(n)||v7(n,e)||I2(n,e)||$4()}function Z4(n){var e,t,a="";if(typeof n=="string"||typeof n=="number")a+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=Z4(n[e]))&&(a&&(a+=" "),a+=t);else for(e in n)n[e]&&(a&&(a+=" "),a+=e);return a}function mn(){for(var n,e,t=0,a="";t<arguments.length;)(n=arguments[t++])&&(e=Z4(n))&&(a&&(a+=" "),a+=e);return a}function gn(){return gn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)({}).hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},gn.apply(null,arguments)}var r1,pb;function y7(){if(pb)return r1;pb=1;var n=function(e,t,a,l,c,g,w,v){if(!e){var y;if(t===void 0)y=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var E=[a,l,c,g,w,v],A=0;y=new Error(t.replace(/%s/g,function(){return E[A++]})),y.name="Invariant Violation"}throw y.framesToPop=1,y}};return r1=n,r1}var w7=y7();const Wu=cr(w7);var x7=function(){};function b7(n,e){var t={};return Object.keys(n).forEach(function(a){t[Vf(a)]=x7}),t}function vb(n,e){return n[e]!==void 0}function Vf(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function E7(n){return!!n&&(typeof n!="function"||n.prototype&&n.prototype.isReactComponent)}function _7(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,dh(n,e)}function Q4(){var n=this.constructor.getDerivedStateFromProps(this.props,this.state);n!=null&&this.setState(n)}function J4(n){function e(t){var a=this.constructor.getDerivedStateFromProps(n,t);return a??null}this.setState(e.bind(this))}function eS(n,e){try{var t=this.props,a=this.state;this.props=n,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,a)}finally{this.props=t,this.state=a}}Q4.__suppressDeprecationWarning=!0;J4.__suppressDeprecationWarning=!0;eS.__suppressDeprecationWarning=!0;function A7(n){var e=n.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof n.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return n;var t=null,a=null,l=null;if(typeof e.componentWillMount=="function"?t="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?a="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(a="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?l="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(l="UNSAFE_componentWillUpdate"),t!==null||a!==null||l!==null){var c=n.displayName||n.name,g=typeof n.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+c+" uses "+g+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(a!==null?`
  `+a:"")+(l!==null?`
  `+l:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof n.getDerivedStateFromProps=="function"&&(e.componentWillMount=Q4,e.componentWillReceiveProps=J4),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=eS;var w=e.componentDidUpdate;e.componentDidUpdate=function(y,E,A){var T=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:A;w.call(this,y,E,T)}}return n}var S7="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function tS(n,e,t){t===void 0&&(t=[]);var a=n.displayName||n.name||"Component",l=E7(n),c=Object.keys(e),g=c.map(Vf);l||!t.length||Wu(!1);var w=function(y){_7(E,y);function E(){for(var T,R=arguments.length,M=new Array(R),D=0;D<R;D++)M[D]=arguments[D];T=y.call.apply(y,[this].concat(M))||this,T.handlers=Object.create(null),c.forEach(function(j){var q=e[j],P=function(X){if(T.props[q]){var $;T._notifying=!0;for(var G=arguments.length,le=new Array(G>1?G-1:0),W=1;W<G;W++)le[W-1]=arguments[W];($=T.props)[q].apply($,[X].concat(le)),T._notifying=!1}T.unmounted||T.setState(function(xe){var ce,pe=xe.values;return{values:gn(Object.create(null),pe,(ce={},ce[j]=X,ce))}})};T.handlers[q]=P}),t.length&&(T.attachRef=function(j){T.inner=j});var B=Object.create(null);return c.forEach(function(j){B[j]=T.props[Vf(j)]}),T.state={values:B,prevProps:{}},T}var A=E.prototype;return A.shouldComponentUpdate=function(){return!this._notifying},E.getDerivedStateFromProps=function(R,M){var D=M.values,B=M.prevProps,j={values:gn(Object.create(null),D),prevProps:{}};return c.forEach(function(q){j.prevProps[q]=R[q],!vb(R,q)&&vb(B,q)&&(j.values[q]=R[Vf(q)])}),j},A.componentWillUnmount=function(){this.unmounted=!0},A.render=function(){var R=this,M=this.props,D=M.innerRef,B=Sh(M,["innerRef"]);g.forEach(function(q){delete B[q]});var j={};return c.forEach(function(q){var P=R.props[q];j[q]=P!==void 0?P:R.state.values[q]}),te.createElement(n,gn({},B,j,this.handlers,{ref:D||this.attachRef}))},E}(te.Component);A7(w),w.displayName="Uncontrolled("+a+")",w.propTypes=gn({innerRef:function(){}},b7(e)),t.forEach(function(y){w.prototype[y]=function(){var A;return(A=this.inner)[y].apply(A,arguments)}});var v=w;return te.forwardRef&&(v=te.forwardRef(function(y,E){return te.createElement(w,gn({},y,{innerRef:E,__source:{fileName:S7,lineNumber:128},__self:this}))}),v.propTypes=w.propTypes),v.ControlledComponent=n,v.deferControlTo=function(y,E,A){return E===void 0&&(E={}),tS(y,gn({},e,E),A)},v}var i1={exports:{}},a1,yb;function C7(){if(yb)return a1;yb=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return a1=n,a1}var s1,wb;function T7(){if(wb)return s1;wb=1;var n=C7();function e(){}function t(){}return t.resetWarningCache=e,s1=function(){function a(g,w,v,y,E,A){if(A!==n){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}a.isRequired=a;function l(){return a}var c={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:l,element:a,elementType:a,instanceOf:l,node:a,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:t,resetWarningCache:e};return c.PropTypes=c,c},s1}var xb;function O7(){return xb||(xb=1,i1.exports=T7()()),i1.exports}var R7=O7();const Me=cr(R7);var gh="milliseconds",Yu="seconds",Xu="minutes",Ku="hours",Qs="day",dl="week",$u="month",Js="year",eo="decade",to="century",nS={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:3600*1e3,day:1440*60*1e3,week:10080*60*1e3},D7={month:1,year:12,decade:120,century:1200};function N7(n){return[31,M7(n),31,30,31,30,31,31,30,31,30,31]}function M7(n){return n%4===0&&n%100!==0||n%400===0?29:28}function vi(n,e,t){switch(n=new Date(n),t){case gh:case Yu:case Xu:case Ku:case Qs:case dl:return I7(n,e*nS[t]);case $u:case Js:case eo:case to:return k7(n,e*D7[t])}throw new TypeError('Invalid units: "'+t+'"')}function I7(n,e){var t=new Date(+n+e);return B7(n,t)}function k7(n,e){var t=n.getFullYear(),a=n.getMonth(),l=n.getDate(),c=t*12+a+e,g=Math.trunc(c/12),w=c%12,v=Math.min(l,N7(g)[w]),y=new Date(n);return y.setFullYear(g),y.setDate(1),y.setMonth(w),y.setDate(v),y}function B7(n,e){var t=n.getTimezoneOffset(),a=e.getTimezoneOffset(),l=a-t;return new Date(+e+l*nS.minutes)}function Zu(n,e,t){return vi(n,-e,t)}function Jn(n,e,t){switch(n=new Date(n),e){case to:case eo:case Js:n=ph(n,0);case $u:n=oS(n,1);case dl:case Qs:n=ec(n,0);case Ku:n=gl(n,0);case Xu:n=Ju(n,0);case Yu:n=Qu(n,0)}return e===eo&&(n=Zu(n,no(n)%10,"year")),e===to&&(n=Zu(n,no(n)%100,"year")),e===dl&&(n=lS(n,0,t)),n}function mh(n,e,t){switch(n=new Date(n),n=Jn(n,e,t),e){case to:case eo:case Js:case $u:case dl:n=vi(n,1,e),n=Zu(n,1,Qs),n.setHours(23,59,59,999);break;case Qs:n.setHours(23,59,59,999);break;case Ku:case Xu:case Yu:n=vi(n,1,e),n=Zu(n,1,gh)}return n}var Sl=Tl(function(n,e){return n===e}),k2=Tl(function(n,e){return n!==e}),Ch=Tl(function(n,e){return n>e}),fc=Tl(function(n,e){return n>=e}),B2=Tl(function(n,e){return n<e}),Cl=Tl(function(n,e){return n<=e});function rS(){return new Date(Math.min.apply(Math,arguments))}function iS(){return new Date(Math.max.apply(Math,arguments))}function aS(n,e,t,a){return a=a||"day",(!e||fc(n,e,a))&&(!t||Cl(n,t,a))}var Qu=ds("Milliseconds"),Ju=ds("Seconds"),gl=ds("Minutes"),ec=ds("Hours"),sS=ds("Day"),oS=ds("Date"),ph=ds("Month"),no=ds("FullYear");function L7(n,e){return e===void 0?no(Jn(n,eo)):vi(n,e+10,Js)}function P7(n,e){return e===void 0?no(Jn(n,to)):vi(n,e+100,Js)}function lS(n,e,t){var a=(sS(n)+7-(t||0))%7;return e===void 0?a:vi(n,e-a,Qs)}function U7(n,e,t,a){var l,c,g;switch(t){case gh:case Yu:case Xu:case Ku:case Qs:case dl:l=e.getTime()-n.getTime();break;case $u:case Js:case eo:case to:l=(no(e)-no(n))*12+ph(e)-ph(n);break;default:throw new TypeError('Invalid units: "'+t+'"')}switch(t){case gh:c=1;break;case Yu:c=1e3;break;case Xu:c=1e3*60;break;case Ku:c=1e3*60*60;break;case Qs:c=1e3*60*60*24;break;case dl:c=1e3*60*60*24*7;break;case $u:c=1;break;case Js:c=12;break;case eo:c=120;break;case to:c=1200;break;default:throw new TypeError('Invalid units: "'+t+'"')}return g=l/c,a?g:Math.round(g)}function ds(n){var e=function(t){switch(t){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(n);return function(t,a){if(a===void 0)return t["get"+n]();var l=new Date(t);return l["set"+n](a),e&&l["get"+n]()!=a&&(n==="Hours"||a>=e&&l.getHours()-t.getHours()<Math.floor(a/e))&&l["set"+n](a+e),l}}function Tl(n){return function(e,t,a){return n(+Jn(e,a),+Jn(t,a))}}const bb=Object.freeze(Object.defineProperty({__proto__:null,add:vi,century:P7,date:oS,day:sS,decade:L7,diff:U7,endOf:mh,eq:Sl,gt:Ch,gte:fc,hours:ec,inRange:aS,lt:B2,lte:Cl,max:iS,milliseconds:Qu,min:rS,minutes:gl,month:ph,neq:k2,seconds:Ju,startOf:Jn,subtract:Zu,weekday:lS,year:no},Symbol.toStringTag,{value:"Module"}));function j7(n){if(Array.isArray(n))return n2(n)}function uS(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function F7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wf(n){return j7(n)||uS(n)||I2(n)||F7()}var o1,Eb;function cS(){if(Eb)return o1;Eb=1;function n(e,t,a){var l=-1,c=e.length;t<0&&(t=-t>c?0:c+t),a=a>c?c:a,a<0&&(a+=c),c=t>a?0:a-t>>>0,t>>>=0;for(var g=Array(c);++l<c;)g[l]=e[l+t];return g}return o1=n,o1}var l1,_b;function hc(){if(_b)return l1;_b=1;function n(e,t){return e===t||e!==e&&t!==t}return l1=n,l1}var u1,Ab;function fS(){if(Ab)return u1;Ab=1;var n=typeof ss=="object"&&ss&&ss.Object===Object&&ss;return u1=n,u1}var c1,Sb;function Wi(){if(Sb)return c1;Sb=1;var n=fS(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return c1=t,c1}var f1,Cb;function Ol(){if(Cb)return f1;Cb=1;var n=Wi(),e=n.Symbol;return f1=e,f1}var h1,Tb;function q7(){if(Tb)return h1;Tb=1;var n=Ol(),e=Object.prototype,t=e.hasOwnProperty,a=e.toString,l=n?n.toStringTag:void 0;function c(g){var w=t.call(g,l),v=g[l];try{g[l]=void 0;var y=!0}catch{}var E=a.call(g);return y&&(w?g[l]=v:delete g[l]),E}return h1=c,h1}var d1,Ob;function z7(){if(Ob)return d1;Ob=1;var n=Object.prototype,e=n.toString;function t(a){return e.call(a)}return d1=t,d1}var g1,Rb;function Rl(){if(Rb)return g1;Rb=1;var n=Ol(),e=q7(),t=z7(),a="[object Null]",l="[object Undefined]",c=n?n.toStringTag:void 0;function g(w){return w==null?w===void 0?l:a:c&&c in Object(w)?e(w):t(w)}return g1=g,g1}var m1,Db;function Ea(){if(Db)return m1;Db=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return m1=n,m1}var p1,Nb;function L2(){if(Nb)return p1;Nb=1;var n=Rl(),e=Ea(),t="[object AsyncFunction]",a="[object Function]",l="[object GeneratorFunction]",c="[object Proxy]";function g(w){if(!e(w))return!1;var v=n(w);return v==a||v==l||v==t||v==c}return p1=g,p1}var v1,Mb;function P2(){if(Mb)return v1;Mb=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return v1=e,v1}var y1,Ib;function dc(){if(Ib)return y1;Ib=1;var n=L2(),e=P2();function t(a){return a!=null&&e(a.length)&&!n(a)}return y1=t,y1}var w1,kb;function U2(){if(kb)return w1;kb=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(a,l){var c=typeof a;return l=l??n,!!l&&(c=="number"||c!="symbol"&&e.test(a))&&a>-1&&a%1==0&&a<l}return w1=t,w1}var x1,Bb;function Th(){if(Bb)return x1;Bb=1;var n=hc(),e=dc(),t=U2(),a=Ea();function l(c,g,w){if(!a(w))return!1;var v=typeof g;return(v=="number"?e(w)&&t(g,w.length):v=="string"&&g in w)?n(w[g],c):!1}return x1=l,x1}var b1,Lb;function H7(){if(Lb)return b1;Lb=1;var n=/\s/;function e(t){for(var a=t.length;a--&&n.test(t.charAt(a)););return a}return b1=e,b1}var E1,Pb;function G7(){if(Pb)return E1;Pb=1;var n=H7(),e=/^\s+/;function t(a){return a&&a.slice(0,n(a)+1).replace(e,"")}return E1=t,E1}var _1,Ub;function gs(){if(Ub)return _1;Ub=1;function n(e){return e!=null&&typeof e=="object"}return _1=n,_1}var A1,jb;function gc(){if(jb)return A1;jb=1;var n=Rl(),e=gs(),t="[object Symbol]";function a(l){return typeof l=="symbol"||e(l)&&n(l)==t}return A1=a,A1}var S1,Fb;function V7(){if(Fb)return S1;Fb=1;var n=G7(),e=Ea(),t=gc(),a=NaN,l=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,g=/^0o[0-7]+$/i,w=parseInt;function v(y){if(typeof y=="number")return y;if(t(y))return a;if(e(y)){var E=typeof y.valueOf=="function"?y.valueOf():y;y=e(E)?E+"":E}if(typeof y!="string")return y===0?y:+y;y=n(y);var A=c.test(y);return A||g.test(y)?w(y.slice(2),A?2:8):l.test(y)?a:+y}return S1=v,S1}var C1,qb;function hS(){if(qb)return C1;qb=1;var n=V7(),e=1/0,t=17976931348623157e292;function a(l){if(!l)return l===0?l:0;if(l=n(l),l===e||l===-e){var c=l<0?-1:1;return c*t}return l===l?l:0}return C1=a,C1}var T1,zb;function dS(){if(zb)return T1;zb=1;var n=hS();function e(t){var a=n(t),l=a%1;return a===a?l?a-l:a:0}return T1=e,T1}var O1,Hb;function W7(){if(Hb)return O1;Hb=1;var n=cS(),e=Th(),t=dS(),a=Math.ceil,l=Math.max;function c(g,w,v){(v?e(g,w,v):w===void 0)?w=1:w=l(t(w),0);var y=g==null?0:g.length;if(!y||w<1)return[];for(var E=0,A=0,T=Array(a(y/w));E<y;)T[A++]=n(g,E,E+=w);return T}return O1=c,O1}var Y7=W7();const X7=cr(Y7);function mc(n){return n&&n.ownerDocument||document}function K7(n){var e=mc(n);return e&&e.defaultView||window}function $7(n,e){return K7(n).getComputedStyle(n,e)}var Z7=/([A-Z])/g;function Q7(n){return n.replace(Z7,"-$1").toLowerCase()}var J7=/^ms-/;function jf(n){return Q7(n).replace(J7,"-ms-")}var eD=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function tD(n){return!!(n&&eD.test(n))}function ll(n,e){var t="",a="";if(typeof e=="string")return n.style.getPropertyValue(jf(e))||$7(n).getPropertyValue(jf(e));Object.keys(e).forEach(function(l){var c=e[l];!c&&c!==0?n.style.removeProperty(jf(l)):tD(l)?a+=l+"("+c+") ":t+=jf(l)+": "+c+";"}),a&&(t+="transform: "+a+";"),n.style.cssText+=";"+t}function tc(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}function nD(n){return"nodeType"in n&&n.nodeType===document.DOCUMENT_NODE}function j2(n){return"window"in n&&n.window===n?n:nD(n)&&n.defaultView||!1}function gS(n){var e=n==="pageXOffset"?"scrollLeft":"scrollTop";function t(a,l){var c=j2(a);if(l===void 0)return c?c[n]:a[e];c?c.scrollTo(c[n],l):a[e]=l}return t}const mS=gS("pageXOffset"),pS=gS("pageYOffset");function Xs(n){var e=mc(n),t={top:0,left:0,height:0,width:0},a=e&&e.documentElement;return!a||!tc(a,n)||(n.getBoundingClientRect!==void 0&&(t=n.getBoundingClientRect()),t={top:t.top+pS(a)-(a.clientTop||0),left:t.left+mS(a)-(a.clientLeft||0),width:t.width,height:t.height}),t}var rD=function(e){return!!e&&"offsetParent"in e};function iD(n){for(var e=mc(n),t=n&&n.offsetParent;rD(t)&&t.nodeName!=="HTML"&&ll(t,"position")==="static";)t=t.offsetParent;return t||e.documentElement}var aD=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function vS(n,e){var t={top:0,left:0},a;if(ll(n,"position")==="fixed")a=n.getBoundingClientRect();else{var l=e||iD(n);a=Xs(n),aD(l)!=="html"&&(t=Xs(l));var c=String(ll(l,"borderTopWidth")||0);t.top+=parseInt(c,10)-pS(l)||0;var g=String(ll(l,"borderLeftWidth")||0);t.left+=parseInt(g,10)-mS(l)||0}var w=String(ll(n,"marginTop")||0),v=String(ll(n,"marginLeft")||0);return gn({},a,{top:a.top-t.top-(parseInt(w,10)||0),left:a.left-t.left-(parseInt(v,10)||0)})}const F2=!!(typeof window<"u"&&window.document&&window.document.createElement);var Gb=new Date().getTime();function sD(n){var e=new Date().getTime(),t=Math.max(0,16-(e-Gb)),a=setTimeout(n,t);return Gb=e,a}var oD=["","webkit","moz","o","ms"],r2="clearTimeout",i2=sD,Vb=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};F2&&oD.some(function(n){var e=Vb(n,"request");return e in window&&(r2=Vb(n,"cancel"),i2=function(a){return window[e](a)}),!!i2});var Wb=function(e){typeof window[r2]=="function"&&window[r2](e)},yS=i2,R1;function lD(n,e){if(!R1){var t=document.body,a=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;R1=function(c,g){return a.call(c,g)}}return R1(n,e)}var uD=Function.prototype.bind.call(Function.prototype.call,[].slice);function cD(n,e){return uD(n.querySelectorAll(e))}var a2=!1,s2=!1;try{var D1={get passive(){return a2=!0},get once(){return s2=a2=!0}};F2&&(window.addEventListener("test",D1,D1),window.removeEventListener("test",D1,!0))}catch{}function fD(n,e,t,a){if(a&&typeof a!="boolean"&&!s2){var l=a.once,c=a.capture,g=t;!s2&&l&&(g=t.__once||function w(v){this.removeEventListener(e,w,c),t.call(this,v)},t.__once=g),n.addEventListener(e,g,a2?a:c)}n.addEventListener(e,t,a)}function hD(n){const e=Q.useRef(n);return Q.useEffect(()=>{e.current=n},[n]),e}function Yb(n){const e=hD(n);return Q.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function Xb(){return Q.useState(null)}function dD(){const n=Q.useRef(!0),e=Q.useRef(()=>n.current);return Q.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function gD(n){const e=dD();return[n[0],Q.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}var Cr="top",ri="bottom",ii="right",Tr="left",q2="auto",pc=[Cr,ri,ii,Tr],ml="start",nc="end",mD="clippingParents",wS="viewport",Du="popper",pD="reference",Kb=pc.reduce(function(n,e){return n.concat([e+"-"+ml,e+"-"+nc])},[]),z2=[].concat(pc,[q2]).reduce(function(n,e){return n.concat([e,e+"-"+ml,e+"-"+nc])},[]),vD="beforeRead",yD="read",wD="afterRead",xD="beforeMain",bD="main",ED="afterMain",_D="beforeWrite",AD="write",SD="afterWrite",CD=[vD,yD,wD,xD,bD,ED,_D,AD,SD];function Hi(n){return n.split("-")[0]}function Hr(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function ro(n){var e=Hr(n).Element;return n instanceof e||n instanceof Element}function Gi(n){var e=Hr(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function H2(n){if(typeof ShadowRoot>"u")return!1;var e=Hr(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}var Ks=Math.max,vh=Math.min,pl=Math.round;function o2(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function xS(){return!/^((?!chrome|android).)*safari/i.test(o2())}function vl(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var a=n.getBoundingClientRect(),l=1,c=1;e&&Gi(n)&&(l=n.offsetWidth>0&&pl(a.width)/n.offsetWidth||1,c=n.offsetHeight>0&&pl(a.height)/n.offsetHeight||1);var g=ro(n)?Hr(n):window,w=g.visualViewport,v=!xS()&&t,y=(a.left+(v&&w?w.offsetLeft:0))/l,E=(a.top+(v&&w?w.offsetTop:0))/c,A=a.width/l,T=a.height/c;return{width:A,height:T,top:E,right:y+A,bottom:E+T,left:y,x:y,y:E}}function G2(n){var e=vl(n),t=n.offsetWidth,a=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-a)<=1&&(a=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:a}}function bS(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&H2(t)){var a=e;do{if(a&&n.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function ls(n){return n?(n.nodeName||"").toLowerCase():null}function ba(n){return Hr(n).getComputedStyle(n)}function TD(n){return["table","td","th"].indexOf(ls(n))>=0}function ms(n){return((ro(n)?n.ownerDocument:n.document)||window.document).documentElement}function Oh(n){return ls(n)==="html"?n:n.assignedSlot||n.parentNode||(H2(n)?n.host:null)||ms(n)}function $b(n){return!Gi(n)||ba(n).position==="fixed"?null:n.offsetParent}function OD(n){var e=/firefox/i.test(o2()),t=/Trident/i.test(o2());if(t&&Gi(n)){var a=ba(n);if(a.position==="fixed")return null}var l=Oh(n);for(H2(l)&&(l=l.host);Gi(l)&&["html","body"].indexOf(ls(l))<0;){var c=ba(l);if(c.transform!=="none"||c.perspective!=="none"||c.contain==="paint"||["transform","perspective"].indexOf(c.willChange)!==-1||e&&c.willChange==="filter"||e&&c.filter&&c.filter!=="none")return l;l=l.parentNode}return null}function vc(n){for(var e=Hr(n),t=$b(n);t&&TD(t)&&ba(t).position==="static";)t=$b(t);return t&&(ls(t)==="html"||ls(t)==="body"&&ba(t).position==="static")?e:t||OD(n)||e}function V2(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function zu(n,e,t){return Ks(n,vh(e,t))}function RD(n,e,t){var a=zu(n,e,t);return a>t?t:a}function ES(){return{top:0,right:0,bottom:0,left:0}}function _S(n){return Object.assign({},ES(),n)}function AS(n,e){return e.reduce(function(t,a){return t[a]=n,t},{})}var DD=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,_S(typeof e!="number"?e:AS(e,pc))};function ND(n){var e,t=n.state,a=n.name,l=n.options,c=t.elements.arrow,g=t.modifiersData.popperOffsets,w=Hi(t.placement),v=V2(w),y=[Tr,ii].indexOf(w)>=0,E=y?"height":"width";if(!(!c||!g)){var A=DD(l.padding,t),T=G2(c),R=v==="y"?Cr:Tr,M=v==="y"?ri:ii,D=t.rects.reference[E]+t.rects.reference[v]-g[v]-t.rects.popper[E],B=g[v]-t.rects.reference[v],j=vc(c),q=j?v==="y"?j.clientHeight||0:j.clientWidth||0:0,P=D/2-B/2,F=A[R],X=q-T[E]-A[M],$=q/2-T[E]/2+P,G=zu(F,$,X),le=v;t.modifiersData[a]=(e={},e[le]=G,e.centerOffset=G-$,e)}}function MD(n){var e=n.state,t=n.options,a=t.element,l=a===void 0?"[data-popper-arrow]":a;l!=null&&(typeof l=="string"&&(l=e.elements.popper.querySelector(l),!l)||bS(e.elements.popper,l)&&(e.elements.arrow=l))}const ID={name:"arrow",enabled:!0,phase:"main",fn:ND,effect:MD,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function yl(n){return n.split("-")[1]}var kD={top:"auto",right:"auto",bottom:"auto",left:"auto"};function BD(n,e){var t=n.x,a=n.y,l=e.devicePixelRatio||1;return{x:pl(t*l)/l||0,y:pl(a*l)/l||0}}function Zb(n){var e,t=n.popper,a=n.popperRect,l=n.placement,c=n.variation,g=n.offsets,w=n.position,v=n.gpuAcceleration,y=n.adaptive,E=n.roundOffsets,A=n.isFixed,T=g.x,R=T===void 0?0:T,M=g.y,D=M===void 0?0:M,B=typeof E=="function"?E({x:R,y:D}):{x:R,y:D};R=B.x,D=B.y;var j=g.hasOwnProperty("x"),q=g.hasOwnProperty("y"),P=Tr,F=Cr,X=window;if(y){var $=vc(t),G="clientHeight",le="clientWidth";if($===Hr(t)&&($=ms(t),ba($).position!=="static"&&w==="absolute"&&(G="scrollHeight",le="scrollWidth")),$=$,l===Cr||(l===Tr||l===ii)&&c===nc){F=ri;var W=A&&$===X&&X.visualViewport?X.visualViewport.height:$[G];D-=W-a.height,D*=v?1:-1}if(l===Tr||(l===Cr||l===ri)&&c===nc){P=ii;var xe=A&&$===X&&X.visualViewport?X.visualViewport.width:$[le];R-=xe-a.width,R*=v?1:-1}}var ce=Object.assign({position:w},y&&kD),pe=E===!0?BD({x:R,y:D},Hr(t)):{x:R,y:D};if(R=pe.x,D=pe.y,v){var ve;return Object.assign({},ce,(ve={},ve[F]=q?"0":"",ve[P]=j?"0":"",ve.transform=(X.devicePixelRatio||1)<=1?"translate("+R+"px, "+D+"px)":"translate3d("+R+"px, "+D+"px, 0)",ve))}return Object.assign({},ce,(e={},e[F]=q?D+"px":"",e[P]=j?R+"px":"",e.transform="",e))}function LD(n){var e=n.state,t=n.options,a=t.gpuAcceleration,l=a===void 0?!0:a,c=t.adaptive,g=c===void 0?!0:c,w=t.roundOffsets,v=w===void 0?!0:w,y={placement:Hi(e.placement),variation:yl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:l,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Zb(Object.assign({},y,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:g,roundOffsets:v})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Zb(Object.assign({},y,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:v})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const PD={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:LD,data:{}};var Ff={passive:!0};function UD(n){var e=n.state,t=n.instance,a=n.options,l=a.scroll,c=l===void 0?!0:l,g=a.resize,w=g===void 0?!0:g,v=Hr(e.elements.popper),y=[].concat(e.scrollParents.reference,e.scrollParents.popper);return c&&y.forEach(function(E){E.addEventListener("scroll",t.update,Ff)}),w&&v.addEventListener("resize",t.update,Ff),function(){c&&y.forEach(function(E){E.removeEventListener("scroll",t.update,Ff)}),w&&v.removeEventListener("resize",t.update,Ff)}}const jD={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:UD,data:{}};var FD={left:"right",right:"left",bottom:"top",top:"bottom"};function Yf(n){return n.replace(/left|right|bottom|top/g,function(e){return FD[e]})}var qD={start:"end",end:"start"};function Qb(n){return n.replace(/start|end/g,function(e){return qD[e]})}function W2(n){var e=Hr(n),t=e.pageXOffset,a=e.pageYOffset;return{scrollLeft:t,scrollTop:a}}function Y2(n){return vl(ms(n)).left+W2(n).scrollLeft}function zD(n,e){var t=Hr(n),a=ms(n),l=t.visualViewport,c=a.clientWidth,g=a.clientHeight,w=0,v=0;if(l){c=l.width,g=l.height;var y=xS();(y||!y&&e==="fixed")&&(w=l.offsetLeft,v=l.offsetTop)}return{width:c,height:g,x:w+Y2(n),y:v}}function HD(n){var e,t=ms(n),a=W2(n),l=(e=n.ownerDocument)==null?void 0:e.body,c=Ks(t.scrollWidth,t.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),g=Ks(t.scrollHeight,t.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),w=-a.scrollLeft+Y2(n),v=-a.scrollTop;return ba(l||t).direction==="rtl"&&(w+=Ks(t.clientWidth,l?l.clientWidth:0)-c),{width:c,height:g,x:w,y:v}}function X2(n){var e=ba(n),t=e.overflow,a=e.overflowX,l=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+l+a)}function SS(n){return["html","body","#document"].indexOf(ls(n))>=0?n.ownerDocument.body:Gi(n)&&X2(n)?n:SS(Oh(n))}function Hu(n,e){var t;e===void 0&&(e=[]);var a=SS(n),l=a===((t=n.ownerDocument)==null?void 0:t.body),c=Hr(a),g=l?[c].concat(c.visualViewport||[],X2(a)?a:[]):a,w=e.concat(g);return l?w:w.concat(Hu(Oh(g)))}function l2(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function GD(n,e){var t=vl(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function Jb(n,e,t){return e===wS?l2(zD(n,t)):ro(e)?GD(e,t):l2(HD(ms(n)))}function VD(n){var e=Hu(Oh(n)),t=["absolute","fixed"].indexOf(ba(n).position)>=0,a=t&&Gi(n)?vc(n):n;return ro(a)?e.filter(function(l){return ro(l)&&bS(l,a)&&ls(l)!=="body"}):[]}function WD(n,e,t,a){var l=e==="clippingParents"?VD(n):[].concat(e),c=[].concat(l,[t]),g=c[0],w=c.reduce(function(v,y){var E=Jb(n,y,a);return v.top=Ks(E.top,v.top),v.right=vh(E.right,v.right),v.bottom=vh(E.bottom,v.bottom),v.left=Ks(E.left,v.left),v},Jb(n,g,a));return w.width=w.right-w.left,w.height=w.bottom-w.top,w.x=w.left,w.y=w.top,w}function CS(n){var e=n.reference,t=n.element,a=n.placement,l=a?Hi(a):null,c=a?yl(a):null,g=e.x+e.width/2-t.width/2,w=e.y+e.height/2-t.height/2,v;switch(l){case Cr:v={x:g,y:e.y-t.height};break;case ri:v={x:g,y:e.y+e.height};break;case ii:v={x:e.x+e.width,y:w};break;case Tr:v={x:e.x-t.width,y:w};break;default:v={x:e.x,y:e.y}}var y=l?V2(l):null;if(y!=null){var E=y==="y"?"height":"width";switch(c){case ml:v[y]=v[y]-(e[E]/2-t[E]/2);break;case nc:v[y]=v[y]+(e[E]/2-t[E]/2);break}}return v}function rc(n,e){e===void 0&&(e={});var t=e,a=t.placement,l=a===void 0?n.placement:a,c=t.strategy,g=c===void 0?n.strategy:c,w=t.boundary,v=w===void 0?mD:w,y=t.rootBoundary,E=y===void 0?wS:y,A=t.elementContext,T=A===void 0?Du:A,R=t.altBoundary,M=R===void 0?!1:R,D=t.padding,B=D===void 0?0:D,j=_S(typeof B!="number"?B:AS(B,pc)),q=T===Du?pD:Du,P=n.rects.popper,F=n.elements[M?q:T],X=WD(ro(F)?F:F.contextElement||ms(n.elements.popper),v,E,g),$=vl(n.elements.reference),G=CS({reference:$,element:P,placement:l}),le=l2(Object.assign({},P,G)),W=T===Du?le:$,xe={top:X.top-W.top+j.top,bottom:W.bottom-X.bottom+j.bottom,left:X.left-W.left+j.left,right:W.right-X.right+j.right},ce=n.modifiersData.offset;if(T===Du&&ce){var pe=ce[l];Object.keys(xe).forEach(function(ve){var Ne=[ii,ri].indexOf(ve)>=0?1:-1,ne=[Cr,ri].indexOf(ve)>=0?"y":"x";xe[ve]+=pe[ne]*Ne})}return xe}function YD(n,e){e===void 0&&(e={});var t=e,a=t.placement,l=t.boundary,c=t.rootBoundary,g=t.padding,w=t.flipVariations,v=t.allowedAutoPlacements,y=v===void 0?z2:v,E=yl(a),A=E?w?Kb:Kb.filter(function(M){return yl(M)===E}):pc,T=A.filter(function(M){return y.indexOf(M)>=0});T.length===0&&(T=A);var R=T.reduce(function(M,D){return M[D]=rc(n,{placement:D,boundary:l,rootBoundary:c,padding:g})[Hi(D)],M},{});return Object.keys(R).sort(function(M,D){return R[M]-R[D]})}function XD(n){if(Hi(n)===q2)return[];var e=Yf(n);return[Qb(n),e,Qb(e)]}function KD(n){var e=n.state,t=n.options,a=n.name;if(!e.modifiersData[a]._skip){for(var l=t.mainAxis,c=l===void 0?!0:l,g=t.altAxis,w=g===void 0?!0:g,v=t.fallbackPlacements,y=t.padding,E=t.boundary,A=t.rootBoundary,T=t.altBoundary,R=t.flipVariations,M=R===void 0?!0:R,D=t.allowedAutoPlacements,B=e.options.placement,j=Hi(B),q=j===B,P=v||(q||!M?[Yf(B)]:XD(B)),F=[B].concat(P).reduce(function(ke,$e){return ke.concat(Hi($e)===q2?YD(e,{placement:$e,boundary:E,rootBoundary:A,padding:y,flipVariations:M,allowedAutoPlacements:D}):$e)},[]),X=e.rects.reference,$=e.rects.popper,G=new Map,le=!0,W=F[0],xe=0;xe<F.length;xe++){var ce=F[xe],pe=Hi(ce),ve=yl(ce)===ml,Ne=[Cr,ri].indexOf(pe)>=0,ne=Ne?"width":"height",re=rc(e,{placement:ce,boundary:E,rootBoundary:A,altBoundary:T,padding:y}),fe=Ne?ve?ii:Tr:ve?ri:Cr;X[ne]>$[ne]&&(fe=Yf(fe));var Ie=Yf(fe),je=[];if(c&&je.push(re[pe]<=0),w&&je.push(re[fe]<=0,re[Ie]<=0),je.every(function(ke){return ke})){W=ce,le=!1;break}G.set(ce,je)}if(le)for(var K=M?3:1,ye=function($e){var Ae=F.find(function($t){var Ve=G.get($t);if(Ve)return Ve.slice(0,$e).every(function(En){return En})});if(Ae)return W=Ae,"break"},Se=K;Se>0;Se--){var Oe=ye(Se);if(Oe==="break")break}e.placement!==W&&(e.modifiersData[a]._skip=!0,e.placement=W,e.reset=!0)}}const $D={name:"flip",enabled:!0,phase:"main",fn:KD,requiresIfExists:["offset"],data:{_skip:!1}};function e3(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function t3(n){return[Cr,ii,ri,Tr].some(function(e){return n[e]>=0})}function ZD(n){var e=n.state,t=n.name,a=e.rects.reference,l=e.rects.popper,c=e.modifiersData.preventOverflow,g=rc(e,{elementContext:"reference"}),w=rc(e,{altBoundary:!0}),v=e3(g,a),y=e3(w,l,c),E=t3(v),A=t3(y);e.modifiersData[t]={referenceClippingOffsets:v,popperEscapeOffsets:y,isReferenceHidden:E,hasPopperEscaped:A},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":E,"data-popper-escaped":A})}const QD={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ZD};function JD(n,e,t){var a=Hi(n),l=[Tr,Cr].indexOf(a)>=0?-1:1,c=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,g=c[0],w=c[1];return g=g||0,w=(w||0)*l,[Tr,ii].indexOf(a)>=0?{x:w,y:g}:{x:g,y:w}}function eN(n){var e=n.state,t=n.options,a=n.name,l=t.offset,c=l===void 0?[0,0]:l,g=z2.reduce(function(E,A){return E[A]=JD(A,e.rects,c),E},{}),w=g[e.placement],v=w.x,y=w.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=v,e.modifiersData.popperOffsets.y+=y),e.modifiersData[a]=g}const tN={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:eN};function nN(n){var e=n.state,t=n.name;e.modifiersData[t]=CS({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const rN={name:"popperOffsets",enabled:!0,phase:"read",fn:nN,data:{}};function iN(n){return n==="x"?"y":"x"}function aN(n){var e=n.state,t=n.options,a=n.name,l=t.mainAxis,c=l===void 0?!0:l,g=t.altAxis,w=g===void 0?!1:g,v=t.boundary,y=t.rootBoundary,E=t.altBoundary,A=t.padding,T=t.tether,R=T===void 0?!0:T,M=t.tetherOffset,D=M===void 0?0:M,B=rc(e,{boundary:v,rootBoundary:y,padding:A,altBoundary:E}),j=Hi(e.placement),q=yl(e.placement),P=!q,F=V2(j),X=iN(F),$=e.modifiersData.popperOffsets,G=e.rects.reference,le=e.rects.popper,W=typeof D=="function"?D(Object.assign({},e.rects,{placement:e.placement})):D,xe=typeof W=="number"?{mainAxis:W,altAxis:W}:Object.assign({mainAxis:0,altAxis:0},W),ce=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,pe={x:0,y:0};if($){if(c){var ve,Ne=F==="y"?Cr:Tr,ne=F==="y"?ri:ii,re=F==="y"?"height":"width",fe=$[F],Ie=fe+B[Ne],je=fe-B[ne],K=R?-le[re]/2:0,ye=q===ml?G[re]:le[re],Se=q===ml?-le[re]:-G[re],Oe=e.elements.arrow,ke=R&&Oe?G2(Oe):{width:0,height:0},$e=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:ES(),Ae=$e[Ne],$t=$e[ne],Ve=zu(0,G[re],ke[re]),En=P?G[re]/2-K-Ve-Ae-xe.mainAxis:ye-Ve-Ae-xe.mainAxis,Dr=P?-G[re]/2+K+Ve+$t+xe.mainAxis:Se+Ve+$t+xe.mainAxis,Wt=e.elements.arrow&&vc(e.elements.arrow),Gr=Wt?F==="y"?Wt.clientTop||0:Wt.clientLeft||0:0,at=(ve=ce?.[F])!=null?ve:0,vr=fe+En-at-Gr,nt=fe+Dr-at,dr=zu(R?vh(Ie,vr):Ie,fe,R?Ks(je,nt):je);$[F]=dr,pe[F]=dr-fe}if(w){var Fe,ut=F==="x"?Cr:Tr,Ze=F==="x"?ri:ii,Xn=$[X],Be=X==="y"?"height":"width",jn=Xn+B[ut],tn=Xn-B[Ze],_n=[Cr,Tr].indexOf(j)!==-1,Nr=(Fe=ce?.[X])!=null?Fe:0,an=_n?jn:Xn-G[Be]-le[Be]-Nr+xe.altAxis,sn=_n?Xn+G[Be]+le[Be]-Nr-xe.altAxis:tn,Pt=R&&_n?RD(an,Xn,sn):zu(R?an:jn,Xn,R?sn:tn);$[X]=Pt,pe[X]=Pt-Xn}e.modifiersData[a]=pe}}const sN={name:"preventOverflow",enabled:!0,phase:"main",fn:aN,requiresIfExists:["offset"]};function oN(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function lN(n){return n===Hr(n)||!Gi(n)?W2(n):oN(n)}function uN(n){var e=n.getBoundingClientRect(),t=pl(e.width)/n.offsetWidth||1,a=pl(e.height)/n.offsetHeight||1;return t!==1||a!==1}function cN(n,e,t){t===void 0&&(t=!1);var a=Gi(e),l=Gi(e)&&uN(e),c=ms(e),g=vl(n,l,t),w={scrollLeft:0,scrollTop:0},v={x:0,y:0};return(a||!a&&!t)&&((ls(e)!=="body"||X2(c))&&(w=lN(e)),Gi(e)?(v=vl(e,!0),v.x+=e.clientLeft,v.y+=e.clientTop):c&&(v.x=Y2(c))),{x:g.left+w.scrollLeft-v.x,y:g.top+w.scrollTop-v.y,width:g.width,height:g.height}}function fN(n){var e=new Map,t=new Set,a=[];n.forEach(function(c){e.set(c.name,c)});function l(c){t.add(c.name);var g=[].concat(c.requires||[],c.requiresIfExists||[]);g.forEach(function(w){if(!t.has(w)){var v=e.get(w);v&&l(v)}}),a.push(c)}return n.forEach(function(c){t.has(c.name)||l(c)}),a}function hN(n){var e=fN(n);return CD.reduce(function(t,a){return t.concat(e.filter(function(l){return l.phase===a}))},[])}function dN(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function gN(n){var e=n.reduce(function(t,a){var l=t[a.name];return t[a.name]=l?Object.assign({},l,a,{options:Object.assign({},l.options,a.options),data:Object.assign({},l.data,a.data)}):a,t},{});return Object.keys(e).map(function(t){return e[t]})}var n3={placement:"bottom",modifiers:[],strategy:"absolute"};function r3(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function mN(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,a=t===void 0?[]:t,l=e.defaultOptions,c=l===void 0?n3:l;return function(w,v,y){y===void 0&&(y=c);var E={placement:"bottom",orderedModifiers:[],options:Object.assign({},n3,c),modifiersData:{},elements:{reference:w,popper:v},attributes:{},styles:{}},A=[],T=!1,R={state:E,setOptions:function(j){var q=typeof j=="function"?j(E.options):j;D(),E.options=Object.assign({},c,E.options,q),E.scrollParents={reference:ro(w)?Hu(w):w.contextElement?Hu(w.contextElement):[],popper:Hu(v)};var P=hN(gN([].concat(a,E.options.modifiers)));return E.orderedModifiers=P.filter(function(F){return F.enabled}),M(),R.update()},forceUpdate:function(){if(!T){var j=E.elements,q=j.reference,P=j.popper;if(r3(q,P)){E.rects={reference:cN(q,vc(P),E.options.strategy==="fixed"),popper:G2(P)},E.reset=!1,E.placement=E.options.placement,E.orderedModifiers.forEach(function(xe){return E.modifiersData[xe.name]=Object.assign({},xe.data)});for(var F=0;F<E.orderedModifiers.length;F++){if(E.reset===!0){E.reset=!1,F=-1;continue}var X=E.orderedModifiers[F],$=X.fn,G=X.options,le=G===void 0?{}:G,W=X.name;typeof $=="function"&&(E=$({state:E,options:le,name:W,instance:R})||E)}}}},update:dN(function(){return new Promise(function(B){R.forceUpdate(),B(E)})}),destroy:function(){D(),T=!0}};if(!r3(w,v))return R;R.setOptions(y).then(function(B){!T&&y.onFirstUpdate&&y.onFirstUpdate(B)});function M(){E.orderedModifiers.forEach(function(B){var j=B.name,q=B.options,P=q===void 0?{}:q,F=B.effect;if(typeof F=="function"){var X=F({state:E,name:j,instance:R,options:P}),$=function(){};A.push(X||$)}})}function D(){A.forEach(function(B){return B()}),A=[]}return R}}var pN=mN({defaultModifiers:[QD,rN,PD,jD,tN,$D,sN,ID]}),i3=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},vN={name:"applyStyles",enabled:!1},yN={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var a=t.elements,l=a.reference,c=a.popper;if("removeAttribute"in l){var g=(l.getAttribute("aria-describedby")||"").split(",").filter(function(w){return w.trim()!==c.id});g.length?l.setAttribute("aria-describedby",g.join(",")):l.removeAttribute("aria-describedby")}}},fn:function(e){var t,a=e.state,l=a.elements,c=l.popper,g=l.reference,w=(t=c.getAttribute("role"))==null?void 0:t.toLowerCase();if(c.id&&w==="tooltip"&&"setAttribute"in g){var v=g.getAttribute("aria-describedby");if(v&&v.split(",").indexOf(c.id)!==-1)return;g.setAttribute("aria-describedby",v?v+","+c.id:c.id)}}},wN=[];function xN(n,e,t){var a=t===void 0?{}:t,l=a.enabled,c=l===void 0?!0:l,g=a.placement,w=g===void 0?"bottom":g,v=a.strategy,y=v===void 0?"absolute":v,E=a.modifiers,A=E===void 0?wN:E,T=Sh(a,["enabled","placement","strategy","modifiers"]),R=Q.useRef(),M=Q.useCallback(function(){var F;(F=R.current)==null||F.update()},[]),D=Q.useCallback(function(){var F;(F=R.current)==null||F.forceUpdate()},[]),B=gD(Q.useState({placement:w,update:M,forceUpdate:D,attributes:{},styles:{popper:i3(y),arrow:{}}})),j=B[0],q=B[1],P=Q.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(X){var $=X.state,G={},le={};Object.keys($.elements).forEach(function(W){G[W]=$.styles[W],le[W]=$.attributes[W]}),q({state:$,styles:G,attributes:le,update:M,forceUpdate:D,placement:$.placement})}}},[M,D,q]);return Q.useEffect(function(){!R.current||!c||R.current.setOptions({placement:w,strategy:y,modifiers:[].concat(A,[P,vN])})},[y,w,P,c]),Q.useEffect(function(){if(!(!c||n==null||e==null))return R.current=pN(n,e,gn({},T,{placement:w,strategy:y,modifiers:[].concat(A,[yN,P])})),function(){R.current!=null&&(R.current.destroy(),R.current=void 0,q(function(F){return gn({},F,{attributes:{},styles:{popper:i3(y)}})}))}},[c,n,e]),j}function bN(n,e,t,a){var l=a&&typeof a!="boolean"?a.capture:a;n.removeEventListener(e,t,l),t.__once&&n.removeEventListener(e,t.__once,l)}function Bu(n,e,t,a){return fD(n,e,t,a),function(){bN(n,e,t,a)}}var N1,a3;function EN(){if(a3)return N1;a3=1;var n=function(){};return N1=n,N1}var _N=EN();const AN=cr(_N);function SN(n){return n&&"setState"in n?i4.findDOMNode(n):n??null}const CN=function(n){return mc(SN(n))};var TN=27,s3=function(){};function ON(n){return n.button===0}function RN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}var o3=function(e){return e&&("current"in e?e.current:e)};function DN(n,e,t){var a=t===void 0?{}:t,l=a.disabled,c=a.clickTrigger,g=c===void 0?"click":c,w=Q.useRef(!1),v=e||s3,y=Q.useCallback(function(T){var R,M=o3(n);AN(!!M,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),w.current=!M||RN(T)||!ON(T)||!!tc(M,(R=T.composedPath==null?void 0:T.composedPath()[0])!=null?R:T.target)},[n]),E=Yb(function(T){w.current||v(T)}),A=Yb(function(T){T.keyCode===TN&&v(T)});Q.useEffect(function(){if(!(l||n==null)){var T=window.event,R=CN(o3(n)),M=Bu(R,g,y,!0),D=Bu(R,g,function(q){if(q===T){T=void 0;return}E(q)}),B=Bu(R,"keyup",function(q){if(q===T){T=void 0;return}A(q)}),j=[];return"ontouchstart"in R.documentElement&&(j=[].slice.call(R.body.children).map(function(q){return Bu(q,"mousemove",s3)})),function(){M(),D(),B(),j.forEach(function(q){return q()})}}},[n,l,g,y,E,A])}function NN(n){var e={};return Array.isArray(n)?(n?.forEach(function(t){e[t.name]=t}),e):n||e}function MN(n){return n===void 0&&(n={}),Array.isArray(n)?n:Object.keys(n).map(function(e){return n[e].name=e,n[e]})}function IN(n){var e,t,a,l,c=n.enabled,g=n.enableEvents,w=n.placement,v=n.flip,y=n.offset,E=n.fixed,A=n.containerPadding,T=n.arrowElement,R=n.popperConfig,M=R===void 0?{}:R,D=NN(M.modifiers);return gn({},M,{placement:w,enabled:c,strategy:E?"fixed":M.strategy,modifiers:MN(gn({},D,{eventListeners:{enabled:g},preventOverflow:gn({},D.preventOverflow,{options:A?gn({padding:A},(e=D.preventOverflow)==null?void 0:e.options):(t=D.preventOverflow)==null?void 0:t.options}),offset:{options:gn({offset:y},(a=D.offset)==null?void 0:a.options)},arrow:gn({},D.arrow,{enabled:!!T,options:gn({},(l=D.arrow)==null?void 0:l.options,{element:T})}),flip:gn({enabled:!!v},D.flip)}))})}function kN(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function BN(n,e){n.classList?n.classList.add(e):kN(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function l3(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function LN(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=l3(n.className,e):n.setAttribute("class",l3(n.className&&n.className.baseVal||"",e))}var qf;function K2(n){if((!qf&&qf!==0||n)&&F2){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),qf=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return qf}var M1=function(e){var t;return typeof document>"u"?null:e==null?mc().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(t=e)!=null&&t.nodeType&&e||null)};function u3(n,e){var t=Q.useState(function(){return M1(n)}),a=t[0],l=t[1];if(!a){var c=M1(n);c&&l(c)}return Q.useEffect(function(){},[e,a]),Q.useEffect(function(){var g=M1(n);g!==a&&l(g)},[n,a]),a}const c3=n=>!n||typeof n=="function"?n:e=>{n.current=e};function PN(n,e){const t=c3(n),a=c3(e);return l=>{t&&t(l),a&&a(l)}}function UN(n,e){return Q.useMemo(()=>PN(n,e),[n,e])}var $2=te.forwardRef(function(n,e){var t=n.flip,a=n.offset,l=n.placement,c=n.containerPadding,g=c===void 0?5:c,w=n.popperConfig,v=w===void 0?{}:w,y=n.transition,E=Xb(),A=E[0],T=E[1],R=Xb(),M=R[0],D=R[1],B=UN(T,e),j=u3(n.container),q=u3(n.target),P=Q.useState(!n.show),F=P[0],X=P[1],$=xN(q,A,IN({placement:l,enableEvents:!!n.show,containerPadding:g||5,flip:t,offset:a,arrowElement:M,popperConfig:v})),G=$.styles,le=$.attributes,W=Sh($,["styles","attributes"]);n.show?F&&X(!1):!n.transition&&!F&&X(!0);var xe=function(){X(!0),n.onExited&&n.onExited.apply(n,arguments)},ce=n.show||y&&!F;if(DN(A,n.onHide,{disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent}),!ce)return null;var pe=n.children(gn({},W,{show:!!n.show,props:gn({},le.popper,{style:G.popper,ref:B}),arrowProps:gn({},le.arrow,{style:G.arrow,ref:D})}));if(y){var ve=n.onExit,Ne=n.onExiting,ne=n.onEnter,re=n.onEntering,fe=n.onEntered;pe=te.createElement(y,{in:n.show,appear:!0,onExit:ve,onExiting:Ne,onExited:xe,onEnter:ne,onEntering:re,onEntered:fe},pe)}return j?i4.createPortal(pe,j):null});$2.displayName="Overlay";$2.propTypes={show:Me.bool,placement:Me.oneOf(z2),target:Me.any,container:Me.any,flip:Me.bool,children:Me.func.isRequired,containerPadding:Me.number,popperConfig:Me.object,rootClose:Me.bool,rootCloseEvent:Me.oneOf(["click","mousedown"]),rootCloseDisabled:Me.bool,onHide:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),l=1;l<t;l++)a[l-1]=arguments[l];if(e.rootClose){var c;return(c=Me.func).isRequired.apply(c,[e].concat(a))}return Me.func.apply(Me,[e].concat(a))},transition:Me.elementType,onEnter:Me.func,onEntering:Me.func,onEntered:Me.func,onExit:Me.func,onExiting:Me.func,onExited:Me.func};var I1,f3;function jN(){if(f3)return I1;f3=1;function n(){this.__data__=[],this.size=0}return I1=n,I1}var k1,h3;function Rh(){if(h3)return k1;h3=1;var n=hc();function e(t,a){for(var l=t.length;l--;)if(n(t[l][0],a))return l;return-1}return k1=e,k1}var B1,d3;function FN(){if(d3)return B1;d3=1;var n=Rh(),e=Array.prototype,t=e.splice;function a(l){var c=this.__data__,g=n(c,l);if(g<0)return!1;var w=c.length-1;return g==w?c.pop():t.call(c,g,1),--this.size,!0}return B1=a,B1}var L1,g3;function qN(){if(g3)return L1;g3=1;var n=Rh();function e(t){var a=this.__data__,l=n(a,t);return l<0?void 0:a[l][1]}return L1=e,L1}var P1,m3;function zN(){if(m3)return P1;m3=1;var n=Rh();function e(t){return n(this.__data__,t)>-1}return P1=e,P1}var U1,p3;function HN(){if(p3)return U1;p3=1;var n=Rh();function e(t,a){var l=this.__data__,c=n(l,t);return c<0?(++this.size,l.push([t,a])):l[c][1]=a,this}return U1=e,U1}var j1,v3;function Dh(){if(v3)return j1;v3=1;var n=jN(),e=FN(),t=qN(),a=zN(),l=HN();function c(g){var w=-1,v=g==null?0:g.length;for(this.clear();++w<v;){var y=g[w];this.set(y[0],y[1])}}return c.prototype.clear=n,c.prototype.delete=e,c.prototype.get=t,c.prototype.has=a,c.prototype.set=l,j1=c,j1}var F1,y3;function GN(){if(y3)return F1;y3=1;var n=Dh();function e(){this.__data__=new n,this.size=0}return F1=e,F1}var q1,w3;function VN(){if(w3)return q1;w3=1;function n(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a}return q1=n,q1}var z1,x3;function WN(){if(x3)return z1;x3=1;function n(e){return this.__data__.get(e)}return z1=n,z1}var H1,b3;function YN(){if(b3)return H1;b3=1;function n(e){return this.__data__.has(e)}return H1=n,H1}var G1,E3;function XN(){if(E3)return G1;E3=1;var n=Wi(),e=n["__core-js_shared__"];return G1=e,G1}var V1,_3;function KN(){if(_3)return V1;_3=1;var n=XN(),e=function(){var a=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();function t(a){return!!e&&e in a}return V1=t,V1}var W1,A3;function TS(){if(A3)return W1;A3=1;var n=Function.prototype,e=n.toString;function t(a){if(a!=null){try{return e.call(a)}catch{}try{return a+""}catch{}}return""}return W1=t,W1}var Y1,S3;function $N(){if(S3)return Y1;S3=1;var n=L2(),e=KN(),t=Ea(),a=TS(),l=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,g=Function.prototype,w=Object.prototype,v=g.toString,y=w.hasOwnProperty,E=RegExp("^"+v.call(y).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function A(T){if(!t(T)||e(T))return!1;var R=n(T)?E:c;return R.test(a(T))}return Y1=A,Y1}var X1,C3;function ZN(){if(C3)return X1;C3=1;function n(e,t){return e?.[t]}return X1=n,X1}var K1,T3;function so(){if(T3)return K1;T3=1;var n=$N(),e=ZN();function t(a,l){var c=e(a,l);return n(c)?c:void 0}return K1=t,K1}var $1,O3;function Z2(){if(O3)return $1;O3=1;var n=so(),e=Wi(),t=n(e,"Map");return $1=t,$1}var Z1,R3;function Nh(){if(R3)return Z1;R3=1;var n=so(),e=n(Object,"create");return Z1=e,Z1}var Q1,D3;function QN(){if(D3)return Q1;D3=1;var n=Nh();function e(){this.__data__=n?n(null):{},this.size=0}return Q1=e,Q1}var J1,N3;function JN(){if(N3)return J1;N3=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return J1=n,J1}var eg,M3;function eM(){if(M3)return eg;M3=1;var n=Nh(),e="__lodash_hash_undefined__",t=Object.prototype,a=t.hasOwnProperty;function l(c){var g=this.__data__;if(n){var w=g[c];return w===e?void 0:w}return a.call(g,c)?g[c]:void 0}return eg=l,eg}var tg,I3;function tM(){if(I3)return tg;I3=1;var n=Nh(),e=Object.prototype,t=e.hasOwnProperty;function a(l){var c=this.__data__;return n?c[l]!==void 0:t.call(c,l)}return tg=a,tg}var ng,k3;function nM(){if(k3)return ng;k3=1;var n=Nh(),e="__lodash_hash_undefined__";function t(a,l){var c=this.__data__;return this.size+=this.has(a)?0:1,c[a]=n&&l===void 0?e:l,this}return ng=t,ng}var rg,B3;function rM(){if(B3)return rg;B3=1;var n=QN(),e=JN(),t=eM(),a=tM(),l=nM();function c(g){var w=-1,v=g==null?0:g.length;for(this.clear();++w<v;){var y=g[w];this.set(y[0],y[1])}}return c.prototype.clear=n,c.prototype.delete=e,c.prototype.get=t,c.prototype.has=a,c.prototype.set=l,rg=c,rg}var ig,L3;function iM(){if(L3)return ig;L3=1;var n=rM(),e=Dh(),t=Z2();function a(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return ig=a,ig}var ag,P3;function aM(){if(P3)return ag;P3=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return ag=n,ag}var sg,U3;function Mh(){if(U3)return sg;U3=1;var n=aM();function e(t,a){var l=t.__data__;return n(a)?l[typeof a=="string"?"string":"hash"]:l.map}return sg=e,sg}var og,j3;function sM(){if(j3)return og;j3=1;var n=Mh();function e(t){var a=n(this,t).delete(t);return this.size-=a?1:0,a}return og=e,og}var lg,F3;function oM(){if(F3)return lg;F3=1;var n=Mh();function e(t){return n(this,t).get(t)}return lg=e,lg}var ug,q3;function lM(){if(q3)return ug;q3=1;var n=Mh();function e(t){return n(this,t).has(t)}return ug=e,ug}var cg,z3;function uM(){if(z3)return cg;z3=1;var n=Mh();function e(t,a){var l=n(this,t),c=l.size;return l.set(t,a),this.size+=l.size==c?0:1,this}return cg=e,cg}var fg,H3;function Q2(){if(H3)return fg;H3=1;var n=iM(),e=sM(),t=oM(),a=lM(),l=uM();function c(g){var w=-1,v=g==null?0:g.length;for(this.clear();++w<v;){var y=g[w];this.set(y[0],y[1])}}return c.prototype.clear=n,c.prototype.delete=e,c.prototype.get=t,c.prototype.has=a,c.prototype.set=l,fg=c,fg}var hg,G3;function cM(){if(G3)return hg;G3=1;var n=Dh(),e=Z2(),t=Q2(),a=200;function l(c,g){var w=this.__data__;if(w instanceof n){var v=w.__data__;if(!e||v.length<a-1)return v.push([c,g]),this.size=++w.size,this;w=this.__data__=new t(v)}return w.set(c,g),this.size=w.size,this}return hg=l,hg}var dg,V3;function J2(){if(V3)return dg;V3=1;var n=Dh(),e=GN(),t=VN(),a=WN(),l=YN(),c=cM();function g(w){var v=this.__data__=new n(w);this.size=v.size}return g.prototype.clear=e,g.prototype.delete=t,g.prototype.get=a,g.prototype.has=l,g.prototype.set=c,dg=g,dg}var gg,W3;function fM(){if(W3)return gg;W3=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return gg=e,gg}var mg,Y3;function hM(){if(Y3)return mg;Y3=1;function n(e){return this.__data__.has(e)}return mg=n,mg}var pg,X3;function dM(){if(X3)return pg;X3=1;var n=Q2(),e=fM(),t=hM();function a(l){var c=-1,g=l==null?0:l.length;for(this.__data__=new n;++c<g;)this.add(l[c])}return a.prototype.add=a.prototype.push=e,a.prototype.has=t,pg=a,pg}var vg,K3;function gM(){if(K3)return vg;K3=1;function n(e,t){for(var a=-1,l=e==null?0:e.length;++a<l;)if(t(e[a],a,e))return!0;return!1}return vg=n,vg}var yg,$3;function mM(){if($3)return yg;$3=1;function n(e,t){return e.has(t)}return yg=n,yg}var wg,Z3;function OS(){if(Z3)return wg;Z3=1;var n=dM(),e=gM(),t=mM(),a=1,l=2;function c(g,w,v,y,E,A){var T=v&a,R=g.length,M=w.length;if(R!=M&&!(T&&M>R))return!1;var D=A.get(g),B=A.get(w);if(D&&B)return D==w&&B==g;var j=-1,q=!0,P=v&l?new n:void 0;for(A.set(g,w),A.set(w,g);++j<R;){var F=g[j],X=w[j];if(y)var $=T?y(X,F,j,w,g,A):y(F,X,j,g,w,A);if($!==void 0){if($)continue;q=!1;break}if(P){if(!e(w,function(G,le){if(!t(P,le)&&(F===G||E(F,G,v,y,A)))return P.push(le)})){q=!1;break}}else if(!(F===X||E(F,X,v,y,A))){q=!1;break}}return A.delete(g),A.delete(w),q}return wg=c,wg}var xg,Q3;function RS(){if(Q3)return xg;Q3=1;var n=Wi(),e=n.Uint8Array;return xg=e,xg}var bg,J3;function pM(){if(J3)return bg;J3=1;function n(e){var t=-1,a=Array(e.size);return e.forEach(function(l,c){a[++t]=[c,l]}),a}return bg=n,bg}var Eg,eE;function vM(){if(eE)return Eg;eE=1;function n(e){var t=-1,a=Array(e.size);return e.forEach(function(l){a[++t]=l}),a}return Eg=n,Eg}var _g,tE;function yM(){if(tE)return _g;tE=1;var n=Ol(),e=RS(),t=hc(),a=OS(),l=pM(),c=vM(),g=1,w=2,v="[object Boolean]",y="[object Date]",E="[object Error]",A="[object Map]",T="[object Number]",R="[object RegExp]",M="[object Set]",D="[object String]",B="[object Symbol]",j="[object ArrayBuffer]",q="[object DataView]",P=n?n.prototype:void 0,F=P?P.valueOf:void 0;function X($,G,le,W,xe,ce,pe){switch(le){case q:if($.byteLength!=G.byteLength||$.byteOffset!=G.byteOffset)return!1;$=$.buffer,G=G.buffer;case j:return!($.byteLength!=G.byteLength||!ce(new e($),new e(G)));case v:case y:case T:return t(+$,+G);case E:return $.name==G.name&&$.message==G.message;case R:case D:return $==G+"";case A:var ve=l;case M:var Ne=W&g;if(ve||(ve=c),$.size!=G.size&&!Ne)return!1;var ne=pe.get($);if(ne)return ne==G;W|=w,pe.set($,G);var re=a(ve($),ve(G),W,xe,ce,pe);return pe.delete($),re;case B:if(F)return F.call($)==F.call(G)}return!1}return _g=X,_g}var Ag,nE;function ev(){if(nE)return Ag;nE=1;function n(e,t){for(var a=-1,l=t.length,c=e.length;++a<l;)e[c+a]=t[a];return e}return Ag=n,Ag}var Sg,rE;function ai(){if(rE)return Sg;rE=1;var n=Array.isArray;return Sg=n,Sg}var Cg,iE;function DS(){if(iE)return Cg;iE=1;var n=ev(),e=ai();function t(a,l,c){var g=l(a);return e(a)?g:n(g,c(a))}return Cg=t,Cg}var Tg,aE;function wM(){if(aE)return Tg;aE=1;function n(e,t){for(var a=-1,l=e==null?0:e.length,c=0,g=[];++a<l;){var w=e[a];t(w,a,e)&&(g[c++]=w)}return g}return Tg=n,Tg}var Og,sE;function NS(){if(sE)return Og;sE=1;function n(){return[]}return Og=n,Og}var Rg,oE;function tv(){if(oE)return Rg;oE=1;var n=wM(),e=NS(),t=Object.prototype,a=t.propertyIsEnumerable,l=Object.getOwnPropertySymbols,c=l?function(g){return g==null?[]:(g=Object(g),n(l(g),function(w){return a.call(g,w)}))}:e;return Rg=c,Rg}var Dg,lE;function xM(){if(lE)return Dg;lE=1;function n(e,t){for(var a=-1,l=Array(e);++a<e;)l[a]=t(a);return l}return Dg=n,Dg}var Ng,uE;function bM(){if(uE)return Ng;uE=1;var n=Rl(),e=gs(),t="[object Arguments]";function a(l){return e(l)&&n(l)==t}return Ng=a,Ng}var Mg,cE;function nv(){if(cE)return Mg;cE=1;var n=bM(),e=gs(),t=Object.prototype,a=t.hasOwnProperty,l=t.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(g){return e(g)&&a.call(g,"callee")&&!l.call(g,"callee")};return Mg=c,Mg}var Lu={exports:{}},Ig,fE;function EM(){if(fE)return Ig;fE=1;function n(){return!1}return Ig=n,Ig}Lu.exports;var hE;function Ih(){return hE||(hE=1,function(n,e){var t=Wi(),a=EM(),l=e&&!e.nodeType&&e,c=l&&!0&&n&&!n.nodeType&&n,g=c&&c.exports===l,w=g?t.Buffer:void 0,v=w?w.isBuffer:void 0,y=v||a;n.exports=y}(Lu,Lu.exports)),Lu.exports}var kg,dE;function _M(){if(dE)return kg;dE=1;var n=Rl(),e=P2(),t=gs(),a="[object Arguments]",l="[object Array]",c="[object Boolean]",g="[object Date]",w="[object Error]",v="[object Function]",y="[object Map]",E="[object Number]",A="[object Object]",T="[object RegExp]",R="[object Set]",M="[object String]",D="[object WeakMap]",B="[object ArrayBuffer]",j="[object DataView]",q="[object Float32Array]",P="[object Float64Array]",F="[object Int8Array]",X="[object Int16Array]",$="[object Int32Array]",G="[object Uint8Array]",le="[object Uint8ClampedArray]",W="[object Uint16Array]",xe="[object Uint32Array]",ce={};ce[q]=ce[P]=ce[F]=ce[X]=ce[$]=ce[G]=ce[le]=ce[W]=ce[xe]=!0,ce[a]=ce[l]=ce[B]=ce[c]=ce[j]=ce[g]=ce[w]=ce[v]=ce[y]=ce[E]=ce[A]=ce[T]=ce[R]=ce[M]=ce[D]=!1;function pe(ve){return t(ve)&&e(ve.length)&&!!ce[n(ve)]}return kg=pe,kg}var Bg,gE;function kh(){if(gE)return Bg;gE=1;function n(e){return function(t){return e(t)}}return Bg=n,Bg}var Pu={exports:{}};Pu.exports;var mE;function rv(){return mE||(mE=1,function(n,e){var t=fS(),a=e&&!e.nodeType&&e,l=a&&!0&&n&&!n.nodeType&&n,c=l&&l.exports===a,g=c&&t.process,w=function(){try{var v=l&&l.require&&l.require("util").types;return v||g&&g.binding&&g.binding("util")}catch{}}();n.exports=w}(Pu,Pu.exports)),Pu.exports}var Lg,pE;function iv(){if(pE)return Lg;pE=1;var n=_M(),e=kh(),t=rv(),a=t&&t.isTypedArray,l=a?e(a):n;return Lg=l,Lg}var Pg,vE;function MS(){if(vE)return Pg;vE=1;var n=xM(),e=nv(),t=ai(),a=Ih(),l=U2(),c=iv(),g=Object.prototype,w=g.hasOwnProperty;function v(y,E){var A=t(y),T=!A&&e(y),R=!A&&!T&&a(y),M=!A&&!T&&!R&&c(y),D=A||T||R||M,B=D?n(y.length,String):[],j=B.length;for(var q in y)(E||w.call(y,q))&&!(D&&(q=="length"||R&&(q=="offset"||q=="parent")||M&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||l(q,j)))&&B.push(q);return B}return Pg=v,Pg}var Ug,yE;function av(){if(yE)return Ug;yE=1;var n=Object.prototype;function e(t){var a=t&&t.constructor,l=typeof a=="function"&&a.prototype||n;return t===l}return Ug=e,Ug}var jg,wE;function IS(){if(wE)return jg;wE=1;function n(e,t){return function(a){return e(t(a))}}return jg=n,jg}var Fg,xE;function AM(){if(xE)return Fg;xE=1;var n=IS(),e=n(Object.keys,Object);return Fg=e,Fg}var qg,bE;function SM(){if(bE)return qg;bE=1;var n=av(),e=AM(),t=Object.prototype,a=t.hasOwnProperty;function l(c){if(!n(c))return e(c);var g=[];for(var w in Object(c))a.call(c,w)&&w!="constructor"&&g.push(w);return g}return qg=l,qg}var zg,EE;function yc(){if(EE)return zg;EE=1;var n=MS(),e=SM(),t=dc();function a(l){return t(l)?n(l):e(l)}return zg=a,zg}var Hg,_E;function kS(){if(_E)return Hg;_E=1;var n=DS(),e=tv(),t=yc();function a(l){return n(l,t,e)}return Hg=a,Hg}var Gg,AE;function CM(){if(AE)return Gg;AE=1;var n=kS(),e=1,t=Object.prototype,a=t.hasOwnProperty;function l(c,g,w,v,y,E){var A=w&e,T=n(c),R=T.length,M=n(g),D=M.length;if(R!=D&&!A)return!1;for(var B=R;B--;){var j=T[B];if(!(A?j in g:a.call(g,j)))return!1}var q=E.get(c),P=E.get(g);if(q&&P)return q==g&&P==c;var F=!0;E.set(c,g),E.set(g,c);for(var X=A;++B<R;){j=T[B];var $=c[j],G=g[j];if(v)var le=A?v(G,$,j,g,c,E):v($,G,j,c,g,E);if(!(le===void 0?$===G||y($,G,w,v,E):le)){F=!1;break}X||(X=j=="constructor")}if(F&&!X){var W=c.constructor,xe=g.constructor;W!=xe&&"constructor"in c&&"constructor"in g&&!(typeof W=="function"&&W instanceof W&&typeof xe=="function"&&xe instanceof xe)&&(F=!1)}return E.delete(c),E.delete(g),F}return Gg=l,Gg}var Vg,SE;function TM(){if(SE)return Vg;SE=1;var n=so(),e=Wi(),t=n(e,"DataView");return Vg=t,Vg}var Wg,CE;function OM(){if(CE)return Wg;CE=1;var n=so(),e=Wi(),t=n(e,"Promise");return Wg=t,Wg}var Yg,TE;function RM(){if(TE)return Yg;TE=1;var n=so(),e=Wi(),t=n(e,"Set");return Yg=t,Yg}var Xg,OE;function DM(){if(OE)return Xg;OE=1;var n=so(),e=Wi(),t=n(e,"WeakMap");return Xg=t,Xg}var Kg,RE;function Bh(){if(RE)return Kg;RE=1;var n=TM(),e=Z2(),t=OM(),a=RM(),l=DM(),c=Rl(),g=TS(),w="[object Map]",v="[object Object]",y="[object Promise]",E="[object Set]",A="[object WeakMap]",T="[object DataView]",R=g(n),M=g(e),D=g(t),B=g(a),j=g(l),q=c;return(n&&q(new n(new ArrayBuffer(1)))!=T||e&&q(new e)!=w||t&&q(t.resolve())!=y||a&&q(new a)!=E||l&&q(new l)!=A)&&(q=function(P){var F=c(P),X=F==v?P.constructor:void 0,$=X?g(X):"";if($)switch($){case R:return T;case M:return w;case D:return y;case B:return E;case j:return A}return F}),Kg=q,Kg}var $g,DE;function NM(){if(DE)return $g;DE=1;var n=J2(),e=OS(),t=yM(),a=CM(),l=Bh(),c=ai(),g=Ih(),w=iv(),v=1,y="[object Arguments]",E="[object Array]",A="[object Object]",T=Object.prototype,R=T.hasOwnProperty;function M(D,B,j,q,P,F){var X=c(D),$=c(B),G=X?E:l(D),le=$?E:l(B);G=G==y?A:G,le=le==y?A:le;var W=G==A,xe=le==A,ce=G==le;if(ce&&g(D)){if(!g(B))return!1;X=!0,W=!1}if(ce&&!W)return F||(F=new n),X||w(D)?e(D,B,j,q,P,F):t(D,B,G,j,q,P,F);if(!(j&v)){var pe=W&&R.call(D,"__wrapped__"),ve=xe&&R.call(B,"__wrapped__");if(pe||ve){var Ne=pe?D.value():D,ne=ve?B.value():B;return F||(F=new n),P(Ne,ne,j,q,F)}}return ce?(F||(F=new n),a(D,B,j,q,P,F)):!1}return $g=M,$g}var Zg,NE;function sv(){if(NE)return Zg;NE=1;var n=NM(),e=gs();function t(a,l,c,g,w){return a===l?!0:a==null||l==null||!e(a)&&!e(l)?a!==a&&l!==l:n(a,l,c,g,t,w)}return Zg=t,Zg}var Qg,ME;function MM(){if(ME)return Qg;ME=1;var n=sv();function e(t,a){return n(t,a)}return Qg=e,Qg}var IM=MM();const kM=cr(IM);function Jg(n,e){var t=j2(n);return t?t.innerHeight:Xs(n).height}function BS(n,e,t){n.closest&&!t&&n.closest(e);var a=n;do{if(lD(a,e))return a;a=a.parentElement}while(a&&a!==t&&a.nodeType===document.ELEMENT_NODE);return null}var em,IE;function BM(){if(IE)return em;IE=1;function n(e,t,a,l){for(var c=e.length,g=a+(l?1:-1);l?g--:++g<c;)if(t(e[g],g,e))return g;return-1}return em=n,em}var tm,kE;function LM(){if(kE)return tm;kE=1;var n=J2(),e=sv(),t=1,a=2;function l(c,g,w,v){var y=w.length,E=y,A=!v;if(c==null)return!E;for(c=Object(c);y--;){var T=w[y];if(A&&T[2]?T[1]!==c[T[0]]:!(T[0]in c))return!1}for(;++y<E;){T=w[y];var R=T[0],M=c[R],D=T[1];if(A&&T[2]){if(M===void 0&&!(R in c))return!1}else{var B=new n;if(v)var j=v(M,D,R,c,g,B);if(!(j===void 0?e(D,M,t|a,v,B):j))return!1}}return!0}return tm=l,tm}var nm,BE;function LS(){if(BE)return nm;BE=1;var n=Ea();function e(t){return t===t&&!n(t)}return nm=e,nm}var rm,LE;function PM(){if(LE)return rm;LE=1;var n=LS(),e=yc();function t(a){for(var l=e(a),c=l.length;c--;){var g=l[c],w=a[g];l[c]=[g,w,n(w)]}return l}return rm=t,rm}var im,PE;function PS(){if(PE)return im;PE=1;function n(e,t){return function(a){return a==null?!1:a[e]===t&&(t!==void 0||e in Object(a))}}return im=n,im}var am,UE;function UM(){if(UE)return am;UE=1;var n=LM(),e=PM(),t=PS();function a(l){var c=e(l);return c.length==1&&c[0][2]?t(c[0][0],c[0][1]):function(g){return g===l||n(g,l,c)}}return am=a,am}var sm,jE;function ov(){if(jE)return sm;jE=1;var n=ai(),e=gc(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function l(c,g){if(n(c))return!1;var w=typeof c;return w=="number"||w=="symbol"||w=="boolean"||c==null||e(c)?!0:a.test(c)||!t.test(c)||g!=null&&c in Object(g)}return sm=l,sm}var om,FE;function jM(){if(FE)return om;FE=1;var n=Q2(),e="Expected a function";function t(a,l){if(typeof a!="function"||l!=null&&typeof l!="function")throw new TypeError(e);var c=function(){var g=arguments,w=l?l.apply(this,g):g[0],v=c.cache;if(v.has(w))return v.get(w);var y=a.apply(this,g);return c.cache=v.set(w,y)||v,y};return c.cache=new(t.Cache||n),c}return t.Cache=n,om=t,om}var lm,qE;function FM(){if(qE)return lm;qE=1;var n=jM(),e=500;function t(a){var l=n(a,function(g){return c.size===e&&c.clear(),g}),c=l.cache;return l}return lm=t,lm}var um,zE;function qM(){if(zE)return um;zE=1;var n=FM(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,a=n(function(l){var c=[];return l.charCodeAt(0)===46&&c.push(""),l.replace(e,function(g,w,v,y){c.push(v?y.replace(t,"$1"):w||g)}),c});return um=a,um}var cm,HE;function lv(){if(HE)return cm;HE=1;function n(e,t){for(var a=-1,l=e==null?0:e.length,c=Array(l);++a<l;)c[a]=t(e[a],a,e);return c}return cm=n,cm}var fm,GE;function zM(){if(GE)return fm;GE=1;var n=Ol(),e=lv(),t=ai(),a=gc(),l=n?n.prototype:void 0,c=l?l.toString:void 0;function g(w){if(typeof w=="string")return w;if(t(w))return e(w,g)+"";if(a(w))return c?c.call(w):"";var v=w+"";return v=="0"&&1/w==-1/0?"-0":v}return fm=g,fm}var hm,VE;function HM(){if(VE)return hm;VE=1;var n=zM();function e(t){return t==null?"":n(t)}return hm=e,hm}var dm,WE;function Lh(){if(WE)return dm;WE=1;var n=ai(),e=ov(),t=qM(),a=HM();function l(c,g){return n(c)?c:e(c,g)?[c]:t(a(c))}return dm=l,dm}var gm,YE;function wc(){if(YE)return gm;YE=1;var n=gc();function e(t){if(typeof t=="string"||n(t))return t;var a=t+"";return a=="0"&&1/t==-1/0?"-0":a}return gm=e,gm}var mm,XE;function Ph(){if(XE)return mm;XE=1;var n=Lh(),e=wc();function t(a,l){l=n(l,a);for(var c=0,g=l.length;a!=null&&c<g;)a=a[e(l[c++])];return c&&c==g?a:void 0}return mm=t,mm}var pm,KE;function GM(){if(KE)return pm;KE=1;var n=Ph();function e(t,a,l){var c=t==null?void 0:n(t,a);return c===void 0?l:c}return pm=e,pm}var vm,$E;function VM(){if($E)return vm;$E=1;function n(e,t){return e!=null&&t in Object(e)}return vm=n,vm}var ym,ZE;function WM(){if(ZE)return ym;ZE=1;var n=Lh(),e=nv(),t=ai(),a=U2(),l=P2(),c=wc();function g(w,v,y){v=n(v,w);for(var E=-1,A=v.length,T=!1;++E<A;){var R=c(v[E]);if(!(T=w!=null&&y(w,R)))break;w=w[R]}return T||++E!=A?T:(A=w==null?0:w.length,!!A&&l(A)&&a(R,A)&&(t(w)||e(w)))}return ym=g,ym}var wm,QE;function YM(){if(QE)return wm;QE=1;var n=VM(),e=WM();function t(a,l){return a!=null&&e(a,l,n)}return wm=t,wm}var xm,JE;function XM(){if(JE)return xm;JE=1;var n=sv(),e=GM(),t=YM(),a=ov(),l=LS(),c=PS(),g=wc(),w=1,v=2;function y(E,A){return a(E)&&l(A)?c(g(E),A):function(T){var R=e(T,E);return R===void 0&&R===A?t(T,E):n(A,R,w|v)}}return xm=y,xm}var bm,e_;function Uh(){if(e_)return bm;e_=1;function n(e){return e}return bm=n,bm}var Em,t_;function KM(){if(t_)return Em;t_=1;function n(e){return function(t){return t?.[e]}}return Em=n,Em}var _m,n_;function $M(){if(n_)return _m;n_=1;var n=Ph();function e(t){return function(a){return n(a,t)}}return _m=e,_m}var Am,r_;function ZM(){if(r_)return Am;r_=1;var n=KM(),e=$M(),t=ov(),a=wc();function l(c){return t(c)?n(a(c)):e(c)}return Am=l,Am}var Sm,i_;function jh(){if(i_)return Sm;i_=1;var n=UM(),e=XM(),t=Uh(),a=ai(),l=ZM();function c(g){return typeof g=="function"?g:g==null?t:typeof g=="object"?a(g)?e(g[0],g[1]):n(g):l(g)}return Sm=c,Sm}var Cm,a_;function QM(){if(a_)return Cm;a_=1;var n=BM(),e=jh(),t=dS(),a=Math.max;function l(c,g,w){var v=c==null?0:c.length;if(!v)return-1;var y=w==null?0:t(w);return y<0&&(y=a(v+y,0)),n(c,e(g,3),y)}return Cm=l,Cm}var JM=QM();const eI=cr(JM);var Tm,s_;function tI(){if(s_)return Tm;s_=1;var n=Math.ceil,e=Math.max;function t(a,l,c,g){for(var w=-1,v=e(n((l-a)/(c||1)),0),y=Array(v);v--;)y[g?v:++w]=a,a+=c;return y}return Tm=t,Tm}var Om,o_;function nI(){if(o_)return Om;o_=1;var n=tI(),e=Th(),t=hS();function a(l){return function(c,g,w){return w&&typeof w!="number"&&e(c,g,w)&&(g=w=void 0),c=t(c),g===void 0?(g=c,c=0):g=t(g),w=w===void 0?c<g?1:-1:t(w),n(c,g,w,l)}}return Om=a,Om}var Rm,l_;function rI(){if(l_)return Rm;l_=1;var n=nI(),e=n();return Rm=e,Rm}var iI=rI();const aI=cr(iI);var u_=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function sI(n,e){return!!(n===e||u_(n)&&u_(e))}function oI(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!sI(n[t],e[t]))return!1;return!0}function US(n,e){e===void 0&&(e=oI);var t=null;function a(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];if(t&&t.lastThis===this&&e(l,t.lastArgs))return t.lastResult;var g=n.apply(this,l);return t={lastResult:g,lastArgs:l,lastThis:this},g}return a.clear=function(){t=null},a}function u2(n,e){var t=j2(n);return t?t.innerWidth:Xs(n).width}var Dm,c_;function lI(){if(c_)return Dm;c_=1;var n=Ol(),e=nv(),t=ai(),a=n?n.isConcatSpreadable:void 0;function l(c){return t(c)||e(c)||!!(a&&c&&c[a])}return Dm=l,Dm}var Nm,f_;function jS(){if(f_)return Nm;f_=1;var n=ev(),e=lI();function t(a,l,c,g,w){var v=-1,y=a.length;for(c||(c=e),w||(w=[]);++v<y;){var E=a[v];l>0&&c(E)?l>1?t(E,l-1,c,g,w):n(w,E):g||(w[w.length]=E)}return w}return Nm=t,Nm}var Mm,h_;function uI(){if(h_)return Mm;h_=1;function n(e){return function(t,a,l){for(var c=-1,g=Object(t),w=l(t),v=w.length;v--;){var y=w[e?v:++c];if(a(g[y],y,g)===!1)break}return t}}return Mm=n,Mm}var Im,d_;function cI(){if(d_)return Im;d_=1;var n=uI(),e=n();return Im=e,Im}var km,g_;function uv(){if(g_)return km;g_=1;var n=cI(),e=yc();function t(a,l){return a&&n(a,l,e)}return km=t,km}var Bm,m_;function fI(){if(m_)return Bm;m_=1;var n=dc();function e(t,a){return function(l,c){if(l==null)return l;if(!n(l))return t(l,c);for(var g=l.length,w=a?g:-1,v=Object(l);(a?w--:++w<g)&&c(v[w],w,v)!==!1;);return l}}return Bm=e,Bm}var Lm,p_;function hI(){if(p_)return Lm;p_=1;var n=uv(),e=fI(),t=e(n);return Lm=t,Lm}var Pm,v_;function dI(){if(v_)return Pm;v_=1;var n=hI(),e=dc();function t(a,l){var c=-1,g=e(a)?Array(a.length):[];return n(a,function(w,v,y){g[++c]=l(w,v,y)}),g}return Pm=t,Pm}var Um,y_;function gI(){if(y_)return Um;y_=1;function n(e,t){var a=e.length;for(e.sort(t);a--;)e[a]=e[a].value;return e}return Um=n,Um}var jm,w_;function mI(){if(w_)return jm;w_=1;var n=gc();function e(t,a){if(t!==a){var l=t!==void 0,c=t===null,g=t===t,w=n(t),v=a!==void 0,y=a===null,E=a===a,A=n(a);if(!y&&!A&&!w&&t>a||w&&v&&E&&!y&&!A||c&&v&&E||!l&&E||!g)return 1;if(!c&&!w&&!A&&t<a||A&&l&&g&&!c&&!w||y&&l&&g||!v&&g||!E)return-1}return 0}return jm=e,jm}var Fm,x_;function pI(){if(x_)return Fm;x_=1;var n=mI();function e(t,a,l){for(var c=-1,g=t.criteria,w=a.criteria,v=g.length,y=l.length;++c<v;){var E=n(g[c],w[c]);if(E){if(c>=y)return E;var A=l[c];return E*(A=="desc"?-1:1)}}return t.index-a.index}return Fm=e,Fm}var qm,b_;function vI(){if(b_)return qm;b_=1;var n=lv(),e=Ph(),t=jh(),a=dI(),l=gI(),c=kh(),g=pI(),w=Uh(),v=ai();function y(E,A,T){A.length?A=n(A,function(D){return v(D)?function(B){return e(B,D.length===1?D[0]:D)}:D}):A=[w];var R=-1;A=n(A,c(t));var M=a(E,function(D,B,j){var q=n(A,function(P){return P(D)});return{criteria:q,index:++R,value:D}});return l(M,function(D,B){return g(D,B,T)})}return qm=y,qm}var zm,E_;function yI(){if(E_)return zm;E_=1;function n(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}return zm=n,zm}var Hm,__;function FS(){if(__)return Hm;__=1;var n=yI(),e=Math.max;function t(a,l,c){return l=e(l===void 0?a.length-1:l,0),function(){for(var g=arguments,w=-1,v=e(g.length-l,0),y=Array(v);++w<v;)y[w]=g[l+w];w=-1;for(var E=Array(l+1);++w<l;)E[w]=g[w];return E[l]=c(y),n(a,this,E)}}return Hm=t,Hm}var Gm,A_;function wI(){if(A_)return Gm;A_=1;function n(e){return function(){return e}}return Gm=n,Gm}var Vm,S_;function qS(){if(S_)return Vm;S_=1;var n=so(),e=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch{}}();return Vm=e,Vm}var Wm,C_;function xI(){if(C_)return Wm;C_=1;var n=wI(),e=qS(),t=Uh(),a=e?function(l,c){return e(l,"toString",{configurable:!0,enumerable:!1,value:n(c),writable:!0})}:t;return Wm=a,Wm}var Ym,T_;function bI(){if(T_)return Ym;T_=1;var n=800,e=16,t=Date.now;function a(l){var c=0,g=0;return function(){var w=t(),v=e-(w-g);if(g=w,v>0){if(++c>=n)return arguments[0]}else c=0;return l.apply(void 0,arguments)}}return Ym=a,Ym}var Xm,O_;function zS(){if(O_)return Xm;O_=1;var n=xI(),e=bI(),t=e(n);return Xm=t,Xm}var Km,R_;function HS(){if(R_)return Km;R_=1;var n=Uh(),e=FS(),t=zS();function a(l,c){return t(e(l,c,n),l+"")}return Km=a,Km}var $m,D_;function EI(){if(D_)return $m;D_=1;var n=jS(),e=vI(),t=HS(),a=Th(),l=t(function(c,g){if(c==null)return[];var w=g.length;return w>1&&a(c,g[0],g[1])?g=[]:w>2&&a(g[0],g[1],g[2])&&(g=[g[0]]),e(c,n(g,1),[])});return $m=l,$m}var _I=EI();const AI=cr(_I);function GS(n){return K4(n)||uS(n)||I2(n)||$4()}var Zm,N_;function SI(){if(N_)return Zm;N_=1;function n(e){var t=[];if(e!=null)for(var a in Object(e))t.push(a);return t}return Zm=n,Zm}var Qm,M_;function CI(){if(M_)return Qm;M_=1;var n=Ea(),e=av(),t=SI(),a=Object.prototype,l=a.hasOwnProperty;function c(g){if(!n(g))return t(g);var w=e(g),v=[];for(var y in g)y=="constructor"&&(w||!l.call(g,y))||v.push(y);return v}return Qm=c,Qm}var Jm,I_;function Fh(){if(I_)return Jm;I_=1;var n=MS(),e=CI(),t=dc();function a(l){return t(l)?n(l,!0):e(l)}return Jm=a,Jm}var ep,k_;function TI(){if(k_)return ep;k_=1;var n=HS(),e=hc(),t=Th(),a=Fh(),l=Object.prototype,c=l.hasOwnProperty,g=n(function(w,v){w=Object(w);var y=-1,E=v.length,A=E>2?v[2]:void 0;for(A&&t(v[0],v[1],A)&&(E=1);++y<E;)for(var T=v[y],R=a(T),M=-1,D=R.length;++M<D;){var B=R[M],j=w[B];(j===void 0||e(j,l[B])&&!c.call(w,B))&&(w[B]=T[B])}return w});return ep=g,ep}var OI=TI();const RI=cr(OI);var tp,B_;function cv(){if(B_)return tp;B_=1;var n=qS();function e(t,a,l){a=="__proto__"&&n?n(t,a,{configurable:!0,enumerable:!0,value:l,writable:!0}):t[a]=l}return tp=e,tp}var np,L_;function DI(){if(L_)return np;L_=1;var n=cv(),e=uv(),t=jh();function a(l,c){var g={};return c=t(c,3),e(l,function(w,v,y){n(g,v,c(w,v,y))}),g}return np=a,np}var NI=DI();const MI=cr(NI);var rp,P_;function VS(){if(P_)return rp;P_=1;function n(e,t){for(var a=-1,l=e==null?0:e.length;++a<l&&t(e[a],a,e)!==!1;);return e}return rp=n,rp}var ip,U_;function WS(){if(U_)return ip;U_=1;var n=cv(),e=hc(),t=Object.prototype,a=t.hasOwnProperty;function l(c,g,w){var v=c[g];(!(a.call(c,g)&&e(v,w))||w===void 0&&!(g in c))&&n(c,g,w)}return ip=l,ip}var ap,j_;function xc(){if(j_)return ap;j_=1;var n=WS(),e=cv();function t(a,l,c,g){var w=!c;c||(c={});for(var v=-1,y=l.length;++v<y;){var E=l[v],A=g?g(c[E],a[E],E,c,a):void 0;A===void 0&&(A=a[E]),w?e(c,E,A):n(c,E,A)}return c}return ap=t,ap}var sp,F_;function II(){if(F_)return sp;F_=1;var n=xc(),e=yc();function t(a,l){return a&&n(l,e(l),a)}return sp=t,sp}var op,q_;function kI(){if(q_)return op;q_=1;var n=xc(),e=Fh();function t(a,l){return a&&n(l,e(l),a)}return op=t,op}var Uu={exports:{}};Uu.exports;var z_;function BI(){return z_||(z_=1,function(n,e){var t=Wi(),a=e&&!e.nodeType&&e,l=a&&!0&&n&&!n.nodeType&&n,c=l&&l.exports===a,g=c?t.Buffer:void 0,w=g?g.allocUnsafe:void 0;function v(y,E){if(E)return y.slice();var A=y.length,T=w?w(A):new y.constructor(A);return y.copy(T),T}n.exports=v}(Uu,Uu.exports)),Uu.exports}var lp,H_;function LI(){if(H_)return lp;H_=1;function n(e,t){var a=-1,l=e.length;for(t||(t=Array(l));++a<l;)t[a]=e[a];return t}return lp=n,lp}var up,G_;function PI(){if(G_)return up;G_=1;var n=xc(),e=tv();function t(a,l){return n(a,e(a),l)}return up=t,up}var cp,V_;function qh(){if(V_)return cp;V_=1;var n=IS(),e=n(Object.getPrototypeOf,Object);return cp=e,cp}var fp,W_;function YS(){if(W_)return fp;W_=1;var n=ev(),e=qh(),t=tv(),a=NS(),l=Object.getOwnPropertySymbols,c=l?function(g){for(var w=[];g;)n(w,t(g)),g=e(g);return w}:a;return fp=c,fp}var hp,Y_;function UI(){if(Y_)return hp;Y_=1;var n=xc(),e=YS();function t(a,l){return n(a,e(a),l)}return hp=t,hp}var dp,X_;function XS(){if(X_)return dp;X_=1;var n=DS(),e=YS(),t=Fh();function a(l){return n(l,t,e)}return dp=a,dp}var gp,K_;function jI(){if(K_)return gp;K_=1;var n=Object.prototype,e=n.hasOwnProperty;function t(a){var l=a.length,c=new a.constructor(l);return l&&typeof a[0]=="string"&&e.call(a,"index")&&(c.index=a.index,c.input=a.input),c}return gp=t,gp}var mp,$_;function fv(){if($_)return mp;$_=1;var n=RS();function e(t){var a=new t.constructor(t.byteLength);return new n(a).set(new n(t)),a}return mp=e,mp}var pp,Z_;function FI(){if(Z_)return pp;Z_=1;var n=fv();function e(t,a){var l=a?n(t.buffer):t.buffer;return new t.constructor(l,t.byteOffset,t.byteLength)}return pp=e,pp}var vp,Q_;function qI(){if(Q_)return vp;Q_=1;var n=/\w*$/;function e(t){var a=new t.constructor(t.source,n.exec(t));return a.lastIndex=t.lastIndex,a}return vp=e,vp}var yp,J_;function zI(){if(J_)return yp;J_=1;var n=Ol(),e=n?n.prototype:void 0,t=e?e.valueOf:void 0;function a(l){return t?Object(t.call(l)):{}}return yp=a,yp}var wp,eA;function HI(){if(eA)return wp;eA=1;var n=fv();function e(t,a){var l=a?n(t.buffer):t.buffer;return new t.constructor(l,t.byteOffset,t.length)}return wp=e,wp}var xp,tA;function GI(){if(tA)return xp;tA=1;var n=fv(),e=FI(),t=qI(),a=zI(),l=HI(),c="[object Boolean]",g="[object Date]",w="[object Map]",v="[object Number]",y="[object RegExp]",E="[object Set]",A="[object String]",T="[object Symbol]",R="[object ArrayBuffer]",M="[object DataView]",D="[object Float32Array]",B="[object Float64Array]",j="[object Int8Array]",q="[object Int16Array]",P="[object Int32Array]",F="[object Uint8Array]",X="[object Uint8ClampedArray]",$="[object Uint16Array]",G="[object Uint32Array]";function le(W,xe,ce){var pe=W.constructor;switch(xe){case R:return n(W);case c:case g:return new pe(+W);case M:return e(W,ce);case D:case B:case j:case q:case P:case F:case X:case $:case G:return l(W,ce);case w:return new pe;case v:case A:return new pe(W);case y:return t(W);case E:return new pe;case T:return a(W)}}return xp=le,xp}var bp,nA;function KS(){if(nA)return bp;nA=1;var n=Ea(),e=Object.create,t=function(){function a(){}return function(l){if(!n(l))return{};if(e)return e(l);a.prototype=l;var c=new a;return a.prototype=void 0,c}}();return bp=t,bp}var Ep,rA;function VI(){if(rA)return Ep;rA=1;var n=KS(),e=qh(),t=av();function a(l){return typeof l.constructor=="function"&&!t(l)?n(e(l)):{}}return Ep=a,Ep}var _p,iA;function WI(){if(iA)return _p;iA=1;var n=Bh(),e=gs(),t="[object Map]";function a(l){return e(l)&&n(l)==t}return _p=a,_p}var Ap,aA;function YI(){if(aA)return Ap;aA=1;var n=WI(),e=kh(),t=rv(),a=t&&t.isMap,l=a?e(a):n;return Ap=l,Ap}var Sp,sA;function XI(){if(sA)return Sp;sA=1;var n=Bh(),e=gs(),t="[object Set]";function a(l){return e(l)&&n(l)==t}return Sp=a,Sp}var Cp,oA;function KI(){if(oA)return Cp;oA=1;var n=XI(),e=kh(),t=rv(),a=t&&t.isSet,l=a?e(a):n;return Cp=l,Cp}var Tp,lA;function $I(){if(lA)return Tp;lA=1;var n=J2(),e=VS(),t=WS(),a=II(),l=kI(),c=BI(),g=LI(),w=PI(),v=UI(),y=kS(),E=XS(),A=Bh(),T=jI(),R=GI(),M=VI(),D=ai(),B=Ih(),j=YI(),q=Ea(),P=KI(),F=yc(),X=Fh(),$=1,G=2,le=4,W="[object Arguments]",xe="[object Array]",ce="[object Boolean]",pe="[object Date]",ve="[object Error]",Ne="[object Function]",ne="[object GeneratorFunction]",re="[object Map]",fe="[object Number]",Ie="[object Object]",je="[object RegExp]",K="[object Set]",ye="[object String]",Se="[object Symbol]",Oe="[object WeakMap]",ke="[object ArrayBuffer]",$e="[object DataView]",Ae="[object Float32Array]",$t="[object Float64Array]",Ve="[object Int8Array]",En="[object Int16Array]",Dr="[object Int32Array]",Wt="[object Uint8Array]",Gr="[object Uint8ClampedArray]",at="[object Uint16Array]",vr="[object Uint32Array]",nt={};nt[W]=nt[xe]=nt[ke]=nt[$e]=nt[ce]=nt[pe]=nt[Ae]=nt[$t]=nt[Ve]=nt[En]=nt[Dr]=nt[re]=nt[fe]=nt[Ie]=nt[je]=nt[K]=nt[ye]=nt[Se]=nt[Wt]=nt[Gr]=nt[at]=nt[vr]=!0,nt[ve]=nt[Ne]=nt[Oe]=!1;function dr(Fe,ut,Ze,Xn,Be,jn){var tn,_n=ut&$,Nr=ut&G,an=ut&le;if(Ze&&(tn=Be?Ze(Fe,Xn,Be,jn):Ze(Fe)),tn!==void 0)return tn;if(!q(Fe))return Fe;var sn=D(Fe);if(sn){if(tn=T(Fe),!_n)return g(Fe,tn)}else{var Pt=A(Fe),xt=Pt==Ne||Pt==ne;if(B(Fe))return c(Fe,_n);if(Pt==Ie||Pt==W||xt&&!Be){if(tn=Nr||xt?{}:M(Fe),!_n)return Nr?v(Fe,l(tn,Fe)):w(Fe,a(tn,Fe))}else{if(!nt[Pt])return Be?Fe:{};tn=R(Fe,Pt,_n)}}jn||(jn=new n);var ps=jn.get(Fe);if(ps)return ps;jn.set(Fe,tn),P(Fe)?Fe.forEach(function(yt){tn.add(dr(yt,ut,Ze,yt,Fe,jn))}):j(Fe)&&Fe.forEach(function(yt,De){tn.set(De,dr(yt,ut,Ze,De,Fe,jn))});var _a=an?Nr?E:y:Nr?X:F,oo=sn?void 0:_a(Fe);return e(oo||Fe,function(yt,De){oo&&(De=yt,yt=Fe[De]),t(tn,De,dr(yt,ut,Ze,De,Fe,jn))}),tn}return Tp=dr,Tp}var Op,uA;function ZI(){if(uA)return Op;uA=1;function n(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return Op=n,Op}var Rp,cA;function QI(){if(cA)return Rp;cA=1;var n=Ph(),e=cS();function t(a,l){return l.length<2?a:n(a,e(l,0,-1))}return Rp=t,Rp}var Dp,fA;function JI(){if(fA)return Dp;fA=1;var n=Lh(),e=ZI(),t=QI(),a=wc();function l(c,g){return g=n(g,c),c=t(c,g),c==null||delete c[a(e(g))]}return Dp=l,Dp}var Np,hA;function e9(){if(hA)return Np;hA=1;var n=Rl(),e=qh(),t=gs(),a="[object Object]",l=Function.prototype,c=Object.prototype,g=l.toString,w=c.hasOwnProperty,v=g.call(Object);function y(E){if(!t(E)||n(E)!=a)return!1;var A=e(E);if(A===null)return!0;var T=w.call(A,"constructor")&&A.constructor;return typeof T=="function"&&T instanceof T&&g.call(T)==v}return Np=y,Np}var Mp,dA;function t9(){if(dA)return Mp;dA=1;var n=e9();function e(t){return n(t)?void 0:t}return Mp=e,Mp}var Ip,gA;function n9(){if(gA)return Ip;gA=1;var n=jS();function e(t){var a=t==null?0:t.length;return a?n(t,1):[]}return Ip=e,Ip}var kp,mA;function r9(){if(mA)return kp;mA=1;var n=n9(),e=FS(),t=zS();function a(l){return t(e(l,void 0,n),l+"")}return kp=a,kp}var Bp,pA;function i9(){if(pA)return Bp;pA=1;var n=lv(),e=$I(),t=JI(),a=Lh(),l=xc(),c=t9(),g=r9(),w=XS(),v=1,y=2,E=4,A=g(function(T,R){var M={};if(T==null)return M;var D=!1;R=n(R,function(j){return j=a(j,T),D||(D=j.length>1),j}),l(T,w(T),M),D&&(M=e(M,v|y|E,c));for(var B=R.length;B--;)t(M,R[B]);return M});return Bp=A,Bp}var a9=i9();const s9=cr(a9);var Lp,vA;function o9(){if(vA)return Lp;vA=1;var n=VS(),e=KS(),t=uv(),a=jh(),l=qh(),c=ai(),g=Ih(),w=L2(),v=Ea(),y=iv();function E(A,T,R){var M=c(A),D=M||g(A)||y(A);if(T=a(T,4),R==null){var B=A&&A.constructor;D?R=M?new B:[]:v(A)?R=w(B)?e(l(A)):{}:R={}}return(D?n:t)(A,function(j,q,P){return T(R,j,q,P)}),R}return Lp=E,Lp}var l9=o9();const u9=cr(l9);var Xf={exports:{}},c9=Xf.exports,yA;function f9(){return yA||(yA=1,function(n,e){(function(t,a){n.exports=a()})(c9,function(){return function(t,a,l){a.prototype.isBetween=function(c,g,w,v){var y=l(c),E=l(g),A=(v=v||"()")[0]==="(",T=v[1]===")";return(A?this.isAfter(y,w):!this.isBefore(y,w))&&(T?this.isBefore(E,w):!this.isAfter(E,w))||(A?this.isBefore(y,w):!this.isAfter(y,w))&&(T?this.isAfter(E,w):!this.isBefore(E,w))}}})}(Xf)),Xf.exports}f9();var Kf={exports:{}},h9=Kf.exports,wA;function d9(){return wA||(wA=1,function(n,e){(function(t,a){n.exports=a()})(h9,function(){return function(t,a){a.prototype.isSameOrAfter=function(l,c){return this.isSame(l,c)||this.isAfter(l,c)}}})}(Kf)),Kf.exports}d9();var $f={exports:{}},g9=$f.exports,xA;function m9(){return xA||(xA=1,function(n,e){(function(t,a){n.exports=a()})(g9,function(){return function(t,a){a.prototype.isSameOrBefore=function(l,c){return this.isSame(l,c)||this.isBefore(l,c)}}})}($f)),$f.exports}m9();var Zf={exports:{}},p9=Zf.exports,bA;function v9(){return bA||(bA=1,function(n,e){(function(t,a){n.exports=a()})(p9,function(){return function(t,a,l){var c=a.prototype,g=function(A){return A&&(A.indexOf?A:A.s)},w=function(A,T,R,M,D){var B=A.name?A:A.$locale(),j=g(B[T]),q=g(B[R]),P=j||q.map(function(X){return X.slice(0,M)});if(!D)return P;var F=B.weekStart;return P.map(function(X,$){return P[($+(F||0))%7]})},v=function(){return l.Ls[l.locale()]},y=function(A,T){return A.formats[T]||function(R){return R.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(M,D,B){return D||B.slice(1)})}(A.formats[T.toUpperCase()])},E=function(){var A=this;return{months:function(T){return T?T.format("MMMM"):w(A,"months")},monthsShort:function(T){return T?T.format("MMM"):w(A,"monthsShort","months",3)},firstDayOfWeek:function(){return A.$locale().weekStart||0},weekdays:function(T){return T?T.format("dddd"):w(A,"weekdays")},weekdaysMin:function(T){return T?T.format("dd"):w(A,"weekdaysMin","weekdays",2)},weekdaysShort:function(T){return T?T.format("ddd"):w(A,"weekdaysShort","weekdays",3)},longDateFormat:function(T){return y(A.$locale(),T)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};c.localeData=function(){return E.bind(this)()},l.localeData=function(){var A=v();return{firstDayOfWeek:function(){return A.weekStart||0},weekdays:function(){return l.weekdays()},weekdaysShort:function(){return l.weekdaysShort()},weekdaysMin:function(){return l.weekdaysMin()},months:function(){return l.months()},monthsShort:function(){return l.monthsShort()},longDateFormat:function(T){return y(A,T)},meridiem:A.meridiem,ordinal:A.ordinal}},l.months=function(){return w(v(),"months")},l.monthsShort=function(){return w(v(),"monthsShort","months",3)},l.weekdays=function(A){return w(v(),"weekdays",null,null,A)},l.weekdaysShort=function(A){return w(v(),"weekdaysShort","weekdays",3,A)},l.weekdaysMin=function(A){return w(v(),"weekdaysMin","weekdays",2,A)}}})}(Zf)),Zf.exports}v9();var Qf={exports:{}},y9=Qf.exports,EA;function w9(){return EA||(EA=1,function(n,e){(function(t,a){n.exports=a()})(y9,function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(a,l,c){var g=l.prototype,w=g.format;c.en.formats=t,g.format=function(v){v===void 0&&(v="YYYY-MM-DDTHH:mm:ssZ");var y=this.$locale().formats,E=function(A,T){return A.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(R,M,D){var B=D&&D.toUpperCase();return M||T[D]||t[D]||T[B].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(j,q,P){return q||P.slice(1)})})}(v,y===void 0?{}:y);return w.call(this,E)}}})}(Qf)),Qf.exports}w9();var Jf={exports:{}},x9=Jf.exports,_A;function b9(){return _A||(_A=1,function(n,e){(function(t,a){n.exports=a()})(x9,function(){return function(t,a,l){var c=function(g,w){if(!w||!w.length||w.length===1&&!w[0]||w.length===1&&Array.isArray(w[0])&&!w[0].length)return null;var v;w.length===1&&w[0].length>0&&(w=w[0]),v=(w=w.filter(function(E){return E}))[0];for(var y=1;y<w.length;y+=1)w[y].isValid()&&!w[y][g](v)||(v=w[y]);return v};l.max=function(){var g=[].slice.call(arguments,0);return c("isAfter",g)},l.min=function(){var g=[].slice.call(arguments,0);return c("isBefore",g)}}})}(Jf)),Jf.exports}b9();var eh={exports:{}},E9=eh.exports,AA;function _9(){return AA||(AA=1,function(n,e){(function(t,a){n.exports=a()})(E9,function(){var t="minute",a=/[+-]\d\d(?::?\d\d)?/g,l=/([+-]|\d\d)/g;return function(c,g,w){var v=g.prototype;w.utc=function(D){var B={date:D,utc:!0,args:arguments};return new g(B)},v.utc=function(D){var B=w(this.toDate(),{locale:this.$L,utc:!0});return D?B.add(this.utcOffset(),t):B},v.local=function(){return w(this.toDate(),{locale:this.$L,utc:!1})};var y=v.parse;v.parse=function(D){D.utc&&(this.$u=!0),this.$utils().u(D.$offset)||(this.$offset=D.$offset),y.call(this,D)};var E=v.init;v.init=function(){if(this.$u){var D=this.$d;this.$y=D.getUTCFullYear(),this.$M=D.getUTCMonth(),this.$D=D.getUTCDate(),this.$W=D.getUTCDay(),this.$H=D.getUTCHours(),this.$m=D.getUTCMinutes(),this.$s=D.getUTCSeconds(),this.$ms=D.getUTCMilliseconds()}else E.call(this)};var A=v.utcOffset;v.utcOffset=function(D,B){var j=this.$utils().u;if(j(D))return this.$u?0:j(this.$offset)?A.call(this):this.$offset;if(typeof D=="string"&&(D=function(X){X===void 0&&(X="");var $=X.match(a);if(!$)return null;var G=(""+$[0]).match(l)||["-",0,0],le=G[0],W=60*+G[1]+ +G[2];return W===0?0:le==="+"?W:-W}(D),D===null))return this;var q=Math.abs(D)<=16?60*D:D;if(q===0)return this.utc(B);var P=this.clone();if(B)return P.$offset=q,P.$u=!1,P;var F=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(P=this.local().add(q+F,t)).$offset=q,P.$x.$localOffset=F,P};var T=v.format;v.format=function(D){var B=D||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return T.call(this,B)},v.valueOf=function(){var D=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*D},v.isUTC=function(){return!!this.$u},v.toISOString=function(){return this.toDate().toISOString()},v.toString=function(){return this.toDate().toUTCString()};var R=v.toDate;v.toDate=function(D){return D==="s"&&this.$offset?w(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():R.call(this)};var M=v.diff;v.diff=function(D,B,j){if(D&&this.$u===D.$u)return M.call(this,D,B,j);var q=this.local(),P=w(D).local();return M.call(q,P,B,j)}}})}(eh)),eh.exports}_9();var th={exports:{}},A9=th.exports,SA;function S9(){return SA||(SA=1,function(n,e){(function(t,a){n.exports=a()})(A9,function(){return function(t,a){a.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})}(th)),th.exports}S9();function Fi(n){return n.children}var Or={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},lr={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},CA=Object.keys(lr).map(function(n){return lr[n]});Me.oneOfType([Me.string,Me.func]);Me.any;Me.func;Me.oneOfType([Me.arrayOf(Me.oneOf(CA)),Me.objectOf(function(n,e){var t=CA.indexOf(e)!==-1&&typeof n[e]=="boolean";if(t)return null;for(var a=arguments.length,l=new Array(a>2?a-2:0),c=2;c<a;c++)l[c-2]=arguments[c];return Me.elementType.apply(Me,[n,e].concat(l))})]);Me.oneOfType([Me.oneOf(["overlap","no-overlap"]),Me.func]);var TA={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function $S(n,e){var t=Jn(n,"month");return Jn(t,"week",e.startOfWeek())}function ZS(n,e){var t=mh(n,"month");return mh(t,"week",e.startOfWeek())}function C9(n,e){for(var t=$S(n,e),a=ZS(n,e),l=[];Cl(t,a,"day");)l.push(t),t=vi(t,1,"day");return l}function T9(n,e){var t=Jn(n,e);return Sl(t,n)?t:vi(t,1,e)}function O9(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",a=n,l=[];Cl(a,e,t);)l.push(a),a=vi(a,1,t);return l}function R9(n,e){return e==null&&n==null?null:(e==null&&(e=new Date),n==null&&(n=new Date),n=Jn(n,"day"),n=ec(n,ec(e)),n=gl(n,gl(e)),n=Ju(n,Ju(e)),Qu(n,Qu(e)))}function OA(n){return ec(n)===0&&gl(n)===0&&Ju(n)===0&&Qu(n)===0}function D9(n,e,t,a){return t==="day"&&(t="date"),Math.abs(bb[t](n,void 0,a)-bb[t](e,void 0,a))}function hv(n,e,t){return!t||t==="milliseconds"?Math.abs(+n-+e):Math.round(Math.abs(+Jn(n,t)/TA[t]-+Jn(e,t)/TA[t]))}var N9=Me.oneOfType([Me.string,Me.func]);function M9(n,e,t,a,l){var c=typeof a=="function"?a(t,l,n):e.call(n,t,a,l);return Wu(c==null||typeof c=="string","`localizer format(..)` must return a string, null, or undefined"),c}function I9(n,e,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,e+t,0,0)}function dv(n,e){return n.getTimezoneOffset()-e.getTimezoneOffset()}function k9(n,e){return hv(n,e,"minutes")+dv(n,e)}function B9(n){var e=Jn(n,"day");return hv(e,n,"minutes")+dv(e,n)}function L9(n,e){return B2(n,e,"day")}function P9(n,e,t){var a=Sl(n,e,"minutes");return a?fc(e,t,"minutes"):Ch(e,t,"minutes")}function c2(n,e){return D9(n,e,"day")}function U9(n){var e=n.evtA,t=e.start,a=e.end,l=e.allDay,c=n.evtB,g=c.start,w=c.end,v=c.allDay,y=+Jn(t,"day")-+Jn(g,"day"),E=c2(t,a),A=c2(g,w);return y||A-E||!!v-!!l||+t-+g||+a-+w}function j9(n){var e=n.event,t=e.start,a=e.end,l=n.range,c=l.start,g=l.end,w=Jn(t,"day"),v=Cl(w,g,"day"),y=k2(w,a,"minutes"),E=y?Ch(a,c,"minutes"):fc(a,c,"minutes");return v&&E}function F9(n,e){return Sl(n,e,"day")}function q9(n,e){return OA(n)&&OA(e)}var z9=Un(function n(e){var t=this;Pn(this,n),Wu(typeof e.format=="function","date localizer `format(..)` must be a function"),Wu(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||N9,this.formats=e.formats,this.format=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return M9.apply(void 0,[t,e.format].concat(l))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||R9,this.inRange=e.inRange||aS,this.lt=e.lt||B2,this.lte=e.lte||Cl,this.gt=e.gt||Ch,this.gte=e.gte||fc,this.eq=e.eq||Sl,this.neq=e.neq||k2,this.startOf=e.startOf||Jn,this.endOf=e.endOf||mh,this.add=e.add||vi,this.range=e.range||O9,this.diff=e.diff||hv,this.ceil=e.ceil||T9,this.min=e.min||rS,this.max=e.max||iS,this.minutes=e.minutes||gl,this.daySpan=e.daySpan||c2,this.firstVisibleDay=e.firstVisibleDay||$S,this.lastVisibleDay=e.lastVisibleDay||ZS,this.visibleDays=e.visibleDays||C9,this.getSlotDate=e.getSlotDate||I9,this.getTimezoneOffset=e.getTimezoneOffset||function(a){return a.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||dv,this.getTotalMin=e.getTotalMin||k9,this.getMinutesFromMidnight=e.getMinutesFromMidnight||B9,this.continuesPrior=e.continuesPrior||L9,this.continuesAfter=e.continuesAfter||P9,this.sortEvents=e.sortEvents||U9,this.inEventRange=e.inEventRange||j9,this.isSameDate=e.isSameDate||F9,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||q9,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function H9(n,e,t,a){var l=qt(qt({},n.formats),t);return qt(qt({},n),{},{messages:a,startOfWeek:function(){return n.startOfWeek(e)},format:function(g,w){return n.format(g,l[w]||w,e)}})}var G9=function(n){function e(){var t;Pn(this,e);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return t=fr(this,e,[].concat(l)),t.navigate=function(g){t.props.onNavigate(g)},t.view=function(g){t.props.onView(g)},t}return hr(e,n),Un(e,[{key:"render",value:function(){var a=this.props,l=a.localizer.messages,c=a.label;return te.createElement("div",{className:"rbc-toolbar"},te.createElement("span",{className:"rbc-btn-group"},te.createElement("button",{type:"button",onClick:this.navigate.bind(null,Or.TODAY)},l.today),te.createElement("button",{type:"button",onClick:this.navigate.bind(null,Or.PREVIOUS)},l.previous),te.createElement("button",{type:"button",onClick:this.navigate.bind(null,Or.NEXT)},l.next)),te.createElement("span",{className:"rbc-toolbar-label"},c),te.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(l)))}},{key:"viewNamesGroup",value:function(a){var l=this,c=this.props.views,g=this.props.view;if(c.length>1)return c.map(function(w){return te.createElement("button",{type:"button",key:w,className:mn({"rbc-active":g===w}),onClick:l.view.bind(null,w)},a[w])})}}])}(te.Component);function Kt(n,e){n&&n.apply(null,[].concat(e))}var V9={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function W9(n){return qt(qt({},V9),n)}function Y9(n){var e=n.ref,t=n.callback;Q.useEffect(function(){var a=function(c){e.current&&!e.current.contains(c.target)&&t()};return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[e,t])}var X9=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],QS=function(n){function e(){return Pn(this,e),fr(this,e,arguments)}return hr(e,n),Un(e,[{key:"render",value:function(){var a=this.props,l=a.style,c=a.className,g=a.event,w=a.selected,v=a.isAllDay,y=a.onSelect,E=a.onDoubleClick,A=a.onKeyPress,T=a.localizer,R=a.continuesPrior,M=a.continuesAfter,D=a.accessors,B=a.getters,j=a.children,q=a.components,P=q.event,F=q.eventWrapper,X=a.slotStart,$=a.slotEnd,G=Vi(a,X9);delete G.resizable;var le=D.title(g),W=D.tooltip(g),xe=D.end(g),ce=D.start(g),pe=D.allDay(g),ve=v||pe||T.diff(ce,T.ceil(xe,"day"),"day")>1,Ne=B.eventProp(g,ce,xe,w),ne=te.createElement("div",{className:"rbc-event-content",title:W||void 0},P?te.createElement(P,{event:g,continuesPrior:R,continuesAfter:M,title:le,isAllDay:pe,localizer:T,slotStart:X,slotEnd:$}):le);return te.createElement(F,Object.assign({},this.props,{type:"date"}),te.createElement("div",Object.assign({},G,{style:qt(qt({},Ne.style),l),className:mn("rbc-event",c,Ne.className,{"rbc-selected":w,"rbc-event-allday":ve,"rbc-event-continues-prior":R,"rbc-event-continues-after":M}),onClick:function(fe){return y&&y(g,fe)},onDoubleClick:function(fe){return E&&E(g,fe)},onKeyDown:function(fe){return A&&A(g,fe)}}),typeof j=="function"?j(ne):ne))}}])}(te.Component);function zh(n,e){return!n||e==null?!1:kM(n,e)}function JS(n,e){var t=n.right-n.left,a=t/e;return a}function e8(n,e,t,a){var l=JS(n,a);return t?a-1-Math.floor((e-n.left)/l):Math.floor((e-n.left)/l)}function K9(n,e){var t=e.x,a=e.y;return a>=n.top&&a<=n.bottom&&t>=n.left&&t<=n.right}function $9(n,e,t,a,l){var c=-1,g=-1,w=a-1,v=JS(e,a),y=e8(e,t.x,l,a),E=e.top<t.y&&e.bottom>t.y,A=e.top<n.y&&e.bottom>n.y,T=n.y>e.bottom,R=e.top>n.y,M=t.top<e.top&&t.bottom>e.bottom;return M&&(c=0,g=w),E&&(R?(c=0,g=y):T&&(c=y,g=w)),A&&(c=g=l?w-Math.floor((n.x-e.left)/v):Math.floor((n.x-e.left)/v),E?y<c?c=y:g=y:n.y<t.y?g=w:c=0),{startIdx:c,endIdx:g}}function Z9(n){var e=n.target,t=n.offset,a=n.container,l=n.box,c=Xs(e),g=c.top,w=c.left,v=c.width,y=c.height,E=Xs(a),A=E.top,T=E.left,R=E.width,M=E.height,D=Xs(l),B=D.width,j=D.height,q=A+M,P=T+R,F=g+j,X=w+B,$=t.x,G=t.y,le=F>q?g-j-G:g+G+y,W=X>P?w+$-B+v:w+$;return{topOffset:le,leftOffset:W}}function Q9(n){var e=n.containerRef,t=n.accessors,a=n.getters,l=n.selected,c=n.components,g=n.localizer,w=n.position,v=n.show,y=n.events,E=n.slotStart,A=n.slotEnd,T=n.onSelect,R=n.onDoubleClick,M=n.onKeyPress,D=n.handleDragStart,B=n.popperRef,j=n.target,q=n.offset;Y9({ref:B,callback:v}),Q.useLayoutEffect(function(){var X=Z9({target:j,offset:q,container:e.current,box:B.current}),$=X.topOffset,G=X.leftOffset;B.current.style.top="".concat($,"px"),B.current.style.left="".concat(G,"px")},[q.x,q.y,j]);var P=w.width,F={minWidth:P+P/2};return te.createElement("div",{style:F,className:"rbc-overlay",ref:B},te.createElement("div",{className:"rbc-overlay-header"},g.format(E,"dayHeaderFormat")),y.map(function(X,$){return te.createElement(QS,{key:$,type:"popup",localizer:g,event:X,getters:a,onSelect:T,accessors:t,components:c,onDoubleClick:R,onKeyPress:M,continuesPrior:g.lt(t.end(X),E,"day"),continuesAfter:g.gte(t.start(X),A,"day"),slotStart:E,slotEnd:A,selected:zh(X,l),draggable:!0,onDragStart:function(){return D(X)},onDragEnd:function(){return v()}})}))}var t8=te.forwardRef(function(n,e){return te.createElement(Q9,Object.assign({},n,{popperRef:e}))});t8.propTypes={accessors:Me.object.isRequired,getters:Me.object.isRequired,selected:Me.object,components:Me.object.isRequired,localizer:Me.object.isRequired,position:Me.object.isRequired,show:Me.func.isRequired,events:Me.array.isRequired,slotStart:Me.instanceOf(Date).isRequired,slotEnd:Me.instanceOf(Date),onSelect:Me.func,onDoubleClick:Me.func,onKeyPress:Me.func,handleDragStart:Me.func,style:Me.object,offset:Me.shape({x:Me.number,y:Me.number})};function J9(n){var e=n.containerRef,t=n.popupOffset,a=t===void 0?5:t,l=n.overlay,c=n.accessors,g=n.localizer,w=n.components,v=n.getters,y=n.selected,E=n.handleSelectEvent,A=n.handleDoubleClickEvent,T=n.handleKeyPressEvent,R=n.handleDragStart,M=n.onHide,D=n.overlayDisplay,B=Q.useRef(null);if(!l.position)return null;var j=a;isNaN(a)||(j={x:a,y:a});var q=l.position,P=l.events,F=l.date,X=l.end;return te.createElement($2,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:M,target:l.target},function($){var G=$.props;return te.createElement(t8,Object.assign({},G,{containerRef:e,ref:B,target:l.target,offset:j,accessors:c,getters:v,selected:y,components:w,localizer:g,position:q,show:D,events:P,slotStart:F,slotEnd:X,onSelect:E,onDoubleClick:A,onKeyPress:T,handleDragStart:R}))})}var gv=te.forwardRef(function(n,e){return te.createElement(J9,Object.assign({},n,{containerRef:e}))});gv.propTypes={popupOffset:Me.oneOfType([Me.number,Me.shape({x:Me.number,y:Me.number})]),overlay:Me.shape({position:Me.object,events:Me.array,date:Me.instanceOf(Date),end:Me.instanceOf(Date)}),accessors:Me.object.isRequired,localizer:Me.object.isRequired,components:Me.object.isRequired,getters:Me.object.isRequired,selected:Me.object,handleSelectEvent:Me.func,handleDoubleClickEvent:Me.func,handleKeyPressEvent:Me.func,handleDragStart:Me.func,onHide:Me.func,overlayDisplay:Me.func};function or(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Bu(t,n,e,{passive:!1})}function ek(n,e,t){return!n||tc(n,document.elementFromPoint(e,t))}function tk(n,e){var t=e.clientX,a=e.clientY,l=document.elementFromPoint(t,a);return BS(l,".rbc-event",n)}function nk(n,e){var t=e.clientX,a=e.clientY,l=document.elementFromPoint(t,a);return BS(l,".rbc-show-more",n)}function yh(n,e){return!!tk(n,e)}function rk(n,e){return!!nk(n,e)}function Nu(n){var e=n;return n.touches&&n.touches.length&&(e=n.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var RA=5,ik=250,n8=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t.global,l=a===void 0?!1:a,c=t.longPressThreshold,g=c===void 0?250:c,w=t.validContainers,v=w===void 0?[]:w;Pn(this,n),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||l,this.longPressThreshold=g,this.validContainers=v,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=or("touchmove",function(){},window),this._removeKeyDownListener=or("keydown",this._keyListener),this._removeKeyUpListener=or("keyup",this._keyListener),this._removeDropFromOutsideListener=or("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=or("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Un(n,[{key:"on",value:function(t,a){var l=this._listeners[t]||(this._listeners[t]=[]);return l.push(a),{remove:function(){var g=l.indexOf(a);g!==-1&&l.splice(g,1)}}}},{key:"emit",value:function(t){for(var a=arguments.length,l=new Array(a>1?a-1:0),c=1;c<a;c++)l[c-1]=arguments[c];var g,w=this._listeners[t]||[];return w.forEach(function(v){g===void 0&&(g=v.apply(void 0,l))}),g}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(t){var a=this._selectRect;return!a||!this.selecting?!1:DA(a,io(t))}},{key:"filter",value:function(t){var a=this._selectRect;return!a||!this.selecting?[]:t.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(t,a){var l=this,c=null,g=null,w=null,v=function(T){c=setTimeout(function(){E(),t(T)},l.longPressThreshold),g=or("touchmove",function(){return E()}),w=or("touchend",function(){return E()})},y=or("touchstart",v),E=function(){c&&clearTimeout(c),g&&g(),w&&w(),c=null,g=null,w=null};return a&&v(a),function(){E(),y()}}},{key:"_addInitialEventListener",value:function(){var t=this,a=or("mousedown",function(c){t._removeInitialEventListener(),t._handleInitialEvent(c),t._removeInitialEventListener=or("mousedown",t._handleInitialEvent)}),l=or("touchstart",function(c){t._removeInitialEventListener(),t._removeInitialEventListener=t._addLongPressListener(t._handleInitialEvent,c)});this._removeInitialEventListener=function(){a(),l()}}},{key:"_dropFromOutsideListener",value:function(t){var a=Nu(t),l=a.pageX,c=a.pageY,g=a.clientX,w=a.clientY;this.emit("dropFromOutside",{x:l,y:c,clientX:g,clientY:w}),t.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(t){var a=Nu(t),l=a.pageX,c=a.pageY,g=a.clientX,w=a.clientY;this.emit("dragOverFromOutside",{x:l,y:c,clientX:g,clientY:w}),t.preventDefault()}},{key:"_handleInitialEvent",value:function(t){if(this._initialEvent=t,!this.isDetached){var a=Nu(t),l=a.clientX,c=a.clientY,g=a.pageX,w=a.pageY,v=this.container(),y,E;if(!(t.which===3||t.button===2||!ek(v,l,c))){if(!this.globalMouse&&v&&!tc(v,t.target)){var A=ak(0),T=A.top,R=A.left,M=A.bottom,D=A.right;if(E=io(v),y=DA({top:E.top-T,left:E.left-R,bottom:E.bottom+M,right:E.right+D},{top:w,left:g}),!y)return}var B=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(t.type),x:g,y:w,clientX:l,clientY:c});if(B!==!1)switch(t.type){case"mousedown":this._removeEndListener=or("mouseup",this._handleTerminatingEvent),this._onEscListener=or("keydown",this._handleTerminatingEvent),this._removeMoveListener=or("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(t),this._removeEndListener=or("touchend",this._handleTerminatingEvent),this._removeMoveListener=or("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(t){var a=t.target,l=this.validContainers;return!l||!l.length||!a?!0:l.some(function(c){return!!a.closest(c)})}},{key:"_handleTerminatingEvent",value:function(t){var a=this.selecting,l=this._selectRect;if(!a&&t.type.includes("key")&&(t=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!t){var c=!this.container||tc(this.container(),t.target),g=this._isWithinValidContainer(t);return t.key==="Escape"||!g?this.emit("reset"):!a&&c?this._handleClickEvent(t):a?this.emit("select",l):this.emit("reset")}}},{key:"_handleClickEvent",value:function(t){var a=Nu(t),l=a.pageX,c=a.pageY,g=a.clientX,w=a.clientY,v=new Date().getTime();return this._lastClickData&&v-this._lastClickData.timestamp<ik?(this._lastClickData=null,this.emit("doubleClick",{x:l,y:c,clientX:g,clientY:w})):(this._lastClickData={timestamp:v},this.emit("click",{x:l,y:c,clientX:g,clientY:w}))}},{key:"_handleMoveEvent",value:function(t){if(!(this._initialEventData===null||this.isDetached)){var a=this._initialEventData,l=a.x,c=a.y,g=Nu(t),w=g.pageX,v=g.pageY,y=Math.abs(l-w),E=Math.abs(c-v),A=Math.min(w,l),T=Math.min(v,c),R=this.selecting,M=this.isClick(w,v);M&&!R&&!(y||E)||(!R&&!M&&this.emit("selectStart",this._initialEventData),M||(this.selecting=!0,this._selectRect={top:T,left:A,x:w,y:v,right:A+y,bottom:T+E},this.emit("selecting",this._selectRect)),t.preventDefault())}}},{key:"_keyListener",value:function(t){this.ctrl=t.metaKey||t.ctrlKey}},{key:"isClick",value:function(t,a){var l=this._initialEventData,c=l.x,g=l.y,w=l.isTouch;return!w&&Math.abs(t-c)<=RA&&Math.abs(a-g)<=RA}}])}();function ak(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return xa(n)!=="object"&&(n={top:n,left:n,right:n,bottom:n}),n}function DA(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=io(n),l=a.top,c=a.left,g=a.right,w=g===void 0?c:g,v=a.bottom,y=v===void 0?l:v,E=io(e),A=E.top,T=E.left,R=E.right,M=R===void 0?T:R,D=E.bottom,B=D===void 0?A:D;return!(y-t<A||l+t>B||w-t<T||c+t>M)}function io(n){if(!n.getBoundingClientRect)return n;var e=n.getBoundingClientRect(),t=e.left+NA("left"),a=e.top+NA("top");return{top:a,left:t,right:(n.offsetWidth||0)+t,bottom:(n.offsetHeight||0)+a}}function NA(n){if(n==="left")return window.pageXOffset||document.body.scrollLeft||0;if(n==="top")return window.pageYOffset||document.body.scrollTop||0}var sk=function(n){function e(t,a){var l;return Pn(this,e),l=fr(this,e,[t,a]),l.state={selecting:!1},l.containerRef=Q.createRef(),l}return hr(e,n),Un(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(a){!a.selectable&&this.props.selectable&&this._selectable(),a.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var a=this.props,l=a.range,c=a.getNow,g=a.getters,w=a.date,v=a.components.dateCellWrapper,y=a.localizer,E=this.state,A=E.selecting,T=E.startIdx,R=E.endIdx,M=c();return te.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},l.map(function(D,B){var j=A&&B>=T&&B<=R,q=g.dayProp(D),P=q.className,F=q.style;return te.createElement(v,{key:B,value:D,range:l},te.createElement("div",{style:F,className:mn("rbc-day-bg",P,j&&"rbc-selected-cell",y.isSameDate(D,M)&&"rbc-today",w&&y.neq(w,D,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var a=this,l=this.containerRef.current,c=this._selector=new n8(this.props.container,{longPressThreshold:this.props.longPressThreshold}),g=function(v,y){if(!yh(l,v)&&!rk(l,v)){var E=io(l),A=a.props,T=A.range,R=A.rtl;if(K9(E,v)){var M=e8(E,v.x,R,T.length);a._selectSlot({startIdx:M,endIdx:M,action:y,box:v})}}a._initial={},a.setState({selecting:!1})};c.on("selecting",function(w){var v=a.props,y=v.range,E=v.rtl,A=-1,T=-1;if(a.state.selecting||(Kt(a.props.onSelectStart,[w]),a._initial={x:w.x,y:w.y}),c.isSelected(l)){var R=io(l),M=$9(a._initial,R,w,y.length,E);A=M.startIdx,T=M.endIdx}a.setState({selecting:!0,startIdx:A,endIdx:T})}),c.on("beforeSelect",function(w){if(a.props.selectable==="ignoreEvents")return!yh(a.containerRef.current,w)}),c.on("click",function(w){return g(w,"click")}),c.on("doubleClick",function(w){return g(w,"doubleClick")}),c.on("select",function(w){a._selectSlot(qt(qt({},a.state),{},{action:"select",bounds:w})),a._initial={},a.setState({selecting:!1}),Kt(a.props.onSelectEnd,[a.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(a){var l=a.endIdx,c=a.startIdx,g=a.action,w=a.bounds,v=a.box;l!==-1&&c!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:c,end:l,action:g,bounds:w,box:v,resourceId:this.props.resourceId})}}])}(te.Component),ti={propTypes:{slotMetrics:Me.object.isRequired,selected:Me.object,isAllDay:Me.bool,accessors:Me.object.isRequired,localizer:Me.object.isRequired,components:Me.object.isRequired,getters:Me.object.isRequired,onSelect:Me.func,onDoubleClick:Me.func,onKeyPress:Me.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,t){var a=e.selected;e.isAllDay;var l=e.accessors,c=e.getters,g=e.onSelect,w=e.onDoubleClick,v=e.onKeyPress,y=e.localizer,E=e.slotMetrics,A=e.components,T=e.resizable,R=E.continuesPrior(t),M=E.continuesAfter(t);return te.createElement(QS,{event:t,getters:c,localizer:y,accessors:l,components:A,onSelect:g,onDoubleClick:w,onKeyPress:v,continuesPrior:R,continuesAfter:M,slotStart:E.first,slotEnd:E.last,selected:zh(t,a),resizable:T})},renderSpan:function(e,t,a){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",c=Math.abs(t)/e*100+"%";return te.createElement("div",{key:a,className:"rbc-row-segment",style:{WebkitFlexBasis:c,flexBasis:c,maxWidth:c}},l)}},r8=function(n){function e(){return Pn(this,e),fr(this,e,arguments)}return hr(e,n),Un(e,[{key:"render",value:function(){var a=this,l=this.props,c=l.segments,g=l.slotMetrics.slots,w=l.className,v=1;return te.createElement("div",{className:mn(w,"rbc-row")},c.reduce(function(y,E,A){var T=E.event,R=E.left,M=E.right,D=E.span,B="_lvl_"+A,j=R-v,q=ti.renderEvent(a.props,T);return j&&y.push(ti.renderSpan(g,j,"".concat(B,"_gap"))),y.push(ti.renderSpan(g,D,B,q)),v=M+1,y},[]))}}])}(te.Component);r8.defaultProps=qt({},ti.defaultProps);function i8(n){var e=n.dateRange,t=n.unit,a=t===void 0?"day":t,l=n.localizer;return{first:e[0],last:l.add(e[e.length-1],1,a)}}function ok(n,e,t,a){var l=i8({dateRange:e,localizer:a}),c=l.first,g=l.last,w=a.diff(c,g,"day"),v=a.max(a.startOf(t.start(n),"day"),c),y=a.min(a.ceil(t.end(n),"day"),g),E=eI(e,function(T){return a.isSameDate(T,v)}),A=a.diff(v,y,"day");return A=Math.min(A,w),A=Math.max(A-a.segmentOffset,1),{event:n,span:A,left:E+1,right:Math.max(E+A,1)}}function f2(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,t,a,l,c=[],g=[];for(t=0;t<n.length;t++){for(l=n[t],a=0;a<c.length&&lk(l,c[a]);a++);a>=e?g.push(l):(c[a]||(c[a]=[])).push(l)}for(t=0;t<c.length;t++)c[t].sort(function(w,v){return w.left-v.left});return{levels:c,extra:g}}function ic(n,e,t,a,l){var c={start:a.start(n),end:a.end(n)},g={start:e,end:t};return l.inEventRange({event:c,range:g})}function lk(n,e){return e.some(function(t){return t.left<=n.right&&t.right>=n.left})}function uk(n,e,t){var a=Wf(n),l=[],c=[];a.forEach(function(v){var y=e.start(v),E=e.end(v);t.daySpan(y,E)>1?l.push(v):c.push(v)});var g=l.sort(function(v,y){return h2(v,y,e,t)}),w=c.sort(function(v,y){return h2(v,y,e,t)});return[].concat(Wf(g),Wf(w))}function h2(n,e,t,a){var l={start:t.start(n),end:t.end(n),allDay:t.allDay(n)},c={start:t.start(e),end:t.end(e),allDay:t.allDay(e)};return a.sortEvents({evtA:l,evtB:c})}var d2=function(e,t){return e.left<=t&&e.right>=t},Pp=function(e,t){return e.filter(function(a){return d2(a,t)}).map(function(a){return a.event})},a8=function(n){function e(){return Pn(this,e),fr(this,e,arguments)}return hr(e,n),Un(e,[{key:"render",value:function(){for(var a=this.props,l=a.segments,c=a.slotMetrics.slots,g=f2(l).levels[0],w=1,v=1,y=[];w<=c;){var E="_lvl_"+w,A=g.filter(function(F){return d2(F,w)})[0]||{},T=A.event,R=A.left,M=A.right,D=A.span;if(!T){var B=this.getHiddenEventsForSlot(l,w);if(B.length>0){var j=w-v;j&&y.push(ti.renderSpan(c,j,E+"_gap")),y.push(ti.renderSpan(c,1,E,this.renderShowMore(l,w))),v=w=w+1;continue}w++;continue}var q=Math.max(0,R-v);if(this.canRenderSlotEvent(R,D)){var P=ti.renderEvent(this.props,T);q&&y.push(ti.renderSpan(c,q,E+"_gap")),y.push(ti.renderSpan(c,D,E,P)),v=w=M+1}else q&&y.push(ti.renderSpan(c,q,E+"_gap")),y.push(ti.renderSpan(c,1,E,this.renderShowMore(l,w))),v=w=w+1}return te.createElement("div",{className:"rbc-row"},y)}},{key:"getHiddenEventsForSlot",value:function(a,l){var c=Pp(a,l),g=f2(a).levels[0],w=g.filter(function(v){return d2(v,l)}).map(function(v){return v.event});return c.filter(function(v){return!w.some(function(y){return y===v})})}},{key:"canRenderSlotEvent",value:function(a,l){var c=this.props.segments;return aI(a,a+l).every(function(g){var w=Pp(c,g).length;return w===1})}},{key:"renderShowMore",value:function(a,l){var c=this,g=this.props,w=g.localizer,v=g.slotMetrics,y=g.components,E=v.getEventsForSlot(l),A=Pp(a,l),T=A.length;if(y!=null&&y.showMore){var R=y.showMore,M=v.getDateForSlot(l-1);return T?te.createElement(R,{localizer:w,slotDate:M,slot:l,count:T,events:E,remainingEvents:A}):!1}return T?te.createElement("button",{type:"button",key:"sm_"+l,className:mn("rbc-button-link","rbc-show-more"),onClick:function(B){return c.showMore(l,B)}},w.messages.showMore(T,A,E)):!1}},{key:"showMore",value:function(a,l){l.preventDefault(),l.stopPropagation(),this.props.onShowMore(a,l.target)}}])}(te.Component);a8.defaultProps=qt({},ti.defaultProps);var ck=function(e){var t=e.children;return te.createElement("div",{className:"rbc-row-content-scroll-container"},t)},fk=function(e,t){return e.left<=t&&e.right>=t},hk=function(e,t){return e[0].range===t[0].range&&e[0].events===t[0].events};function s8(){return US(function(n){for(var e=n.range,t=n.events,a=n.maxRows,l=n.minRows,c=n.accessors,g=n.localizer,w=i8({dateRange:e,localizer:g}),v=w.first,y=w.last,E=t.map(function(D){return ok(D,e,c,g)}),A=f2(E,Math.max(a-1,1)),T=A.levels,R=A.extra,M=R.length>0?l-1:l;T.length<M;)T.push([]);return{first:v,last:y,levels:T,extra:R,range:e,slots:e.length,clone:function(B){var j=s8();return j(qt(qt({},n),B))},getDateForSlot:function(B){return e[B]},getSlotForDate:function(B){return e.find(function(j){return g.isSameDate(j,B)})},getEventsForSlot:function(B){return E.filter(function(j){return fk(j,B)}).map(function(j){return j.event})},continuesPrior:function(B){return g.continuesPrior(c.start(B),v)},continuesAfter:function(B){var j=c.start(B),q=c.end(B);return g.continuesAfter(j,q,y)}}},hk)}var ac=function(n){function e(){var t;Pn(this,e);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return t=fr(this,e,[].concat(l)),t.handleSelectSlot=function(g){var w=t.props,v=w.range,y=w.onSelectSlot;y(v.slice(g.start,g.end+1),g)},t.handleShowMore=function(g,w){var v=t.props,y=v.range,E=v.onShowMore,A=t.slotMetrics(t.props),T=cD(t.containerRef.current,".rbc-row-bg")[0],R;T&&(R=T.children[g-1]);var M=A.getEventsForSlot(g);E(M,y[g-1],R,g,w)},t.getContainer=function(){var g=t.props.container;return g?g():t.containerRef.current},t.renderHeadingCell=function(g,w){var v=t.props,y=v.renderHeader,E=v.getNow,A=v.localizer;return y({date:g,key:"header_".concat(w),className:mn("rbc-date-cell",A.isSameDate(g,E())&&"rbc-now")})},t.renderDummy=function(){var g=t.props,w=g.className,v=g.range,y=g.renderHeader,E=g.showAllEvents;return te.createElement("div",{className:w,ref:t.containerRef},te.createElement("div",{className:mn("rbc-row-content",E&&"rbc-row-content-scrollable")},y&&te.createElement("div",{className:"rbc-row",ref:t.headingRowRef},v.map(t.renderHeadingCell)),te.createElement("div",{className:"rbc-row",ref:t.eventRowRef},te.createElement("div",{className:"rbc-row-segment"},te.createElement("div",{className:"rbc-event"},te.createElement("div",{className:"rbc-event-content"},""))))))},t.containerRef=Q.createRef(),t.headingRowRef=Q.createRef(),t.eventRowRef=Q.createRef(),t.slotMetrics=s8(),t}return hr(e,n),Un(e,[{key:"getRowLimit",value:function(){var a,l=Jg(this.eventRowRef.current),c=(a=this.headingRowRef)!==null&&a!==void 0&&a.current?Jg(this.headingRowRef.current):0,g=Jg(this.containerRef.current)-c;return Math.max(Math.floor(g/l),1)}},{key:"render",value:function(){var a=this.props,l=a.date,c=a.rtl,g=a.range,w=a.className,v=a.selected,y=a.selectable,E=a.renderForMeasure,A=a.accessors,T=a.getters,R=a.components,M=a.getNow,D=a.renderHeader,B=a.onSelect,j=a.localizer,q=a.onSelectStart,P=a.onSelectEnd,F=a.onDoubleClick,X=a.onKeyPress,$=a.resourceId,G=a.longPressThreshold,le=a.isAllDay,W=a.resizable,xe=a.showAllEvents;if(E)return this.renderDummy();var ce=this.slotMetrics(this.props),pe=ce.levels,ve=ce.extra,Ne=xe?ck:Fi,ne=R.weekWrapper,re={selected:v,accessors:A,getters:T,localizer:j,components:R,onSelect:B,onDoubleClick:F,onKeyPress:X,resourceId:$,slotMetrics:ce,resizable:W};return te.createElement("div",{className:w,role:"rowgroup",ref:this.containerRef},te.createElement(sk,{localizer:j,date:l,getNow:M,rtl:c,range:g,selectable:y,container:this.getContainer,getters:T,onSelectStart:q,onSelectEnd:P,onSelectSlot:this.handleSelectSlot,components:R,longPressThreshold:G,resourceId:$}),te.createElement("div",{className:mn("rbc-row-content",xe&&"rbc-row-content-scrollable"),role:"row"},D&&te.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},g.map(this.renderHeadingCell)),te.createElement(Ne,null,te.createElement(ne,Object.assign({isAllDay:le},re,{rtl:this.props.rtl}),pe.map(function(fe,Ie){return te.createElement(r8,Object.assign({key:Ie,segments:fe},re))}),!!ve.length&&te.createElement(a8,Object.assign({segments:ve,onShowMore:this.handleShowMore},re))))))}}])}(te.Component);ac.defaultProps={minRows:0,maxRows:1/0};var mv=function(e){var t=e.label;return te.createElement("span",{role:"columnheader","aria-sort":"none"},t)},dk=function(e){var t=e.label,a=e.drilldownView,l=e.onDrillDown;return a?te.createElement("button",{type:"button",className:"rbc-button-link",onClick:l},t):te.createElement("span",null,t)},gk=["date","className"],mk=function(e,t,a,l,c){return e.filter(function(g){return ic(g,t,a,l,c)})},Hh=function(n){function e(){var t;Pn(this,e);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return t=fr(this,e,[].concat(l)),t.getContainer=function(){return t.containerRef.current},t.renderWeek=function(g,w){var v=t.props,y=v.events,E=v.components,A=v.selectable,T=v.getNow,R=v.selected,M=v.date,D=v.localizer,B=v.longPressThreshold,j=v.accessors,q=v.getters,P=v.showAllEvents,F=t.state,X=F.needLimitMeasure,$=F.rowLimit,G=mk(Wf(y),g[0],g[g.length-1],j,D),le=uk(G,j,D);return te.createElement(ac,{key:w,ref:w===0?t.slotRowRef:void 0,container:t.getContainer,className:"rbc-month-row",getNow:T,date:M,range:g,events:le,maxRows:P?1/0:$,selected:R,selectable:A,components:E,accessors:j,getters:q,localizer:D,renderHeader:t.readerDateHeading,renderForMeasure:X,onShowMore:t.handleShowMore,onSelect:t.handleSelectEvent,onDoubleClick:t.handleDoubleClickEvent,onKeyPress:t.handleKeyPressEvent,onSelectSlot:t.handleSelectSlot,longPressThreshold:B,rtl:t.props.rtl,resizable:t.props.resizable,showAllEvents:P})},t.readerDateHeading=function(g){var w=g.date,v=g.className,y=Vi(g,gk),E=t.props,A=E.date,T=E.getDrilldownView,R=E.localizer,M=R.neq(A,w,"month"),D=R.isSameDate(w,A),B=T(w),j=R.format(w,"dateFormat"),q=t.props.components.dateHeader||dk;return te.createElement("div",Object.assign({},y,{className:mn(v,M&&"rbc-off-range",D&&"rbc-current"),role:"cell"}),te.createElement(q,{label:j,date:w,drilldownView:B,isOffRange:M,onDrillDown:function(F){return t.handleHeadingClick(w,B,F)}}))},t.handleSelectSlot=function(g,w){t._pendingSelection=t._pendingSelection.concat(g),clearTimeout(t._selectTimer),t._selectTimer=setTimeout(function(){return t.selectDates(w)})},t.handleHeadingClick=function(g,w,v){v.preventDefault(),t.clearSelection(),Kt(t.props.onDrillDown,[g,w])},t.handleSelectEvent=function(){t.clearSelection();for(var g=arguments.length,w=new Array(g),v=0;v<g;v++)w[v]=arguments[v];Kt(t.props.onSelectEvent,w)},t.handleDoubleClickEvent=function(){t.clearSelection();for(var g=arguments.length,w=new Array(g),v=0;v<g;v++)w[v]=arguments[v];Kt(t.props.onDoubleClickEvent,w)},t.handleKeyPressEvent=function(){t.clearSelection();for(var g=arguments.length,w=new Array(g),v=0;v<g;v++)w[v]=arguments[v];Kt(t.props.onKeyPressEvent,w)},t.handleShowMore=function(g,w,v,y,E){var A=t.props,T=A.popup,R=A.onDrillDown,M=A.onShowMore,D=A.getDrilldownView,B=A.doShowMoreDrillDown;if(t.clearSelection(),T){var j=vS(v,t.containerRef.current);t.setState({overlay:{date:w,events:g,position:j,target:E}})}else B&&Kt(R,[w,D(w)||lr.DAY]);Kt(M,[g,w,y])},t.overlayDisplay=function(){t.setState({overlay:null})},t.state={rowLimit:5,needLimitMeasure:!0,date:null},t.containerRef=Q.createRef(),t.slotRowRef=Q.createRef(),t._bgRows=[],t._pendingSelection=[],t}return hr(e,n),Un(e,[{key:"componentDidMount",value:function(){var a=this,l;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){l||yS(function(){l=!1,a.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var a=this.props,l=a.date,c=a.localizer,g=a.className,w=c.visibleDays(l,c),v=X7(w,7);return this._weekCount=v.length,te.createElement("div",{className:mn("rbc-month-view",g),role:"table","aria-label":"Month View",ref:this.containerRef},te.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(v[0])),v.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(a){var l=this.props,c=l.localizer,g=l.components,w=a[0],v=a[a.length-1],y=g.header||mv;return c.range(w,v,"day").map(function(E,A){return te.createElement("div",{key:"header_"+A,className:"rbc-header"},te.createElement(y,{date:E,localizer:c,label:c.format(E,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var a,l,c=this,g=(a=(l=this.state)===null||l===void 0?void 0:l.overlay)!==null&&a!==void 0?a:{},w=this.props,v=w.accessors,y=w.localizer,E=w.components,A=w.getters,T=w.selected,R=w.popupOffset,M=w.handleDragStart,D=function(){return c.setState({overlay:null})};return te.createElement(gv,{overlay:g,accessors:v,localizer:y,components:E,getters:A,selected:T,popupOffset:R,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:M,show:!!g.position,overlayDisplay:this.overlayDisplay,onHide:D})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(a){var l=this._pendingSelection.slice();this._pendingSelection=[],l.sort(function(w,v){return+w-+v});var c=new Date(l[0]),g=new Date(l[l.length-1]);g.setDate(l[l.length-1].getDate()+1),Kt(this.props.onSelectSlot,{slots:l,start:c,end:g,action:a.action,bounds:a.bounds,box:a.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(a,l){var c=a.date,g=a.localizer;return{date:c,needLimitMeasure:g.neq(c,l.date,"month")}}}])}(te.Component);Hh.range=function(n,e){var t=e.localizer,a=t.firstVisibleDay(n,t),l=t.lastVisibleDay(n,t);return{start:a,end:l}};Hh.navigate=function(n,e,t){var a=t.localizer;switch(e){case Or.PREVIOUS:return a.add(n,-1,"month");case Or.NEXT:return a.add(n,1,"month");default:return n}};Hh.title=function(n,e){var t=e.localizer;return t.format(n,"monthHeaderFormat")};var MA=function(e){var t=e.min,a=e.max,l=e.step,c=e.slots,g=e.localizer;return"".concat(+g.startOf(t,"minutes"))+"".concat(+g.startOf(a,"minutes"))+"".concat(l,"-").concat(c)};function pv(n){for(var e=n.min,t=n.max,a=n.step,l=n.timeslots,c=n.localizer,g=MA({step:a,localizer:c}),w=1+c.getTotalMin(e,t),v=c.getMinutesFromMidnight(e),y=Math.ceil((w-1)/(a*l)),E=y*l,A=new Array(y),T=new Array(E),R=0;R<y;R++){A[R]=new Array(l);for(var M=0;M<l;M++){var D=R*l+M,B=D*a;T[D]=A[R][M]=c.getSlotDate(e,v,B)}}var j=T.length*a;T.push(c.getSlotDate(e,v,j));function q(P){var F=c.diff(e,P,"minutes")+c.getDstOffset(e,P);return Math.min(F,w)}return{groups:A,update:function(F){return MA(F)!==g?pv(F):this},dateIsInGroup:function(F,X){var $=A[X+1];return c.inRange(F,A[X][0],$?$[0]:t,"minutes")},nextSlot:function(F){var X=T[Math.min(T.findIndex(function($){return $===F||c.eq($,F)})+1,T.length-1)];return c.eq(X,F)&&(X=c.add(F,a,"minutes")),X},closestSlotToPosition:function(F){var X=Math.min(T.length-1,Math.max(0,Math.floor(F*E)));return T[X]},closestSlotFromPoint:function(F,X){var $=Math.abs(X.top-X.bottom);return this.closestSlotToPosition((F.y-X.top)/$)},closestSlotFromDate:function(F){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(c.lt(F,e,"minutes"))return T[0];if(c.gt(F,t,"minutes"))return T[T.length-1];var $=c.diff(e,F,"minutes");return T[($-$%a)/a+X]},startsBeforeDay:function(F){return c.lt(F,e,"day")},startsAfterDay:function(F){return c.gt(F,t,"day")},startsBefore:function(F){return c.lt(c.merge(e,F),e,"minutes")},startsAfter:function(F){return c.gt(c.merge(t,F),t,"minutes")},getRange:function(F,X,$,G){$||(F=c.min(t,c.max(e,F))),G||(X=c.min(t,c.max(e,X)));var le=q(F),W=q(X),xe=W>a*E&&!c.eq(t,X)?(le-a)/(a*E)*100:le/(a*E)*100;return{top:xe,height:W/(a*E)*100-xe,start:q(F),startDate:F,end:q(X),endDate:X}},getCurrentTimePosition:function(F){var X=q(F),$=X/(a*E)*100;return $}}}var pk=function(){function n(e,t){var a=t.accessors,l=t.slotMetrics;Pn(this,n);var c=l.getRange(a.start(e),a.end(e)),g=c.start,w=c.startDate,v=c.end,y=c.endDate,E=c.top,A=c.height;this.start=g,this.end=v,this.startMs=+w,this.endMs=+y,this.top=E,this.height=A,this.data=e}return Un(n,[{key:"_width",get:function(){if(this.rows){var t=this.rows.reduce(function(l,c){return Math.max(l,c.leaves.length+1)},0)+1;return 100/t}if(this.leaves){var a=100-this.container._width;return a/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var t=this._width,a=Math.min(100,this._width*1.7);if(this.rows)return a;if(this.leaves)return this.leaves.length>0?a:t;var l=this.row.leaves,c=l.indexOf(this);return c===l.length-1?t:a}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var t=this.row,a=t.leaves,l=t.xOffset,c=t._width,g=a.indexOf(this)+1;return l+g*c}}])}();function vk(n,e,t){return Math.abs(e.start-n.start)<t||e.start>n.start&&e.start<n.end}function yk(n){for(var e=AI(n,["startMs",function(w){return-w.endMs}]),t=[];e.length>0;){var a=e.shift();t.push(a);for(var l=0;l<e.length;l++){var c=e[l];if(!(a.endMs>c.startMs)){if(l>0){var g=e.splice(l,1)[0];t.push(g)}break}}}return t}function o8(n){for(var e=n.events,t=n.minimumStartDifference,a=n.slotMetrics,l=n.accessors,c=e.map(function(E){return new pk(E,{slotMetrics:a,accessors:l})}),g=yk(c),w=[],v=function(){var A=g[y],T=w.find(function(D){return D.end>A.start||Math.abs(A.start-D.start)<t});if(!T)return A.rows=[],w.push(A),1;A.container=T;for(var R=null,M=T.rows.length-1;!R&&M>=0;M--)vk(T.rows[M],A,t)&&(R=T.rows[M]);R?(R.leaves.push(A),A.row=R):(A.leaves=[],T.rows.push(A))},y=0;y<g.length;y++)v();return g.map(function(E){return{event:E.data,style:{top:E.top,height:E.height,width:E.width,xOffset:Math.max(0,E.xOffset)}}})}function l8(n,e,t){for(var a=0;a<n.friends.length;++a)if(!(t.indexOf(n.friends[a])>-1)){e=e>n.friends[a].idx?e:n.friends[a].idx,t.push(n.friends[a]);var l=l8(n.friends[a],e,t);e=e>l?e:l}return e}function wk(n){var e=n.events,t=n.minimumStartDifference,a=n.slotMetrics,l=n.accessors,c=o8({events:e,minimumStartDifference:t,slotMetrics:a,accessors:l});c.sort(function(ne,re){return ne=ne.style,re=re.style,ne.top!==re.top?ne.top>re.top?1:-1:ne.height!==re.height?ne.top+ne.height<re.top+re.height?1:-1:0});for(var g=0;g<c.length;++g)c[g].friends=[],delete c[g].style.left,delete c[g].style.left,delete c[g].idx,delete c[g].size;for(var w=0;w<c.length-1;++w)for(var v=c[w],y=v.style.top,E=v.style.top+v.style.height,A=w+1;A<c.length;++A){var T=c[A],R=T.style.top,M=T.style.top+T.style.height;(R>=y&&M<=E||M>y&&M<=E||R>=y&&R<E)&&(v.friends.push(T),T.friends.push(v))}for(var D=0;D<c.length;++D){for(var B=c[D],j=[],q=0;q<100;++q)j.push(1);for(var P=0;P<B.friends.length;++P)B.friends[P].idx!==void 0&&(j[B.friends[P].idx]=0);B.idx=j.indexOf(1)}for(var F=0;F<c.length;++F){var X=0;if(!c[F].size){var $=[],G=l8(c[F],0,$);X=100/(G+1),c[F].size=X;for(var le=0;le<$.length;++le)$[le].size=X}}for(var W=0;W<c.length;++W){var xe=c[W];xe.style.left=xe.idx*xe.size;for(var ce=0,pe=0;pe<xe.friends.length;++pe){var ve=xe.friends[pe].idx;ce=ce>ve?ce:ve}ce<=xe.idx&&(xe.size=100-xe.idx*xe.size);var Ne=xe.idx===0?0:3;xe.style.width="calc(".concat(xe.size,"% - ").concat(Ne,"px)"),xe.style.height="calc(".concat(xe.style.height,"% - 2px)"),xe.style.xOffset="calc(".concat(xe.style.left,"% + ").concat(Ne,"px)")}return c}var IA={overlap:o8,"no-overlap":wk};function xk(n){return!!(n&&n.constructor&&n.call&&n.apply)}function bk(n){n.events,n.minimumStartDifference,n.slotMetrics,n.accessors;var e=n.dayLayoutAlgorithm,t=e;return e in IA&&(t=IA[e]),xk(t)?t.apply(this,arguments):[]}var u8=function(n){function e(){return Pn(this,e),fr(this,e,arguments)}return hr(e,n),Un(e,[{key:"render",value:function(){var a=this.props,l=a.renderSlot,c=a.resource,g=a.group,w=a.getters,v=a.components,y=v===void 0?{}:v,E=y.timeSlotWrapper,A=E===void 0?Fi:E,T=w?w.slotGroupProp(g):{};return te.createElement("div",Object.assign({className:"rbc-timeslot-group"},T),g.map(function(R,M){var D=w?w.slotProp(R,c):{};return te.createElement(A,{key:M,value:R,resource:c},te.createElement("div",Object.assign({},D,{className:mn("rbc-time-slot",D.className)}),l&&l(R,M)))}))}}])}(Q.Component);function zf(n){return typeof n=="string"?n:n+"%"}function Ek(n){var e=n.style,t=n.className,a=n.event,l=n.accessors,c=n.rtl,g=n.selected,w=n.label,v=n.continuesPrior,y=n.continuesAfter,E=n.getters,A=n.onClick,T=n.onDoubleClick,R=n.isBackgroundEvent,M=n.onKeyPress,D=n.components,B=D.event,j=D.eventWrapper,q=l.title(a),P=l.tooltip(a),F=l.end(a),X=l.start(a),$=E.eventProp(a,X,F,g),G=[te.createElement("div",{key:"1",className:"rbc-event-label"},w),te.createElement("div",{key:"2",className:"rbc-event-content"},B?te.createElement(B,{event:a,title:q}):q)],le=e.height,W=e.top,xe=e.width,ce=e.xOffset,pe=qt(qt({},$.style),{},Ys({top:zf(W),height:zf(le),width:zf(xe)},c?"right":"left",zf(ce)));return te.createElement(j,Object.assign({type:"time"},n),te.createElement("div",{role:"button",tabIndex:0,onClick:A,onDoubleClick:T,style:pe,onKeyDown:M,title:P?(typeof w=="string"?w+": ":"")+P:void 0,className:mn(R?"rbc-background-event":"rbc-event",t,$.className,{"rbc-selected":g,"rbc-event-continues-earlier":v,"rbc-event-continues-later":y})},G))}var _k=function(e){var t=e.children,a=e.className,l=e.style,c=e.innerRef;return te.createElement("div",{className:a,style:l,ref:c},t)},Ak=te.forwardRef(function(n,e){return te.createElement(_k,Object.assign({},n,{innerRef:e}))}),Sk=["dayProp"],Ck=["eventContainerWrapper","timeIndicatorWrapper"],c8=function(n){function e(){var t;Pn(this,e);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return t=fr(this,e,[].concat(l)),t.state={selecting:!1,timeIndicatorPosition:null},t.intervalTriggered=!1,t.renderEvents=function(g){var w=g.events,v=g.isBackgroundEvent,y=t.props,E=y.rtl,A=y.selected,T=y.accessors,R=y.localizer,M=y.getters,D=y.components,B=y.step,j=y.timeslots,q=y.dayLayoutAlgorithm,P=y.resizable,F=t,X=F.slotMetrics,$=R.messages,G=bk({events:w,accessors:T,slotMetrics:X,minimumStartDifference:Math.ceil(B*j/2),dayLayoutAlgorithm:q});return G.map(function(le,W){var xe,ce=le.event,pe=le.style,ve=T.end(ce),Ne=T.start(ce),ne=(xe=T.eventId(ce))!==null&&xe!==void 0?xe:"evt_"+W,re="eventTimeRangeFormat",fe,Ie=X.startsBeforeDay(Ne),je=X.startsAfterDay(ve);Ie?re="eventTimeRangeEndFormat":je&&(re="eventTimeRangeStartFormat"),Ie&&je?fe=$.allDay:fe=R.format({start:Ne,end:ve},re);var K=Ie||X.startsBefore(Ne),ye=je||X.startsAfter(ve);return te.createElement(Ek,{style:pe,event:ce,label:fe,key:ne,getters:M,rtl:E,components:D,continuesPrior:K,continuesAfter:ye,accessors:T,resource:t.props.resource,selected:zh(ce,A),onClick:function(Oe){return t._select(qt(qt(qt({},ce),t.props.resource&&{sourceResource:t.props.resource}),v&&{isBackgroundEvent:!0}),Oe)},onDoubleClick:function(Oe){return t._doubleClick(ce,Oe)},isBackgroundEvent:v,onKeyPress:function(Oe){return t._keyPress(ce,Oe)},resizable:P})})},t._selectable=function(){var g=t.containerRef.current,w=t.props,v=w.longPressThreshold,y=w.localizer,E=t._selector=new n8(function(){return g},{longPressThreshold:v}),A=function(D){var B=t.props.onSelecting,j=t.state||{},q=T(D),P=q.startDate,F=q.endDate;B&&(y.eq(j.startDate,P,"minutes")&&y.eq(j.endDate,F,"minutes")||B({start:P,end:F,resourceId:t.props.resource})===!1)||(t.state.start!==q.start||t.state.end!==q.end||t.state.selecting!==q.selecting)&&t.setState(q)},T=function(D){var B=t.slotMetrics.closestSlotFromPoint(D,io(g));t.state.selecting||(t._initialSlot=B);var j=t._initialSlot;y.lte(j,B)?B=t.slotMetrics.nextSlot(B):y.gt(j,B)&&(j=t.slotMetrics.nextSlot(j));var q=t.slotMetrics.getRange(y.min(j,B),y.max(j,B));return qt(qt({},q),{},{selecting:!0,top:"".concat(q.top,"%"),height:"".concat(q.height,"%")})},R=function(D,B){if(!yh(t.containerRef.current,D)){var j=T(D),q=j.startDate,P=j.endDate;t._selectSlot({startDate:q,endDate:P,action:B,box:D})}t.setState({selecting:!1})};E.on("selecting",A),E.on("selectStart",A),E.on("beforeSelect",function(M){if(t.props.selectable==="ignoreEvents")return!yh(t.containerRef.current,M)}),E.on("click",function(M){return R(M,"click")}),E.on("doubleClick",function(M){return R(M,"doubleClick")}),E.on("select",function(M){t.state.selecting&&(t._selectSlot(qt(qt({},t.state),{},{action:"select",bounds:M})),t.setState({selecting:!1}))}),E.on("reset",function(){t.state.selecting&&t.setState({selecting:!1})})},t._teardownSelectable=function(){t._selector&&(t._selector.teardown(),t._selector=null)},t._selectSlot=function(g){for(var w=g.startDate,v=g.endDate,y=g.action,E=g.bounds,A=g.box,T=w,R=[];t.props.localizer.lte(T,v);)R.push(T),T=new Date(+T+t.props.step*60*1e3);Kt(t.props.onSelectSlot,{slots:R,start:w,end:v,resourceId:t.props.resource,action:y,bounds:E,box:A})},t._select=function(){for(var g=arguments.length,w=new Array(g),v=0;v<g;v++)w[v]=arguments[v];Kt(t.props.onSelectEvent,w)},t._doubleClick=function(){for(var g=arguments.length,w=new Array(g),v=0;v<g;v++)w[v]=arguments[v];Kt(t.props.onDoubleClickEvent,w)},t._keyPress=function(){for(var g=arguments.length,w=new Array(g),v=0;v<g;v++)w[v]=arguments[v];Kt(t.props.onKeyPressEvent,w)},t.slotMetrics=pv(t.props),t.containerRef=Q.createRef(),t}return hr(e,n),Un(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(a,l){this.props.selectable&&!a.selectable&&this._selectable(),!this.props.selectable&&a.selectable&&this._teardownSelectable();var c=this.props,g=c.getNow,w=c.isNow,v=c.localizer,y=c.date,E=c.min,A=c.max,T=v.neq(a.getNow(),g(),"minutes");if(a.isNow!==w||T){if(this.clearTimeIndicatorInterval(),w){var R=!T&&v.eq(a.date,y,"minutes")&&l.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(R)}}else w&&(v.neq(a.min,E,"minutes")||v.neq(a.max,A,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var a=this,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!l&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){a.intervalTriggered=!0,a.positionTimeIndicator(),a.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var a=this.props,l=a.min,c=a.max,g=a.getNow,w=g();if(w>=l&&w<=c){var v=this.slotMetrics.getCurrentTimePosition(w);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:v})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var a=this.props,l=a.date,c=a.max,g=a.rtl,w=a.isNow,v=a.resource,y=a.accessors,E=a.localizer,A=a.getters,T=A.dayProp,R=Vi(A,Sk),M=a.components,D=M.eventContainerWrapper,B=M.timeIndicatorWrapper,j=Vi(M,Ck);this.slotMetrics=this.slotMetrics.update(this.props);var q=this.slotMetrics,P=this.state,F=P.selecting,X=P.top,$=P.height,G=P.startDate,le=P.endDate,W={start:G,end:le},xe=T(c,v),ce=xe.className,pe=xe.style,ve={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},Ne=j.dayColumnWrapper||Ak;return te.createElement(Ne,{ref:this.containerRef,date:l,style:pe,className:mn(ce,"rbc-day-slot","rbc-time-column",w&&"rbc-now",w&&"rbc-today",F&&"rbc-slot-selecting"),slotMetrics:q,resource:v},q.groups.map(function(ne,re){return te.createElement(u8,{key:re,group:ne,resource:v,getters:R,components:j})}),te.createElement(D,{localizer:E,resource:v,accessors:y,getters:R,components:j,slotMetrics:q},te.createElement("div",{className:mn("rbc-events-container",g&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),F&&te.createElement("div",{className:"rbc-slot-selection",style:{top:X,height:$}},te.createElement("span",null,E.format(W,"selectRangeFormat"))),w&&this.intervalTriggered&&te.createElement(B,ve,te.createElement("div",ve)))}}])}(te.Component);c8.defaultProps={dragThroughEvents:!0,timeslots:2};var f8=function(e){var t=e.label;return te.createElement(te.Fragment,null,t)},Tk=function(n){function e(){var t;Pn(this,e);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return t=fr(this,e,[].concat(l)),t.handleHeaderClick=function(g,w,v){v.preventDefault(),Kt(t.props.onDrillDown,[g,w])},t.renderRow=function(g){var w=t.props,v=w.events,y=w.rtl,E=w.selectable,A=w.getNow,T=w.range,R=w.getters,M=w.localizer,D=w.accessors,B=w.components,j=w.resizable,q=D.resourceId(g),P=g?v.filter(function(F){return D.resource(F)===q}):v;return te.createElement(ac,{isAllDay:!0,rtl:y,getNow:A,minRows:2,maxRows:t.props.allDayMaxRows+1,range:T,events:P,resourceId:q,className:"rbc-allday-cell",selectable:E,selected:t.props.selected,components:B,accessors:D,getters:R,localizer:M,onSelect:t.props.onSelectEvent,onShowMore:t.props.onShowMore,onDoubleClick:t.props.onDoubleClickEvent,onKeyPress:t.props.onKeyPressEvent,onSelectSlot:t.props.onSelectSlot,longPressThreshold:t.props.longPressThreshold,resizable:j})},t}return hr(e,n),Un(e,[{key:"renderHeaderCells",value:function(a){var l=this,c=this.props,g=c.localizer,w=c.getDrilldownView,v=c.getNow,y=c.getters.dayProp,E=c.components.header,A=E===void 0?mv:E,T=v();return a.map(function(R,M){var D=w(R),B=g.format(R,"dayFormat"),j=y(R),q=j.className,P=j.style,F=te.createElement(A,{date:R,label:B,localizer:g});return te.createElement("div",{key:M,style:P,className:mn("rbc-header",q,g.isSameDate(R,T)&&"rbc-today")},D?te.createElement("button",{type:"button",className:"rbc-button-link",onClick:function($){return l.handleHeaderClick(R,D,$)}},F):te.createElement("span",null,F))})}},{key:"render",value:function(){var a=this,l=this.props,c=l.width,g=l.rtl,w=l.resources,v=l.range,y=l.events,E=l.getNow,A=l.accessors,T=l.selectable,R=l.components,M=l.getters,D=l.scrollRef,B=l.localizer,j=l.isOverflowing,q=l.components,P=q.timeGutterHeader,F=q.resourceHeader,X=F===void 0?f8:F,$=l.resizable,G={};j&&(G[g?"marginLeft":"marginRight"]="".concat(K2()-1,"px"));var le=w.groupEvents(y);return te.createElement("div",{style:G,ref:D,className:mn("rbc-time-header",j&&"rbc-overflowing")},te.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:c,minWidth:c,maxWidth:c}},P&&te.createElement(P,null)),w.map(function(W,xe){var ce=Zs(W,2),pe=ce[0],ve=ce[1];return te.createElement("div",{className:"rbc-time-header-content",key:pe||xe},ve&&te.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(xe)},te.createElement("div",{className:"rbc-header"},te.createElement(X,{index:xe,label:A.resourceTitle(ve),resource:ve}))),te.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(v.length<=1?" rbc-time-header-cell-single-day":"")},a.renderHeaderCells(v)),te.createElement(ac,{isAllDay:!0,rtl:g,getNow:E,minRows:2,maxRows:a.props.allDayMaxRows+1,range:v,events:le.get(pe)||[],resourceId:ve&&pe,className:"rbc-allday-cell",selectable:T,selected:a.props.selected,components:R,accessors:A,getters:M,localizer:B,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:$}))}))}}])}(te.Component),Ok=function(n){function e(){var t;Pn(this,e);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return t=fr(this,e,[].concat(l)),t.handleHeaderClick=function(g,w,v){v.preventDefault(),Kt(t.props.onDrillDown,[g,w])},t}return hr(e,n),Un(e,[{key:"renderHeaderCells",value:function(a){var l=this,c=this.props,g=c.localizer,w=c.getDrilldownView,v=c.getNow,y=c.getters.dayProp,E=c.components,A=E.header,T=A===void 0?mv:A,R=E.resourceHeader,M=R===void 0?f8:R,D=c.resources,B=c.accessors,j=c.events,q=c.rtl,P=c.selectable,F=c.components,X=c.getters,$=c.resizable,G=v(),le=D.groupEvents(j);return a.map(function(W,xe){var ce=w(W),pe=g.format(W,"dayFormat"),ve=y(W),Ne=ve.className,ne=ve.style,re=te.createElement(T,{date:W,label:pe,localizer:g});return te.createElement("div",{key:xe,className:"rbc-time-header-content rbc-resource-grouping"},te.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(a.length<=1?" rbc-time-header-cell-single-day":"")},te.createElement("div",{style:ne,className:mn("rbc-header",Ne,g.isSameDate(W,G)&&"rbc-today")},ce?te.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(Ie){return l.handleHeaderClick(W,ce,Ie)}},re):te.createElement("span",null,re))),te.createElement("div",{className:"rbc-row"},D.map(function(fe,Ie){var je=Zs(fe,2),K=je[0],ye=je[1];return te.createElement("div",{key:"resource_".concat(K,"_").concat(Ie),className:mn("rbc-header",Ne,g.isSameDate(W,G)&&"rbc-today")},te.createElement(M,{index:Ie,label:B.resourceTitle(ye),resource:ye}))})),te.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},D.map(function(fe,Ie){var je=Zs(fe,2),K=je[0],ye=je[1],Se=(le.get(K)||[]).filter(function(Oe){return g.isSameDate(Oe.start,W)||g.isSameDate(Oe.end,W)});return te.createElement(ac,{key:"resource_".concat(K,"_").concat(Ie),isAllDay:!0,rtl:q,getNow:v,minRows:2,maxRows:l.props.allDayMaxRows+1,range:[W],events:Se,resourceId:ye&&K,className:"rbc-allday-cell",selectable:P,selected:l.props.selected,components:F,accessors:B,getters:X,localizer:g,onSelect:l.props.onSelectEvent,onShowMore:l.props.onShowMore,onDoubleClick:l.props.onDoubleClickEvent,onKeyDown:l.props.onKeyPressEvent,onSelectSlot:l.props.onSelectSlot,longPressThreshold:l.props.longPressThreshold,resizable:$})})))})}},{key:"render",value:function(){var a=this.props,l=a.width,c=a.rtl,g=a.range,w=a.scrollRef,v=a.isOverflowing,y=a.components.timeGutterHeader,E={};return v&&(E[c?"marginLeft":"marginRight"]="".concat(K2()-1,"px")),te.createElement("div",{style:E,ref:w,className:mn("rbc-time-header",v&&"rbc-overflowing")},te.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:l,minWidth:l,maxWidth:l}},y&&te.createElement(y,null)),this.renderHeaderCells(g))}}])}(te.Component);function Rk(n){var e=n.min,t=n.max,a=n.localizer;return a.getTimezoneOffset(e)!==a.getTimezoneOffset(t)?{start:a.add(e,-1,"day"),end:a.add(t,-1,"day")}:{start:e,end:t}}var Dk=function(e){var t=e.min,a=e.max,l=e.timeslots,c=e.step,g=e.localizer,w=e.getNow,v=e.resource,y=e.components,E=e.getters,A=e.gutterRef,T=y.timeGutterWrapper,R=Q.useMemo(function(){return Rk({min:t,max:a,localizer:g})},[t?.toISOString(),a?.toISOString(),g]),M=R.start,D=R.end,B=Q.useState(pv({min:M,max:D,timeslots:l,step:c,localizer:g})),j=Zs(B,2),q=j[0],P=j[1];Q.useEffect(function(){q&&P(q.update({min:M,max:D,timeslots:l,step:c,localizer:g}))},[M?.toISOString(),D?.toISOString(),l,c]);var F=Q.useCallback(function(X,$){if($)return null;var G=q.dateIsInGroup(w(),$);return te.createElement("span",{className:mn("rbc-label",G&&"rbc-now")},g.format(X,"timeGutterFormat"))},[q,g,w]);return te.createElement(T,{slotMetrics:q},te.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:A},q.groups.map(function(X,$){return te.createElement(u8,{key:$,group:X,resource:v,components:y,renderSlot:F,getters:E})})))},Nk=te.forwardRef(function(n,e){return te.createElement(Dk,Object.assign({gutterRef:e},n))}),Up={};function Mk(n,e){return{map:function(a){return n?n.map(function(l,c){return a([e.resourceId(l),l],c)}):[a([Up,null],0)]},groupEvents:function(a){var l=new Map;return n?(a.forEach(function(c){var g=e.resource(c)||Up;if(Array.isArray(g))g.forEach(function(v){var y=l.get(v)||[];y.push(c),l.set(v,y)});else{var w=l.get(g)||[];w.push(c),l.set(g,w)}}),l):(l.set(Up,a),l)}}}var Dl=function(n){function e(t){var a;return Pn(this,e),a=fr(this,e,[t]),a.handleScroll=function(l){a.scrollRef.current&&(a.scrollRef.current.scrollLeft=l.target.scrollLeft)},a.handleResize=function(){Wb(a.rafHandle),a.rafHandle=yS(a.checkOverflow)},a.handleKeyPressEvent=function(){a.clearSelection();for(var l=arguments.length,c=new Array(l),g=0;g<l;g++)c[g]=arguments[g];Kt(a.props.onKeyPressEvent,c)},a.handleSelectEvent=function(){a.clearSelection();for(var l=arguments.length,c=new Array(l),g=0;g<l;g++)c[g]=arguments[g];Kt(a.props.onSelectEvent,c)},a.handleDoubleClickEvent=function(){a.clearSelection();for(var l=arguments.length,c=new Array(l),g=0;g<l;g++)c[g]=arguments[g];Kt(a.props.onDoubleClickEvent,c)},a.handleShowMore=function(l,c,g,w,v){var y=a.props,E=y.popup,A=y.onDrillDown,T=y.onShowMore,R=y.getDrilldownView,M=y.doShowMoreDrillDown;if(a.clearSelection(),E){var D=vS(g,a.containerRef.current);a.setState({overlay:{date:c,events:l,position:qt(qt({},D),{},{width:"200px"}),target:v}})}else M&&Kt(A,[c,R(c)||lr.DAY]);Kt(T,[l,c,w])},a.handleSelectAllDaySlot=function(l,c){var g=a.props.onSelectSlot,w=new Date(l[0]),v=new Date(l[l.length-1]);v.setDate(l[l.length-1].getDate()+1),Kt(g,{slots:l,start:w,end:v,action:c.action,resourceId:c.resourceId})},a.overlayDisplay=function(){a.setState({overlay:null})},a.checkOverflow=function(){if(!a._updatingOverflow){var l=a.contentRef.current;if(l!=null&&l.scrollHeight){var c=l.scrollHeight>l.clientHeight;a.state.isOverflowing!==c&&(a._updatingOverflow=!0,a.setState({isOverflowing:c},function(){a._updatingOverflow=!1}))}}},a.memoizedResources=US(function(l,c){return Mk(l,c)}),a.state={gutterWidth:void 0,isOverflowing:null},a.scrollRef=te.createRef(),a.contentRef=te.createRef(),a.containerRef=te.createRef(),a._scrollRatio=null,a.gutterRef=Q.createRef(),a}return hr(e,n),Un(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),Wb(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(a,l,c,g,w,v,y,E,A,T){var R=this.props,M=R.min,D=R.max,B=(g.get(l)||[]).filter(function(q){return v.inRange(a,y.start(q),y.end(q),"day")}),j=(w.get(l)||[]).filter(function(q){return v.inRange(a,y.start(q),y.end(q),"day")});return te.createElement(c8,Object.assign({},this.props,{localizer:v,min:v.merge(a,M),max:v.merge(a,D),resource:c&&l,components:E,isNow:v.isSameDate(a,T),key:"".concat(l,"-").concat(a),date:a,events:B,backgroundEvents:j,dayLayoutAlgorithm:A}))}},{key:"renderResourcesFirst",value:function(a,l,c,g,w,v,y,E,A){var T=this;return l.map(function(R){var M=Zs(R,2),D=M[0],B=M[1];return a.map(function(j){return T.renderDayColumn(j,D,B,c,g,w,v,E,A,y)})})}},{key:"renderRangeFirst",value:function(a,l,c,g,w,v,y,E,A){var T=this;return a.map(function(R){return te.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:R},l.map(function(M){var D=Zs(M,2),B=D[0],j=D[1];return te.createElement("div",{style:{flex:1},key:v.resourceId(j)},T.renderDayColumn(R,B,j,c,g,w,v,E,A,y))}))})}},{key:"renderEvents",value:function(a,l,c,g){var w=this.props,v=w.accessors,y=w.localizer,E=w.resourceGroupingLayout,A=w.components,T=w.dayLayoutAlgorithm,R=this.memoizedResources(this.props.resources,v),M=R.groupEvents(l),D=R.groupEvents(c);return E?this.renderRangeFirst(a,R,M,D,y,v,g,A,T):this.renderResourcesFirst(a,R,M,D,y,v,g,A,T)}},{key:"render",value:function(){var a,l=this.props,c=l.events,g=l.backgroundEvents,w=l.range,v=l.width,y=l.rtl,E=l.selected,A=l.getNow,T=l.resources,R=l.components,M=l.accessors,D=l.getters,B=l.localizer,j=l.min,q=l.max,P=l.showMultiDayTimes,F=l.longPressThreshold,X=l.resizable,$=l.resourceGroupingLayout;v=v||this.state.gutterWidth;var G=w[0],le=w[w.length-1];this.slots=w.length;var W=[],xe=[],ce=[];c.forEach(function(ve){if(ic(ve,G,le,M,B)){var Ne=M.start(ve),ne=M.end(ve);M.allDay(ve)||B.startAndEndAreDateOnly(Ne,ne)||!P&&!B.isSameDate(Ne,ne)?W.push(ve):xe.push(ve)}}),g.forEach(function(ve){ic(ve,G,le,M,B)&&ce.push(ve)}),W.sort(function(ve,Ne){return h2(ve,Ne,M,B)});var pe={range:w,events:W,width:v,rtl:y,getNow:A,localizer:B,selected:E,allDayMaxRows:this.props.showAllEvents?1/0:(a=this.props.allDayMaxRows)!==null&&a!==void 0?a:1/0,resources:this.memoizedResources(T,M),selectable:this.props.selectable,accessors:M,getters:D,components:R,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:F,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:X};return te.createElement("div",{className:mn("rbc-time-view",T&&"rbc-time-view-resources"),ref:this.containerRef},T&&T.length>1&&$?te.createElement(Ok,pe):te.createElement(Tk,pe),this.props.popup&&this.renderOverlay(),te.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},te.createElement(Nk,{date:G,ref:this.gutterRef,localizer:B,min:B.merge(G,j),max:B.merge(G,q),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:R,className:"rbc-time-gutter",getters:D}),this.renderEvents(w,xe,ce,A())))}},{key:"renderOverlay",value:function(){var a,l,c=this,g=(a=(l=this.state)===null||l===void 0?void 0:l.overlay)!==null&&a!==void 0?a:{},w=this.props,v=w.accessors,y=w.localizer,E=w.components,A=w.getters,T=w.selected,R=w.popupOffset,M=w.handleDragStart,D=function(){return c.setState({overlay:null})};return te.createElement(gv,{overlay:g,accessors:v,localizer:y,components:E,getters:A,selected:T,popupOffset:R,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:M,show:!!g.position,overlayDisplay:this.overlayDisplay,onHide:D})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var a=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var l,c=(l=a.gutterRef)!==null&&l!==void 0&&l.current?u2(a.gutterRef.current):void 0;c&&a.state.gutterWidth!==c&&a.setState({gutterWidth:c})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var a=this.contentRef.current;a.scrollTop=a.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,l=a.min,c=a.max,g=a.scrollToTime,w=a.localizer,v=w.diff(w.merge(g,l),g,"milliseconds"),y=w.diff(l,c,"milliseconds");this._scrollRatio=v/y}}])}(Q.Component);Dl.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var Ik=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Gh=function(n){function e(){return Pn(this,e),fr(this,e,arguments)}return hr(e,n),Un(e,[{key:"render",value:function(){var a=this.props,l=a.date,c=a.localizer,g=a.min,w=g===void 0?c.startOf(new Date,"day"):g,v=a.max,y=v===void 0?c.endOf(new Date,"day"):v,E=a.scrollToTime,A=E===void 0?c.startOf(new Date,"day"):E,T=a.enableAutoScroll,R=T===void 0?!0:T,M=Vi(a,Ik),D=e.range(l,{localizer:c});return te.createElement(Dl,Object.assign({},M,{range:D,eventOffset:10,localizer:c,min:w,max:y,scrollToTime:A,enableAutoScroll:R}))}}])}(te.Component);Gh.range=function(n,e){var t=e.localizer;return[t.startOf(n,"day")]};Gh.navigate=function(n,e,t){var a=t.localizer;switch(e){case Or.PREVIOUS:return a.add(n,-1,"day");case Or.NEXT:return a.add(n,1,"day");default:return n}};Gh.title=function(n,e){var t=e.localizer;return t.format(n,"dayHeaderFormat")};var kk=["date","localizer","min","max","scrollToTime","enableAutoScroll"],us=function(n){function e(){return Pn(this,e),fr(this,e,arguments)}return hr(e,n),Un(e,[{key:"render",value:function(){var a=this.props,l=a.date,c=a.localizer,g=a.min,w=g===void 0?c.startOf(new Date,"day"):g,v=a.max,y=v===void 0?c.endOf(new Date,"day"):v,E=a.scrollToTime,A=E===void 0?c.startOf(new Date,"day"):E,T=a.enableAutoScroll,R=T===void 0?!0:T,M=Vi(a,kk),D=e.range(l,this.props);return te.createElement(Dl,Object.assign({},M,{range:D,eventOffset:15,localizer:c,min:w,max:y,scrollToTime:A,enableAutoScroll:R}))}}])}(te.Component);us.defaultProps=Dl.defaultProps;us.navigate=function(n,e,t){var a=t.localizer;switch(e){case Or.PREVIOUS:return a.add(n,-1,"week");case Or.NEXT:return a.add(n,1,"week");default:return n}};us.range=function(n,e){var t=e.localizer,a=t.startOfWeek(),l=t.startOf(n,"week",a),c=t.endOf(n,"week",a);return t.range(l,c)};us.title=function(n,e){var t=e.localizer,a=us.range(n,{localizer:t}),l=GS(a),c=l[0],g=l.slice(1);return t.format({start:c,end:g.pop()},"dayRangeHeaderFormat")};var Bk=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function vv(n,e){return us.range(n,e).filter(function(t){return[6,0].indexOf(t.getDay())===-1})}var bc=function(n){function e(){return Pn(this,e),fr(this,e,arguments)}return hr(e,n),Un(e,[{key:"render",value:function(){var a=this.props,l=a.date,c=a.localizer,g=a.min,w=g===void 0?c.startOf(new Date,"day"):g,v=a.max,y=v===void 0?c.endOf(new Date,"day"):v,E=a.scrollToTime,A=E===void 0?c.startOf(new Date,"day"):E,T=a.enableAutoScroll,R=T===void 0?!0:T,M=Vi(a,Bk),D=vv(l,this.props);return te.createElement(Dl,Object.assign({},M,{range:D,eventOffset:15,localizer:c,min:w,max:y,scrollToTime:A,enableAutoScroll:R}))}}])}(te.Component);bc.defaultProps=Dl.defaultProps;bc.range=vv;bc.navigate=us.navigate;bc.title=function(n,e){var t=e.localizer,a=vv(n,{localizer:t}),l=GS(a),c=l[0],g=l.slice(1);return t.format({start:c,end:g.pop()},"dayRangeHeaderFormat")};var Vh=30;function Wh(n){var e=n.accessors,t=n.components,a=n.date,l=n.events,c=n.getters,g=n.length,w=g===void 0?Vh:g,v=n.localizer,y=n.onDoubleClickEvent,E=n.onSelectEvent,A=n.selected,T=Q.useRef(null),R=Q.useRef(null),M=Q.useRef(null),D=Q.useRef(null),B=Q.useRef(null);Q.useEffect(function(){P()});var j=function(le,W,xe){var ce=t.event,pe=t.date;return W=W.filter(function(ve){return ic(ve,v.startOf(le,"day"),v.endOf(le,"day"),e,v)}),W.map(function(ve,Ne){var ne=e.title(ve),re=e.end(ve),fe=e.start(ve),Ie=c.eventProp(ve,fe,re,zh(ve,A)),je=Ne===0&&v.format(le,"agendaDateFormat"),K=Ne===0?te.createElement("td",{rowSpan:W.length,className:"rbc-agenda-date-cell"},pe?te.createElement(pe,{day:le,label:je}):je):!1;return te.createElement("tr",{key:xe+"_"+Ne,className:Ie.className,style:Ie.style},K,te.createElement("td",{className:"rbc-agenda-time-cell"},q(le,ve)),te.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(Se){return E&&E(ve,Se)},onDoubleClick:function(Se){return y&&y(ve,Se)}},ce?te.createElement(ce,{event:ve,title:ne}):ne))},[])},q=function(le,W){var xe="",ce=t.time,pe=v.messages.allDay,ve=e.end(W),Ne=e.start(W);return e.allDay(W)||(v.eq(Ne,ve)?pe=v.format(Ne,"agendaTimeFormat"):v.isSameDate(Ne,ve)?pe=v.format({start:Ne,end:ve},"agendaTimeRangeFormat"):v.isSameDate(le,Ne)?pe=v.format(Ne,"agendaTimeFormat"):v.isSameDate(le,ve)&&(pe=v.format(ve,"agendaTimeFormat"))),v.gt(le,Ne,"day")&&(xe="rbc-continues-prior"),v.lt(le,ve,"day")&&(xe+=" rbc-continues-after"),te.createElement("span",{className:xe.trim()},ce?te.createElement(ce,{event:W,day:le,label:pe}):pe)},P=function(){if(B.current){var le=T.current,W=B.current.firstChild;if(W){var xe=D.current.scrollHeight>D.current.clientHeight,ce=[],pe=ce;ce=[u2(W.children[0]),u2(W.children[1])],(pe[0]!==ce[0]||pe[1]!==ce[1])&&(R.current.style.width=ce[0]+"px",M.current.style.width=ce[1]+"px"),xe?(BN(le,"rbc-header-overflowing"),le.style.marginRight=K2()+"px"):LN(le,"rbc-header-overflowing")}}},F=v.messages,X=v.add(a,w,"day"),$=v.range(a,X,"day");return l=l.filter(function(G){return ic(G,v.startOf(a,"day"),v.endOf(X,"day"),e,v)}),l.sort(function(G,le){return+e.start(G)-+e.start(le)}),te.createElement("div",{className:"rbc-agenda-view"},l.length!==0?te.createElement(te.Fragment,null,te.createElement("table",{ref:T,className:"rbc-agenda-table"},te.createElement("thead",null,te.createElement("tr",null,te.createElement("th",{className:"rbc-header",ref:R},F.date),te.createElement("th",{className:"rbc-header",ref:M},F.time),te.createElement("th",{className:"rbc-header"},F.event)))),te.createElement("div",{className:"rbc-agenda-content",ref:D},te.createElement("table",{className:"rbc-agenda-table"},te.createElement("tbody",{ref:B},$.map(function(G,le){return j(G,l,le)}))))):te.createElement("span",{className:"rbc-agenda-empty"},F.noEventsInRange))}Wh.range=function(n,e){var t=e.length,a=t===void 0?Vh:t,l=e.localizer,c=l.add(n,a,"day");return{start:n,end:c}};Wh.navigate=function(n,e,t){var a=t.length,l=a===void 0?Vh:a,c=t.localizer;switch(e){case Or.PREVIOUS:return c.add(n,-l,"day");case Or.NEXT:return c.add(n,l,"day");default:return n}};Wh.title=function(n,e){var t=e.length,a=t===void 0?Vh:t,l=e.localizer,c=l.add(n,a,"day");return l.format({start:n,end:c},"agendaHeaderFormat")};var nh=Ys(Ys(Ys(Ys(Ys({},lr.MONTH,Hh),lr.WEEK,us),lr.WORK_WEEK,bc),lr.DAY,Gh),lr.AGENDA,Wh),Lk=["action","date","today"];function Pk(n,e){var t=e.action,a=e.date,l=e.today,c=Vi(e,Lk);switch(n=typeof n=="string"?nh[n]:n,t){case Or.TODAY:a=l||new Date;break;case Or.DATE:break;default:Wu(n&&typeof n.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),a=n.navigate(a,t,c)}return a}function Uk(n,e){var t=null;return typeof e=="function"?t=e(n):typeof e=="string"&&xa(n)==="object"&&n!=null&&e in n&&(t=n[e]),t}var da=function(e){return function(t){return Uk(t,e)}},jk=["view","date","getNow","onNavigate"],Fk=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function h8(n){if(Array.isArray(n))return n;for(var e=[],t=0,a=Object.entries(n);t<a.length;t++){var l=Zs(a[t],2),c=l[0],g=l[1];g&&e.push(c)}return e}function qk(n,e){var t=e.views,a=h8(t);return a.indexOf(n)!==-1}var d8=function(n){function e(){var t;Pn(this,e);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return t=fr(this,e,[].concat(l)),t.getViews=function(){var g=t.props.views;return Array.isArray(g)?u9(g,function(w,v){return w[v]=nh[v]},{}):xa(g)==="object"?MI(g,function(w,v){return w===!0?nh[v]:w}):nh},t.getView=function(){var g=t.getViews();return g[t.props.view]},t.getDrilldownView=function(g){var w=t.props,v=w.view,y=w.drilldownView,E=w.getDrilldownView;return E?E(g,v,Object.keys(t.getViews())):y},t.handleRangeChange=function(g,w,v){var y=t.props,E=y.onRangeChange,A=y.localizer;E&&w.range&&E(w.range(g,{localizer:A}),v)},t.handleNavigate=function(g,w){var v=t.props,y=v.view,E=v.date,A=v.getNow,T=v.onNavigate,R=Vi(v,jk),M=t.getView(),D=A();E=Pk(M,qt(qt({},R),{},{action:g,date:w||E||D,today:D})),T(E,y,g),t.handleRangeChange(E,M)},t.handleViewChange=function(g){g!==t.props.view&&qk(g,t.props)&&t.props.onView(g);var w=t.getViews();t.handleRangeChange(t.props.date||t.props.getNow(),w[g],g)},t.handleSelectEvent=function(){for(var g=arguments.length,w=new Array(g),v=0;v<g;v++)w[v]=arguments[v];Kt(t.props.onSelectEvent,w)},t.handleDoubleClickEvent=function(){for(var g=arguments.length,w=new Array(g),v=0;v<g;v++)w[v]=arguments[v];Kt(t.props.onDoubleClickEvent,w)},t.handleKeyPressEvent=function(){for(var g=arguments.length,w=new Array(g),v=0;v<g;v++)w[v]=arguments[v];Kt(t.props.onKeyPressEvent,w)},t.handleSelectSlot=function(g){Kt(t.props.onSelectSlot,g)},t.handleDrillDown=function(g,w){var v=t.props.onDrillDown;if(v){v(g,w,t.drilldownView);return}w&&t.handleViewChange(w),t.handleNavigate(Or.DATE,g)},t.state={context:e.getContext(t.props)},t}return hr(e,n),Un(e,[{key:"render",value:function(){var a=this.props,l=a.view,c=a.toolbar,g=a.events,w=a.backgroundEvents,v=a.resourceGroupingLayout,y=a.style,E=a.className,A=a.elementProps,T=a.date,R=a.getNow,M=a.length,D=a.showMultiDayTimes,B=a.onShowMore,j=a.doShowMoreDrillDown;a.components,a.formats,a.messages,a.culture;var q=Vi(a,Fk);T=T||R();var P=this.getView(),F=this.state.context,X=F.accessors,$=F.components,G=F.getters,le=F.localizer,W=F.viewNames,xe=$.toolbar||G9,ce=P.title(T,{localizer:le,length:M});return te.createElement("div",Object.assign({},A,{className:mn(E,"rbc-calendar",q.rtl&&"rbc-rtl"),style:y}),c&&te.createElement(xe,{date:T,view:l,views:W,label:ce,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:le}),te.createElement(P,Object.assign({},q,{events:g,backgroundEvents:w,date:T,getNow:R,length:M,localizer:le,getters:G,components:$,accessors:X,showMultiDayTimes:D,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:B,doShowMoreDrillDown:j,resourceGroupingLayout:v})))}}],[{key:"getDerivedStateFromProps",value:function(a){return{context:e.getContext(a)}}},{key:"getContext",value:function(a){var l=a.startAccessor,c=a.endAccessor,g=a.allDayAccessor,w=a.tooltipAccessor,v=a.titleAccessor,y=a.resourceAccessor,E=a.resourceIdAccessor,A=a.resourceTitleAccessor,T=a.eventIdAccessor,R=a.eventPropGetter,M=a.backgroundEventPropGetter,D=a.slotPropGetter,B=a.slotGroupPropGetter,j=a.dayPropGetter,q=a.view,P=a.views,F=a.localizer,X=a.culture,$=a.messages,G=$===void 0?{}:$,le=a.components,W=le===void 0?{}:le,xe=a.formats,ce=xe===void 0?{}:xe,pe=h8(P),ve=W9(G);return{viewNames:pe,localizer:H9(F,X,ce,ve),getters:{eventProp:function(){return R&&R.apply(void 0,arguments)||{}},backgroundEventProp:function(){return M&&M.apply(void 0,arguments)||{}},slotProp:function(){return D&&D.apply(void 0,arguments)||{}},slotGroupProp:function(){return B&&B.apply(void 0,arguments)||{}},dayProp:function(){return j&&j.apply(void 0,arguments)||{}}},components:RI(W[q]||{},s9(W,pe),{eventWrapper:Fi,backgroundEventWrapper:Fi,eventContainerWrapper:Fi,dateCellWrapper:Fi,weekWrapper:Fi,timeSlotWrapper:Fi,timeGutterWrapper:Fi,timeIndicatorWrapper:Fi}),accessors:{start:da(l),end:da(c),allDay:da(g),tooltip:da(w),title:da(v),resource:da(y),resourceId:da(E),resourceTitle:da(A),eventId:da(T)}}}}])}(te.Component);d8.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:lr.MONTH,views:[lr.MONTH,lr.WEEK,lr.DAY,lr.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:lr.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var zk=tS(d8,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),Hk=function(e,t,a){var l=e.start,c=e.end;return"".concat(a.format(l,"P",t),"  ").concat(a.format(c,"P",t))},jp=function(e,t,a){var l=e.start,c=e.end;return"".concat(a.format(l,"p",t),"  ").concat(a.format(c,"p",t))},Gk=function(e,t,a){var l=e.start;return"".concat(a.format(l,"h:mma",t),"  ")},Vk=function(e,t,a){var l=e.end;return"  ".concat(a.format(l,"h:mma",t))},Wk=function(e,t,a){var l=e.start,c=e.end;return"".concat(a.format(l,"MMMM dd",t),"  ").concat(a.format(c,Sl(l,c,"month")?"dd":"MMMM dd",t))},Yk={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:jp,eventTimeRangeFormat:jp,eventTimeRangeStartFormat:Gk,eventTimeRangeEndFormat:Vk,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:Wk,agendaHeaderFormat:Hk,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:jp},Xk=function(e){var t=e.startOfWeek,a=e.getDay,l=e.format,c=e.locales;return new z9({formats:Yk,firstOfWeek:function(w){return a(t(new Date,{locale:c[w]}))},format:function(w,v,y){return l(new Date(w),v,{locale:c[y]})}})};const g8=6048e5,Kk=864e5,kA=Symbol.for("constructDateFrom");function cs(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&kA in n?n[kA](e):n instanceof Date?new n.constructor(e):new Date(e)}function si(n,e){return cs(e||n,n)}let $k={};function Yh(){return $k}function wl(n,e){const t=Yh(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,l=si(n,e?.in),c=l.getDay(),g=(c<a?7:0)+c-a;return l.setDate(l.getDate()-g),l.setHours(0,0,0,0),l}function wh(n,e){return wl(n,{...e,weekStartsOn:1})}function m8(n,e){const t=si(n,e?.in),a=t.getFullYear(),l=cs(t,0);l.setFullYear(a+1,0,4),l.setHours(0,0,0,0);const c=wh(l),g=cs(t,0);g.setFullYear(a,0,4),g.setHours(0,0,0,0);const w=wh(g);return t.getTime()>=c.getTime()?a+1:t.getTime()>=w.getTime()?a:a-1}function BA(n){const e=si(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Zk(n,...e){const t=cs.bind(null,e.find(a=>typeof a=="object"));return e.map(t)}function LA(n,e){const t=si(n,e?.in);return t.setHours(0,0,0,0),t}function Qk(n,e,t){const[a,l]=Zk(t?.in,n,e),c=LA(a),g=LA(l),w=+c-BA(c),v=+g-BA(g);return Math.round((w-v)/Kk)}function Jk(n,e){const t=m8(n,e),a=cs(n,0);return a.setFullYear(t,0,4),a.setHours(0,0,0,0),wh(a)}function eB(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function tB(n){return!(!eB(n)&&typeof n!="number"||isNaN(+si(n)))}function nB(n,e){const t=si(n,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const rB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},iB=(n,e,t)=>{let a;const l=rB[n];return typeof l=="string"?a=l:e===1?a=l.one:a=l.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+a:a+" ago":a};function fl(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const aB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},oB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lB={date:fl({formats:aB,defaultWidth:"full"}),time:fl({formats:sB,defaultWidth:"full"}),dateTime:fl({formats:oB,defaultWidth:"full"})},uB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cB=(n,e,t,a)=>uB[n];function qi(n){return(e,t)=>{const a=t?.context?String(t.context):"standalone";let l;if(a==="formatting"&&n.formattingValues){const g=n.defaultFormattingWidth||n.defaultWidth,w=t?.width?String(t.width):g;l=n.formattingValues[w]||n.formattingValues[g]}else{const g=n.defaultWidth,w=t?.width?String(t.width):n.defaultWidth;l=n.values[w]||n.values[g]}const c=n.argumentCallback?n.argumentCallback(e):e;return l[c]}}const fB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},dB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vB=(n,e)=>{const t=Number(n),a=t%100;if(a>20||a<10)switch(a%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},yB={ordinalNumber:vB,era:qi({values:fB,defaultWidth:"wide"}),quarter:qi({values:hB,defaultWidth:"wide",argumentCallback:n=>n-1}),month:qi({values:dB,defaultWidth:"wide"}),day:qi({values:gB,defaultWidth:"wide"}),dayPeriod:qi({values:mB,defaultWidth:"wide",formattingValues:pB,defaultFormattingWidth:"wide"})};function zi(n){return(e,t={})=>{const a=t.width,l=a&&n.matchPatterns[a]||n.matchPatterns[n.defaultMatchWidth],c=e.match(l);if(!c)return null;const g=c[0],w=a&&n.parsePatterns[a]||n.parsePatterns[n.defaultParseWidth],v=Array.isArray(w)?xB(w,A=>A.test(g)):wB(w,A=>A.test(g));let y;y=n.valueCallback?n.valueCallback(v):v,y=t.valueCallback?t.valueCallback(y):y;const E=e.slice(g.length);return{value:y,rest:E}}}function wB(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function xB(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function p8(n){return(e,t={})=>{const a=e.match(n.matchPattern);if(!a)return null;const l=a[0],c=e.match(n.parsePattern);if(!c)return null;let g=n.valueCallback?n.valueCallback(c[0]):c[0];g=t.valueCallback?t.valueCallback(g):g;const w=e.slice(l.length);return{value:g,rest:w}}}const bB=/^(\d+)(th|st|nd|rd)?/i,EB=/\d+/i,_B={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},AB={any:[/^b/i,/^(a|c)/i]},SB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},CB={any:[/1/i,/2/i,/3/i,/4/i]},TB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},OB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},RB={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},DB={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},NB={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},MB={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},IB={ordinalNumber:p8({matchPattern:bB,parsePattern:EB,valueCallback:n=>parseInt(n,10)}),era:zi({matchPatterns:_B,defaultMatchWidth:"wide",parsePatterns:AB,defaultParseWidth:"any"}),quarter:zi({matchPatterns:SB,defaultMatchWidth:"wide",parsePatterns:CB,defaultParseWidth:"any",valueCallback:n=>n+1}),month:zi({matchPatterns:TB,defaultMatchWidth:"wide",parsePatterns:OB,defaultParseWidth:"any"}),day:zi({matchPatterns:RB,defaultMatchWidth:"wide",parsePatterns:DB,defaultParseWidth:"any"}),dayPeriod:zi({matchPatterns:NB,defaultMatchWidth:"any",parsePatterns:MB,defaultParseWidth:"any"})},kB={code:"en-US",formatDistance:iB,formatLong:lB,formatRelative:cB,localize:yB,match:IB,options:{weekStartsOn:0,firstWeekContainsDate:1}};function BB(n,e){const t=si(n,e?.in);return Qk(t,nB(t))+1}function LB(n,e){const t=si(n,e?.in),a=+wh(t)-+Jk(t);return Math.round(a/g8)+1}function v8(n,e){const t=si(n,e?.in),a=t.getFullYear(),l=Yh(),c=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,g=cs(e?.in||n,0);g.setFullYear(a+1,0,c),g.setHours(0,0,0,0);const w=wl(g,e),v=cs(e?.in||n,0);v.setFullYear(a,0,c),v.setHours(0,0,0,0);const y=wl(v,e);return+t>=+w?a+1:+t>=+y?a:a-1}function PB(n,e){const t=Yh(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,l=v8(n,e),c=cs(e?.in||n,0);return c.setFullYear(l,0,a),c.setHours(0,0,0,0),wl(c,e)}function UB(n,e){const t=si(n,e?.in),a=+wl(t,e)-+PB(t,e);return Math.round(a/g8)+1}function Mt(n,e){const t=n<0?"-":"",a=Math.abs(n).toString().padStart(e,"0");return t+a}const rs={y(n,e){const t=n.getFullYear(),a=t>0?t:1-t;return Mt(e==="yy"?a%100:a,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Mt(t+1,2)},d(n,e){return Mt(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Mt(n.getHours()%12||12,e.length)},H(n,e){return Mt(n.getHours(),e.length)},m(n,e){return Mt(n.getMinutes(),e.length)},s(n,e){return Mt(n.getSeconds(),e.length)},S(n,e){const t=e.length,a=n.getMilliseconds(),l=Math.trunc(a*Math.pow(10,t-3));return Mt(l,e.length)}},al={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},PA={G:function(n,e,t){const a=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(a,{width:"abbreviated"});case"GGGGG":return t.era(a,{width:"narrow"});case"GGGG":default:return t.era(a,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const a=n.getFullYear(),l=a>0?a:1-a;return t.ordinalNumber(l,{unit:"year"})}return rs.y(n,e)},Y:function(n,e,t,a){const l=v8(n,a),c=l>0?l:1-l;if(e==="YY"){const g=c%100;return Mt(g,2)}return e==="Yo"?t.ordinalNumber(c,{unit:"year"}):Mt(c,e.length)},R:function(n,e){const t=m8(n);return Mt(t,e.length)},u:function(n,e){const t=n.getFullYear();return Mt(t,e.length)},Q:function(n,e,t){const a=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return Mt(a,2);case"Qo":return t.ordinalNumber(a,{unit:"quarter"});case"QQQ":return t.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(a,{width:"wide",context:"formatting"})}},q:function(n,e,t){const a=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return Mt(a,2);case"qo":return t.ordinalNumber(a,{unit:"quarter"});case"qqq":return t.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(a,{width:"wide",context:"standalone"})}},M:function(n,e,t){const a=n.getMonth();switch(e){case"M":case"MM":return rs.M(n,e);case"Mo":return t.ordinalNumber(a+1,{unit:"month"});case"MMM":return t.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(a,{width:"wide",context:"formatting"})}},L:function(n,e,t){const a=n.getMonth();switch(e){case"L":return String(a+1);case"LL":return Mt(a+1,2);case"Lo":return t.ordinalNumber(a+1,{unit:"month"});case"LLL":return t.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(a,{width:"wide",context:"standalone"})}},w:function(n,e,t,a){const l=UB(n,a);return e==="wo"?t.ordinalNumber(l,{unit:"week"}):Mt(l,e.length)},I:function(n,e,t){const a=LB(n);return e==="Io"?t.ordinalNumber(a,{unit:"week"}):Mt(a,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):rs.d(n,e)},D:function(n,e,t){const a=BB(n);return e==="Do"?t.ordinalNumber(a,{unit:"dayOfYear"}):Mt(a,e.length)},E:function(n,e,t){const a=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(a,{width:"short",context:"formatting"});case"EEEE":default:return t.day(a,{width:"wide",context:"formatting"})}},e:function(n,e,t,a){const l=n.getDay(),c=(l-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(c);case"ee":return Mt(c,2);case"eo":return t.ordinalNumber(c,{unit:"day"});case"eee":return t.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(l,{width:"short",context:"formatting"});case"eeee":default:return t.day(l,{width:"wide",context:"formatting"})}},c:function(n,e,t,a){const l=n.getDay(),c=(l-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(c);case"cc":return Mt(c,e.length);case"co":return t.ordinalNumber(c,{unit:"day"});case"ccc":return t.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(l,{width:"narrow",context:"standalone"});case"cccccc":return t.day(l,{width:"short",context:"standalone"});case"cccc":default:return t.day(l,{width:"wide",context:"standalone"})}},i:function(n,e,t){const a=n.getDay(),l=a===0?7:a;switch(e){case"i":return String(l);case"ii":return Mt(l,e.length);case"io":return t.ordinalNumber(l,{unit:"day"});case"iii":return t.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(a,{width:"short",context:"formatting"});case"iiii":default:return t.day(a,{width:"wide",context:"formatting"})}},a:function(n,e,t){const l=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(n,e,t){const a=n.getHours();let l;switch(a===12?l=al.noon:a===0?l=al.midnight:l=a/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(n,e,t){const a=n.getHours();let l;switch(a>=17?l=al.evening:a>=12?l=al.afternoon:a>=4?l=al.morning:l=al.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let a=n.getHours()%12;return a===0&&(a=12),t.ordinalNumber(a,{unit:"hour"})}return rs.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):rs.H(n,e)},K:function(n,e,t){const a=n.getHours()%12;return e==="Ko"?t.ordinalNumber(a,{unit:"hour"}):Mt(a,e.length)},k:function(n,e,t){let a=n.getHours();return a===0&&(a=24),e==="ko"?t.ordinalNumber(a,{unit:"hour"}):Mt(a,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):rs.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):rs.s(n,e)},S:function(n,e){return rs.S(n,e)},X:function(n,e,t){const a=n.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return jA(a);case"XXXX":case"XX":return Vs(a);case"XXXXX":case"XXX":default:return Vs(a,":")}},x:function(n,e,t){const a=n.getTimezoneOffset();switch(e){case"x":return jA(a);case"xxxx":case"xx":return Vs(a);case"xxxxx":case"xxx":default:return Vs(a,":")}},O:function(n,e,t){const a=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+UA(a,":");case"OOOO":default:return"GMT"+Vs(a,":")}},z:function(n,e,t){const a=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+UA(a,":");case"zzzz":default:return"GMT"+Vs(a,":")}},t:function(n,e,t){const a=Math.trunc(+n/1e3);return Mt(a,e.length)},T:function(n,e,t){return Mt(+n,e.length)}};function UA(n,e=""){const t=n>0?"-":"+",a=Math.abs(n),l=Math.trunc(a/60),c=a%60;return c===0?t+String(l):t+String(l)+e+Mt(c,2)}function jA(n,e){return n%60===0?(n>0?"-":"+")+Mt(Math.abs(n)/60,2):Vs(n,e)}function Vs(n,e=""){const t=n>0?"-":"+",a=Math.abs(n),l=Mt(Math.trunc(a/60),2),c=Mt(a%60,2);return t+l+e+c}const FA=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},y8=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},jB=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],a=t[1],l=t[2];if(!l)return FA(n,e);let c;switch(a){case"P":c=e.dateTime({width:"short"});break;case"PP":c=e.dateTime({width:"medium"});break;case"PPP":c=e.dateTime({width:"long"});break;case"PPPP":default:c=e.dateTime({width:"full"});break}return c.replace("{{date}}",FA(a,e)).replace("{{time}}",y8(l,e))},FB={p:y8,P:jB},qB=/^D+$/,zB=/^Y+$/,HB=["D","DD","YY","YYYY"];function GB(n){return qB.test(n)}function VB(n){return zB.test(n)}function WB(n,e,t){const a=YB(n,e,t);if(console.warn(a),HB.includes(n))throw new RangeError(a)}function YB(n,e,t){const a=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${a} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const XB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,KB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$B=/^'([^]*?)'?$/,ZB=/''/g,QB=/[a-zA-Z]/;function JB(n,e,t){const a=Yh(),l=t?.locale??a.locale??kB,c=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,g=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,w=si(n,t?.in);if(!tB(w))throw new RangeError("Invalid time value");let v=e.match(KB).map(E=>{const A=E[0];if(A==="p"||A==="P"){const T=FB[A];return T(E,l.formatLong)}return E}).join("").match(XB).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const A=E[0];if(A==="'")return{isToken:!1,value:eL(E)};if(PA[A])return{isToken:!0,value:E};if(A.match(QB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return{isToken:!1,value:E}});l.localize.preprocessor&&(v=l.localize.preprocessor(w,v));const y={firstWeekContainsDate:c,weekStartsOn:g,locale:l};return v.map(E=>{if(!E.isToken)return E.value;const A=E.value;(!t?.useAdditionalWeekYearTokens&&VB(A)||!t?.useAdditionalDayOfYearTokens&&GB(A))&&WB(A,e,String(n));const T=PA[A[0]];return T(w,A,l.localize,y)}).join("")}function eL(n){const e=n.match($B);return e?e[1].replace(ZB,"'"):n}function tL(n,e){return si(n,e?.in).getDay()}const nL={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},rL=(n,e,t)=>{let a;const l=nL[n];return typeof l=="string"?a=l:e===1?a=l.one:a=l.other.replace("{{count}}",String(e)),t?.addSuffix?t.comparison&&t.comparison>0?"dans "+a:"il y a "+a:a},iL={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},aL={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},sL={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oL={date:fl({formats:iL,defaultWidth:"full"}),time:fl({formats:aL,defaultWidth:"full"}),dateTime:fl({formats:sL,defaultWidth:"full"})},lL={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},uL=(n,e,t,a)=>lL[n],cL={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},fL={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},hL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},dL={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},gL={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},mL=(n,e)=>{const t=Number(n),a=e?.unit;if(t===0)return"0";const l=["year","week","hour","minute","second"];let c;return t===1?c=a&&l.includes(a)?"re":"er":c="me",t+c},pL=["MMM","MMMM"],vL={preprocessor:(n,e)=>n.getDate()===1||!e.some(a=>a.isToken&&pL.includes(a.value))?e:e.map(a=>a.isToken&&a.value==="do"?{isToken:!0,value:"d"}:a),ordinalNumber:mL,era:qi({values:cL,defaultWidth:"wide"}),quarter:qi({values:fL,defaultWidth:"wide",argumentCallback:n=>n-1}),month:qi({values:hL,defaultWidth:"wide"}),day:qi({values:dL,defaultWidth:"wide"}),dayPeriod:qi({values:gL,defaultWidth:"wide"})},yL=/^(\d+)(ime|re|me|er|e)?/i,wL=/\d+/i,xL={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},bL={any:[/^av/i,/^ap/i]},EL={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},_L={any:[/1/i,/2/i,/3/i,/4/i]},AL={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},SL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},CL={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},TL={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},OL={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},RL={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},DL={ordinalNumber:p8({matchPattern:yL,parsePattern:wL,valueCallback:n=>parseInt(n)}),era:zi({matchPatterns:xL,defaultMatchWidth:"wide",parsePatterns:bL,defaultParseWidth:"any"}),quarter:zi({matchPatterns:EL,defaultMatchWidth:"wide",parsePatterns:_L,defaultParseWidth:"any",valueCallback:n=>n+1}),month:zi({matchPatterns:AL,defaultMatchWidth:"wide",parsePatterns:SL,defaultParseWidth:"any"}),day:zi({matchPatterns:CL,defaultMatchWidth:"wide",parsePatterns:TL,defaultParseWidth:"any"}),dayPeriod:zi({matchPatterns:OL,defaultMatchWidth:"any",parsePatterns:RL,defaultParseWidth:"any"})},NL={code:"fr",formatDistance:rL,formatLong:oL,formatRelative:uL,localize:vL,match:DL,options:{weekStartsOn:1,firstWeekContainsDate:4}},ML=Xk({format:JB,startOfWeek:()=>wl(new Date,{weekStartsOn:1}),getDay:tL,locales:{fr:NL}});function w8({bookings:n}){const e=n.map(t=>({id:t.id,title:`${t.equipment.name} ${t.rent?"lou":"rserv"} par ${t.booker.name}`,start:new Date(t.start_time),end:new Date(t.end_time),allDay:!1}));return n.length>0&&(console.log("start_time:",n[0].start_time,"parsed:",new Date(n[0].start_time)),console.log("end_time:",n[0].end_time,"parsed:",new Date(n[0].end_time))),V.jsx("div",{className:"card",children:V.jsx("div",{className:"booking-calendar__container",children:V.jsx(zk,{localizer:ML,events:e,startAccessor:"start",endAccessor:"end",defaultView:lr.MONTH,className:"booking-calendar__calendar",showMultiDayTimes:!0})})})}function IL(){const[n,e]=Q.useState(null),[t,a]=Q.useState(!0),[l,c]=Q.useState([]),[g,w]=Q.useState(!1),{id:v}=KA(),{addToCart:y,removeFromCart:E,cart:A}=Al(),T=Rr(),R=()=>{if(n){if(g){E(n.id);return}y(n),w(!g)}},M=()=>{n&&T(`/ShelfTracker/equipment/edit/${n.id}`)},D=async()=>{if(n){if(g){E(n.id);return}await TR(n.id),T("/ShelfTracker/")}};return Q.useEffect(()=>{const B=async()=>{if(!v)return;const q=await O2(v);e(q),w(A.some(P=>P.id===q?.id)),a(!1)},j=async()=>{if(!v)return;const q=await W5(v);c(q.filter(P=>P.equipment.id===v))};B(),j()},[v,A]),t?V.jsxs("div",{children:[V.jsx(ni,{title:"Dtails"}),V.jsx(_h,{})]}):n?V.jsxs("div",{children:[V.jsx(ni,{title:"Dtails"}),V.jsx(h7,{equipment:n,addedToCart:g,onDelete:D,onToggleCart:R}),V.jsx(d7,{equipment:n}),V.jsx(f7,{equipment:n}),V.jsx(D2,{icon:QR,onClick:M}),V.jsx(w8,{bookings:l})]}):null}function kL({form:n,loading:e,error:t,onChange:a,onSubmit:l}){return V.jsx("div",{className:"card",children:V.jsxs("form",{className:"equipment-creation-form__container",onSubmit:l,children:[t&&V.jsx("p",{style:{color:"red"},children:t}),V.jsxs("label",{className:"equipment-creation-form__label",children:["Nom",V.jsx("input",{className:"input",type:"text",name:"name",value:n.name,onChange:a,required:!0})]}),V.jsxs("label",{className:"equipment-creation-form__label",children:["Type",V.jsx("select",{className:"input",name:"type",value:n.type??"Autre",onChange:a,children:Object.keys(os).map(c=>V.jsx("option",{value:c,children:c},c))})]}),V.jsxs("label",{className:"equipment-creation-form__label",children:["Emplacement",V.jsx("input",{className:"input",type:"text",name:"location",value:n.location??"",onChange:a})]}),V.jsxs("label",{className:"equipment-creation-form__label",children:["Prix de location ()",V.jsx("input",{className:"input",type:"number",step:"0.01",name:"rent_price",value:n.rent_price,onChange:a})]}),V.jsxs("label",{className:"equipment-creation-form__label",children:["Note",V.jsx("textarea",{className:"input",name:"note",value:n.note??"",onChange:a})]}),V.jsx("button",{type:"submit",disabled:e,className:"btn",children:e?"Cration...":"Crer"})]})})}function BL(){const n=Rr(),[e,t]=Q.useState({name:"",note:"",rent_price:0,location:"",type:"Autre"}),[a,l]=Q.useState(!1),[c,g]=Q.useState(null),w=y=>{const{name:E,value:A}=y.target;t(T=>({...T,[E]:E==="rent_price"?Number(A):A}))},v=async y=>{y.preventDefault(),l(!0),g(null);try{await SR(e),n("/ShelfTracker/")}catch(E){g(E.message)}finally{l(!1)}};return V.jsxs("div",{children:[V.jsx(ni,{title:"Cration"}),V.jsx(kL,{form:e,loading:a,error:c,onChange:w,onSubmit:v})]})}function LL({equipment:n,onChange:e}){const t=n.type??"Autre",{icon:a,color:l}=os[t]||os.Autre;return V.jsx("div",{className:"card",children:V.jsxs("div",{className:"equipment-edit-header__container",children:[V.jsx("div",{className:"icon",style:{background:l},children:V.jsx(a,{size:28,color:"white"})}),V.jsx("input",{className:"input",type:"text",value:n.name,onChange:c=>e("name",c.target.value)})]})})}function PL({equipment:n,saving:e,onChange:t,onSave:a}){return V.jsx("div",{className:"card",children:V.jsxs("div",{className:"equipment-edit-form__container",children:[V.jsx("label",{children:"Type"}),V.jsx("select",{className:"input",value:n.type?.toString(),onChange:l=>t("type",l.target.value),children:Object.keys(os).map(l=>V.jsx("option",{value:l,children:l},l))}),V.jsx("label",{children:"Emplacement"}),V.jsx("input",{className:"input",type:"text",value:n.location??"",onChange:l=>t("location",l.target.value)}),V.jsx("label",{children:"Note"}),V.jsx("textarea",{className:"input",value:n.note??"",onChange:l=>t("note",l.target.value)}),V.jsx("button",{className:"btn",onClick:a,disabled:e,children:e?"Sauvegarde...":"Sauvegarder"})]})})}function UL(){const[n,e]=Q.useState(null),[t,a]=Q.useState(!0),[l,c]=Q.useState(!1),{id:g}=KA(),w=Rr();Q.useEffect(()=>{(async()=>{if(!g)return;const A=await O2(g);e(A),a(!1)})()},[g]);const v=(E,A)=>{n&&e({...n,[E]:A})},y=async()=>{if(n){c(!0);try{await CR(n),w(-1)}catch(E){console.error(E),alert("Erreur lors de la sauvegarde")}finally{c(!1)}}};return t?V.jsxs("div",{children:[V.jsx(ni,{title:"dition"}),V.jsx(_h,{})]}):n?V.jsxs("div",{children:[V.jsx(ni,{title:"Modifier un quipement"}),V.jsx(LL,{equipment:n,onChange:v}),V.jsx(PL,{equipment:n,saving:l,onChange:v,onSave:y})]}):V.jsxs("div",{children:[V.jsx(ni,{title:"dition"}),V.jsx("p",{children:"quipement introuvable"})]})}function jL(){const[n,e]=Q.useState(""),[t,a]=Q.useState(!1),l=Rr(),c=async g=>{if(g.preventDefault(),!n.trim()){alert("Le nom est obligatoire.");return}a(!0);try{await K5({name:n}),l("/ShelfTracker/checkout")}catch(w){console.error(w),alert("Impossible de crer le profil.")}finally{a(!1)}};return V.jsxs("form",{onSubmit:c,className:"card form-card",children:[V.jsxs("label",{className:"create-profile-form__label",children:["Nom",V.jsx("input",{type:"text",value:n,onChange:g=>e(g.target.value),className:"input",placeholder:"Entrez le nom du profil"})]}),V.jsx("button",{type:"submit",className:"btn",disabled:t,children:t?"Cration...":"Crer le profil"})]})}function FL(){return V.jsxs("div",{className:"create-profile-container",children:[V.jsx(ni,{title:"Nouveau profil"}),V.jsx(jL,{})]})}function qL(){const[n,e]=Q.useState([]);return Q.useEffect(()=>{(async()=>{const a=await G5();e(a)})()},[]),V.jsxs("div",{children:[V.jsx(ni,{title:"Calendrier des rservations"}),V.jsx(w8,{bookings:n})]})}function zL(){return V.jsx(bR,{children:V.jsx(OR,{children:V.jsx(aT,{children:V.jsxs(L6,{children:[V.jsx(ei,{path:"/ShelfTracker/login",element:V.jsx(_R,{})}),V.jsx(ei,{path:"/ShelfTracker",element:V.jsx(Ui,{children:V.jsx(ji,{children:V.jsx(u5,{})})})}),V.jsx(ei,{path:"/ShelfTracker/scan",element:V.jsx(Ui,{children:V.jsx(ji,{children:V.jsx(U5,{})})})}),V.jsx(ei,{path:"/ShelfTracker/profile",element:V.jsx(Ui,{children:V.jsx(ji,{children:V.jsx(F5,{})})})}),V.jsx(ei,{path:"/ShelfTracker/cart",element:V.jsx(Ui,{children:V.jsx(ji,{children:V.jsx(H5,{})})})}),V.jsx(ei,{path:"/ShelfTracker/checkout",element:V.jsx(Ui,{children:V.jsx(ji,{children:V.jsx(t7,{})})})}),V.jsx(ei,{path:"/ShelfTracker/equipment/:id",element:V.jsx(Ui,{children:V.jsx(ji,{children:V.jsx(IL,{})})})}),V.jsx(ei,{path:"/ShelfTracker/equipment/edit/:id",element:V.jsx(Ui,{children:V.jsx(ji,{children:V.jsx(UL,{})})})}),V.jsx(ei,{path:"/ShelfTracker/equipment/new",element:V.jsx(Ui,{children:V.jsx(ji,{children:V.jsx(BL,{})})})}),V.jsx(ei,{path:"/ShelfTracker/create-profile",element:V.jsx(Ui,{children:V.jsx(ji,{children:V.jsx(FL,{})})})}),V.jsx(ei,{path:"/ShelfTracker/calendar",element:V.jsx(Ui,{children:V.jsx(ji,{children:V.jsx(qL,{})})})})]})})})})}VC.createRoot(document.getElementById("root")).render(V.jsx(zL,{}));
